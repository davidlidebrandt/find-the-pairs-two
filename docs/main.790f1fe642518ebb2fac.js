(self.webpackChunkfind_the_pairs_two=self.webpackChunkfind_the_pairs_two||[]).push([[179],{8255:Vn=>{function We(pe){return Promise.resolve().then(()=>{var k=new Error("Cannot find module '"+pe+"'");throw k.code="MODULE_NOT_FOUND",k})}We.keys=()=>[],We.resolve=We,We.id=8255,Vn.exports=We},8583:(Vn,We,pe)=>{"use strict";pe.d(We,{mr:()=>qe,ez:()=>Hr,K0:()=>tt,Do:()=>Ut,V_:()=>Q,Ye:()=>Mt,S$:()=>ke,mk:()=>vn,sg:()=>vr,O5:()=>qi,b0:()=>Pt,lw:()=>Je,EM:()=>ot,JF:()=>En,PM:()=>$,w_:()=>Ye,bD:()=>$o,q:()=>te,Mx:()=>An,HT:()=>Le});var k=pe(7716);let m=null;function te(){return m}function Le(q){m||(m=q)}class Ye{}const tt=new k.OlP("DocumentToken");let Je=(()=>{class q{historyGo(z){throw new Error("Not implemented")}}return q.\u0275fac=function(z){return new(z||q)},q.\u0275prov=(0,k.Yz7)({factory:ae,token:q,providedIn:"platform"}),q})();function ae(){return(0,k.LFG)(De)}const Q=new k.OlP("Location Initialized");let De=(()=>{class q extends Je{constructor(z){super(),this._doc=z,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(z){const de=te().getGlobalEventTarget(this._doc,"window");return de.addEventListener("popstate",z,!1),()=>de.removeEventListener("popstate",z)}onHashChange(z){const de=te().getGlobalEventTarget(this._doc,"window");return de.addEventListener("hashchange",z,!1),()=>de.removeEventListener("hashchange",z)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(z){this.location.pathname=z}pushState(z,de,Fe){ye()?this._history.pushState(z,de,Fe):this.location.hash=Fe}replaceState(z,de,Fe){ye()?this._history.replaceState(z,de,Fe):this.location.hash=Fe}forward(){this._history.forward()}back(){this._history.back()}historyGo(z=0){this._history.go(z)}getState(){return this._history.state}}return q.\u0275fac=function(z){return new(z||q)(k.LFG(tt))},q.\u0275prov=(0,k.Yz7)({factory:Te,token:q,providedIn:"platform"}),q})();function ye(){return!!window.history.pushState}function Te(){return new De((0,k.LFG)(tt))}function wt(q,se){if(0==q.length)return se;if(0==se.length)return q;let z=0;return q.endsWith("/")&&z++,se.startsWith("/")&&z++,2==z?q+se.substring(1):1==z?q+se:q+"/"+se}function Tt(q){const se=q.match(/#|\?|$/),z=se&&se.index||q.length;return q.slice(0,z-("/"===q[z-1]?1:0))+q.slice(z)}function it(q){return q&&"?"!==q[0]?"?"+q:q}let ke=(()=>{class q{historyGo(z){throw new Error("Not implemented")}}return q.\u0275fac=function(z){return new(z||q)},q.\u0275prov=(0,k.Yz7)({factory:He,token:q,providedIn:"root"}),q})();function He(q){const se=(0,k.LFG)(tt).location;return new Pt((0,k.LFG)(Je),se&&se.origin||"")}const qe=new k.OlP("appBaseHref");let Pt=(()=>{class q extends ke{constructor(z,de){if(super(),this._platformLocation=z,this._removeListenerFns=[],null==de&&(de=this._platformLocation.getBaseHrefFromDOM()),null==de)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=de}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}prepareExternalUrl(z){return wt(this._baseHref,z)}path(z=!1){const de=this._platformLocation.pathname+it(this._platformLocation.search),Fe=this._platformLocation.hash;return Fe&&z?`${de}${Fe}`:de}pushState(z,de,Fe,At){const en=this.prepareExternalUrl(Fe+it(At));this._platformLocation.pushState(z,de,en)}replaceState(z,de,Fe,At){const en=this.prepareExternalUrl(Fe+it(At));this._platformLocation.replaceState(z,de,en)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(z=0){var de,Fe;null===(Fe=(de=this._platformLocation).historyGo)||void 0===Fe||Fe.call(de,z)}}return q.\u0275fac=function(z){return new(z||q)(k.LFG(Je),k.LFG(qe,8))},q.\u0275prov=k.Yz7({token:q,factory:q.\u0275fac}),q})(),Ut=(()=>{class q extends ke{constructor(z,de){super(),this._platformLocation=z,this._baseHref="",this._removeListenerFns=[],null!=de&&(this._baseHref=de)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}path(z=!1){let de=this._platformLocation.hash;return null==de&&(de="#"),de.length>0?de.substring(1):de}prepareExternalUrl(z){const de=wt(this._baseHref,z);return de.length>0?"#"+de:de}pushState(z,de,Fe,At){let en=this.prepareExternalUrl(Fe+it(At));0==en.length&&(en=this._platformLocation.pathname),this._platformLocation.pushState(z,de,en)}replaceState(z,de,Fe,At){let en=this.prepareExternalUrl(Fe+it(At));0==en.length&&(en=this._platformLocation.pathname),this._platformLocation.replaceState(z,de,en)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(z=0){var de,Fe;null===(Fe=(de=this._platformLocation).historyGo)||void 0===Fe||Fe.call(de,z)}}return q.\u0275fac=function(z){return new(z||q)(k.LFG(Je),k.LFG(qe,8))},q.\u0275prov=k.Yz7({token:q,factory:q.\u0275fac}),q})(),Mt=(()=>{class q{constructor(z,de){this._subject=new k.vpe,this._urlChangeListeners=[],this._platformStrategy=z;const Fe=this._platformStrategy.getBaseHref();this._platformLocation=de,this._baseHref=Tt(O(Fe)),this._platformStrategy.onPopState(At=>{this._subject.emit({url:this.path(!0),pop:!0,state:At.state,type:At.type})})}path(z=!1){return this.normalize(this._platformStrategy.path(z))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(z,de=""){return this.path()==this.normalize(z+it(de))}normalize(z){return q.stripTrailingSlash(function(q,se){return q&&se.startsWith(q)?se.substring(q.length):se}(this._baseHref,O(z)))}prepareExternalUrl(z){return z&&"/"!==z[0]&&(z="/"+z),this._platformStrategy.prepareExternalUrl(z)}go(z,de="",Fe=null){this._platformStrategy.pushState(Fe,"",z,de),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+it(de)),Fe)}replaceState(z,de="",Fe=null){this._platformStrategy.replaceState(Fe,"",z,de),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+it(de)),Fe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(z=0){var de,Fe;null===(Fe=(de=this._platformStrategy).historyGo)||void 0===Fe||Fe.call(de,z)}onUrlChange(z){this._urlChangeListeners.push(z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(de=>{this._notifyUrlChangeListeners(de.url,de.state)}))}_notifyUrlChangeListeners(z="",de){this._urlChangeListeners.forEach(Fe=>Fe(z,de))}subscribe(z,de,Fe){return this._subject.subscribe({next:z,error:de,complete:Fe})}}return q.\u0275fac=function(z){return new(z||q)(k.LFG(ke),k.LFG(Je))},q.normalizeQueryParams=it,q.joinWithSlash=wt,q.stripTrailingSlash=Tt,q.\u0275prov=(0,k.Yz7)({factory:ft,token:q,providedIn:"root"}),q})();function ft(){return new Mt((0,k.LFG)(ke),(0,k.LFG)(Je))}function O(q){return q.replace(/\/index.html$/,"")}var G=(()=>((G=G||{})[G.Zero=0]="Zero",G[G.One=1]="One",G[G.Two=2]="Two",G[G.Few=3]="Few",G[G.Many=4]="Many",G[G.Other=5]="Other",G))();const Zt=k.kL8;class ut{}let ln=(()=>{class q extends ut{constructor(z){super(),this.locale=z}getPluralCategory(z,de){switch(Zt(de||this.locale)(z)){case G.Zero:return"zero";case G.One:return"one";case G.Two:return"two";case G.Few:return"few";case G.Many:return"many";default:return"other"}}}return q.\u0275fac=function(z){return new(z||q)(k.LFG(k.soG))},q.\u0275prov=k.Yz7({token:q,factory:q.\u0275fac}),q})();function An(q,se){se=encodeURIComponent(se);for(const z of q.split(";")){const de=z.indexOf("="),[Fe,At]=-1==de?[z,""]:[z.slice(0,de),z.slice(de+1)];if(Fe.trim()===se)return decodeURIComponent(At)}return null}let vn=(()=>{class q{constructor(z,de,Fe,At){this._iterableDiffers=z,this._keyValueDiffers=de,this._ngEl=Fe,this._renderer=At,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(z){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof z?z.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(z){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof z?z.split(/\s+/):z,this._rawClass&&((0,k.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const z=this._iterableDiffer.diff(this._rawClass);z&&this._applyIterableChanges(z)}else if(this._keyValueDiffer){const z=this._keyValueDiffer.diff(this._rawClass);z&&this._applyKeyValueChanges(z)}}_applyKeyValueChanges(z){z.forEachAddedItem(de=>this._toggleClass(de.key,de.currentValue)),z.forEachChangedItem(de=>this._toggleClass(de.key,de.currentValue)),z.forEachRemovedItem(de=>{de.previousValue&&this._toggleClass(de.key,!1)})}_applyIterableChanges(z){z.forEachAddedItem(de=>{if("string"!=typeof de.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,k.AaK)(de.item)}`);this._toggleClass(de.item,!0)}),z.forEachRemovedItem(de=>this._toggleClass(de.item,!1))}_applyClasses(z){z&&(Array.isArray(z)||z instanceof Set?z.forEach(de=>this._toggleClass(de,!0)):Object.keys(z).forEach(de=>this._toggleClass(de,!!z[de])))}_removeClasses(z){z&&(Array.isArray(z)||z instanceof Set?z.forEach(de=>this._toggleClass(de,!1)):Object.keys(z).forEach(de=>this._toggleClass(de,!1)))}_toggleClass(z,de){(z=z.trim())&&z.split(/\s+/g).forEach(Fe=>{de?this._renderer.addClass(this._ngEl.nativeElement,Fe):this._renderer.removeClass(this._ngEl.nativeElement,Fe)})}}return q.\u0275fac=function(z){return new(z||q)(k.Y36(k.ZZ4),k.Y36(k.aQg),k.Y36(k.SBq),k.Y36(k.Qsj))},q.\u0275dir=k.lG2({type:q,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),q})();class nr{constructor(se,z,de,Fe){this.$implicit=se,this.ngForOf=z,this.index=de,this.count=Fe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vr=(()=>{class q{constructor(z,de,Fe){this._viewContainer=z,this._template=de,this._differs=Fe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(z){this._ngForOf=z,this._ngForOfDirty=!0}set ngForTrackBy(z){this._trackByFn=z}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(z){z&&(this._template=z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const z=this._ngForOf;if(!this._differ&&z)try{this._differ=this._differs.find(z).create(this.ngForTrackBy)}catch(de){throw new Error(`Cannot find a differ supporting object '${z}' of type '${function(q){return q.name||typeof q}(z)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const z=this._differ.diff(this._ngForOf);z&&this._applyChanges(z)}}_applyChanges(z){const de=[];z.forEachOperation((Fe,At,en)=>{if(null==Fe.previousIndex){const Cn=this._viewContainer.createEmbeddedView(this._template,new nr(null,this._ngForOf,-1,-1),null===en?void 0:en),xn=new or(Fe,Cn);de.push(xn)}else if(null==en)this._viewContainer.remove(null===At?void 0:At);else if(null!==At){const Cn=this._viewContainer.get(At);this._viewContainer.move(Cn,en);const xn=new or(Fe,Cn);de.push(xn)}});for(let Fe=0;Fe<de.length;Fe++)this._perViewChange(de[Fe].view,de[Fe].record);for(let Fe=0,At=this._viewContainer.length;Fe<At;Fe++){const en=this._viewContainer.get(Fe);en.context.index=Fe,en.context.count=At,en.context.ngForOf=this._ngForOf}z.forEachIdentityChange(Fe=>{this._viewContainer.get(Fe.currentIndex).context.$implicit=Fe.item})}_perViewChange(z,de){z.context.$implicit=de.item}static ngTemplateContextGuard(z,de){return!0}}return q.\u0275fac=function(z){return new(z||q)(k.Y36(k.s_b),k.Y36(k.Rgc),k.Y36(k.ZZ4))},q.\u0275dir=k.lG2({type:q,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),q})();class or{constructor(se,z){this.record=se,this.view=z}}let qi=(()=>{class q{constructor(z,de){this._viewContainer=z,this._context=new ko,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=de}set ngIf(z){this._context.$implicit=this._context.ngIf=z,this._updateView()}set ngIfThen(z){Yi("ngIfThen",z),this._thenTemplateRef=z,this._thenViewRef=null,this._updateView()}set ngIfElse(z){Yi("ngIfElse",z),this._elseTemplateRef=z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(z,de){return!0}}return q.\u0275fac=function(z){return new(z||q)(k.Y36(k.s_b),k.Y36(k.Rgc))},q.\u0275dir=k.lG2({type:q,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),q})();class ko{constructor(){this.$implicit=null,this.ngIf=null}}function Yi(q,se){if(se&&!se.createEmbeddedView)throw new Error(`${q} must be a TemplateRef, but received '${(0,k.AaK)(se)}'.`)}let Hr=(()=>{class q{}return q.\u0275fac=function(z){return new(z||q)},q.\u0275mod=k.oAB({type:q}),q.\u0275inj=k.cJS({providers:[{provide:ut,useClass:ln}]}),q})();const $o="browser";function $(q){return"server"===q}let ot=(()=>{class q{}return q.\u0275prov=(0,k.Yz7)({token:q,providedIn:"root",factory:()=>new xt((0,k.LFG)(tt),window)}),q})();class xt{constructor(se,z){this.document=se,this.window=z,this.offset=()=>[0,0]}setOffset(se){this.offset=Array.isArray(se)?()=>se:se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(se){this.supportsScrolling()&&this.window.scrollTo(se[0],se[1])}scrollToAnchor(se){if(!this.supportsScrolling())return;const z=function(q,se){const z=q.getElementById(se)||q.getElementsByName(se)[0];if(z)return z;if("function"==typeof q.createTreeWalker&&q.body&&(q.body.createShadowRoot||q.body.attachShadow)){const de=q.createTreeWalker(q.body,NodeFilter.SHOW_ELEMENT);let Fe=de.currentNode;for(;Fe;){const At=Fe.shadowRoot;if(At){const en=At.getElementById(se)||At.querySelector(`[name="${se}"]`);if(en)return en}Fe=de.nextNode()}}return null}(this.document,se);z&&(this.scrollToElement(z),this.attemptFocus(z))}setHistoryScrollRestoration(se){if(this.supportScrollRestoration()){const z=this.window.history;z&&z.scrollRestoration&&(z.scrollRestoration=se)}}scrollToElement(se){const z=se.getBoundingClientRect(),de=z.left+this.window.pageXOffset,Fe=z.top+this.window.pageYOffset,At=this.offset();this.window.scrollTo(de-At[0],Fe-At[1])}attemptFocus(se){return se.focus(),this.document.activeElement===se}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const se=Xt(this.window.history)||Xt(Object.getPrototypeOf(this.window.history));return!(!se||!se.writable&&!se.set)}catch(se){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(se){return!1}}}function Xt(q){return Object.getOwnPropertyDescriptor(q,"scrollRestoration")}class En{}},7716:(Vn,We,pe)=>{"use strict";pe.d(We,{deG:()=>pu,tb:()=>CE,AFp:()=>wE,ip1:()=>i_,CZH:()=>lm,hGG:()=>PD,z2F:()=>nv,sBO:()=>_T,Sil:()=>tv,_Vd:()=>tm,EJc:()=>SE,SBq:()=>dh,qLn:()=>Ja,vpe:()=>ph,gxx:()=>nf,tBr:()=>vu,XFs:()=>$e,OlP:()=>zr,zs3:()=>go,ZZ4:()=>Mv,aQg:()=>kv,soG:()=>$v,YKP:()=>db,v3s:()=>fD,h0i:()=>rg,PXZ:()=>oD,R0b:()=>Ul,FiY:()=>Jo,Lbi:()=>EE,g9A:()=>bE,Qsj:()=>iT,FYo:()=>xv,JOm:()=>J,Tiy:()=>Oy,q3G:()=>Gi,tp0:()=>xs,EAV:()=>gD,Rgc:()=>Gm,dDg:()=>NE,DyG:()=>sl,q4F:()=>Py,GfV:()=>sb,s_b:()=>Vv,ifc:()=>ve,eFA:()=>kE,G48:()=>JI,Gpc:()=>De,_c5:()=>SD,VLi:()=>ZI,c2e:()=>TE,zSh:()=>rf,wAp:()=>Sr,vHH:()=>Tt,EiD:()=>wl,mCW:()=>Yu,qzn:()=>Yl,JVY:()=>nd,pB0:()=>Oa,eBb:()=>pl,L6k:()=>Pf,LAX:()=>gl,cg1:()=>Ey,Tjo:()=>CD,kL8:()=>Aw,yhl:()=>Of,dqk:()=>Yt,sIi:()=>B,CqO:()=>cf,QGY:()=>Yh,F4k:()=>eg,RDi:()=>qt,AaK:()=>Je,z3N:()=>$a,qOj:()=>Kh,TTD:()=>Hr,_Bn:()=>tb,xp6:()=>Qc,uIk:()=>ku,ekj:()=>yy,Suo:()=>Jb,Xpm:()=>oi,lG2:()=>sn,Yz7:()=>Ht,cJS:()=>pn,oAB:()=>Lt,Yjl:()=>bn,Y36:()=>Ll,_UZ:()=>Ds,qZA:()=>pi,TgZ:()=>Pr,EpF:()=>Vl,n5z:()=>Nc,Ikx:()=>by,LFG:()=>Jr,$8M:()=>Ba,NdJ:()=>tg,CRH:()=>Xb,oxw:()=>U_,Q6J:()=>Zg,VKq:()=>Bb,kEZ:()=>Hb,iGM:()=>Yb,CHM:()=>ms,LSH:()=>Th,B6R:()=>Pi,kYT:()=>Dt,YNc:()=>wv,_uU:()=>lw,Oqu:()=>wy,hij:()=>Iv,Gf:()=>Zb});var k=pe(7709),m=pe(5319),te=pe(7574),mt=pe(6682),Le=pe(8819);function Ye(e){for(let t in e)if(e[t]===Ye)return t;throw Error("Could not find renamed property on target object.")}function tt(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Je(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Je).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function ae(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Q=Ye({__forward_ref__:Ye});function De(e){return e.__forward_ref__=De,e.toString=function(){return Je(this())},e}function ye(e){return Te(e)?e():e}function Te(e){return"function"==typeof e&&e.hasOwnProperty(Q)&&e.__forward_ref__===De}class Tt extends Error{constructor(t,r){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,r)),this.code=t}}function He(e){return"string"==typeof e?e:null==e?"":String(e)}function qe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():He(e)}function ft(e,t){const r=t?` in ${t}`:"";throw new Tt("201",`No provider for ${qe(e)} found${r}`)}function Ke(e,t){null==e&&function(e,t,r,a){throw new Error(`ASSERTION ERROR: ${e}`+(null==a?"":` [Expected=> ${r} ${a} ${t} <=Actual]`))}(t,e,null,"!=")}function Ht(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function pn(e){return{providers:e.providers||[],imports:e.imports||[]}}function It(e){return Zn(e,Zt)||Zn(e,_t)}function Zn(e,t){return e.hasOwnProperty(t)?e[t]:null}function cn(e){return e&&(e.hasOwnProperty(pt)||e.hasOwnProperty(Ve))?e[pt]:null}const Zt=Ye({\u0275prov:Ye}),pt=Ye({\u0275inj:Ye}),_t=Ye({ngInjectableDef:Ye}),Ve=Ye({ngInjectorDef:Ye});var $e=(()=>(($e=$e||{})[$e.Default=0]="Default",$e[$e.Host=1]="Host",$e[$e.Self=2]="Self",$e[$e.SkipSelf=4]="SkipSelf",$e[$e.Optional=8]="Optional",$e))();let bt;function tn(e){const t=bt;return bt=e,t}function _n(e,t,r){const a=It(e);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:r&$e.Optional?null:void 0!==t?t:void ft(Je(e),"Injector")}function Un(e){return{toString:e}.toString()}var Sn=(()=>((Sn=Sn||{})[Sn.OnPush=0]="OnPush",Sn[Sn.Default=1]="Default",Sn))(),ve=(()=>((ve=ve||{})[ve.Emulated=0]="Emulated",ve[ve.None=2]="None",ve[ve.ShadowDom=3]="ShadowDom",ve))();const ze="undefined"!=typeof globalThis&&globalThis,Ct="undefined"!=typeof window&&window,lt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Yt=ze||"undefined"!=typeof global&&global||Ct||lt,In={},Wn=[],Ln=Ye({\u0275cmp:Ye}),Dr=Ye({\u0275dir:Ye}),tr=Ye({\u0275pipe:Ye}),li=Ye({\u0275mod:Ye}),dr=Ye({\u0275loc:Ye}),pr=Ye({\u0275fac:Ye}),Ni=Ye({__NG_ELEMENT_ID__:Ye});let ii=0;function oi(e){return Un(()=>{const r={},a={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Sn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Wn,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ve.Emulated,id:"c",styles:e.styles||Wn,_:null,setInput:null,schemas:e.schemas||null,tView:null},h=e.directives,v=e.features,S=e.pipes;return a.id+=ii++,a.inputs=Ft(e.inputs,r),a.outputs=Ft(e.outputs),v&&v.forEach(D=>D(a)),a.directiveDefs=h?()=>("function"==typeof h?h():h).map(xe):null,a.pipeDefs=S?()=>("function"==typeof S?S():S).map(ht):null,a})}function Pi(e,t,r){const a=e.\u0275cmp;a.directiveDefs=()=>t.map(xe),a.pipeDefs=()=>r.map(ht)}function xe(e){return Dn(e)||function(e){return e[Dr]||null}(e)}function ht(e){return function(e){return e[tr]||null}(e)}const Et={};function Lt(e){return Un(()=>{const t={type:e.type,bootstrap:e.bootstrap||Wn,declarations:e.declarations||Wn,imports:e.imports||Wn,exports:e.exports||Wn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Et[e.id]=e.type),t})}function Dt(e,t){return Un(()=>{const r=ar(e,!0);r.declarations=t.declarations||Wn,r.imports=t.imports||Wn,r.exports=t.exports||Wn})}function Ft(e,t){if(null==e)return In;const r={};for(const a in e)if(e.hasOwnProperty(a)){let h=e[a],v=h;Array.isArray(h)&&(v=h[1],h=h[0]),r[h]=a,t&&(t[h]=v)}return r}const sn=oi;function bn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Dn(e){return e[Ln]||null}function ar(e,t){const r=e[li]||null;if(!r&&!0===t)throw new Error(`Type ${Je(e)} does not have '\u0275mod' property.`);return r}function xi(e){return Array.isArray(e)&&"object"==typeof e[1]}function vi(e){return Array.isArray(e)&&!0===e[1]}function rs(e){return 0!=(8&e.flags)}function yo(e){return 2==(2&e.flags)}function Mi(e){return 1==(1&e.flags)}function yi(e){return null!==e.template}function ki(e){return 0!=(512&e[2])}function _o(e,t){return e.hasOwnProperty(pr)?e[pr]:null}class js{constructor(t,r,a){this.previousValue=t,this.currentValue=r,this.firstChange=a}isFirstChange(){return this.firstChange}}function Hr(){return $o}function $o(e){return e.type.prototype.ngOnChanges&&(e.setInput=Bs),wo}function wo(){const e=Y(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===In)e.previous=t;else for(let a in t)r[a]=t[a];e.current=null,this.ngOnChanges(t)}}function Bs(e,t,r,a){const h=Y(e)||function(e,t){return e[ao]=t}(e,{previous:In,current:null}),v=h.current||(h.current={}),S=h.previous,D=this.declaredInputs[r],M=S[D];v[D]=new js(M&&M.currentValue,t,S===In),e[a]=t}Hr.ngInherit=!0;const ao="__ngSimpleChanges__";function Y(e){return e[ao]||null}let Xt;function qt(e){Xt=e}function q(e){return!!e.listen}const z={createRenderer:(e,t)=>void 0!==Xt?Xt:"undefined"!=typeof document?document:void 0};function Fe(e){for(;Array.isArray(e);)e=e[0];return e}function Cn(e,t){return Fe(t[e])}function xn(e,t){return Fe(t[e.index])}function wr(e,t){return e.data[t]}function sr(e,t){const r=t[e];return xi(r)?r:r[0]}function Er(e){return 4==(4&e[2])}function ci(e){return 128==(128&e[2])}function _i(e,t){return null==t?null:e[t]}function gs(e){e[18]=0}function Gr(e,t){e[5]+=t;let r=e,a=e[3];for(;null!==a&&(1===t&&1===r[5]||-1===t&&0===r[5]);)a[5]+=t,r=a,a=a[3]}const Rn={lFrame:Va(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ko(){return Rn.bindingsEnabled}function on(){return Rn.lFrame.lView}function Mr(){return Rn.lFrame.tView}function ms(e){return Rn.lFrame.contextLView=e,e[8]}function qr(){let e=Hi();for(;null!==e&&64===e.type;)e=e.parent;return e}function Hi(){return Rn.lFrame.currentTNode}function Eo(e,t){const r=Rn.lFrame;r.currentTNode=e,r.isParent=t}function Fa(){return Rn.lFrame.isParent}function fo(){return Rn.isInCheckNoChangesMode}function bi(e){Rn.isInCheckNoChangesMode=e}function Ar(){const e=Rn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function os(){return Rn.lFrame.bindingIndex++}function wa(e,t){const r=Rn.lFrame;r.bindingIndex=r.bindingRootIndex=e,ss(t)}function ss(e){Rn.lFrame.currentDirectiveIndex=e}function vs(){return Rn.lFrame.currentQueryIndex}function ys(e){Rn.lFrame.currentQueryIndex=e}function As(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function _s(e,t,r){if(r&$e.SkipSelf){let h=t,v=e;for(;!(h=h.parent,null!==h||r&$e.Host||(h=As(v),null===h||(v=v[15],10&h.type))););if(null===h)return!1;t=h,e=v}const a=Rn.lFrame=Qr();return a.currentTNode=t,a.lView=e,!0}function Hs(e){const t=Qr(),r=e[1];Rn.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Qr(){const e=Rn.lFrame,t=null===e?null:e.child;return null===t?Va(e):t}function Va(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function mn(){const e=Rn.lFrame;return Rn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Zr=mn;function Gs(){const e=mn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function hi(){return Rn.lFrame.selectedIndex}function Rs(e){Rn.lFrame.selectedIndex=e}function ei(){const e=Rn.lFrame;return wr(e.tView,e.selectedIndex)}function St(e,t){for(let r=t.directiveStart,a=t.directiveEnd;r<a;r++){const v=e.data[r].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:D,ngAfterViewInit:M,ngAfterViewChecked:W,ngOnDestroy:re}=v;S&&(e.contentHooks||(e.contentHooks=[])).push(-r,S),D&&((e.contentHooks||(e.contentHooks=[])).push(r,D),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(r,D)),M&&(e.viewHooks||(e.viewHooks=[])).push(-r,M),W&&((e.viewHooks||(e.viewHooks=[])).push(r,W),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(r,W)),null!=re&&(e.destroyHooks||(e.destroyHooks=[])).push(r,re)}}function kn(e,t,r){eo(e,t,3,r)}function kr(e,t,r,a){(3&e[2])===r&&eo(e,t,r,a)}function Nr(e,t){let r=e[2];(3&r)===t&&(r&=2047,r+=1,e[2]=r)}function eo(e,t,r,a){const v=null!=a?a:-1,S=t.length-1;let D=0;for(let M=void 0!==a?65535&e[18]:0;M<S;M++)if("number"==typeof t[M+1]){if(D=t[M],null!=a&&D>=a)break}else t[M]<0&&(e[18]+=65536),(D<v||-1==v)&&(No(e,r,t,M),e[18]=(4294901760&e[18])+M+2),M++}function No(e,t,r,a){const h=r[a]<0,v=r[a+1],D=e[h?-r[a]:r[a]];if(h){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{v.call(D)}finally{}}}else try{v.call(D)}finally{}}class Li{constructor(t,r,a){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=a}}function Ea(e,t,r){const a=q(e);let h=0;for(;h<r.length;){const v=r[h];if("number"==typeof v){if(0!==v)break;h++;const S=r[h++],D=r[h++],M=r[h++];a?e.setAttribute(t,D,M,S):t.setAttributeNS(S,D,M)}else{const S=v,D=r[++h];Wi(S)?a&&e.setProperty(t,S,D):a?e.setAttribute(t,S,D):t.setAttribute(S,D),h++}}return h}function cu(e){return 3===e||4===e||6===e}function Wi(e){return 64===e.charCodeAt(0)}function ai(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let a=0;a<t.length;a++){const h=t[a];"number"==typeof h?r=h:0===r||ja(e,r,h,null,-1===r||2===r?t[++a]:null)}}return e}function ja(e,t,r,a,h){let v=0,S=e.length;if(-1===t)S=-1;else for(;v<e.length;){const D=e[v++];if("number"==typeof D){if(D===t){S=-1;break}if(D>t){S=v-1;break}}}for(;v<e.length;){const D=e[v];if("number"==typeof D)break;if(D===r){if(null===a)return void(null!==h&&(e[v+1]=h));if(a===e[v+1])return void(e[v+2]=h)}v++,null!==a&&v++,null!==h&&v++}-1!==S&&(e.splice(S,0,t),v=S+1),e.splice(v++,0,r),null!==a&&e.splice(v++,0,a),null!==h&&e.splice(v++,0,h)}function as(e){return-1!==e}function b(e){return 32767&e}function y(e,t){let r=function(e){return e>>16}(e),a=t;for(;r>0;)a=a[15],r--;return a}let T=!0;function P(e){const t=T;return T=e,t}let Ae=0;function ct(e,t){const r=Vt(e,t);if(-1!==r)return r;const a=t[1];a.firstCreatePass&&(e.injectorIndex=t.length,Ot(a.data,e),Ot(t,null),Ot(a.blueprint,null));const h=an(e,t),v=e.injectorIndex;if(as(h)){const S=b(h),D=y(h,t),M=D[1].data;for(let W=0;W<8;W++)t[v+W]=D[S+W]|M[S+W]}return t[v+8]=h,v}function Ot(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Vt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function an(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,a=null,h=t;for(;null!==h;){const v=h[1],S=v.type;if(a=2===S?v.declTNode:1===S?h[6]:null,null===a)return-1;if(r++,h=h[15],-1!==a.injectorIndex)return a.injectorIndex|r<<16}return-1}function On(e,t,r){!function(e,t,r){let a;"string"==typeof r?a=r.charCodeAt(0)||0:r.hasOwnProperty(Ni)&&(a=r[Ni]),null==a&&(a=r[Ni]=Ae++);const h=255&a;t.data[e+(h>>5)]|=1<<h}(e,t,r)}function Ur(e,t,r){if(r&$e.Optional)return e;ft(t,"NodeInjector")}function Lr(e,t,r,a){if(r&$e.Optional&&void 0===a&&(a=null),0==(r&($e.Self|$e.Host))){const h=e[9],v=tn(void 0);try{return h?h.get(t,a,r&$e.Optional):_n(t,a,r&$e.Optional)}finally{tn(v)}}return Ur(a,t,r)}function ho(e,t,r,a=$e.Default,h){if(null!==e){const v=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ni)?e[Ni]:void 0;return"number"==typeof t?t>=0?255&t:ta:t}(r);if("function"==typeof v){if(!_s(t,e,a))return a&$e.Host?Ur(h,r,a):Lr(t,r,a,h);try{const S=v(a);if(null!=S||a&$e.Optional)return S;ft(r)}finally{Zr()}}else if("number"==typeof v){let S=null,D=Vt(e,t),M=-1,W=a&$e.Host?t[16][6]:null;for((-1===D||a&$e.SkipSelf)&&(M=-1===D?an(e,t):t[D+8],-1!==M&&wf(a,!1)?(S=t[1],D=b(M),t=y(M,t)):D=-1);-1!==D;){const re=t[1];if(Ac(v,D,re.data)){const we=Hn(D,t,r,S,a,W);if(we!==Ro)return we}M=t[D+8],-1!==M&&wf(a,t[1].data[D+8]===W)&&Ac(v,D,t)?(S=re,D=b(M),t=y(M,t)):D=-1}}}return Lr(t,r,a,h)}const Ro={};function ta(){return new fu(qr(),on())}function Hn(e,t,r,a,h,v){const S=t[1],D=S.data[e+8],re=Ri(D,S,r,null==a?yo(D)&&T:a!=S&&0!=(3&D.type),h&$e.Host&&v===D);return null!==re?Co(t,S,re,D):Ro}function Ri(e,t,r,a,h){const v=e.providerIndexes,S=t.data,D=1048575&v,M=e.directiveStart,re=v>>20,Re=h?D+re:e.directiveEnd;for(let et=a?D:D+re;et<Re;et++){const dt=S[et];if(et<M&&r===dt||et>=M&&dt.type===r)return et}if(h){const et=S[M];if(et&&yi(et)&&et.type===r)return M}return null}function Co(e,t,r,a){let h=e[r];const v=t.data;if(function(e){return e instanceof Li}(h)){const S=h;S.resolving&&function(e,t){throw new Tt("200",`Circular dependency in DI detected for ${e}`)}(qe(v[r]));const D=P(S.canSeeViewProviders);S.resolving=!0;const M=S.injectImpl?tn(S.injectImpl):null;_s(e,a,$e.Default);try{h=e[r]=S.factory(void 0,v,e,a),t.firstCreatePass&&r>=a.directiveStart&&function(e,t,r){const{ngOnChanges:a,ngOnInit:h,ngDoCheck:v}=t.type.prototype;if(a){const S=$o(t);(r.preOrderHooks||(r.preOrderHooks=[])).push(e,S),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,S)}h&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-e,h),v&&((r.preOrderHooks||(r.preOrderHooks=[])).push(e,v),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,v))}(r,v[r],t)}finally{null!==M&&tn(M),P(D),S.resolving=!1,Zr()}}return h}function Ac(e,t,r){return!!(r[t+(e>>5)]&1<<e)}function wf(e,t){return!(e&$e.Self||e&$e.Host&&t)}class fu{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,a){return ho(this._tNode,this._lView,t,a,r)}}function Nc(e){return Un(()=>{const t=e.prototype.constructor,r=t[pr]||na(t),a=Object.prototype;let h=Object.getPrototypeOf(e.prototype).constructor;for(;h&&h!==a;){const v=h[pr]||na(h);if(v&&v!==r)return v;h=Object.getPrototypeOf(h)}return v=>new v})}function na(e){return Te(e)?()=>{const t=na(ye(e));return t&&t()}:_o(e)}function Ba(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const a=r.length;let h=0;for(;h<a;){const v=r[h];if(cu(v))break;if(0===v)h+=2;else if("number"==typeof v)for(h++;h<a&&"string"==typeof r[h];)h++;else{if(v===t)return r[h+1];h+=2}}}return null}(qr(),e)}const du="__parameters__";function qs(e,t,r){return Un(()=>{const a=function(e){return function(...r){if(e){const a=e(...r);for(const h in a)this[h]=a[h]}}}(t);function h(...v){if(this instanceof h)return a.apply(this,v),this;const S=new h(...v);return D.annotation=S,D;function D(M,W,re){const we=M.hasOwnProperty(du)?M[du]:Object.defineProperty(M,du,{value:[]})[du];for(;we.length<=re;)we.push(null);return(we[re]=we[re]||[]).push(S),M}}return r&&(h.prototype=Object.create(r.prototype)),h.prototype.ngMetadataName=e,h.annotationCls=h,h})}class zr{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Ht({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const pu=new zr("AnalyzeForEntryComponents"),sl=Function;function Oo(e,t){void 0===t&&(t=e);for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?(t===e&&(t=e.slice(0,r)),Oo(a,t)):t!==e&&t.push(a)}return t}function Ta(e,t){e.forEach(r=>Array.isArray(r)?Ta(r,t):t(r))}function Sa(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function zi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Po(e,t,r){let a=Ga(e,t);return a>=0?e[1|a]=r:(a=~a,function(e,t,r,a){let h=e.length;if(h==t)e.push(r,a);else if(1===h)e.push(a,e[0]),e[0]=r;else{for(h--,e.push(e[h-1],e[h]);h>t;)e[h]=e[h-2],h--;e[t]=r,e[t+1]=a}}(e,a,t,r)),a}function bs(e,t){const r=Ga(e,t);if(r>=0)return e[1|r]}function Ga(e,t){return function(e,t,r){let a=0,h=e.length>>r;for(;h!==a;){const v=a+(h-a>>1),S=e[v<<r];if(t===S)return v<<r;S>t?h=v:a=v+1}return~(h<<r)}(e,t,1)}const ll={},Gl="__NG_DI_FLAG__",qu="ngTempTokenPath",Pc=/\n/gm,fl="__source",Cs=Ye({provide:String,useValue:Ye});let oa;function mu(e){const t=oa;return oa=e,t}function Wl(e,t=$e.Default){if(void 0===oa)throw new Error("inject() must be called from an injection context");return null===oa?_n(e,void 0,t):oa.get(e,t&$e.Optional?null:void 0,t)}function Jr(e,t=$e.Default){return(bt||Wl)(ye(e),t)}function Bo(e){const t=[];for(let r=0;r<e.length;r++){const a=ye(e[r]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let h,v=$e.Default;for(let S=0;S<a.length;S++){const D=a[S],M=Ts(D);"number"==typeof M?-1===M?h=D.token:v|=M:h=D}t.push(Jr(h,v))}else t.push(Jr(a))}return t}function Wa(e,t){return e[Gl]=t,e.prototype[Gl]=t,e}function Ts(e){return e[Gl]}function sa(e,t,r,a){const h=e[qu];throw t[fl]&&h.unshift(t[fl]),e.message=function(e,t,r,a=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let h=Je(t);if(Array.isArray(t))h=t.map(Je).join(" -> ");else if("object"==typeof t){let v=[];for(let S in t)if(t.hasOwnProperty(S)){let D=t[S];v.push(S+":"+("string"==typeof D?JSON.stringify(D):Je(D)))}h=`{${v.join(", ")}}`}return`${r}${a?"("+a+")":""}[${h}]: ${e.replace(Pc,"\n  ")}`}("\n"+e.message,h,r,a),e.ngTokenPath=h,e[qu]=null,e}const vu=Wa(qs("Inject",e=>({token:e})),-1),Jo=Wa(qs("Optional"),8),xs=Wa(qs("SkipSelf"),4);let yh;function Ra(e){var t;return(null===(t=function(){if(void 0===yh&&(yh=null,Yt.trustedTypes))try{yh=Yt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return yh}())||void 0===t?void 0:t.createHTML(e))||e}class Ms{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nf extends Ms{getTypeName(){return"HTML"}}class Rf extends Ms{getTypeName(){return"Style"}}class wh extends Ms{getTypeName(){return"Script"}}class zu extends Ms{getTypeName(){return"URL"}}class Ku extends Ms{getTypeName(){return"ResourceURL"}}function $a(e){return e instanceof Ms?e.changingThisBreaksApplicationSecurity:e}function Yl(e,t){const r=Of(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===t}function Of(e){return e instanceof Ms&&e.getTypeName()||null}function nd(e){return new Nf(e)}function Pf(e){return new Rf(e)}function pl(e){return new wh(e)}function gl(e){return new zu(e)}function Oa(e){return new Ku(e)}class Zl{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Ra(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch(r){return null}}}class za{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const a=this.inertDocument.createElement("body");r.appendChild(a)}}getInertBodyElement(t){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=Ra(t),r;const a=this.inertDocument.createElement("body");return a.innerHTML=Ra(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(t){const r=t.attributes;for(let h=r.length-1;0<h;h--){const S=r.item(h).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&t.removeAttribute(S)}let a=t.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const kc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yu(e){return(e=String(e)).match(kc)||e.match(Xl)?e:"unsafe:"+e}function aa(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function ml(...e){const t={};for(const r of e)for(const a in r)r.hasOwnProperty(a)&&(t[a]=!0);return t}const Ka=aa("area,br,col,hr,img,wbr"),ec=aa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Eh=aa("rp,rt"),Zu=ml(Ka,ml(ec,aa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ml(Eh,aa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ml(Eh,ec)),Tu=aa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ju=aa("srcset"),Ya=ml(Tu,Ju,aa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),aa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yl=aa("script,style,template");class Pa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,a=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?a=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,a&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let h=this.checkClobberedElement(r,r.nextSibling);if(h){r=h;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!Zu.hasOwnProperty(r))return this.sanitizedSomething=!0,!yl.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const a=t.attributes;for(let h=0;h<a.length;h++){const v=a.item(h),S=v.name,D=S.toLowerCase();if(!Ya.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let M=v.value;Tu[D]&&(M=Yu(M)),Ju[D]&&(e=M,M=(e=String(e)).split(",").map(t=>Yu(t.trim())).join(", ")),this.buf.push(" ",S,'="',el(M),'"')}var e;return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();Zu.hasOwnProperty(r)&&!Ka.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(el(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const lp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xu=/([^\#-~ |!])/g;function el(e){return e.replace(/&/g,"&amp;").replace(lp,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Xu,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _l;function wl(e,t){let r=null;try{_l=_l||function(e){const t=new za(e);return function(){try{return!!(new window.DOMParser).parseFromString(Ra(""),"text/html")}catch(e){return!1}}()?new Zl(t):t}(e);let a=t?String(t):"";r=_l.getInertBodyElement(a);let h=5,v=a;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,a=v,v=r.innerHTML,r=_l.getInertBodyElement(a)}while(a!==v);return Ra((new Pa).sanitizeChildren(bl(r)||r))}finally{if(r){const a=bl(r)||r;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function bl(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Gi=(()=>((Gi=Gi||{})[Gi.NONE=0]="NONE",Gi[Gi.HTML=1]="HTML",Gi[Gi.STYLE=2]="STYLE",Gi[Gi.SCRIPT=3]="SCRIPT",Gi[Gi.URL=4]="URL",Gi[Gi.RESOURCE_URL=5]="RESOURCE_URL",Gi))();function Th(e){const t=function(){const e=on();return e&&e[12]}();return t?t.sanitize(Gi.URL,e)||"":Yl(e,"URL")?$a(e):Yu(He(e))}const jc="__ngContext__";function ro(e,t){e[jc]=t}function nc(e){const t=function(e){return e[jc]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ff(e){return e.ngOriginalError}function oc(e,...t){e.error(...t)}class Ja{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t),a=this._findContext(t),h=(e=t)&&e.ngErrorLogger||oc;var e;h(this._console,"ERROR",t),r&&h(this._console,"ORIGINAL ERROR",r),a&&h(this._console,"ERROR CONTEXT",a)}_findContext(t){return t?t.ngDebugContext||this._findContext(Ff(t)):null}_findOriginalError(t){let r=t&&Ff(t);for(;r&&Ff(r);)r=Ff(r);return r||null}}const dp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Yt))();function p(e){return e instanceof Function?e():e}var J=(()=>((J=J||{})[J.Important=1]="Important",J[J.DashCase=2]="DashCase",J))();function Ne(e,t){return undefined(e,t)}function yt(e){const t=e[3];return vi(t)?t[3]:t}function Kn(e){return lr(e[13])}function Gn(e){return lr(e[4])}function lr(e){for(;null!==e&&!vi(e);)e=e[4];return e}function Rr(e,t,r,a,h){if(null!=a){let v,S=!1;vi(a)?v=a:xi(a)&&(S=!0,a=a[0]);const D=Fe(a);0===e&&null!==r?null==h?pp(t,r,D):ca(t,r,D,h||null,!0):1===e&&null!==r?ca(t,r,D,h||null,!0):2===e?function(e,t,r){const a=eu(e,t);a&&function(e,t,r,a){q(e)?e.removeChild(t,r,a):t.removeChild(r)}(e,a,t,r)}(t,D,S):3===e&&t.destroyNode(D),null!=v&&function(e,t,r,a,h){const v=r[7];v!==Fe(r)&&Rr(t,e,a,v,h);for(let D=10;D<r.length;D++){const M=r[D];tu(M[1],M,e,t,a,v)}}(t,e,v,r,h)}}function Tr(e,t,r){return q(e)?e.createElement(t,r):null===r?e.createElement(t):e.createElementNS(r,t)}function ud(e,t){const r=e[9],a=r.indexOf(t),h=t[3];1024&t[2]&&(t[2]&=-1025,Gr(h,-1)),r.splice(a,1)}function Ks(e,t){if(e.length<=10)return;const r=10+t,a=e[r];if(a){const h=a[17];null!==h&&h!==e&&ud(h,a),t>0&&(e[r-1][4]=a[4]);const v=zi(e,10+t);!function(e,t){tu(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(a[1],a);const S=v[19];null!==S&&S.detachView(v[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Au(e,t){if(!(256&t[2])){const r=t[11];q(r)&&r.destroyNode&&tu(e,t,r,3,null,null),function(e){let t=e[13];if(!t)return $c(e[1],e);for(;t;){let r=null;if(xi(t))r=t[13];else{const a=t[10];a&&(r=a)}if(!r){for(;t&&!t[4]&&t!==e;)xi(t)&&$c(t[1],t),t=t[3];null===t&&(t=e),xi(t)&&$c(t[1],t),r=t&&t[4]}t=r}}(t)}}function $c(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let a=0;a<r.length;a+=2){const h=t[r[a]];if(!(h instanceof Li)){const v=r[a+1];if(Array.isArray(v))for(let S=0;S<v.length;S+=2){const D=h[v[S]],M=v[S+1];try{M.call(D)}finally{}}else try{v.call(h)}finally{}}}}(e,t),function(e,t){const r=e.cleanup,a=t[7];let h=-1;if(null!==r)for(let v=0;v<r.length-1;v+=2)if("string"==typeof r[v]){const S=r[v+1],D="function"==typeof S?S(t):Fe(t[S]),M=a[h=r[v+2]],W=r[v+3];"boolean"==typeof W?D.removeEventListener(r[v],M,W):W>=0?a[h=W]():a[h=-W].unsubscribe(),v+=2}else{const S=a[h=r[v+1]];r[v].call(S)}if(null!==a){for(let v=h+1;v<a.length;v++)a[v]();t[7]=null}}(e,t),1===t[1].type&&q(t[11])&&t[11].destroy();const r=t[17];if(null!==r&&vi(t[3])){r!==t[3]&&ud(r,t);const a=t[19];null!==a&&a.detachView(e)}}}function ld(e,t,r){return function(e,t,r){let a=t;for(;null!==a&&40&a.type;)a=(t=a).parent;if(null===a)return r[0];if(2&a.flags){const h=e.data[a.directiveStart].encapsulation;if(h===ve.None||h===ve.Emulated)return null}return xn(a,r)}(e,t.parent,r)}function ca(e,t,r,a,h){q(e)?e.insertBefore(t,r,a,h):t.insertBefore(r,a,h)}function pp(e,t,r){q(e)?e.appendChild(t,r):t.appendChild(r)}function gp(e,t,r,a,h){null!==a?ca(e,t,r,a,h):pp(e,t,r)}function eu(e,t){return q(e)?e.parentNode(t):t.parentNode}let cd=function(e,t,r){return 40&e.type?xn(e,r):null};function Nh(e,t,r,a){const h=ld(e,a,t),v=t[11],D=function(e,t,r){return cd(e,t,r)}(a.parent||t[6],a,t);if(null!=h)if(Array.isArray(r))for(let M=0;M<r.length;M++)gp(v,h,r[M],D,!1);else gp(v,h,r,D,!1)}function Bf(e,t){if(null!==t){const r=t.type;if(3&r)return xn(t,e);if(4&r)return hd(-1,e[t.index]);if(8&r){const a=t.child;if(null!==a)return Bf(e,a);{const h=e[t.index];return vi(h)?hd(-1,h):Fe(h)}}if(32&r)return Ne(t,e)()||Fe(e[t.index]);{const a=yp(e,t);return null!==a?Array.isArray(a)?a[0]:Bf(yt(e[16]),a):Bf(e,t.next)}}return null}function yp(e,t){return null!==t?e[16][6].projection[t.projection]:null}function hd(e,t){const r=10+e+1;if(r<t.length){const a=t[r],h=a[1].firstChild;if(null!==h)return Bf(a,h)}return t[7]}function dd(e,t,r,a,h,v,S){for(;null!=r;){const D=a[r.index],M=r.type;if(S&&0===t&&(D&&ro(Fe(D),a),r.flags|=4),64!=(64&r.flags))if(8&M)dd(e,t,r.child,a,h,v,!1),Rr(t,e,h,D,v);else if(32&M){const W=Ne(r,a);let re;for(;re=W();)Rr(t,e,h,re,v);Rr(t,e,h,D,v)}else 16&M?_p(e,t,a,r,h,v):Rr(t,e,h,D,v);r=S?r.projectionNext:r.next}}function tu(e,t,r,a,h,v){dd(r,a,e.firstChild,t,h,v,!1)}function _p(e,t,r,a,h,v){const S=r[16],M=S[6].projection[a.projection];if(Array.isArray(M))for(let W=0;W<M.length;W++)Rr(t,e,h,M[W],v);else dd(e,t,M,S[3],h,v,!0)}function Hf(e,t,r){q(e)?e.setAttribute(t,"style",r):t.style.cssText=r}function zc(e,t,r){q(e)?""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r):t.className=r}function Qs(e,t,r){let a=e.length;for(;;){const h=e.indexOf(t,r);if(-1===h)return h;if(0===h||e.charCodeAt(h-1)<=32){const v=t.length;if(h+v===a||e.charCodeAt(h+v)<=32)return h}r=h+1}}const Kc="ng-template";function pg(e,t,r){let a=0;for(;a<e.length;){let h=e[a++];if(r&&"class"===h){if(h=e[a],-1!==Qs(h.toLowerCase(),t,0))return!0}else if(1===h){for(;a<e.length&&"string"==typeof(h=e[a++]);)if(h.toLowerCase()===t)return!0;return!1}}return!1}function Ep(e){return 4===e.type&&e.value!==Kc}function gg(e,t,r){return t===(4!==e.type||r?e.value:Kc)}function Oh(e,t,r){let a=4;const h=e.attrs||[],v=function(e){for(let t=0;t<e.length;t++)if(cu(e[t]))return t;return e.length}(h);let S=!1;for(let D=0;D<t.length;D++){const M=t[D];if("number"!=typeof M){if(!S)if(4&a){if(a=2|1&a,""!==M&&!gg(e,M,r)||""===M&&1===t.length){if(fa(a))return!1;S=!0}}else{const W=8&a?M:t[++D];if(8&a&&null!==e.attrs){if(!pg(e.attrs,W,r)){if(fa(a))return!1;S=!0}continue}const we=mg(8&a?"class":M,h,Ep(e),r);if(-1===we){if(fa(a))return!1;S=!0;continue}if(""!==W){let Re;Re=we>v?"":h[we+1].toLowerCase();const et=8&a?Re:null;if(et&&-1!==Qs(et,W,0)||2&a&&W!==Re){if(fa(a))return!1;S=!0}}}}else{if(!S&&!fa(a)&&!fa(M))return!1;if(S&&fa(M))continue;S=!1,a=M|1&a}}return fa(a)||S}function fa(e){return 0==(1&e)}function mg(e,t,r,a){if(null===t)return-1;let h=0;if(a||!r){let v=!1;for(;h<t.length;){const S=t[h];if(S===e)return h;if(3===S||6===S)v=!0;else{if(1===S||2===S){let D=t[++h];for(;"string"==typeof D;)D=t[++h];continue}if(4===S)break;if(0===S){h+=4;continue}}h+=v?1:2}return-1}return function(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const a=e[r];if("number"==typeof a)return-1;if(a===t)return r;r++}return-1}(t,e)}function vg(e,t,r=!1){for(let a=0;a<t.length;a++)if(Oh(e,t[a],r))return!0;return!1}function _g(e,t){return e?":not("+t.trim()+")":t}function Cp(e){let t=e[0],r=1,a=2,h="",v=!1;for(;r<e.length;){let S=e[r];if("string"==typeof S)if(2&a){const D=e[++r];h+="["+S+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?h+="."+S:4&a&&(h+=" "+S);else""!==h&&!fa(S)&&(t+=_g(v,h),h=""),a=S,v=v||!fa(a);r++}return""!==h&&(t+=_g(v,h)),t}const Or={};function Qc(e){lc(Mr(),on(),hi()+e,fo())}function lc(e,t,r,a){if(!a)if(3==(3&t[2])){const v=e.preOrderCheckHooks;null!==v&&kn(t,v,r)}else{const v=e.preOrderHooks;null!==v&&kr(t,v,0,r)}Rs(r)}function Gf(e,t){return e<<17|t<<2}function nu(e){return e>>17&32767}function fs(e){return 2|e}function Ys(e){return(131068&e)>>2}function yd(e,t){return-131069&e|t<<2}function bg(e){return 1|e}function Ou(e,t){const r=e.contentQueries;if(null!==r)for(let a=0;a<r.length;a+=2){const h=r[a],v=r[a+1];if(-1!==v){const S=e.data[v];ys(h),S.contentQueries(2,t[v],v)}}}function Zc(e,t,r,a,h,v,S,D,M,W){const re=t.blueprint.slice();return re[0]=h,re[2]=140|a,gs(re),re[3]=re[15]=e,re[8]=r,re[10]=S||e&&e[10],re[11]=D||e&&e[11],re[12]=M||e&&e[12]||null,re[9]=W||e&&e[9]||null,re[6]=v,re[16]=2==t.type?e[16]:re,re}function Jc(e,t,r,a,h){let v=e.data[t];if(null===v)v=function(e,t,r,a,h){const v=Hi(),S=Fa(),M=e.data[t]=function(e,t,r,a,h,v){return{type:r,index:a,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?v:v&&v.parent,r,t,a,h);return null===e.firstChild&&(e.firstChild=M),null!==v&&(S?null==v.child&&null!==M.parent&&(v.child=M):null===v.next&&(v.next=M)),M}(e,t,r,a,h),Rn.lFrame.inI18n&&(v.flags|=64);else if(64&v.type){v.type=r,v.value=a,v.attrs=h;const S=function(){const e=Rn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();v.injectorIndex=null===S?-1:S.injectorIndex}return Eo(v,!0),v}function hc(e,t,r,a){if(0===r)return-1;const h=t.length;for(let v=0;v<r;v++)t.push(a),e.blueprint.push(a),e.data.push(null);return h}function dc(e,t,r){Hs(t);try{const a=e.viewQuery;null!==a&&ka(1,a,r);const h=e.template;null!==h&&Fh(e,t,h,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ou(e,t),e.staticViewQueries&&ka(2,e.viewQuery,r);const v=e.components;null!==v&&function(e,t){for(let r=0;r<t.length;r++)Fs(e,t[r])}(t,v)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{t[2]&=-5,Gs()}}function Al(e,t,r,a){const h=t[2];if(256==(256&h))return;Hs(t);const v=fo();try{gs(t),function(e){Rn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Fh(e,t,r,2,a);const S=3==(3&h);if(!v)if(S){const W=e.preOrderCheckHooks;null!==W&&kn(t,W,null)}else{const W=e.preOrderHooks;null!==W&&kr(t,W,0,null),Nr(t,0)}if(function(e){for(let t=Kn(e);null!==t;t=Gn(t)){if(!t[2])continue;const r=t[9];for(let a=0;a<r.length;a++){const h=r[a],v=h[3];0==(1024&h[2])&&Gr(v,1),h[2]|=1024}}}(t),function(e){for(let t=Kn(e);null!==t;t=Gn(t))for(let r=10;r<t.length;r++){const a=t[r],h=a[1];ci(a)&&Al(h,a,h.template,a[8])}}(t),null!==e.contentQueries&&Ou(e,t),!v)if(S){const W=e.contentCheckHooks;null!==W&&kn(t,W)}else{const W=e.contentHooks;null!==W&&kr(t,W,1),Nr(t,1)}!function(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let a=0;a<r.length;a++){const h=r[a];if(h<0)Rs(~h);else{const v=h,S=r[++a],D=r[++a];wa(S,v),D(2,t[v])}}}finally{Rs(-1)}}(e,t);const D=e.components;null!==D&&function(e,t){for(let r=0;r<t.length;r++)bm(e,t[r])}(t,D);const M=e.viewQuery;if(null!==M&&ka(2,M,a),!v)if(S){const W=e.viewCheckHooks;null!==W&&kn(t,W)}else{const W=e.viewHooks;null!==W&&kr(t,W,2),Nr(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),v||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Gr(t[3],-1))}finally{Gs()}}function Og(e,t,r,a){const h=t[10],v=!fo(),S=Er(t);try{v&&!S&&h.begin&&h.begin(),S&&dc(e,t,a),Al(e,t,r,a)}finally{v&&!S&&h.end&&h.end()}}function Fh(e,t,r,a,h){const v=hi(),S=2&a;try{Rs(-1),S&&t.length>20&&lc(e,t,20,fo()),r(a,h)}finally{Rs(v)}}function Lh(e,t,r){!Ko()||(function(e,t,r,a){const h=r.directiveStart,v=r.directiveEnd;e.firstCreatePass||ct(r,t),ro(a,t);const S=r.initialInputs;for(let D=h;D<v;D++){const M=e.data[D],W=yi(M);W&&Lp(t,r,M);const re=Co(t,e,D,r);ro(re,t),null!==S&&Vp(0,D-h,re,M,0,S),W&&(sr(r.index,t)[8]=re)}}(e,t,r,xn(r,t)),128==(128&r.flags)&&function(e,t,r){const a=r.directiveStart,h=r.directiveEnd,S=r.index,D=Rn.lFrame.currentDirectiveIndex;try{Rs(S);for(let M=a;M<h;M++){const W=e.data[M],re=t[M];ss(M),(null!==W.hostBindings||0!==W.hostVars||null!==W.hostAttrs)&&Fp(W,re)}}finally{Rs(-1),ss(D)}}(e,t,r))}function Yf(e,t,r=xn){const a=t.localNames;if(null!==a){let h=t.index+1;for(let v=0;v<a.length;v+=2){const S=a[v+1],D=-1===S?r(t,e):e[S];e[h++]=D}}}function Pg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=pc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function pc(e,t,r,a,h,v,S,D,M,W){const re=20+a,we=re+h,Re=function(e,t){const r=[];for(let a=0;a<t;a++)r.push(a<e?null:Or);return r}(re,we),et="function"==typeof W?W():W;return Re[1]={type:e,blueprint:Re,template:r,queries:null,viewQuery:D,declTNode:t,data:Re.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:we,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:M,consts:et,incompleteFirstPass:!1}}function Zf(e,t,r,a){const h=ih(t);null===r?h.push(a):(h.push(r),e.firstCreatePass&&Ol(e).push(a,h.length-1))}function Xf(e,t,r){for(let a in e)if(e.hasOwnProperty(a)){const h=e[a];(r=null===r?{}:r).hasOwnProperty(a)?r[a].push(t,h):r[a]=[t,h]}return r}function Ma(e,t,r,a,h,v,S,D){const M=xn(t,r);let re,W=t.inputs;!D&&null!=W&&(re=W[a])?(Hp(e,r,re,a,h),yo(t)&&function(e,t){const r=sr(t,e);16&r[2]||(r[2]|=64)}(r,t.index)):3&t.type&&(a=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(a),h=null!=S?S(h,t.value||"",a):h,q(v)?v.setProperty(M,a,h):Wi(a)||(M.setProperty?M.setProperty(a,h):M[a]=h))}function Xc(e,t,r,a){let h=!1;if(Ko()){const v=function(e,t,r){const a=e.directiveRegistry;let h=null;if(a)for(let v=0;v<a.length;v++){const S=a[v];vg(r,S.selectors,!1)&&(h||(h=[]),On(ct(r,t),e,S.type),yi(S)?(kg(e,r),h.unshift(S)):h.push(S))}return h}(e,t,r),S=null===a?null:{"":-1};if(null!==v){h=!0,Fg(r,e.data.length,v.length);for(let re=0;re<v.length;re++){const we=v[re];we.providersResolver&&we.providersResolver(we)}let D=!1,M=!1,W=hc(e,t,v.length,null);for(let re=0;re<v.length;re++){const we=v[re];r.mergedAttrs=ai(r.mergedAttrs,we.hostAttrs),Go(e,r,t,W,we),gc(W,we,S),null!==we.contentQueries&&(r.flags|=8),(null!==we.hostBindings||null!==we.hostAttrs||0!==we.hostVars)&&(r.flags|=128);const Re=we.type.prototype;!D&&(Re.ngOnChanges||Re.ngOnInit||Re.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(r.index),D=!0),!M&&(Re.ngOnChanges||Re.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(r.index),M=!0),W++}!function(e,t){const a=t.directiveEnd,h=e.data,v=t.attrs,S=[];let D=null,M=null;for(let W=t.directiveStart;W<a;W++){const re=h[W],we=re.inputs,Re=null===v||Ep(t)?null:tf(we,v);S.push(Re),D=Xf(we,W,D),M=Xf(re.outputs,W,M)}null!==D&&(D.hasOwnProperty("class")&&(t.flags|=16),D.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=S,t.inputs=D,t.outputs=M}(e,r)}S&&function(e,t,r){if(t){const a=e.localNames=[];for(let h=0;h<t.length;h+=2){const v=r[t[h+1]];if(null==v)throw new Tt("301",`Export of name '${t[h+1]}' not found!`);a.push(t[h],v)}}}(r,a,S)}return r.mergedAttrs=ai(r.mergedAttrs,r.attrs),h}function xg(e,t,r,a,h,v){const S=v.hostBindings;if(S){let D=e.hostBindingOpCodes;null===D&&(D=e.hostBindingOpCodes=[]);const M=~t.index;(function(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(D)!=M&&D.push(M),D.push(a,h,S)}}function Fp(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function kg(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function gc(e,t,r){if(r){if(t.exportAs)for(let a=0;a<t.exportAs.length;a++)r[t.exportAs[a]]=e;yi(t)&&(r[""]=e)}}function Fg(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function Go(e,t,r,a,h){e.data[a]=h;const v=h.factory||(h.factory=_o(h.type)),S=new Li(v,yi(h),null);e.blueprint[a]=S,r[a]=S,xg(e,t,0,a,hc(e,r,h.hostVars,Or),h)}function Lp(e,t,r){const a=xn(t,e),h=Pg(r),v=e[10],S=th(e,Zc(e,h,null,r.onPush?64:16,a,t,v,v.createRenderer(a,r),null,null));e[t.index]=S}function ru(e,t,r,a,h,v){const S=xn(e,t);!function(e,t,r,a,h,v,S){if(null==v)q(e)?e.removeAttribute(t,h,r):t.removeAttribute(h);else{const D=null==S?He(v):S(v,a||"",h);q(e)?e.setAttribute(t,h,D,r):r?t.setAttributeNS(r,h,D):t.setAttribute(h,D)}}(t[11],S,v,e.value,r,a,h)}function Vp(e,t,r,a,h,v){const S=v[t];if(null!==S){const D=a.setInput;for(let M=0;M<S.length;){const W=S[M++],re=S[M++],we=S[M++];null!==D?a.setInput(r,we,W,re):r[re]=we}}}function tf(e,t){let r=null,a=0;for(;a<t.length;){const h=t[a];if(0!==h)if(5!==h){if("number"==typeof h)break;e.hasOwnProperty(h)&&(null===r&&(r=[]),r.push(h,e[h],t[a+1])),a+=2}else a+=2;else a+=4}return r}function xd(e,t,r,a){return new Array(e,!0,!1,t,null,0,a,r,null,null)}function bm(e,t){const r=sr(t,e);if(ci(r)){const a=r[1];80&r[2]?Al(a,r,a.template,r[8]):r[5]>0&&xu(r)}}function xu(e){for(let a=Kn(e);null!==a;a=Gn(a))for(let h=10;h<a.length;h++){const v=a[h];if(1024&v[2]){const S=v[1];Al(S,v,S.template,v[8])}else v[5]>0&&xu(v)}const r=e[1].components;if(null!==r)for(let a=0;a<r.length;a++){const h=sr(r[a],e);ci(h)&&h[5]>0&&xu(h)}}function Fs(e,t){const r=sr(t,e),a=r[1];(function(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])})(a,r),dc(a,r,r[8])}function th(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function mc(e){for(;e;){e[2]|=64;const t=yt(e);if(ki(e)&&!t)return e;e=t}return null}function kd(e,t,r){const a=t[10];a.begin&&a.begin();try{Al(e,t,e.template,r)}catch(h){throw Bp(t,h),h}finally{a.end&&a.end()}}function Rl(e){!function(e){for(let t=0;t<e.components.length;t++){const r=e.components[t],a=nc(r),h=a[1];Og(h,a,h.template,r)}}(e[8])}function ka(e,t,r){ys(0),t(e,r)}const Bh=(()=>Promise.resolve(null))();function ih(e){return e[7]||(e[7]=[])}function Ol(e){return e.cleanup||(e.cleanup=[])}function Bp(e,t){const r=e[9],a=r?r.get(Ja,null):null;a&&a.handleError(t)}function Hp(e,t,r,a,h){for(let v=0;v<r.length;){const S=r[v++],D=r[v++],M=t[S],W=e.data[S];null!==W.setInput?W.setInput(M,h,a,D):M[D]=h}}function il(e,t,r){const a=Cn(t,e);!function(e,t,r){q(e)?e.setValue(t,r):t.textContent=r}(e[11],a,r)}function So(e,t,r){let a=r?e.styles:null,h=r?e.classes:null,v=0;if(null!==t)for(let S=0;S<t.length;S++){const D=t[S];"number"==typeof D?v=D:1==v?h=ae(h,D):2==v&&(a=ae(a,D+": "+t[++S]+";"))}r?e.styles=a:e.stylesWithoutHost=a,r?e.classes=h:e.classesWithoutHost=h}const nf=new zr("INJECTOR",-1);class Hh{get(t,r=ll){if(r===ll){const a=new Error(`NullInjectorError: No provider for ${Je(t)}!`);throw a.name="NullInjectorError",a}return r}}const rf=new zr("Set Injector scope."),oh={},Ud={};let Gh;function vc(){return void 0===Gh&&(Gh=new Hh),Gh}function jd(e,t=null,r=null,a){return new ha(e,r,t||vc(),a)}class ha{constructor(t,r,a,h=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const v=[];r&&Ta(r,D=>this.processProvider(D,t,r)),Ta([t],D=>this.processInjectorType(D,[],v)),this.records.set(nf,Mu(void 0,this));const S=this.records.get(rf);this.scope=null!=S?S.value:null,this.source=h||("object"==typeof t?null:Je(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,r=ll,a=$e.Default){this.assertNotDestroyed();const h=mu(this),v=tn(void 0);try{if(!(a&$e.SkipSelf)){let D=this.records.get(t);if(void 0===D){const M=("function"==typeof(e=t)||"object"==typeof e&&e instanceof zr)&&It(t);D=M&&this.injectableDefInScope(M)?Mu(Gp(t),oh):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D)}return(a&$e.Self?vc():this.parent).get(t,r=a&$e.Optional&&r===ll?null:r)}catch(S){if("NullInjectorError"===S.name){if((S[qu]=S[qu]||[]).unshift(Je(t)),h)throw S;return sa(S,t,"R3InjectorError",this.source)}throw S}finally{tn(v),mu(h)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((a,h)=>t.push(Je(h))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,r,a){if(!(t=ye(t)))return!1;let h=cn(t);const v=null==h&&t.ngModule||void 0,S=void 0===v?t:v,D=-1!==a.indexOf(S);if(void 0!==v&&(h=cn(v)),null==h)return!1;if(null!=h.imports&&!D){let re;a.push(S);try{Ta(h.imports,we=>{this.processInjectorType(we,r,a)&&(void 0===re&&(re=[]),re.push(we))})}finally{}if(void 0!==re)for(let we=0;we<re.length;we++){const{ngModule:Re,providers:et}=re[we];Ta(et,dt=>this.processProvider(dt,Re,et||Wn))}}this.injectorDefTypes.add(S);const M=_o(S)||(()=>new S);this.records.set(S,Mu(M,oh));const W=h.providers;if(null!=W&&!D){const re=t;Ta(W,we=>this.processProvider(we,re,W))}return void 0!==v&&void 0!==t.providers}processProvider(t,r,a){let h=of(t=ye(t))?t:ye(t&&t.provide);const v=iu(e=t)?Mu(void 0,e.useValue):Mu(qp(e),oh);var e;if(of(t)||!0!==t.multi)this.records.get(h);else{let S=this.records.get(h);S||(S=Mu(void 0,oh,!0),S.factory=()=>Bo(S.multi),this.records.set(h,S)),h=t,S.multi.push(t)}this.records.set(h,v)}hydrate(t,r){return r.value===oh&&(r.value=Ud,r.value=r.factory()),"object"==typeof r.value&&r.value&&null!==(e=r.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(r.value),r.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const r=ye(t.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function Gp(e){const t=It(e),r=null!==t?t.factory:_o(e);if(null!==r)return r;if(e instanceof zr)throw new Error(`Token ${Je(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const a=function(e,t){const r=[];for(let a=0;a<e;a++)r.push(t);return r}(t,"?");throw new Error(`Can't resolve all parameters for ${Je(e)}: (${a.join(", ")}).`)}const r=function(e){const t=e&&(e[Zt]||e[_t]);if(t){const r=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),t}return null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Error("unreachable")}function qp(e,t,r){let a;if(of(e)){const h=ye(e);return _o(h)||Gp(h)}if(iu(e))a=()=>ye(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))a=()=>e.useFactory(...Bo(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))a=()=>Jr(ye(e.useExisting));else{const h=ye(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return _o(h)||Gp(h);a=()=>new h(...Bo(e.deps))}return a}function Mu(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function iu(e){return null!==e&&"object"==typeof e&&Cs in e}function of(e){return"function"==typeof e}const yc=function(e,t,r){return function(e,t=null,r=null,a){const h=jd(e,t,r,a);return h._resolveInjectorDefTypes(),h}({name:r},t,e,r)};let go=(()=>{class e{static create(r,a){return Array.isArray(r)?yc(r,a,""):yc(r.providers,r.parent,r.name||"")}}return e.THROW_IF_NOT_FOUND=ll,e.NULL=new Hh,e.\u0275prov=Ht({token:e,providedIn:"any",factory:()=>Jr(nf)}),e.__NG_ELEMENT_ID__=-1,e})();function Ec(e,t){St(nc(e)[1],qr())}function Kh(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const a=[e];for(;t;){let h;if(yi(e))h=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");h=t.\u0275dir}if(h){if(r){a.push(h);const S=e;S.inputs=lh(e.inputs),S.declaredInputs=lh(e.declaredInputs),S.outputs=lh(e.outputs);const D=h.hostBindings;D&&$g(e,D);const M=h.viewQuery,W=h.contentQueries;if(M&&Io(e,M),W&&vo(e,W),tt(e.inputs,h.inputs),tt(e.declaredInputs,h.declaredInputs),tt(e.outputs,h.outputs),yi(h)&&h.data.animation){const re=e.data;re.animation=(re.animation||[]).concat(h.data.animation)}}const v=h.features;if(v)for(let S=0;S<v.length;S++){const D=v[S];D&&D.ngInherit&&D(e),D===Kh&&(r=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,r=null;for(let a=e.length-1;a>=0;a--){const h=e[a];h.hostVars=t+=h.hostVars,h.hostAttrs=ai(h.hostAttrs,r=ai(r,h.hostAttrs))}}(a)}function lh(e){return e===In?{}:e===Wn?[]:e}function Io(e,t){const r=e.viewQuery;e.viewQuery=r?(a,h)=>{t(a,h),r(a,h)}:t}function vo(e,t){const r=e.contentQueries;e.contentQueries=r?(a,h,v)=>{t(a,h,v),r(a,h,v)}:t}function $g(e,t){const r=e.hostBindings;e.hostBindings=r?(a,h)=>{t(a,h),r(a,h)}:t}let n=null;function c(){if(!n){const e=Yt.Symbol;if(e&&e.iterator)n=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<t.length;++r){const a=t[r];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(n=a)}}}return n}function B(e){return!!Qe(e)&&(Array.isArray(e)||!(e instanceof Map)&&c()in e)}function Qe(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Gt(e,t,r){return e[t]=r}function rr(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function ri(e,t,r,a,h){const v=function(e,t,r,a){const h=rr(e,t,r);return rr(e,t+1,a)||h}(e,t,r,a);return rr(e,t+2,h)||v}function ku(e,t,r,a){const h=on();return rr(h,os(),t)&&(Mr(),ru(ei(),h,e,t,r,a)),ku}function wv(e,t,r,a,h,v,S,D){const M=on(),W=Mr(),re=e+20,we=W.firstCreatePass?function(e,t,r,a,h,v,S,D,M){const W=t.consts,re=Jc(t,e,4,S||null,_i(W,D));Xc(t,r,re,_i(W,M)),St(t,re);const we=re.tViews=pc(2,re,a,h,v,t.directiveRegistry,t.pipeRegistry,null,t.schemas,W);return null!==t.queries&&(t.queries.template(t,re),we.queries=t.queries.embeddedTView(re)),re}(re,W,M,t,r,a,h,v,S):W.data[re];Eo(we,!1);const Re=M[11].createComment("");Nh(W,M,Re,we),ro(Re,M),th(M,M[re]=xd(Re,M,Re,we)),Mi(we)&&Lh(W,M,we),null!=S&&Yf(M,we,D)}function Ll(e,t=$e.Default){const r=on();return null===r?Jr(e,t):ho(qr(),r,ye(e),t)}function Zg(e,t,r){const a=on();return rr(a,os(),t)&&Ma(Mr(),ei(),a,e,t,a[11],r,!1),Zg}function er(e,t,r,a,h){const S=h?"class":"style";Hp(e,r,t.inputs[S],S,a)}function Pr(e,t,r,a){const h=on(),v=Mr(),S=20+e,D=h[11],M=h[S]=Tr(D,t,Rn.lFrame.currentNamespace),W=v.firstCreatePass?function(e,t,r,a,h,v,S){const D=t.consts,W=Jc(t,e,2,h,_i(D,v));return Xc(t,r,W,_i(D,S)),null!==W.attrs&&So(W,W.attrs,!1),null!==W.mergedAttrs&&So(W,W.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,W),W}(S,v,h,0,t,r,a):v.data[S];Eo(W,!0);const re=W.mergedAttrs;null!==re&&Ea(D,M,re);const we=W.classes;null!==we&&zc(D,M,we);const Re=W.styles;null!==Re&&Hf(D,M,Re),64!=(64&W.flags)&&Nh(v,h,M,W),0===Rn.lFrame.elementDepthCount&&ro(M,h),Rn.lFrame.elementDepthCount++,Mi(W)&&(Lh(v,h,W),function(e,t,r){if(rs(t)){const h=t.directiveEnd;for(let v=t.directiveStart;v<h;v++){const S=e.data[v];S.contentQueries&&S.contentQueries(1,r[v],v)}}}(v,W,h)),null!==a&&Yf(h,W)}function pi(){let e=qr();Fa()?Rn.lFrame.isParent=!1:(e=e.parent,Eo(e,!1));const t=e;Rn.lFrame.elementDepthCount--;const r=Mr();r.firstCreatePass&&(St(r,e),rs(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&er(r,t,on(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&er(r,t,on(),t.stylesWithoutHost,!1)}function Ds(e,t,r,a){Pr(e,t,r,a),pi()}function Vl(){return on()}function Yh(e){return!!e&&"function"==typeof e.then}function eg(e){return!!e&&"function"==typeof e.subscribe}const cf=eg;function tg(e,t,r,a){const h=on(),v=Mr(),S=qr();return function(e,t,r,a,h,v,S,D){const M=Mi(a),re=e.firstCreatePass&&Ol(e),we=t[8],Re=ih(t);let et=!0;if(3&a.type||D){const Nt=xn(a,t),Tn=D?D(Nt):Nt,rn=Re.length,cr=D?xr=>D(Fe(xr[a.index])):a.index;if(q(r)){let xr=null;if(!D&&M&&(xr=function(e,t,r,a){const h=e.cleanup;if(null!=h)for(let v=0;v<h.length-1;v+=2){const S=h[v];if(S===r&&h[v+1]===a){const D=t[7],M=h[v+2];return D.length>M?D[M]:null}"string"==typeof S&&(v+=2)}return null}(e,t,h,a.index)),null!==xr)(xr.__ngLastListenerFn__||xr).__ngNextListenerFn__=v,xr.__ngLastListenerFn__=v,et=!1;else{v=my(a,t,we,v,!1);const gi=r.listen(Tn,h,v);Re.push(v,gi),re&&re.push(h,cr,rn,rn+1)}}else v=my(a,t,we,v,!0),Tn.addEventListener(h,v,S),Re.push(v),re&&re.push(h,cr,rn,S)}else v=my(a,t,we,v,!1);const dt=a.outputs;let jt;if(et&&null!==dt&&(jt=dt[h])){const Nt=jt.length;if(Nt)for(let Tn=0;Tn<Nt;Tn+=2){const Js=t[jt[Tn]][jt[Tn+1]].subscribe(v),Dc=Re.length;Re.push(v,Js),re&&re.push(h,a.index,Dc,-(Dc+1))}}}(v,h,h[11],S,e,t,!!r,a),tg}function V_(e,t,r,a){try{return!1!==r(a)}catch(h){return Bp(e,h),!1}}function my(e,t,r,a,h){return function v(S){if(S===Function)return a;const D=2&e.flags?sr(e.index,t):t;0==(32&t[2])&&mc(D);let M=V_(t,0,a,S),W=v.__ngNextListenerFn__;for(;W;)M=V_(t,0,W,S)&&M,W=W.__ngNextListenerFn__;return h&&!1===M&&(S.preventDefault(),S.returnValue=!1),M}}function U_(e=1){return function(e){return(Rn.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Rn.lFrame.contextLView))[8]}(e)}function Q_(e,t,r,a,h){const v=e[r+1],S=null===t;let D=a?nu(v):Ys(v),M=!1;for(;0!==D&&(!1===M||S);){const re=e[D+1];_0(e[D],t)&&(M=!0,e[D+1]=a?bg(re):fs(re)),D=a?nu(re):Ys(re)}M&&(e[r+1]=a?fs(v):bg(v))}function _0(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ga(e,t)>=0}function yy(e,t){return function(e,t,r,a){const h=on(),v=Mr(),S=function(e){const t=Rn.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}(2);v.firstUpdatePass&&function(e,t,r,a){const h=e.data;if(null===h[r+1]){const v=h[hi()],S=function(e,t){return t>=e.expandoStartIndex}(e,r);(function(e,t){return 0!=(e.flags&(t?16:32))})(v,a)&&null===t&&!S&&(t=!1),t=function(e,t,r,a){const h=function(e){const t=Rn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let v=a?t.residualClasses:t.residualStyles;if(null===h)0===(a?t.classBindings:t.styleBindings)&&(r=Lm(r=_y(null,e,t,r,a),t.attrs,a),v=null);else{const S=t.directiveStylingLast;if(-1===S||e[S]!==h)if(r=_y(h,e,t,r,a),null===v){let M=function(e,t,r){const a=r?t.classBindings:t.styleBindings;if(0!==Ys(a))return e[nu(a)]}(e,t,a);void 0!==M&&Array.isArray(M)&&(M=_y(null,e,t,M[1],a),M=Lm(M,t.attrs,a),function(e,t,r,a){e[nu(r?t.classBindings:t.styleBindings)]=a}(e,t,a,M))}else v=function(e,t,r){let a;const h=t.directiveEnd;for(let v=1+t.directiveStylingLast;v<h;v++)a=Lm(a,e[v].hostAttrs,r);return Lm(a,t.attrs,r)}(e,t,a)}return void 0!==v&&(a?t.residualClasses=v:t.residualStyles=v),r}(h,v,t,a),function(e,t,r,a,h,v){let S=v?t.classBindings:t.styleBindings,D=nu(S),M=Ys(S);e[a]=r;let re,W=!1;if(Array.isArray(r)){const we=r;re=we[1],(null===re||Ga(we,re)>0)&&(W=!0)}else re=r;if(h)if(0!==M){const Re=nu(e[D+1]);e[a+1]=Gf(Re,D),0!==Re&&(e[Re+1]=yd(e[Re+1],a)),e[D+1]=function(e,t){return 131071&e|t<<17}(e[D+1],a)}else e[a+1]=Gf(D,0),0!==D&&(e[D+1]=yd(e[D+1],a)),D=a;else e[a+1]=Gf(M,0),0===D?D=a:e[M+1]=yd(e[M+1],a),M=a;W&&(e[a+1]=fs(e[a+1])),Q_(e,re,a,!0),Q_(e,re,a,!1),function(e,t,r,a,h){const v=h?e.residualClasses:e.residualStyles;null!=v&&"string"==typeof t&&Ga(v,t)>=0&&(r[a+1]=bg(r[a+1]))}(t,re,e,a,v),S=Gf(D,M),v?t.classBindings=S:t.styleBindings=S}(h,v,t,r,S,a)}}(v,e,S,a),t!==Or&&rr(h,S,t)&&function(e,t,r,a,h,v,S,D){if(!(3&t.type))return;const M=e.data,W=M[D+1];Sv(function(e){return 1==(1&e)}(W)?aw(M,t,r,h,Ys(W),S):void 0)||(Sv(v)||function(e){return 2==(2&e)}(W)&&(v=aw(M,null,r,h,D,S)),function(e,t,r,a,h){const v=q(e);if(t)h?v?e.addClass(r,a):r.classList.add(a):v?e.removeClass(r,a):r.classList.remove(a);else{let S=-1===a.indexOf("-")?void 0:J.DashCase;if(null==h)v?e.removeStyle(r,a,S):r.style.removeProperty(a);else{const D="string"==typeof h&&h.endsWith("!important");D&&(h=h.slice(0,-10),S|=J.Important),v?e.setStyle(r,a,h,S):r.style.setProperty(a,h,D?"important":"")}}}(a,S,Cn(hi(),r),h,v))}(v,v.data[hi()],h,h[11],e,h[S+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Je($a(e)))),e}(t,r),a,S)}(e,t,null,!0),yy}function _y(e,t,r,a,h){let v=null;const S=r.directiveEnd;let D=r.directiveStylingLast;for(-1===D?D=r.directiveStart:D++;D<S&&(v=t[D],a=Lm(a,v.hostAttrs,h),v!==e);)D++;return null!==e&&(r.directiveStylingLast=D),a}function Lm(e,t,r){const a=r?1:2;let h=-1;if(null!==t)for(let v=0;v<t.length;v++){const S=t[v];"number"==typeof S?h=S:h===a&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Po(e,S,!!r||t[++v]))}return void 0===e?null:e}function aw(e,t,r,a,h,v){const S=null===t;let D;for(;h>0;){const M=e[h],W=Array.isArray(M),re=W?M[1]:M,we=null===re;let Re=r[h+1];Re===Or&&(Re=we?Wn:void 0);let et=we?bs(Re,a):re===a?Re:void 0;if(W&&!Sv(et)&&(et=bs(M,a)),Sv(et)&&(D=et,S))return D;const dt=e[h+1];h=S?nu(dt):Ys(dt)}if(null!==t){let M=v?t.residualClasses:t.residualStyles;null!=M&&(D=bs(M,a))}return D}function Sv(e){return void 0!==e}function lw(e,t=""){const r=on(),a=Mr(),h=e+20,v=a.firstCreatePass?Jc(a,h,1,t,null):a.data[h],S=r[h]=function(e,t){return q(e)?e.createText(t):e.createTextNode(t)}(r[11],t);Nh(a,r,S,v),Eo(v,!1)}function wy(e){return Iv("",e,""),wy}function Iv(e,t,r){const a=on(),h=function(e,t,r,a){return rr(e,os(),r)?t+He(r)+a:Or}(a,e,t,r);return h!==Or&&il(a,hi(),h),Iv}function by(e,t,r){const a=on();return rr(a,os(),t)&&Ma(Mr(),ei(),a,e,t,a[11],r,!0),by}const ng=void 0;var eC=["en",[["a","p"],["AM","PM"],ng],[["AM","PM"],ng,ng],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ng,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ng,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ng,"{1} 'at' {0}",ng],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Xg={};function Ey(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=Nw(t);if(r)return r;const a=t.split("-")[0];if(r=Nw(a),r)return r;if("en"===a)return eC;throw new Error(`Missing locale data for the locale "${e}".`)}function Aw(e){return Ey(e)[Sr.PluralCase]}function Nw(e){return e in Xg||(Xg[e]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[e]),Xg[e]}var Sr=(()=>((Sr=Sr||{})[Sr.LocaleId=0]="LocaleId",Sr[Sr.DayPeriodsFormat=1]="DayPeriodsFormat",Sr[Sr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sr[Sr.DaysFormat=3]="DaysFormat",Sr[Sr.DaysStandalone=4]="DaysStandalone",Sr[Sr.MonthsFormat=5]="MonthsFormat",Sr[Sr.MonthsStandalone=6]="MonthsStandalone",Sr[Sr.Eras=7]="Eras",Sr[Sr.FirstDayOfWeek=8]="FirstDayOfWeek",Sr[Sr.WeekendRange=9]="WeekendRange",Sr[Sr.DateFormat=10]="DateFormat",Sr[Sr.TimeFormat=11]="TimeFormat",Sr[Sr.DateTimeFormat=12]="DateTimeFormat",Sr[Sr.NumberSymbols=13]="NumberSymbols",Sr[Sr.NumberFormats=14]="NumberFormats",Sr[Sr.CurrencyCode=15]="CurrencyCode",Sr[Sr.CurrencySymbol=16]="CurrencySymbol",Sr[Sr.CurrencyName=17]="CurrencyName",Sr[Sr.Currencies=18]="Currencies",Sr[Sr.Directionality=19]="Directionality",Sr[Sr.PluralCase=20]="PluralCase",Sr[Sr.ExtraData=21]="ExtraData",Sr))();const Dv="en-US";let Rw=Dv;function Cy(e){Ke(e,"Expected localeId to be defined"),"string"==typeof e&&(Rw=e.toLowerCase().replace(/_/g,"-"))}function Iy(e,t,r,a,h){if(e=ye(e),Array.isArray(e))for(let v=0;v<e.length;v++)Iy(e[v],t,r,a,h);else{const v=Mr(),S=on();let D=of(e)?e:ye(e.provide),M=qp(e);const W=qr(),re=1048575&W.providerIndexes,we=W.directiveStart,Re=W.providerIndexes>>20;if(of(e)||!e.multi){const et=new Li(M,h,Ll),dt=Ay(D,t,h?re:re+Re,we);-1===dt?(On(ct(W,S),v,D),Dy(v,e,t.length),t.push(D),W.directiveStart++,W.directiveEnd++,h&&(W.providerIndexes+=1048576),r.push(et),S.push(et)):(r[dt]=et,S[dt]=et)}else{const et=Ay(D,t,re+Re,we),dt=Ay(D,t,re,re+Re),jt=et>=0&&r[et],Nt=dt>=0&&r[dt];if(h&&!Nt||!h&&!jt){On(ct(W,S),v,D);const Tn=function(e,t,r,a,h){const v=new Li(e,r,Ll);return v.multi=[],v.index=t,v.componentProviders=0,eb(v,h,a&&!r),v}(h?ZC:YC,r.length,h,a,M);!h&&Nt&&(r[dt].providerFactory=Tn),Dy(v,e,t.length,0),t.push(D),W.directiveStart++,W.directiveEnd++,h&&(W.providerIndexes+=1048576),r.push(Tn),S.push(Tn)}else Dy(v,e,et>-1?et:dt,eb(r[h?dt:et],M,!h&&a));!h&&a&&Nt&&r[dt].componentProviders++}}}function Dy(e,t,r,a){const h=of(t);if(h||function(e){return!!e.useClass}(t)){const S=(t.useClass||t).prototype.ngOnDestroy;if(S){const D=e.destroyHooks||(e.destroyHooks=[]);if(!h&&t.multi){const M=D.indexOf(r);-1===M?D.push(r,[a,S]):D[M+1].push(a,S)}else D.push(r,S)}}}function eb(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function Ay(e,t,r,a){for(let h=r;h<a;h++)if(t[h]===e)return h;return-1}function YC(e,t,r,a){return Ny(this.multi,[])}function ZC(e,t,r,a){const h=this.multi;let v;if(this.providerFactory){const S=this.providerFactory.componentProviders,D=Co(r,r[1],this.providerFactory.index,a);v=D.slice(0,S),Ny(h,v);for(let M=S;M<D.length;M++)v.push(D[M])}else v=[],Ny(h,v);return v}function Ny(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function tb(e,t=[]){return r=>{r.providersResolver=(a,h)=>function(e,t,r){const a=Mr();if(a.firstCreatePass){const h=yi(e);Iy(r,a.data,a.blueprint,h,!0),Iy(t,a.data,a.blueprint,h,!1)}}(a,h?h(e):e,t)}}class nb{}const ib="ngComponent";class eT{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${Je(e)}. Did you add it to @NgModule.entryComponents?`);return t[ib]=e,t}(t)}}let tm=(()=>{class e{}return e.NULL=new eT,e})();function Pv(...e){}function nm(e,t){return new dh(xn(e,t))}const rT=function(){return nm(qr(),on())};let dh=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=rT,e})();function ob(e){return e instanceof dh?e.nativeElement:e}class xv{}let iT=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>sT(),e})();const sT=function(){const e=on(),r=sr(qr().index,e);return function(e){return e[11]}(xi(r)?r:e)};let Oy=(()=>{class e{}return e.\u0275prov=Ht({token:e,providedIn:"root",factory:()=>null}),e})();class sb{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Py=new sb("12.2.13");class ab{constructor(){}supports(t){return B(t)}create(t){return new cT(t)}}const lT=(e,t)=>t;class cT{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||lT}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,a=this._removalsHead,h=0,v=null;for(;r||a;){const S=!a||r&&r.currentIndex<lb(a,h,v)?r:a,D=lb(S,h,v),M=S.currentIndex;if(S===a)h--,a=a._nextRemoved;else if(r=r._next,null==S.previousIndex)h++;else{v||(v=[]);const W=D-h,re=M-h;if(W!=re){for(let Re=0;Re<W;Re++){const et=Re<v.length?v[Re]:v[Re]=0,dt=et+Re;re<=dt&&dt<W&&(v[Re]=et+1)}v[S.previousIndex]=re-W}}D!==M&&t(S,D,M)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!B(t))throw new Error(`Error trying to diff '${Je(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let h,v,S,r=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(let D=0;D<this.length;D++)v=t[D],S=this._trackByFn(D,v),null!==r&&Object.is(r.trackById,S)?(a&&(r=this._verifyReinsertion(r,v,S,D)),Object.is(r.item,v)||this._addIdentityChange(r,v)):(r=this._mismatch(r,v,S,D),a=!0),r=r._next}else h=0,function(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[c()]();let a;for(;!(a=r.next()).done;)t(a.value)}}(t,D=>{S=this._trackByFn(h,D),null!==r&&Object.is(r.trackById,S)?(a&&(r=this._verifyReinsertion(r,D,S,h)),Object.is(r.item,D)||this._addIdentityChange(r,D)):(r=this._mismatch(r,D,S,h),a=!0),r=r._next,h++}),this.length=h;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,a,h){let v;return null===t?v=this._itTail:(v=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,v,h)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(a,h))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,v,h)):t=this._addAfter(new fT(r,a),v,h),t}_verifyReinsertion(t,r,a,h){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==v?t=this._reinsertAfter(v,t._prev,h):t.currentIndex!=h&&(t.currentIndex=h,this._addToMoves(t,h)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const h=t._prevRemoved,v=t._nextRemoved;return null===h?this._removalsHead=v:h._nextRemoved=v,null===v?this._removalsTail=h:v._prevRemoved=h,this._insertAfter(t,r,a),this._addToMoves(t,a),t}_moveAfter(t,r,a){return this._unlink(t),this._insertAfter(t,r,a),this._addToMoves(t,a),t}_addAfter(t,r,a){return this._insertAfter(t,r,a),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,a){const h=null===r?this._itHead:r._next;return t._next=h,t._prev=r,null===h?this._itTail=t:h._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new ub),this._linkedRecords.put(t),t.currentIndex=a,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,a=t._next;return null===r?this._itHead=a:r._next=a,null===a?this._itTail=r:a._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ub),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class fT{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hT{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===r||r<=a.currentIndex)&&Object.is(a.trackById,t))return a;return null}remove(t){const r=t._prevDup,a=t._nextDup;return null===r?this._head=a:r._nextDup=a,null===a?this._tail=r:a._prevDup=r,null===this._head}}class ub{constructor(){this.map=new Map}put(t){const r=t.trackById;let a=this.map.get(r);a||(a=new hT,this.map.set(r,a)),a.add(t)}get(t,r){const h=this.map.get(t);return h?h.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lb(e,t,r){const a=e.previousIndex;if(null===a)return a;let h=0;return r&&a<r.length&&(h=r[a]),a+t+h}class cb{constructor(){}supports(t){return t instanceof Map||Qe(t)}create(){return new dT}}class dT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||Qe(t)))throw new Error(`Error trying to diff '${Je(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(a,h)=>{if(r&&r.key===h)this._maybeAddToChanges(r,a),this._appendAfter=r,r=r._next;else{const v=this._getOrCreateRecordForKey(h,a);r=this._insertBeforeOrAppend(r,v)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let a=r;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const a=t._prev;return r._next=t,r._prev=a,t._prev=r,a&&(a._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const h=this._records.get(t);this._maybeAddToChanges(h,r);const v=h._prev,S=h._next;return v&&(v._next=S),S&&(S._prev=v),h._next=null,h._prev=null,h}const a=new pT(t);return this._records.set(t,a),a.currentValue=r,this._addToAdditions(a),a}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(a=>r(t[a],a))}}class pT{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fb(){return new Mv([new ab])}let Mv=(()=>{class e{constructor(r){this.factories=r}static create(r,a){if(null!=a){const h=a.factories.slice();r=r.concat(h)}return new e(r)}static extend(r){return{provide:e,useFactory:a=>e.create(r,a||fb()),deps:[[e,new xs,new Jo]]}}find(r){const a=this.factories.find(h=>h.supports(r));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(e){return e.name||typeof e}(r)}'`)}}return e.\u0275prov=Ht({token:e,providedIn:"root",factory:fb}),e})();function hb(){return new kv([new cb])}let kv=(()=>{class e{constructor(r){this.factories=r}static create(r,a){if(a){const h=a.factories.slice();r=r.concat(h)}return new e(r)}static extend(r){return{provide:e,useFactory:a=>e.create(r,a||hb()),deps:[[e,new xs,new Jo]]}}find(r){const a=this.factories.find(h=>h.supports(r));if(a)return a;throw new Error(`Cannot find a differ supporting object '${r}'`)}}return e.\u0275prov=Ht({token:e,providedIn:"root",factory:hb}),e})();function Fv(e,t,r,a,h=!1){for(;null!==r;){const v=t[r.index];if(null!==v&&a.push(Fe(v)),vi(v))for(let D=10;D<v.length;D++){const M=v[D],W=M[1].firstChild;null!==W&&Fv(M[1],M,W,a)}const S=r.type;if(8&S)Fv(e,t,r.child,a);else if(32&S){const D=Ne(r,t);let M;for(;M=D();)a.push(M)}else if(16&S){const D=yp(t,r);if(Array.isArray(D))a.push(...D);else{const M=yt(t[16]);Fv(M[1],M,D,a,!0)}}r=h?r.projectionNext:r.next}return a}class Hm{constructor(t,r){this._lView=t,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,r=t[1];return Fv(r,t,r.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(vi(t)){const r=t[8],a=r?r.indexOf(this):-1;a>-1&&(Ks(t,a),zi(r,a))}this._attachedToViewContainer=!1}Au(this._lView[1],this._lView)}onDestroy(t){Zf(this._lView[1],this._lView,null,t)}markForCheck(){mc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){kd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,r){bi(!0);try{kd(e,t,r)}finally{bi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,tu(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class mT extends Hm{constructor(t){super(t),this._view=t}detectChanges(){Rl(this._view)}checkNoChanges(){!function(e){bi(!0);try{Rl(e)}finally{bi(!1)}}(this._view)}get context(){return null}}const yT=function(e){return function(e,t,r){if(yo(e)&&!r){const a=sr(e.index,t);return new Hm(a,a)}return 47&e.type?new Hm(t[16],t):null}(qr(),on(),16==(16&e))};let _T=(()=>{class e{}return e.__NG_ELEMENT_ID__=yT,e})();const ET=[new cb],TT=new Mv([new ab]),ST=new kv(ET),DT=function(){return Lv(qr(),on())};let Gm=(()=>{class e{}return e.__NG_ELEMENT_ID__=DT,e})();const AT=Gm,NT=class extends AT{constructor(t,r,a){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=a}createEmbeddedView(t){const r=this._declarationTContainer.tViews,a=Zc(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(a[19]=v.createEmbeddedView(r)),dc(r,a,t),new Hm(a)}};function Lv(e,t){return 4&e.type?new NT(t,e,nm(e,t)):null}class rg{}class db{}const PT=function(){return mb(qr(),on())};let Vv=(()=>{class e{}return e.__NG_ELEMENT_ID__=PT,e})();const MT=Vv,pb=class extends MT{constructor(t,r,a){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=a}get element(){return nm(this._hostTNode,this._hostLView)}get injector(){return new fu(this._hostTNode,this._hostLView)}get parentInjector(){const t=an(this._hostTNode,this._hostLView);if(as(t)){const r=y(t,this._hostLView),a=b(t);return new fu(r[1].data[a+8],r)}return new fu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=gb(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,r,a){const h=t.createEmbeddedView(r||{});return this.insert(h,a),h}createComponent(t,r,a,h,v){const S=a||this.parentInjector;if(!v&&null==t.ngModule&&S){const M=S.get(rg,null);M&&(v=M)}const D=t.create(S,h,void 0,v);return this.insert(D.hostView,r),D}insert(t,r){const a=t._lView,h=a[1];if(vi(a[3])){const re=this.indexOf(t);if(-1!==re)this.detach(re);else{const we=a[3],Re=new pb(we,we[6],we[3]);Re.detach(Re.indexOf(t))}}const v=this._adjustIndex(r),S=this._lContainer;!function(e,t,r,a){const h=10+a,v=r.length;a>0&&(r[h-1][4]=t),a<v-10?(t[4]=r[h],Sa(r,10+a,t)):(r.push(t),t[4]=null),t[3]=r;const S=t[17];null!==S&&r!==S&&function(e,t){const r=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===r?e[9]=[t]:r.push(t)}(S,t);const D=t[19];null!==D&&D.insertView(e),t[2]|=128}(h,a,S,v);const D=hd(v,S),M=a[11],W=eu(M,S[7]);return null!==W&&function(e,t,r,a,h,v){a[0]=h,a[6]=t,tu(e,a,r,1,h,v)}(h,S[6],M,a,W,D),t.attachToViewContainerRef(),Sa(xy(S),v,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=gb(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),a=Ks(this._lContainer,r);a&&(zi(xy(this._lContainer),r),Au(a[1],a))}detach(t){const r=this._adjustIndex(t,-1),a=Ks(this._lContainer,r);return a&&null!=zi(xy(this._lContainer),r)?new Hm(a):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function gb(e){return e[8]}function xy(e){return e[8]||(e[8]=[])}function mb(e,t){let r;const a=t[e.index];if(vi(a))r=a;else{let h;if(8&e.type)h=Fe(a);else{const v=t[11];h=v.createComment("");const S=xn(e,t);ca(v,eu(v,S),h,function(e,t){return q(e)?e.nextSibling(t):t.nextSibling}(v,S),!1)}t[e.index]=r=xd(a,t,h,e),th(t,r)}return new pb(r,e,t)}const sm={};class Fb extends tm{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Dn(t);return new Vb(r,this.ngModule)}}function Lb(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}const RS=new zr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>dp});class Vb extends nb{constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=t.selectors.map(Cp).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return Lb(this.componentDef.inputs)}get outputs(){return Lb(this.componentDef.outputs)}create(t,r,a,h){const v=(h=h||this.ngModule)?function(e,t){return{get:(r,a,h)=>{const v=e.get(r,sm,h);return v!==sm||a===sm?v:t.get(r,a,h)}}}(t,h.injector):t,S=v.get(xv,z),D=v.get(Oy,null),M=S.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",re=a?function(e,t,r){if(q(e))return e.selectRootElement(t,r===ve.ShadowDom);let a="string"==typeof t?e.querySelector(t):t;return a.textContent="",a}(M,a,this.componentDef.encapsulation):Tr(S.createRenderer(null,this.componentDef),W,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(W)),we=this.componentDef.onPush?576:528,Re=function(e,t){return{components:[],scheduler:e||dp,clean:Bh,playerHandler:t||null,flags:0}}(),et=pc(0,null,null,1,0,null,null,null,null,null),dt=Zc(null,et,Re,we,null,null,S,M,D,v);let jt,Nt;Hs(dt);try{const Tn=function(e,t,r,a,h,v){const S=r[1];r[20]=e;const M=Jc(S,20,2,"#host",null),W=M.mergedAttrs=t.hostAttrs;null!==W&&(So(M,W,!0),null!==e&&(Ea(h,e,W),null!==M.classes&&zc(h,e,M.classes),null!==M.styles&&Hf(h,e,M.styles)));const re=a.createRenderer(e,t),we=Zc(r,Pg(t),null,t.onPush?64:16,r[20],M,a,re,v||null,null);return S.firstCreatePass&&(On(ct(M,r),S,t.type),kg(S,M),Fg(M,r.length,1)),th(r,we),r[20]=we}(re,this.componentDef,dt,S,M);if(re)if(a)Ea(M,re,["ng-version",Py.full]);else{const{attrs:rn,classes:cr}=function(e){const t=[],r=[];let a=1,h=2;for(;a<e.length;){let v=e[a];if("string"==typeof v)2===h?""!==v&&t.push(v,e[++a]):8===h&&r.push(v);else{if(!fa(h))break;h=v}a++}return{attrs:t,classes:r}}(this.componentDef.selectors[0]);rn&&Ea(M,re,rn),cr&&cr.length>0&&zc(M,re,cr.join(" "))}if(Nt=wr(et,20),void 0!==r){const rn=Nt.projection=[];for(let cr=0;cr<this.ngContentSelectors.length;cr++){const xr=r[cr];rn.push(null!=xr?Array.from(xr):null)}}jt=function(e,t,r,a,h){const v=r[1],S=function(e,t,r){const a=qr();e.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),Go(e,a,t,hc(e,t,1,null),r));const h=Co(t,e,a.directiveStart,a);ro(h,t);const v=xn(a,t);return v&&ro(v,t),h}(v,r,t);if(a.components.push(S),e[8]=S,h&&h.forEach(M=>M(S,t)),t.contentQueries){const M=qr();t.contentQueries(1,S,M.directiveStart)}const D=qr();return!v.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Rs(D.index),xg(r[1],D,0,D.directiveStart,D.directiveEnd,t),Fp(t,S)),S}(Tn,this.componentDef,dt,Re,[Ec]),dc(et,dt,null)}finally{Gs()}return new xS(this.componentType,jt,nm(Nt,dt),dt,Nt)}}class xS extends class{}{constructor(t,r,a,h,v){super(),this.location=a,this._rootLView=h,this._tNode=v,this.instance=r,this.hostView=this.changeDetectorRef=new mT(h),this.componentType=t}get injector(){return new fu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const am=new Map;class FS extends rg{constructor(t,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fb(this);const a=ar(t),h=t[dr]||null;h&&Cy(h),this._bootstrapComponents=p(a.bootstrap),this._r3Injector=jd(t,r,[{provide:rg,useValue:this},{provide:tm,useValue:this.componentFactoryResolver}],Je(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,r=go.THROW_IF_NOT_FOUND,a=$e.Default){return t===go||t===rg||t===nf?this:this._r3Injector.get(t,r,a)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class $y extends db{constructor(t){super(),this.moduleType=t,null!==ar(t)&&function(e){const t=new Set;!function r(a){const h=ar(a,!0),v=h.id;null!==v&&(function(e,t,r){if(t&&t!==r)throw new Error(`Duplicate module registered for ${e} - ${Je(t)} vs ${Je(t.name)}`)}(v,am.get(v),a),am.set(v,a));const S=p(h.imports);for(const D of S)t.has(D)||(t.add(D),r(D))}(e)}(t)}create(t){return new FS(this.moduleType,t)}}function Bb(e,t,r,a){return function(e,t,r,a,h,v){const S=t+r;return rr(e,S,h)?Gt(e,S+1,v?a.call(v,h):a(h)):Zm(e,S+1)}(on(),Ar(),e,t,r,a)}function Hb(e,t,r,a,h,v){return function(e,t,r,a,h,v,S,D){const M=t+r;return ri(e,M,h,v,S)?Gt(e,M+3,D?a.call(D,h,v,S):a(h,v,S)):Zm(e,M+3)}(on(),Ar(),e,t,r,a,h,v)}function Zm(e,t){const r=e[t];return r===Or?void 0:r}function zy(e){return t=>{setTimeout(e,void 0,t)}}const ph=class extends k.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,a){var h,v,S;let D=t,M=r||(()=>null),W=a;if(t&&"object"==typeof t){const we=t;D=null===(h=we.next)||void 0===h?void 0:h.bind(we),M=null===(v=we.error)||void 0===v?void 0:v.bind(we),W=null===(S=we.complete)||void 0===S?void 0:S.bind(we)}this.__isAsync&&(M=zy(M),D&&(D=zy(D)),W&&(W=zy(W)));const re=super.subscribe({next:D,error:M,complete:W});return t instanceof m.w&&t.add(re),re}};function XS(){return this._results[c()]()}class Gv{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=c(),a=Gv.prototype;a[r]||(a[r]=XS)}get changes(){return this._changes||(this._changes=new ph)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){const a=this;a.dirty=!1;const h=Oo(t);(this._changesDetected=!function(e,t,r){if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++){let h=e[a],v=t[a];if(r&&(h=r(h),v=r(v)),v!==h)return!1}return!0}(a._results,h,r))&&(a._results=h,a.length=h.length,a.last=h[this.length-1],a.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ky{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ky(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qy{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const a=null!==t.contentQueries?t.contentQueries[0]:r.length,h=[];for(let v=0;v<a;v++){const S=r.getByIndex(v);h.push(this.queries[S.indexInDeclarationView].clone())}return new Qy(h)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==nE(t,r).matches&&this.queries[r].setDirty()}}class Kb{constructor(t,r,a=null){this.predicate=t,this.flags=r,this.read=a}}class Yy{constructor(t=[]){this.queries=t}elementStart(t,r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let a=0;a<this.length;a++){const h=null!==r?r.length:0,v=this.getByIndex(a).embeddedTView(t,h);v&&(v.indexInDeclarationView=a,null!==r?r.push(v):r=[v])}return null!==r?new Yy(r):null}template(t,r){for(let a=0;a<this.queries.length;a++)this.queries[a].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Zy{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Zy(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let a=t.parent;for(;null!==a&&8&a.type&&a.index!==r;)a=a.parent;return r===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const a=this.metadata.predicate;if(Array.isArray(a))for(let h=0;h<a.length;h++){const v=a[h];this.matchTNodeWithReadOption(t,r,nI(r,v)),this.matchTNodeWithReadOption(t,r,Ri(r,t,v,!1,!1))}else a===Gm?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Ri(r,t,a,!1,!1))}matchTNodeWithReadOption(t,r,a){if(null!==a){const h=this.metadata.read;if(null!==h)if(h===dh||h===Vv||h===Gm&&4&r.type)this.addMatch(r.index,-2);else{const v=Ri(r,t,h,!1,!1);null!==v&&this.addMatch(r.index,v)}else this.addMatch(r.index,a)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function nI(e,t){const r=e.localNames;if(null!==r)for(let a=0;a<r.length;a+=2)if(r[a]===t)return r[a+1];return null}function iI(e,t,r,a){return-1===r?function(e,t){return 11&e.type?nm(e,t):4&e.type?Lv(e,t):null}(t,e):-2===r?function(e,t,r){return r===dh?nm(t,e):r===Gm?Lv(t,e):r===Vv?mb(t,e):void 0}(e,t,a):Co(e,e[1],r,t)}function Qb(e,t,r,a){const h=t[19].queries[a];if(null===h.matches){const v=e.data,S=r.matches,D=[];for(let M=0;M<S.length;M+=2){const W=S[M];D.push(W<0?null:iI(t,v[W],S[M+1],r.metadata.read))}h.matches=D}return h.matches}function Jy(e,t,r,a){const h=e.queries.getByIndex(r),v=h.matches;if(null!==v){const S=Qb(e,t,h,r);for(let D=0;D<v.length;D+=2){const M=v[D];if(M>0)a.push(S[D/2]);else{const W=v[D+1],re=t[-M];for(let we=10;we<re.length;we++){const Re=re[we];Re[17]===Re[3]&&Jy(Re[1],Re,W,a)}if(null!==re[9]){const we=re[9];for(let Re=0;Re<we.length;Re++){const et=we[Re];Jy(et[1],et,W,a)}}}}}return a}function Yb(e){const t=on(),r=Mr(),a=vs();ys(a+1);const h=nE(r,a);if(e.dirty&&Er(t)===(2==(2&h.metadata.flags))){if(null===h.matches)e.reset([]);else{const v=h.crossesNgTemplate?Jy(r,t,a,[]):Qb(r,t,h,a);e.reset(v,ob),e.notifyOnChanges()}return!0}return!1}function Zb(e,t,r){const a=Mr();a.firstCreatePass&&(tE(a,new Kb(e,t,r),-1),2==(2&t)&&(a.staticViewQueries=!0)),eE(a,on(),t)}function Jb(e,t,r,a){const h=Mr();if(h.firstCreatePass){const v=qr();tE(h,new Kb(t,r,a),v.index),function(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(h,e),2==(2&r)&&(h.staticContentQueries=!0)}eE(h,on(),r)}function Xb(){return e=on(),t=vs(),e[19].queries[t].queryList;var e,t}function eE(e,t,r){const a=new Gv(4==(4&r));Zf(e,t,a,a.destroy),null===t[19]&&(t[19]=new Qy),t[19].queries.push(new Ky(a))}function tE(e,t,r){null===e.queries&&(e.queries=new Yy),e.queries.track(new Zy(t,r))}function nE(e,t){return e.queries.getByIndex(t)}const i_=new zr("Application Initializer");let lm=(()=>{class e{constructor(r){this.appInits=r,this.resolve=Pv,this.reject=Pv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,h)=>{this.resolve=a,this.reject=h})}runInitializers(){if(this.initialized)return;const r=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const v=this.appInits[h]();if(Yh(v))r.push(v);else if(cf(v)){const S=new Promise((D,M)=>{v.subscribe({complete:D,error:M})});r.push(S)}}Promise.all(r).then(()=>{a()}).catch(h=>{this.reject(h)}),0===r.length&&a(),this.initialized=!0}}return e.\u0275fac=function(r){return new(r||e)(Jr(i_,8))},e.\u0275prov=Ht({token:e,factory:e.\u0275fac}),e})();const wE=new zr("AppId"),kI={provide:wE,useFactory:function(){return`${o_()}${o_()}${o_()}`},deps:[]};function o_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bE=new zr("Platform Initializer"),EE=new zr("Platform ID"),CE=new zr("appBootstrapListener");let TE=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Ht({token:e,factory:e.\u0275fac}),e})();const $v=new zr("LocaleId"),SE=new zr("DefaultCurrencyCode");class LI{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}const s_=function(e){return new $y(e)},VI=s_,UI=function(e){return Promise.resolve(s_(e))},IE=function(e){const t=s_(e),a=p(ar(e).declarations).reduce((h,v)=>{const S=Dn(v);return S&&h.push(new Vb(S)),h},[]);return new LI(t,a)},jI=IE,BI=function(e){return Promise.resolve(IE(e))};let tv=(()=>{class e{constructor(){this.compileModuleSync=VI,this.compileModuleAsync=UI,this.compileModuleAndAllComponentsSync=jI,this.compileModuleAndAllComponentsAsync=BI}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Ht({token:e,factory:e.\u0275fac}),e})();const qI=(()=>Promise.resolve(0))();function a_(e){"undefined"==typeof Zone?qI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ul{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ph(!1),this.onMicrotaskEmpty=new ph(!1),this.onStable=new ph(!1),this.onError=new ph(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!a&&r,h.shouldCoalesceRunChangeDetection=a,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let e=Yt.requestAnimationFrame,t=Yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const a=t[Zone.__symbol__("OriginalDelegate")];a&&(t=a)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Yt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,l_(e),e.isCheckStableRunning=!0,u_(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),l_(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,a,h,v,S,D)=>{try{return DE(e),r.invokeTask(h,v,S,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||e.shouldCoalesceRunChangeDetection)&&t(),AE(e)}},onInvoke:(r,a,h,v,S,D,M)=>{try{return DE(e),r.invoke(h,v,S,D,M)}finally{e.shouldCoalesceRunChangeDetection&&t(),AE(e)}},onHasTask:(r,a,h,v)=>{r.hasTask(h,v),a===h&&("microTask"==v.change?(e._hasPendingMicrotasks=v.microTask,l_(e),u_(e)):"macroTask"==v.change&&(e.hasPendingMacrotasks=v.macroTask))},onHandleError:(r,a,h,v)=>(r.handleError(h,v),e.runOutsideAngular(()=>e.onError.emit(v)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ul.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ul.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,r,a){return this._inner.run(t,r,a)}runTask(t,r,a,h){const v=this._inner,S=v.scheduleEventTask("NgZoneEvent: "+h,t,$I,Pv,Pv);try{return v.runTask(S,r,a)}finally{v.cancelTask(S)}}runGuarded(t,r,a){return this._inner.runGuarded(t,r,a)}runOutsideAngular(t){return this._outer.run(t)}}const $I={};function u_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function l_(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function DE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function AE(e){e._nesting--,u_(e)}class QI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ph,this.onMicrotaskEmpty=new ph,this.onStable=new ph,this.onError=new ph}run(t,r,a){return t.apply(r,a)}runGuarded(t,r,a){return t.apply(r,a)}runOutsideAngular(t){return t()}runTask(t,r,a,h){return t.apply(r,a)}}let NE=(()=>{class e{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ul.assertNotInAngularZone(),a_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())a_(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(r)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,a,h){let v=-1;a&&a>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==v),r(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:r,timeoutId:v,updateCb:h})}whenStable(r,a,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,a,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,a,h){return[]}}return e.\u0275fac=function(r){return new(r||e)(Jr(Ul))},e.\u0275prov=Ht({token:e,factory:e.\u0275fac}),e})(),RE=(()=>{class e{constructor(){this._applications=new Map,c_.addToWindow(this)}registerApplication(r,a){this._applications.set(r,a)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,a=!0){return c_.findTestabilityInTree(this,r,a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Ht({token:e,factory:e.\u0275fac}),e})();class YI{addToWindow(t){}findTestabilityInTree(t,r,a){return null}}function ZI(e){c_=e}let c_=new YI,OE=!0,PE=!1;function JI(){if(PE)throw new Error("Cannot enable prod mode after platform setup.");OE=!1}let gf;const ME=new zr("AllowMultipleToken");class oD{constructor(t,r){this.name=t,this.token=r}}function kE(e,t,r=[]){const a=`Platform: ${t}`,h=new zr(a);return(v=[])=>{let S=FE();if(!S||S.injector.get(ME,!1))if(e)e(r.concat(v).concat({provide:h,useValue:!0}));else{const D=r.concat(v).concat({provide:h,useValue:!0},{provide:rf,useValue:"platform"});!function(e){if(gf&&!gf.destroyed&&!gf.injector.get(ME,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");gf=e.get(LE);const t=e.get(bE,null);t&&t.forEach(r=>r())}(go.create({providers:D,name:a}))}return function(e){const t=FE();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(h)}}function FE(){return gf&&!gf.destroyed?gf:null}let LE=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,a){const D=function(e,t){let r;return r="noop"===e?new QI:("zone.js"===e?void 0:e)||new Ul({enableLongStackTrace:(PE=!0,OE),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),r}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),M=[{provide:Ul,useValue:D}];return D.run(()=>{const W=go.create({providers:M,parent:this.injector,name:r.moduleType.name}),re=r.create(W),we=re.injector.get(Ja,null);if(!we)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return D.runOutsideAngular(()=>{const Re=D.onError.subscribe({next:et=>{we.handleError(et)}});re.onDestroy(()=>{f_(this._modules,re),Re.unsubscribe()})}),function(e,t,r){try{const a=r();return Yh(a)?a.catch(h=>{throw t.runOutsideAngular(()=>e.handleError(h)),h}):a}catch(a){throw t.runOutsideAngular(()=>e.handleError(a)),a}}(we,D,()=>{const Re=re.injector.get(lm);return Re.runInitializers(),Re.donePromise.then(()=>(Cy(re.injector.get($v,Dv)||Dv),this._moduleDoBootstrap(re),re))})})}bootstrapModule(r,a=[]){const h=VE({},a);return function(e,t,r){const a=new $y(r);return Promise.resolve(a)}(0,0,r).then(v=>this.bootstrapModuleFactory(v,h))}_moduleDoBootstrap(r){const a=r.injector.get(nv);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(h=>a.bootstrap(h));else{if(!r.instance.ngDoBootstrap)throw new Error(`The module ${Je(r.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);r.instance.ngDoBootstrap(a)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(r){return new(r||e)(Jr(go))},e.\u0275prov=Ht({token:e,factory:e.\u0275fac}),e})();function VE(e,t){return Array.isArray(t)?t.reduce(VE,e):Object.assign(Object.assign({},e),t)}let nv=(()=>{class e{constructor(r,a,h,v,S){this._zone=r,this._injector=a,this._exceptionHandler=h,this._componentFactoryResolver=v,this._initStatus=S,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const D=new te.y(W=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{W.next(this._stable),W.complete()})}),M=new te.y(W=>{let re;this._zone.runOutsideAngular(()=>{re=this._zone.onStable.subscribe(()=>{Ul.assertNotInAngularZone(),a_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,W.next(!0))})})});const we=this._zone.onUnstable.subscribe(()=>{Ul.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{W.next(!1)}))});return()=>{re.unsubscribe(),we.unsubscribe()}});this.isStable=(0,mt.T)(D,M.pipe((0,Le.B)()))}bootstrap(r,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=r instanceof nb?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(h.componentType);const v=function(e){return e.isBoundToModule}(h)?void 0:this._injector.get(rg),D=h.create(go.NULL,[],a||h.selector,v),M=D.location.nativeElement,W=D.injector.get(NE,null),re=W&&D.injector.get(RE);return W&&re&&re.registerApplication(M,W),D.onDestroy(()=>{this.detachView(D.hostView),f_(this.components,D),re&&re.unregisterApplication(M)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const a=r;this._views.push(a),a.attachToAppRef(this)}detachView(r){const a=r;f_(this._views,a),a.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(CE,[]).concat(this._bootstrapListeners).forEach(h=>h(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(r){return new(r||e)(Jr(Ul),Jr(go),Jr(Ja),Jr(tm),Jr(lm))},e.\u0275prov=Ht({token:e,factory:e.\u0275fac}),e})();function f_(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class fD{}class dD{}const pD={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let gD=(()=>{class e{constructor(r,a){this._compiler=r,this._config=a||pD}load(r){return this.loadAndCompile(r)}loadAndCompile(r){let[a,h]=r.split("#");return void 0===h&&(h="default"),pe(8255)(a).then(v=>v[h]).then(v=>HE(v,a,h)).then(v=>this._compiler.compileModuleAsync(v))}loadFactory(r){let[a,h]=r.split("#"),v="NgFactory";return void 0===h&&(h="default",v=""),pe(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(S=>S[h+v]).then(S=>HE(S,a,h))}}return e.\u0275fac=function(r){return new(r||e)(Jr(tv),Jr(dD,8))},e.\u0275prov=Ht({token:e,factory:e.\u0275fac}),e})();function HE(e,t,r){if(!e)throw new Error(`Cannot find '${r}' in '${t}'`);return e}const CD=function(e){return null},SD=kE(null,"core",[{provide:EE,useValue:"unknown"},{provide:LE,deps:[go]},{provide:RE,deps:[]},{provide:TE,deps:[]}]),RD=[{provide:nv,useClass:nv,deps:[Ul,go,Ja,tm,lm]},{provide:RS,deps:[Ul],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(r){t.push(r)}}},{provide:lm,useClass:lm,deps:[[new Jo,i_]]},{provide:tv,useClass:tv,deps:[]},kI,{provide:Mv,useFactory:function(){return TT},deps:[]},{provide:kv,useFactory:function(){return ST},deps:[]},{provide:$v,useFactory:function(e){return Cy(e=e||"undefined"!=typeof $localize&&$localize.locale||Dv),e},deps:[[new vu($v),new Jo,new xs]]},{provide:SE,useValue:"USD"}];let PD=(()=>{class e{constructor(r){}}return e.\u0275fac=function(r){return new(r||e)(Jr(nv))},e.\u0275mod=Lt({type:e}),e.\u0275inj=pn({providers:RD}),e})()},8051:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{factory:()=>dr,getGlobalVars:()=>Dr,registerAnalytics:()=>oi,resetGlobalVars:()=>Ln,settings:()=>tr});var te=function(){return(te=Object.assign||function(ht){for(var Et,Lt=1,Dt=arguments.length;Lt<Dt;Lt++)for(var Ft in Et=arguments[Lt])Object.prototype.hasOwnProperty.call(Et,Ft)&&(ht[Ft]=Et[Ft]);return ht}).apply(this,arguments)};function Je(xe,ht,Et,Lt){return new(Et||(Et=Promise))(function(Ft,sn){function bn(Nn){try{Wt(Lt.next(Nn))}catch(ar){sn(ar)}}function Dn(Nn){try{Wt(Lt.throw(Nn))}catch(ar){sn(ar)}}function Wt(Nn){Nn.done?Ft(Nn.value):function(Ft){return Ft instanceof Et?Ft:new Et(function(sn){sn(Ft)})}(Nn.value).then(bn,Dn)}Wt((Lt=Lt.apply(xe,ht||[])).next())})}function ae(xe,ht){var Lt,Dt,Ft,sn,Et={label:0,sent:function(){if(1&Ft[0])throw Ft[1];return Ft[1]},trys:[],ops:[]};return sn={next:bn(0),throw:bn(1),return:bn(2)},"function"==typeof Symbol&&(sn[Symbol.iterator]=function(){return this}),sn;function bn(Wt){return function(Nn){return function(Wt){if(Lt)throw new TypeError("Generator is already executing.");for(;Et;)try{if(Lt=1,Dt&&(Ft=2&Wt[0]?Dt.return:Wt[0]?Dt.throw||((Ft=Dt.return)&&Ft.call(Dt),0):Dt.next)&&!(Ft=Ft.call(Dt,Wt[1])).done)return Ft;switch(Dt=0,Ft&&(Wt=[2&Wt[0],Ft.value]),Wt[0]){case 0:case 1:Ft=Wt;break;case 4:return Et.label++,{value:Wt[1],done:!1};case 5:Et.label++,Dt=Wt[1],Wt=[0];continue;case 7:Wt=Et.ops.pop(),Et.trys.pop();continue;default:if(!(Ft=(Ft=Et.trys).length>0&&Ft[Ft.length-1])&&(6===Wt[0]||2===Wt[0])){Et=0;continue}if(3===Wt[0]&&(!Ft||Wt[1]>Ft[0]&&Wt[1]<Ft[3])){Et.label=Wt[1];break}if(6===Wt[0]&&Et.label<Ft[1]){Et.label=Ft[1],Ft=Wt;break}if(Ft&&Et.label<Ft[2]){Et.label=Ft[2],Et.ops.push(Wt);break}Ft[2]&&Et.ops.pop(),Et.trys.pop();continue}Wt=ht.call(xe,Et)}catch(Nn){Wt=[6,Nn],Dt=0}finally{Lt=Ft=0}if(5&Wt[0])throw Wt[1];return{value:Wt[0]?Wt[1]:void 0,done:!0}}([Wt,Nn])}}}var O=pe(6279),A=(pe(7918),pe(300)),G=pe(1704),Z=pe(1100),_e="https://www.googletagmanager.com/gtag/js",at=(()=>{return(xe=at||(at={})).EVENT="event",xe.SET="set",xe.CONFIG="config",at;var xe})(),zt=(()=>{return(xe=zt||(zt={})).ADD_SHIPPING_INFO="add_shipping_info",xe.ADD_PAYMENT_INFO="add_payment_info",xe.ADD_TO_CART="add_to_cart",xe.ADD_TO_WISHLIST="add_to_wishlist",xe.BEGIN_CHECKOUT="begin_checkout",xe.CHECKOUT_PROGRESS="checkout_progress",xe.EXCEPTION="exception",xe.GENERATE_LEAD="generate_lead",xe.LOGIN="login",xe.PAGE_VIEW="page_view",xe.PURCHASE="purchase",xe.REFUND="refund",xe.REMOVE_FROM_CART="remove_from_cart",xe.SCREEN_VIEW="screen_view",xe.SEARCH="search",xe.SELECT_CONTENT="select_content",xe.SELECT_ITEM="select_item",xe.SELECT_PROMOTION="select_promotion",xe.SET_CHECKOUT_OPTION="set_checkout_option",xe.SHARE="share",xe.SIGN_UP="sign_up",xe.TIMING_COMPLETE="timing_complete",xe.VIEW_CART="view_cart",xe.VIEW_ITEM="view_item",xe.VIEW_ITEM_LIST="view_item_list",xe.VIEW_PROMOTION="view_promotion",xe.VIEW_SEARCH_RESULTS="view_search_results",zt;var xe})(),Ht=new A.Logger("@firebase/analytics");function It(xe,ht,Et,Lt,Dt,Ft){return Je(this,void 0,void 0,function(){var sn,bn,Dn,Wt;return ae(this,function(Nn){switch(Nn.label){case 0:sn=Lt[Dt],Nn.label=1;case 1:return Nn.trys.push([1,7,,8]),sn?[4,ht[sn]]:[3,3];case 2:return Nn.sent(),[3,6];case 3:return[4,Promise.all(Et)];case 4:return bn=Nn.sent(),(Dn=bn.find(function(ar){return ar.measurementId===Dt}))?[4,ht[Dn.appId]]:[3,6];case 5:Nn.sent(),Nn.label=6;case 6:return[3,8];case 7:return Wt=Nn.sent(),Ht.error(Wt),[3,8];case 8:return xe(at.CONFIG,Dt,Ft),[2]}})})}function Zn(xe,ht,Et,Lt,Dt){return Je(this,void 0,void 0,function(){var Ft,sn,bn,Dn,Wt,Nn,Jn;return ae(this,function(gn){switch(gn.label){case 0:return gn.trys.push([0,4,,5]),Ft=[],Dt&&Dt.send_to?(sn=Dt.send_to,Array.isArray(sn)||(sn=[sn]),[4,Promise.all(Et)]):[3,2];case 1:for(bn=gn.sent(),Dn=function(Ie){var Se=bn.find(function(nt){return nt.measurementId===Ie}),je=Se&&ht[Se.appId];if(!je)return Ft=[],"break";Ft.push(je)},Wt=0,Nn=sn;Wt<Nn.length&&"break"!==Dn(Nn[Wt]);Wt++);gn.label=2;case 2:return 0===Ft.length&&(Ft=Object.values(ht)),[4,Promise.all(Ft)];case 3:return gn.sent(),xe(at.EVENT,Lt,Dt||{}),[3,5];case 4:return Jn=gn.sent(),Ht.error(Jn),[3,5];case 5:return[2]}})})}var Zt,pt=((Zt={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Zt["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Zt["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Zt["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Zt["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Zt["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Zt["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Zt["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Zt["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Zt),_t=new G.ErrorFactory("analytics","Analytics",pt),Qt=new(function(){function xe(ht,Et){void 0===ht&&(ht={}),void 0===Et&&(Et=1e3),this.throttleMetadata=ht,this.intervalMillis=Et}return xe.prototype.getThrottleMetadata=function(ht){return this.throttleMetadata[ht]},xe.prototype.setThrottleMetadata=function(ht,Et){this.throttleMetadata[ht]=Et},xe.prototype.deleteThrottleMetadata=function(ht){delete this.throttleMetadata[ht]},xe}());function tn(xe){return new Headers({Accept:"application/json","x-goog-api-key":xe})}function _n(xe){var ht;return Je(this,void 0,void 0,function(){var Et,Dt,Ft,sn,bn,Dn;return ae(this,function(Nn){switch(Nn.label){case 0:return Et=xe.appId,Dt={method:"GET",headers:tn(xe.apiKey)},Ft="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",Et),[4,fetch(Ft,Dt)];case 1:if(200===(sn=Nn.sent()).status||304===sn.status)return[3,6];bn="",Nn.label=2;case 2:return Nn.trys.push([2,4,,5]),[4,sn.json()];case 3:return Dn=Nn.sent(),(null===(ht=Dn.error)||void 0===ht?void 0:ht.message)&&(bn=Dn.error.message),[3,5];case 4:return Nn.sent(),[3,5];case 5:throw _t.create("config-fetch-failed",{httpStatus:sn.status,responseMessage:bn});case 6:return[2,sn.json()]}})})}function Un(xe,ht,Et,Lt){var Dt=ht.throttleEndTimeMillis,Ft=ht.backoffCount;return void 0===Lt&&(Lt=Qt),Je(this,void 0,void 0,function(){var sn,bn,Dn,Wt,Nn,ar,hr;return ae(this,function(Jn){switch(Jn.label){case 0:sn=xe.appId,bn=xe.measurementId,Jn.label=1;case 1:return Jn.trys.push([1,3,,4]),[4,Sn(Et,Dt)];case 2:return Jn.sent(),[3,4];case 3:if(Dn=Jn.sent(),bn)return Ht.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+bn+' provided in the "measurementId" field in the local Firebase config. ['+Dn.message+"]"),[2,{appId:sn,measurementId:bn}];throw Dn;case 4:return Jn.trys.push([4,6,,7]),[4,_n(xe)];case 5:return Wt=Jn.sent(),Lt.deleteThrottleMetadata(sn),[2,Wt];case 6:if(!function(xe){if(!(xe instanceof G.FirebaseError))return!1;var ht=Number(xe.httpStatus);return 429===ht||500===ht||503===ht||504===ht}(Nn=Jn.sent())){if(Lt.deleteThrottleMetadata(sn),bn)return Ht.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+bn+' provided in the "measurementId" field in the local Firebase config. ['+Nn.message+"]"),[2,{appId:sn,measurementId:bn}];throw Nn}return ar=503===Number(Nn.httpStatus)?(0,G.calculateBackoffMillis)(Ft,Lt.intervalMillis,30):(0,G.calculateBackoffMillis)(Ft,Lt.intervalMillis),hr={throttleEndTimeMillis:Date.now()+ar,backoffCount:Ft+1},Lt.setThrottleMetadata(sn,hr),Ht.debug("Calling attemptFetch again in "+ar+" millis"),[2,Un(xe,hr,Et,Lt)];case 7:return[2]}})})}function Sn(xe,ht){return new Promise(function(Et,Lt){var Dt=Math.max(ht-Date.now(),0),Ft=setTimeout(Et,Dt);xe.addEventListener(function(){clearTimeout(Ft),Lt(_t.create("fetch-throttle",{throttleEndTimeMillis:ht}))})})}var st=function(){function xe(){this.listeners=[]}return xe.prototype.addEventListener=function(ht){this.listeners.push(ht)},xe.prototype.abort=function(){this.listeners.forEach(function(ht){return ht()})},xe}();var Fn,In,Ct={},lt=[],fn={},Yt="dataLayer",Pn="gtag",Wn=!1;function Ln(xe,ht,Et){void 0===xe&&(xe=!1),void 0===ht&&(ht={}),void 0===Et&&(Et=[]),Wn=xe,Ct=ht,lt=Et,Yt="dataLayer",Pn="gtag"}function Dr(){return{initializationPromisesMap:Ct,dynamicConfigPromisesList:lt}}function tr(xe){if(Wn)throw _t.create("already-initialized");xe.dataLayerName&&(Yt=xe.dataLayerName),xe.gtagName&&(Pn=xe.gtagName)}function dr(xe,ht){!function(){var xe=[];if((0,G.isBrowserExtension)()&&xe.push("This is a browser extension environment."),(0,G.areCookiesEnabled)()||xe.push("Cookies are not available."),xe.length>0){var ht=xe.map(function(Lt,Dt){return"("+(Dt+1)+") "+Lt}).join(" "),Et=_t.create("invalid-analytics-context",{errorInfo:ht});Ht.warn(Et.message)}}();var Et=xe.options.appId;if(!Et)throw _t.create("no-app-id");if(!xe.options.apiKey){if(!xe.options.measurementId)throw _t.create("no-api-key");Ht.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+xe.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ct[Et])throw _t.create("already-exists",{id:Et});if(!Wn){(function(){for(var xe=window.document.getElementsByTagName("script"),ht=0,Et=Object.values(xe);ht<Et.length;ht++){var Lt=Et[ht];if(Lt.src&&Lt.src.includes(_e))return Lt}return null})()||function(xe){var ht=document.createElement("script");ht.src=_e+"?l="+xe,ht.async=!0,document.head.appendChild(ht)}(Yt),function(xe){var ht=[];Array.isArray(window[xe])?ht=window[xe]:window[xe]=ht}(Yt);var Lt=function(xe,ht,Et,Lt,Dt){var Ft=function(){for(var sn=[],bn=0;bn<arguments.length;bn++)sn[bn]=arguments[bn];window[Lt].push(arguments)};return window[Dt]&&"function"==typeof window[Dt]&&(Ft=window[Dt]),window[Dt]=function(xe,ht,Et,Lt){return function(Ft,sn,bn){return Je(this,void 0,void 0,function(){var Dn;return ae(this,function(Wt){switch(Wt.label){case 0:return Wt.trys.push([0,6,,7]),Ft!==at.EVENT?[3,2]:[4,Zn(xe,ht,Et,sn,bn)];case 1:return Wt.sent(),[3,5];case 2:return Ft!==at.CONFIG?[3,4]:[4,It(xe,ht,Et,Lt,sn,bn)];case 3:return Wt.sent(),[3,5];case 4:xe(at.SET,sn),Wt.label=5;case 5:return[3,7];case 6:return Dn=Wt.sent(),Ht.error(Dn),[3,7];case 7:return[2]}})})}}(Ft,xe,ht,Et),{gtagCore:Ft,wrappedGtag:window[Dt]}}(Ct,lt,fn,Yt,Pn);In=Lt.wrappedGtag,Fn=Lt.gtagCore,Wn=!0}return Ct[Et]=function(xe,ht,Et,Lt,Dt){return Je(this,void 0,void 0,function(){var Ft,sn,bn,Dn,Wt,Nn,ar;return ae(this,function(hr){switch(hr.label){case 0:return(Ft=function(xe,ht,Et){return void 0===ht&&(ht=Qt),Je(this,void 0,void 0,function(){var Lt,Dt,Ft,sn,bn,Dn,Wt=this;return ae(this,function(Nn){if(Ft=(Lt=xe.options).apiKey,sn=Lt.measurementId,!(Dt=Lt.appId))throw _t.create("no-app-id");if(!Ft){if(sn)return[2,{measurementId:sn,appId:Dt}];throw _t.create("no-api-key")}return bn=ht.getThrottleMetadata(Dt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Dn=new st,setTimeout(function(){return Je(Wt,void 0,void 0,function(){return ae(this,function(ar){return Dn.abort(),[2]})})},6e4),[2,Un({appId:Dt,apiKey:Ft,measurementId:sn},bn,Dn,ht)]})})}(xe)).then(function(Jn){Et[Jn.measurementId]=Jn.appId,xe.options.measurementId&&Jn.measurementId!==xe.options.measurementId&&Ht.warn("The measurement ID in the local Firebase config ("+xe.options.measurementId+") does not match the measurement ID fetched from the server ("+Jn.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(Jn){return Ht.error(Jn)}),ht.push(Ft),sn=function(){return Je(this,void 0,void 0,function(){var xe;return ae(this,function(ht){switch(ht.label){case 0:return(0,G.isIndexedDBAvailable)()?[3,1]:(Ht.warn(_t.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return ht.trys.push([1,3,,4]),[4,(0,G.validateIndexedDBOpenable)()];case 2:return ht.sent(),[3,4];case 3:return xe=ht.sent(),Ht.warn(_t.create("indexeddb-unavailable",{errorInfo:xe}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(Jn){if(Jn)return Lt.getId()}),[4,Promise.all([Ft,sn])];case 1:return bn=hr.sent(),Dn=bn[0],Wt=bn[1],Dt("js",new Date),(ar={}).origin="firebase",ar.update=!0,Nn=ar,null!=Wt&&(Nn.firebase_id=Wt),Dt(at.CONFIG,Dn.measurementId,Nn),[2,Dn.measurementId]}})})}(xe,lt,fn,ht,Fn),{app:xe,logEvent:function(bn,Dn,Wt){(function(xe,ht,Et,Lt,Dt){return Je(this,void 0,void 0,function(){var Ft,sn;return ae(this,function(bn){switch(bn.label){case 0:return Dt&&Dt.global?(xe(at.EVENT,Et,Lt),[2]):[3,1];case 1:return[4,ht];case 2:Ft=bn.sent(),sn=te(te({},Lt),{send_to:Ft}),xe(at.EVENT,Et,sn),bn.label=3;case 3:return[2]}})})})(In,Ct[Et],bn,Dn,Wt).catch(function(Nn){return Ht.error(Nn)})},setCurrentScreen:function(bn,Dn){(function(xe,ht,Et,Lt){return Je(this,void 0,void 0,function(){var Dt;return ae(this,function(Ft){switch(Ft.label){case 0:return Lt&&Lt.global?(xe(at.SET,{screen_name:Et}),[2,Promise.resolve()]):[3,1];case 1:return[4,ht];case 2:Dt=Ft.sent(),xe(at.CONFIG,Dt,{update:!0,screen_name:Et}),Ft.label=3;case 3:return[2]}})})})(In,Ct[Et],bn,Dn).catch(function(Wt){return Ht.error(Wt)})},setUserId:function(bn,Dn){(function(xe,ht,Et,Lt){return Je(this,void 0,void 0,function(){var Dt;return ae(this,function(Ft){switch(Ft.label){case 0:return Lt&&Lt.global?(xe(at.SET,{user_id:Et}),[2,Promise.resolve()]):[3,1];case 1:return[4,ht];case 2:Dt=Ft.sent(),xe(at.CONFIG,Dt,{update:!0,user_id:Et}),Ft.label=3;case 3:return[2]}})})})(In,Ct[Et],bn,Dn).catch(function(Wt){return Ht.error(Wt)})},setUserProperties:function(bn,Dn){(function(xe,ht,Et,Lt){return Je(this,void 0,void 0,function(){var Dt,Ft,sn,bn,Dn;return ae(this,function(Wt){switch(Wt.label){case 0:if(!Lt||!Lt.global)return[3,1];for(Dt={},Ft=0,sn=Object.keys(Et);Ft<sn.length;Ft++)Dt["user_properties."+(bn=sn[Ft])]=Et[bn];return xe(at.SET,Dt),[2,Promise.resolve()];case 1:return[4,ht];case 2:Dn=Wt.sent(),xe(at.CONFIG,Dn,{update:!0,user_properties:Et}),Wt.label=3;case 3:return[2]}})})})(In,Ct[Et],bn,Dn).catch(function(Wt){return Ht.error(Wt)})},setAnalyticsCollectionEnabled:function(bn){(function(xe,ht){return Je(this,void 0,void 0,function(){var Et;return ae(this,function(Lt){switch(Lt.label){case 0:return[4,xe];case 1:return Et=Lt.sent(),window["ga-disable-"+Et]=!ht,[2]}})})})(Ct[Et],bn).catch(function(Dn){return Ht.error(Dn)})},INTERNAL:{delete:function(){return delete Ct[Et],Promise.resolve()}}}}var ii="analytics";function oi(xe){xe.INTERNAL.registerComponent(new Z.Component(ii,function(Et){return dr(Et.getProvider("app").getImmediate(),Et.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:tr,EventName:zt,isSupported:Pi})),xe.INTERNAL.registerComponent(new Z.Component("analytics-internal",function(Et){try{return{logEvent:Et.getProvider(ii).getImmediate().logEvent}}catch(Dt){throw _t.create("interop-component-reg-failed",{reason:Dt})}},"PRIVATE")),xe.registerVersion("@firebase/analytics","0.6.0")}function Pi(){return Je(this,void 0,void 0,function(){return ae(this,function(Et){switch(Et.label){case 0:if((0,G.isBrowserExtension)())return[2,!1];if(!(0,G.areCookiesEnabled)())return[2,!1];if(!(0,G.isIndexedDBAvailable)())return[2,!1];Et.label=1;case 1:return Et.trys.push([1,3,,4]),[4,(0,G.validateIndexedDBOpenable)()];case 2:return[2,Et.sent()];case 3:return Et.sent(),[2,!1];case 4:return[2]}})})}oi(O.default)},6279:(Vn,We,pe)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var Le,Ut,k=pe(7796),m=pe(1704),te=pe(1100),mt=pe(300),Ye=((Le={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Le["bad-app-name"]="Illegal App name: '{$appName}",Le["duplicate-app"]="Firebase App named '{$appName}' already exists",Le["app-deleted"]="Firebase App named '{$appName}' already deleted",Le["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Le["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Le),tt=new m.ErrorFactory("app","Firebase",Ye),Je="@firebase/app",Mt="[DEFAULT]",ft=((Ut={})[Je]="fire-core",Ut["@firebase/analytics"]="fire-analytics",Ut["@firebase/auth"]="fire-auth",Ut["@firebase/database"]="fire-rtdb",Ut["@firebase/functions"]="fire-fn",Ut["@firebase/installations"]="fire-iid",Ut["@firebase/messaging"]="fire-fcm",Ut["@firebase/performance"]="fire-perf",Ut["@firebase/remote-config"]="fire-rc",Ut["@firebase/storage"]="fire-gcs",Ut["@firebase/firestore"]="fire-fst",Ut["fire-js"]="fire-js",Ut["firebase-wrapper"]="fire-js-all",Ut),Rt=new mt.Logger("@firebase/app"),O=function(){function zt(Ke,Ge,vt){var Bt,yn,Ht=this;this.firebase_=vt,this.isDeleted_=!1,this.name_=Ge.name,this.automaticDataCollectionEnabled_=Ge.automaticDataCollectionEnabled||!1,this.options_=m.deepCopy(Ke),this.container=new te.ComponentContainer(Ge.name),this._addComponent(new te.Component("app",function(){return Ht},"PUBLIC"));try{for(var wn=k.__values(this.firebase_.INTERNAL.components.values()),pn=wn.next();!pn.done;pn=wn.next())this._addComponent(pn.value)}catch(Zn){Bt={error:Zn}}finally{try{pn&&!pn.done&&(yn=wn.return)&&yn.call(wn)}finally{if(Bt)throw Bt.error}}}return Object.defineProperty(zt.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ke){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ke},enumerable:!1,configurable:!0}),Object.defineProperty(zt.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(zt.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),zt.prototype.delete=function(){var Ke=this;return new Promise(function(Ge){Ke.checkDestroyed_(),Ge()}).then(function(){return Ke.firebase_.INTERNAL.removeApp(Ke.name_),Promise.all(Ke.container.getProviders().map(function(Ge){return Ge.delete()}))}).then(function(){Ke.isDeleted_=!0})},zt.prototype._getService=function(Ke,Ge){return void 0===Ge&&(Ge=Mt),this.checkDestroyed_(),this.container.getProvider(Ke).getImmediate({identifier:Ge})},zt.prototype._removeServiceInstance=function(Ke,Ge){void 0===Ge&&(Ge=Mt),this.container.getProvider(Ke).clearInstance(Ge)},zt.prototype._addComponent=function(Ke){try{this.container.addComponent(Ke)}catch(Ge){Rt.debug("Component "+Ke.name+" failed to register with FirebaseApp "+this.name,Ge)}},zt.prototype._addOrOverwriteComponent=function(Ke){this.container.addOrOverwriteComponent(Ke)},zt.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw tt.create("app-deleted",{appName:this.name_})},zt}();O.prototype.name&&O.prototype.options||O.prototype.delete||console.log("dc");var Z=function G(){var zt=function(zt){var Ke={},Ge=new Map,vt={__esModule:!0,initializeApp:function(Mn,cn){void 0===cn&&(cn={}),("object"!=typeof cn||null===cn)&&(cn={name:cn});var pt=cn;void 0===pt.name&&(pt.name=Mt);var _t=pt.name;if("string"!=typeof _t||!_t)throw tt.create("bad-app-name",{appName:String(_t)});if(m.contains(Ke,_t))throw tt.create("duplicate-app",{appName:_t});var Ve=new zt(Mn,pt,vt);return Ke[_t]=Ve,Ve},app:yn,registerVersion:function(Mn,cn,Zt){var pt,_t=null!==(pt=ft[Mn])&&void 0!==pt?pt:Mn;Zt&&(_t+="-"+Zt);var Ve=_t.match(/\s|\//),$e=cn.match(/\s|\//);if(Ve||$e){var bt=['Unable to register library "'+_t+'" with version "'+cn+'":'];return Ve&&bt.push('library name "'+_t+'" contains illegal characters (whitespace or "/")'),Ve&&$e&&bt.push("and"),$e&&bt.push('version name "'+cn+'" contains illegal characters (whitespace or "/")'),void Rt.warn(bt.join(" "))}pn(new te.Component(_t+"-version",function(){return{library:_t,version:cn}},"VERSION"))},setLogLevel:mt.setLogLevel,onLog:function(Mn,cn){if(null!==Mn&&"function"!=typeof Mn)throw tt.create("invalid-log-argument",{appName:name});mt.setUserLogHandler(Mn,cn)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:pn,removeApp:function(Mn){delete Ke[Mn]},components:Ge,useAsService:function(Mn,cn){return"serverAuth"===cn?null:cn}}};function yn(Mn){if(!m.contains(Ke,Mn=Mn||Mt))throw tt.create("no-app",{appName:Mn});return Ke[Mn]}function pn(Mn){var cn,Zt,pt=Mn.name;if(Ge.has(pt))return Rt.debug("There were multiple attempts to register component "+pt+"."),"PUBLIC"===Mn.type?vt[pt]:null;if(Ge.set(pt,Mn),"PUBLIC"===Mn.type){var _t=function(Qt){if(void 0===Qt&&(Qt=yn()),"function"!=typeof Qt[pt])throw tt.create("invalid-app-argument",{appName:pt});return Qt[pt]()};void 0!==Mn.serviceProps&&m.deepExtend(_t,Mn.serviceProps),vt[pt]=_t,zt.prototype[pt]=function(){for(var Qt=[],tn=0;tn<arguments.length;tn++)Qt[tn]=arguments[tn];return this._getService.bind(this,pt).apply(this,Mn.multipleInstances?Qt:[])}}try{for(var Ve=k.__values(Object.keys(Ke)),$e=Ve.next();!$e.done;$e=Ve.next())Ke[$e.value]._addComponent(Mn)}catch(Qt){cn={error:Qt}}finally{try{$e&&!$e.done&&(Zt=Ve.return)&&Zt.call(Ve)}finally{if(cn)throw cn.error}}return"PUBLIC"===Mn.type?vt[pt]:null}return vt.default=vt,Object.defineProperty(vt,"apps",{get:function(){return Object.keys(Ke).map(function(Mn){return Ke[Mn]})}}),yn.App=zt,vt}(O);return zt.INTERNAL=k.__assign(k.__assign({},zt.INTERNAL),{createFirebaseNamespace:G,extendNamespace:function(Ge){m.deepExtend(zt,Ge)},createSubscribe:m.createSubscribe,ErrorFactory:m.ErrorFactory,deepExtend:m.deepExtend}),zt}(),L=function(){function zt(Ke){this.container=Ke}return zt.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Ge){if(function(zt){var Ke=zt.getComponent();return"VERSION"===(null==Ke?void 0:Ke.type)}(Ge)){var vt=Ge.getImmediate();return vt.library+"/"+vt.version}return null}).filter(function(Ge){return Ge}).join(" ")},zt}();if(m.isBrowser()&&void 0!==self.firebase){Rt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var $t=self.firebase.SDK_VERSION;$t&&$t.indexOf("LITE")>=0&&Rt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _e=Z.initializeApp;Z.initializeApp=function(){for(var zt=[],Ke=0;Ke<arguments.length;Ke++)zt[Ke]=arguments[Ke];return m.isNode()&&Rt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),_e.apply(void 0,zt)};var zt,at=Z;(zt=at).INTERNAL.registerComponent(new te.Component("platform-logger",function(Ge){return new L(Ge)},"PRIVATE")),zt.registerVersion(Je,"0.6.11",undefined),zt.registerVersion("fire-js",""),We.default=at,We.firebase=at},6003:(Vn,We,pe)=>{(function(){var m,k=pe(6279).default,te="function"==typeof Object.defineProperties?Object.defineProperty:function(n,c,w){n!=Array.prototype&&n!=Object.prototype&&(n[c]=w.value)},Le=function(n){n=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,n];for(var c=0;c<n.length;++c){var w=n[c];if(w&&w.Math==Math)return w}return globalThis}(this);function tt(n){var c=0;return function(){return c<n.length?{done:!1,value:n[c++]}:{done:!0}}}function Je(n){var c="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];return c?c.call(n):{next:tt(n)}}!function(n,c){if(c){var w=Le;n=n.split(".");for(var N=0;N<n.length-1;N++){var B=n[N];B in w||(w[B]={}),w=w[B]}(c=c(N=w[n=n[n.length-1]]))!=N&&null!=c&&te(w,n,{configurable:!0,writable:!0,value:c})}}("Promise",function(n){function c(me){this.b=0,this.c=void 0,this.a=[];var Qe=this.f();try{me(Qe.resolve,Qe.reject)}catch(Gt){Qe.reject(Gt)}}function w(){this.a=null}function N(me){return me instanceof c?me:new c(function(Qe){Qe(me)})}if(n)return n;w.prototype.b=function(me){if(null==this.a){this.a=[];var Qe=this;this.c(function(){Qe.g()})}this.a.push(me)};var B=Le.setTimeout;w.prototype.c=function(me){B(me,0)},w.prototype.g=function(){for(;this.a&&this.a.length;){var me=this.a;this.a=[];for(var Qe=0;Qe<me.length;++Qe){var Gt=me[Qe];me[Qe]=null;try{Gt()}catch(hn){this.f(hn)}}}this.a=null},w.prototype.f=function(me){this.c(function(){throw me})},c.prototype.f=function(){function me(hn){return function(rr){Gt||(Gt=!0,hn.call(Qe,rr))}}var Qe=this,Gt=!1;return{resolve:me(this.v),reject:me(this.g)}},c.prototype.v=function(me){if(me===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(me instanceof c)this.o(me);else{e:switch(typeof me){case"object":var Qe=null!=me;break e;case"function":Qe=!0;break e;default:Qe=!1}Qe?this.m(me):this.h(me)}},c.prototype.m=function(me){var Qe=void 0;try{Qe=me.then}catch(Gt){return void this.g(Gt)}"function"==typeof Qe?this.u(Qe,me):this.h(me)},c.prototype.g=function(me){this.i(2,me)},c.prototype.h=function(me){this.i(1,me)},c.prototype.i=function(me,Qe){if(0!=this.b)throw Error("Cannot settle("+me+", "+Qe+"): Promise already settled in state"+this.b);this.b=me,this.c=Qe,this.l()},c.prototype.l=function(){if(null!=this.a){for(var me=0;me<this.a.length;++me)ie.b(this.a[me]);this.a=null}};var ie=new w;return c.prototype.o=function(me){var Qe=this.f();me.Pa(Qe.resolve,Qe.reject)},c.prototype.u=function(me,Qe){var Gt=this.f();try{me.call(Qe,Gt.resolve,Gt.reject)}catch(hn){Gt.reject(hn)}},c.prototype.then=function(me,Qe){function Gt(ri,Oi){return"function"==typeof ri?function(ku){try{hn(ri(ku))}catch(Tc){rr(Tc)}}:Oi}var hn,rr,Xr=new c(function(ri,Oi){hn=ri,rr=Oi});return this.Pa(Gt(me,hn),Gt(Qe,rr)),Xr},c.prototype.catch=function(me){return this.then(void 0,me)},c.prototype.Pa=function(me,Qe){function Gt(){switch(hn.b){case 1:me(hn.c);break;case 2:Qe(hn.c);break;default:throw Error("Unexpected state: "+hn.b)}}var hn=this;null==this.a?ie.b(Gt):this.a.push(Gt)},c.resolve=N,c.reject=function(me){return new c(function(Qe,Gt){Gt(me)})},c.race=function(me){return new c(function(Qe,Gt){for(var hn=Je(me),rr=hn.next();!rr.done;rr=hn.next())N(rr.value).Pa(Qe,Gt)})},c.all=function(me){var Qe=Je(me),Gt=Qe.next();return Gt.done?N([]):new c(function(hn,rr){function Xr(ku){return function(Tc){ri[ku]=Tc,0==--Oi&&hn(ri)}}var ri=[],Oi=0;do{ri.push(void 0),Oi++,N(Gt.value).Pa(Xr(ri.length-1),rr),Gt=Qe.next()}while(!Gt.done)})},c});var ae=ae||{},Q=this||self,De=/^[\w+/_-]+[=]{0,2}$/,ye=null;function Te(){}function wt(n){var c=typeof n;if("object"==c){if(!n)return"null";if(n instanceof Array)return"array";if(n instanceof Object)return c;var w=Object.prototype.toString.call(n);if("[object Window]"==w)return"object";if("[object Array]"==w||"number"==typeof n.length&&void 0!==n.splice&&void 0!==n.propertyIsEnumerable&&!n.propertyIsEnumerable("splice"))return"array";if("[object Function]"==w||void 0!==n.call&&void 0!==n.propertyIsEnumerable&&!n.propertyIsEnumerable("call"))return"function"}else if("function"==c&&void 0===n.call)return"object";return c}function Tt(n){var c=wt(n);return"array"==c||"object"==c&&"number"==typeof n.length}function it(n){return"function"==wt(n)}function ke(n){var c=typeof n;return"object"==c&&null!=n||"function"==c}function He(n){return Object.prototype.hasOwnProperty.call(n,qe)&&n[qe]||(n[qe]=++Pt)}var qe="closure_uid_"+(1e9*Math.random()>>>0),Pt=0;function Ut(n,c,w){return n.call.apply(n.bind,arguments)}function Mt(n,c,w){if(!n)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,N),n.apply(c,B)}}return function(){return n.apply(c,arguments)}}function ft(n,c,w){return(ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ut:Mt).apply(null,arguments)}function Rt(n,c){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),n.apply(this,N)}}var O=Date.now||function(){return+new Date};function F(n,c){function w(){}w.prototype=c.prototype,n.$a=c.prototype,n.prototype=new w,n.prototype.constructor=n}function A(n,c,w){this.code=Z+n,this.message=c||L[n]||"",this.a=w||null}function G(n){var c=n&&n.code;return c?new A(c.substring(Z.length),n.message,n.serverResponse):null}F(A,Error),A.prototype.w=function(){var n={code:this.code,message:this.message};return this.a&&(n.serverResponse=this.a),n},A.prototype.toJSON=function(){return this.w()};var $t,Z="auth/",L={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ce={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function fe(n){for(var c in ce)if(ce[c].id===n)return{firebaseEndpoint:(n=ce[c]).Sa,secureTokenEndpoint:n.Ya,identityPlatformEndpoint:n.Va};return null}function _e(n){if(!n)return!1;try{return!!n.$goog_Thenable}catch(c){return!1}}function at(n){if(Error.captureStackTrace)Error.captureStackTrace(this,at);else{var c=Error().stack;c&&(this.stack=c)}n&&(this.message=String(n))}function zt(n,c){for(var w="",N=(n=n.split("%s")).length-1,B=0;B<N;B++)w+=n[B]+(B<c.length?c[B]:"%s");at.call(this,w+n[N])}function Ke(n,c){throw new zt("Failure"+(n?": "+n:""),Array.prototype.slice.call(arguments,1))}function Ge(n,c){this.c=n,this.f=c,this.b=0,this.a=null}function vt(n,c){n.f(c),100>n.b&&(n.b++,c.next=n.a,n.a=c)}function Bt(){this.b=this.a=null}$t=fe("__EID__")?"__EID__":void 0,F(at,Error),at.prototype.name="CustomError",F(zt,at),zt.prototype.name="AssertionError",Ge.prototype.get=function(){if(0<this.b){this.b--;var n=this.a;this.a=n.next,n.next=null}else n=this.c();return n};var yn=new Ge(function(){return new wn},function(n){n.reset()});function Ht(){var n=si,c=null;return n.a&&(c=n.a,n.a=n.a.next,n.a||(n.b=null),c.next=null),c}function wn(){this.next=this.b=this.a=null}Bt.prototype.add=function(n,c){var w=yn.get();w.set(n,c),this.b?this.b.next=w:this.a=w,this.b=w},wn.prototype.set=function(n,c){this.a=n,this.b=c,this.next=null},wn.prototype.reset=function(){this.next=this.b=this.a=null};var pn=Array.prototype.indexOf?function(n,c){return Array.prototype.indexOf.call(n,c,void 0)}:function(n,c){if("string"==typeof n)return"string"!=typeof c||1!=c.length?-1:n.indexOf(c,0);for(var w=0;w<n.length;w++)if(w in n&&n[w]===c)return w;return-1},It=Array.prototype.forEach?function(n,c,w){Array.prototype.forEach.call(n,c,w)}:function(n,c,w){for(var N=n.length,B="string"==typeof n?n.split(""):n,ie=0;ie<N;ie++)ie in B&&c.call(w,B[ie],ie,n)},Ir=Array.prototype.filter?function(n,c){return Array.prototype.filter.call(n,c,void 0)}:function(n,c){for(var w=n.length,N=[],B=0,ie="string"==typeof n?n.split(""):n,me=0;me<w;me++)if(me in ie){var Qe=ie[me];c.call(void 0,Qe,me,n)&&(N[B++]=Qe)}return N},Mn=Array.prototype.map?function(n,c){return Array.prototype.map.call(n,c,void 0)}:function(n,c){for(var w=n.length,N=Array(w),B="string"==typeof n?n.split(""):n,ie=0;ie<w;ie++)ie in B&&(N[ie]=c.call(void 0,B[ie],ie,n));return N},cn=Array.prototype.some?function(n,c){return Array.prototype.some.call(n,c,void 0)}:function(n,c){for(var w=n.length,N="string"==typeof n?n.split(""):n,B=0;B<w;B++)if(B in N&&c.call(void 0,N[B],B,n))return!0;return!1};function pt(n,c){return 0<=pn(n,c)}function _t(n,c){var w;return(w=0<=(c=pn(n,c)))&&Array.prototype.splice.call(n,c,1),w}function Ve(n,c){!function(n,c){for(var w="string"==typeof n?n.split(""):n,N=n.length-1;0<=N;--N)N in w&&c.call(void 0,w[N],N,n)}(n,function(N,B){c.call(void 0,N,B,n)&&Array.prototype.splice.call(n,B,1)})}function $e(n){return Array.prototype.concat.apply([],arguments)}function bt(n){var c=n.length;if(0<c){for(var w=Array(c),N=0;N<c;N++)w[N]=n[N];return w}return[]}var Ct,Qt=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]},tn=/&/g,_n=/</g,Bn=/>/g,Un=/"/g,Sn=/'/g,Yr=/\x00/g,st=/[\x00&<>"']/;function ve(n,c){return-1!=n.indexOf(c)}function ze(n,c){return n<c?-1:n>c?1:0}e:{var lt=Q.navigator;if(lt){var fn=lt.userAgent;if(fn){Ct=fn;break e}}Ct=""}function Yt(n){return ve(Ct,n)}function Pn(n,c){for(var w in n)c.call(void 0,n[w],w,n)}function Fn(n){for(var c in n)return!1;return!0}function In(n){var w,c={};for(w in n)c[w]=n[w];return c}var Wn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ln(n,c){for(var w,N,B=1;B<arguments.length;B++){for(w in N=arguments[B])n[w]=N[w];for(var ie=0;ie<Wn.length;ie++)w=Wn[ie],Object.prototype.hasOwnProperty.call(N,w)&&(n[w]=N[w])}}function Dr(n,c){e:{try{var w=n&&n.ownerDocument,N=w&&(w.defaultView||w.parentWindow);if((N=N||Q).Element&&N.Location){var B=N;break e}}catch(me){}B=null}if(B&&void 0!==B[c]&&(!n||!(n instanceof B[c])&&(n instanceof B.Location||n instanceof B.Element))){if(ke(n))try{var ie=n.constructor.displayName||n.constructor.name||Object.prototype.toString.call(n)}catch(me){ie="<object could not be stringified>"}else ie=void 0===n?"undefined":null===n?"null":typeof n;Ke("Argument is not a %s (or a non-Element, non-Location mock); got: %s",c,ie)}}function tr(n,c){this.a=n===pr&&c||"",this.b=dr}function li(n){return n instanceof tr&&n.constructor===tr&&n.b===dr?n.a:(Ke("expected object of type Const, got '"+n+"'"),"type_error:Const")}tr.prototype.sa=!0,tr.prototype.ra=function(){return this.a},tr.prototype.toString=function(){return"Const{"+this.a+"}"};var dr={},pr={},Ni=new tr(pr,"");function ii(n,c){this.a=n===Lt&&c||"",this.b=Et}function oi(n){return n instanceof ii&&n.constructor===ii&&n.b===Et?n.a:(Ke("expected object of type TrustedResourceUrl, got '"+n+"' of type "+wt(n)),"type_error:TrustedResourceUrl")}function Pi(n,c){var w=li(n);if(!ht.test(w))throw Error("Invalid TrustedResourceUrl format: "+w);return n=w.replace(xe,function(N,B){if(!Object.prototype.hasOwnProperty.call(c,B))throw Error('Found marker, "'+B+'", in format string, "'+w+'", but no valid label mapping found in args: '+JSON.stringify(c));return(N=c[B])instanceof tr?li(N):encodeURIComponent(String(N))}),new ii(Lt,n)}ii.prototype.sa=!0,ii.prototype.ra=function(){return this.a.toString()},ii.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xe=/%{(\w+)}/g,ht=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Et={},Lt={};function Dt(n,c){this.a=n===Wt&&c||"",this.b=Dn}function Ft(n){return n instanceof Dt&&n.constructor===Dt&&n.b===Dn?n.a:(Ke("expected object of type SafeUrl, got '"+n+"' of type "+wt(n)),"type_error:SafeUrl")}Dt.prototype.sa=!0,Dt.prototype.ra=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var sn=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function bn(n){return n instanceof Dt?n:(n="object"==typeof n&&n.sa?n.ra():String(n),sn.test(n)||(n="about:invalid#zClosurez"),new Dt(Wt,n))}var Dn={},Wt={};function Nn(){this.a="",this.b=hr}function ar(n){return n instanceof Nn&&n.constructor===Nn&&n.b===hr?n.a:(Ke("expected object of type SafeHtml, got '"+n+"' of type "+wt(n)),"type_error:SafeHtml")}Nn.prototype.sa=!0,Nn.prototype.ra=function(){return this.a.toString()},Nn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var hr={};function Jn(n){var c=new Nn;return c.a=n,c}Jn("<!DOCTYPE html>");var gn=Jn("");function je(n,c){for(var w=n.split("%s"),N="",B=Array.prototype.slice.call(arguments,1);B.length&&1<w.length;)N+=w.shift()+B.shift();return N+w.join("%s")}function nt(n){return st.test(n)&&(-1!=n.indexOf("&")&&(n=n.replace(tn,"&amp;")),-1!=n.indexOf("<")&&(n=n.replace(_n,"&lt;")),-1!=n.indexOf(">")&&(n=n.replace(Bn,"&gt;")),-1!=n.indexOf('"')&&(n=n.replace(Un,"&quot;")),-1!=n.indexOf("'")&&(n=n.replace(Sn,"&#39;")),-1!=n.indexOf("\0")&&(n=n.replace(Yr,"&#0;"))),n}function ue(n){return ue[" "](n),n}Jn("<br>"),ue[" "]=Te;var qn,n,oe=Yt("Opera"),Ee=Yt("Trident")||Yt("MSIE"),Be=Yt("Edge"),Me=Be||Ee,ut=Yt("Gecko")&&!(ve(Ct.toLowerCase(),"webkit")&&!Yt("Edge"))&&!(Yt("Trident")||Yt("MSIE"))&&!Yt("Edge"),Jt=ve(Ct.toLowerCase(),"webkit")&&!Yt("Edge");function ln(){var n=Q.document;return n?n.documentMode:void 0}e:{var An="",vn=(n=Ct,ut?/rv:([^\);]+)(\)|;)/.exec(n):Be?/Edge\/([\d\.]+)/.exec(n):Ee?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Jt?/WebKit\/(\S+)/.exec(n):oe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(vn&&(An=vn?vn[1]:""),Ee){var br=ln();if(null!=br&&br>parseFloat(An)){qn=String(br);break e}}qn=An}var or,nr={};function vr(n){return function(n,c){var w=nr;return Object.prototype.hasOwnProperty.call(w,n)?w[n]:w[n]=c()}(n,function(){for(var c=0,w=Qt(String(qn)).split("."),N=Qt(String(n)).split("."),B=Math.max(w.length,N.length),ie=0;0==c&&ie<B;ie++){var me=w[ie]||"",Qe=N[ie]||"";do{if(me=/(\d*)(\D*)(.*)/.exec(me)||["","","",""],Qe=/(\d*)(\D*)(.*)/.exec(Qe)||["","","",""],0==me[0].length&&0==Qe[0].length)break;c=ze(0==me[1].length?0:parseInt(me[1],10),0==Qe[1].length?0:parseInt(Qe[1],10))||ze(0==me[2].length,0==Qe[2].length)||ze(me[2],Qe[2]),me=me[3],Qe=Qe[3]}while(0==c)}return 0<=c})}or=Q.document&&Ee?ln():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(n){}var Vs=!Ee||9<=Number(or);function qi(n){var c=document;return"string"==typeof n?c.getElementById(n):n}function ko(n,c){Pn(c,function(w,N){w&&"object"==typeof w&&w.sa&&(w=w.ra()),"style"==N?n.style.cssText=w:"class"==N?n.className=w:"for"==N?n.htmlFor=w:Yi.hasOwnProperty(N)?n.setAttribute(Yi[N],w):0==N.lastIndexOf("aria-",0)||0==N.lastIndexOf("data-",0)?n.setAttribute(N,w):n[N]=w})}var vi,Mi,Yi={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ao(n,c,w){function N(me){me&&c.appendChild("string"==typeof me?n.createTextNode(me):me)}for(var B=2;B<w.length;B++){var ie=w[B];!Tt(ie)||ke(ie)&&0<ie.nodeType?N(ie):It(Zi(ie)?bt(ie):ie,N)}}function mi(n,c){return c=String(c),"application/xhtml+xml"===n.contentType&&(c=c.toLowerCase()),n.createElement(c)}function Zi(n){if(n&&"number"==typeof n.length){if(ke(n))return"function"==typeof n.item||"string"==typeof n.item;if(it(n))return"function"==typeof n.item}return!1}function xi(n){Q.setTimeout(function(){throw n},0)}function yo(n,c){Mi||function(){if(Q.Promise&&Q.Promise.resolve){var n=Q.Promise.resolve(void 0);Mi=function(){n.then(Fi)}}else Mi=function(){var c=Fi;!it(Q.setImmediate)||Q.Window&&Q.Window.prototype&&!Yt("Edge")&&Q.Window.prototype.setImmediate==Q.setImmediate?(vi||(vi=function(){var n=Q.MessageChannel;if(void 0===n&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Yt("Presto")&&(n=function(){var B=mi(document,"IFRAME");B.style.display="none",function(n){var c=new ii(Lt,li(Ni));Dr(n,"HTMLIFrameElement"),n.src=oi(c).toString()}(B),document.documentElement.appendChild(B);var ie=B.contentWindow;(B=ie.document).open(),B.write(ar(gn)),B.close();var me="callImmediate"+Math.random(),Qe="file:"==ie.location.protocol?"*":ie.location.protocol+"//"+ie.location.host;B=ft(function(Gt){("*"==Qe||Gt.origin==Qe)&&Gt.data==me&&this.port1.onmessage()},this),ie.addEventListener("message",B,!1),this.port1={},this.port2={postMessage:function(){ie.postMessage(me,Qe)}}}),void 0!==n&&!Yt("Trident")&&!Yt("MSIE")){var c=new n,w={},N=w;return c.port1.onmessage=function(){if(void 0!==w.next){var B=(w=w.next).Fb;w.Fb=null,B()}},function(B){N.next={Fb:B},N=N.next,c.port2.postMessage(0)}}return function(B){Q.setTimeout(B,0)}}()),vi(c)):Q.setImmediate(c)}}(),ki||(Mi(),ki=!0),si.add(n,c)}var ki=!1,si=new Bt;function Fi(){for(var n;n=Ht();){try{n.a.call(n.b)}catch(c){xi(c)}vt(yn,n)}ki=!1}function Qn(n,c){if(this.a=ji,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,n!=Te)try{var w=this;n.call(c,function(N){Ji(w,Wo,N)},function(N){if(!(N instanceof wo))try{throw N instanceof Error?N:Error("Promise rejected.")}catch(B){}Ji(w,$r,N)})}catch(N){Ji(this,$r,N)}}var ji=0,Wo=2,$r=3;function lo(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}lo.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Us=new Ge(function(){return new lo},function(n){n.reset()});function co(n,c,w){var N=Us.get();return N.g=n,N.b=c,N.f=w,N}function zn(n){if(n instanceof Qn)return n;var c=new Qn(Te);return Ji(c,Wo,n),c}function fr(n){return new Qn(function(c,w){w(n)})}function Xs(n,c,w){Bi(n,c,w,null)||yo(Rt(c,n))}function Fo(n){return new Qn(function(c){var w=n.length,N=[];if(w)for(var B=function(Qe,Gt,hn){w--,N[Qe]=Gt?{Ob:!0,value:hn}:{Ob:!1,reason:hn},0==w&&c(N)},ie=0;ie<n.length;ie++)Xs(n[ie],Rt(B,ie,!0),Rt(B,ie,!1));else c(N)})}function oo(n,c){if(n.a==ji)if(n.c){var w=n.c;if(w.b){for(var N=0,B=null,ie=null,me=w.b;me&&(me.c||(N++,me.a==n&&(B=me),!(B&&1<N)));me=me.next)B||(ie=me);B&&(w.a==ji&&1==N?oo(w,c):(ie?((N=ie).next==w.f&&(w.f=N),N.next=N.next.next):Vo(w),_o(w,B,$r,c)))}n.c=null}else Ji(n,$r,c)}function Lo(n,c){n.b||n.a!=Wo&&n.a!=$r||is(n),n.f?n.f.next=c:n.b=c,n.f=c}function gr(n,c,w,N){var B=co(null,null,null);return B.a=new Qn(function(ie,me){B.g=c?function(Qe){try{var Gt=c.call(N,Qe);ie(Gt)}catch(hn){me(hn)}}:ie,B.b=w?function(Qe){try{var Gt=w.call(N,Qe);void 0===Gt&&Qe instanceof wo?me(Qe):ie(Gt)}catch(hn){me(hn)}}:me}),B.a.c=n,Lo(n,B),B.a}function Ji(n,c,w){n.a==ji&&(n===w&&(c=$r,w=new TypeError("Promise cannot resolve to itself")),n.a=1,Bi(w,n.Zc,n.$c,n)||(n.i=w,n.a=c,n.c=null,is(n),c!=$r||w instanceof wo||function(n,c){n.g=!0,yo(function(){n.g&&$o.call(null,c)})}(n,w)))}function Bi(n,c,w,N){if(n instanceof Qn)return Lo(n,co(c||Te,w||null,N)),!0;if(_e(n))return n.then(c,w,N),!0;if(ke(n))try{var B=n.then;if(it(B))return function(n,c,w,N,B){function ie(Gt){Qe||(Qe=!0,N.call(B,Gt))}var Qe=!1;try{c.call(n,function(Gt){Qe||(Qe=!0,w.call(B,Gt))},ie)}catch(Gt){ie(Gt)}}(n,B,c,w,N),!0}catch(ie){return w.call(N,ie),!0}return!1}function is(n){n.h||(n.h=!0,yo(n.fc,n))}function Vo(n){var c=null;return n.b&&(n.b=(c=n.b).next,c.next=null),n.b||(n.f=null),c}function _o(n,c,w,N){if(w==$r&&c.b&&!c.c)for(;n&&n.g;n=n.c)n.g=!1;if(c.a)c.a.c=null,js(c,w,N);else try{c.c?c.g.call(c.f):js(c,w,N)}catch(B){$o.call(null,B)}vt(Us,c)}function js(n,c,w){c==Wo?n.g.call(n.f,w):n.b&&n.b.call(n.f,w)}Qn.prototype.then=function(n,c,w){return gr(this,it(n)?n:null,it(c)?c:null,w)},Qn.prototype.$goog_Thenable=!0,(m=Qn.prototype).na=function(n,c){return(n=co(n,n,c)).c=!0,Lo(this,n),this},m.s=function(n,c){return gr(this,null,n,c)},m.cancel=function(n){if(this.a==ji){var c=new wo(n);yo(function(){oo(this,c)},this)}},m.Zc=function(n){this.a=ji,Ji(this,Wo,n)},m.$c=function(n){this.a=ji,Ji(this,$r,n)},m.fc=function(){for(var n;n=Vo(this);)_o(this,n,this.a,this.i);this.h=!1};var $o=xi;function wo(n){at.call(this,n)}function Bs(){0!=ao&&(Y[He(this)]=this),this.xa=this.xa,this.oa=this.oa}F(wo,at),wo.prototype.name="cancel";var ao=0,Y={};function $(n){if(!n.xa&&(n.xa=!0,n.Da(),0!=ao)){var c=He(n);if(0!=ao&&n.oa&&0<n.oa.length)throw Error(n+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Y[c]}}Bs.prototype.xa=!1,Bs.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var ge=Object.freeze||function(n){return n},Pe=!Ee||9<=Number(or),Ue=Ee&&!vr("9"),ot=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var n=!1,c=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Q.addEventListener("test",Te,c),Q.removeEventListener("test",Te,c)}catch(w){}return n}();function xt(n,c){this.type=n,this.b=this.target=c,this.defaultPrevented=!1}function Xt(n,c){if(xt.call(this,n?n.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,n){var w=this.type=n.type,N=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.b=c,c=n.relatedTarget){if(ut){e:{try{ue(c.nodeName);var B=!0;break e}catch(ie){}B=!1}B||(c=null)}}else"mouseover"==w?c=n.fromElement:"mouseout"==w&&(c=n.toElement);this.relatedTarget=c,N?(this.clientX=void 0!==N.clientX?N.clientX:N.pageX,this.clientY=void 0!==N.clientY?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:qt[n.pointerType]||"",this.a=n,n.defaultPrevented&&this.preventDefault()}}xt.prototype.preventDefault=function(){this.defaultPrevented=!0},F(Xt,xt);var qt=ge({2:"touch",3:"pen",4:"mouse"});Xt.prototype.preventDefault=function(){Xt.$a.preventDefault.call(this);var n=this.a;if(n.preventDefault)n.preventDefault();else if(n.returnValue=!1,Ue)try{(n.ctrlKey||112<=n.keyCode&&123>=n.keyCode)&&(n.keyCode=-1)}catch(c){}},Xt.prototype.g=function(){return this.a};var dn="closure_listenable_"+(1e6*Math.random()|0),En=0;function q(n,c,w,N,B){this.listener=n,this.proxy=null,this.src=c,this.type=w,this.capture=!!N,this.Ua=B,this.key=++En,this.va=this.Oa=!1}function se(n){n.va=!0,n.listener=null,n.proxy=null,n.src=null,n.Ua=null}function z(n){this.src=n,this.a={},this.b=0}function de(n,c){var w=c.type;w in n.a&&_t(n.a[w],c)&&(se(c),0==n.a[w].length&&(delete n.a[w],n.b--))}function Fe(n,c,w,N){for(var B=0;B<n.length;++B){var ie=n[B];if(!ie.va&&ie.listener==c&&ie.capture==!!w&&ie.Ua==N)return B}return-1}z.prototype.add=function(n,c,w,N,B){var ie=n.toString();(n=this.a[ie])||(n=this.a[ie]=[],this.b++);var me=Fe(n,c,N,B);return-1<me?(c=n[me],w||(c.Oa=!1)):((c=new q(c,this.src,ie,!!N,B)).Oa=w,n.push(c)),c};var At="closure_lm_"+(1e6*Math.random()|0),en={};function xn(n,c,w,N,B){if(N&&N.once)ur(n,c,w,N,B);else if(Array.isArray(c))for(var ie=0;ie<c.length;ie++)xn(n,c[ie],w,N,B);else w=Ci(w),n&&n[dn]?zo(n,c,w,ke(N)?!!N.capture:!!N,B):yr(n,c,w,!1,N,B)}function yr(n,c,w,N,B,ie){if(!c)throw Error("Invalid event type");var me=ke(B)?!!B.capture:!!B,Qe=Gr(n);if(Qe||(n[At]=Qe=new z(n)),!(w=Qe.add(c,w,N,me,ie)).proxy)if(N=function(){var n=gs,c=Pe?function(w){return n.call(c.src,c.listener,w)}:function(w){if(!(w=n.call(c.src,c.listener,w)))return w};return c}(),w.proxy=N,N.src=n,N.listener=w,n.addEventListener)ot||(B=me),void 0===B&&(B=!1),n.addEventListener(c.toString(),N,B);else if(n.attachEvent)n.attachEvent(ci(c.toString()),N);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(N)}}function ur(n,c,w,N,B){if(Array.isArray(c))for(var ie=0;ie<c.length;ie++)ur(n,c[ie],w,N,B);else w=Ci(w),n&&n[dn]?au(n,c,w,ke(N)?!!N.capture:!!N,B):yr(n,c,w,!0,N,B)}function sr(n,c,w,N,B){if(Array.isArray(c))for(var ie=0;ie<c.length;ie++)sr(n,c[ie],w,N,B);else N=ke(N)?!!N.capture:!!N,w=Ci(w),n&&n[dn]?(n=n.v,(c=String(c).toString())in n.a&&-1<(w=Fe(ie=n.a[c],w,N,B))&&(se(ie[w]),Array.prototype.splice.call(ie,w,1),0==ie.length&&(delete n.a[c],n.b--))):n&&(n=Gr(n))&&(c=n.a[c.toString()],n=-1,c&&(n=Fe(c,w,N,B)),(w=-1<n?c[n]:null)&&Er(w))}function Er(n){if("number"!=typeof n&&n&&!n.va){var c=n.src;if(c&&c[dn])de(c.v,n);else{var w=n.type,N=n.proxy;c.removeEventListener?c.removeEventListener(w,N,n.capture):c.detachEvent?c.detachEvent(ci(w),N):c.addListener&&c.removeListener&&c.removeListener(N),(w=Gr(c))?(de(w,n),0==w.b&&(w.src=null,c[At]=null)):se(n)}}}function ci(n){return n in en?en[n]:en[n]="on"+n}function fi(n,c,w,N){var B=!0;if((n=Gr(n))&&(c=n.a[c.toString()]))for(c=c.concat(),n=0;n<c.length;n++){var ie=c[n];ie&&ie.capture==w&&!ie.va&&(ie=_i(ie,N),B=B&&!1!==ie)}return B}function _i(n,c){var w=n.listener,N=n.Ua||n.src;return n.Oa&&Er(n),w.call(N,c)}function gs(n,c){if(n.va)return!0;if(!Pe){if(!c)e:{c=["window","event"];for(var w=Q,N=0;N<c.length;N++)if(null==(w=w[c[N]])){c=null;break e}c=w}if(c=new Xt(N=c,this),w=!0,!(0>N.keyCode||null!=N.returnValue)){e:{var B=!1;if(0==N.keyCode)try{N.keyCode=-1;break e}catch(me){B=!0}(B||null==N.returnValue)&&(N.returnValue=!0)}for(N=[],B=c.b;B;B=B.parentNode)N.push(B);for(n=n.type,B=N.length-1;0<=B;B--){c.b=N[B];var ie=fi(N[B],n,!0,c);w=w&&ie}for(B=0;B<N.length;B++)c.b=N[B],ie=fi(N[B],n,!1,c),w=w&&ie}return w}return _i(n,new Xt(c,this))}function Gr(n){return(n=n[At])instanceof z?n:null}var Rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ci(n){return it(n)?n:(n[Rn]||(n[Rn]=function(c){return n.handleEvent(c)}),n[Rn])}function Ti(){Bs.call(this),this.v=new z(this),this.$b=this,this.fb=null}function zo(n,c,w,N,B){n.v.add(String(c),w,!1,N,B)}function au(n,c,w,N,B){n.v.add(String(c),w,!0,N,B)}function Ko(n,c,w,N){if(!(c=n.v.a[String(c)]))return!0;c=c.concat();for(var B=!0,ie=0;ie<c.length;++ie){var me=c[ie];if(me&&!me.va&&me.capture==w){var Qe=me.listener,Gt=me.Ua||me.src;me.Oa&&de(n.v,me),B=!1!==Qe.call(Gt,N)&&B}}return B&&!N.defaultPrevented}function va(n,c,w){if(it(n))w&&(n=ft(n,w));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ft(n.handleEvent,n)}return 2147483647<Number(c)?-1:Q.setTimeout(n,c||0)}function Uo(n){var c=null;return new Qn(function(w,N){-1==(c=va(function(){w(void 0)},n))&&N(Error("Failed to schedule timer."))}).s(function(w){throw Q.clearTimeout(c),w})}function on(n){if(n.V&&"function"==typeof n.V)return n.V();if("string"==typeof n)return n.split("");if(Tt(n)){for(var c=[],w=n.length,N=0;N<w;N++)c.push(n[N]);return c}for(N in c=[],w=0,n)c[w++]=n[N];return c}function Mr(n){if(n.Y&&"function"==typeof n.Y)return n.Y();if(!n.V||"function"!=typeof n.V){if(Tt(n)||"string"==typeof n){var c=[];n=n.length;for(var w=0;w<n;w++)c.push(w);return c}for(var N in c=[],w=0,n)c[w++]=N;return c}}function qr(n,c){this.b={},this.a=[],this.c=0;var w=arguments.length;if(1<w){if(w%2)throw Error("Uneven number of arguments");for(var N=0;N<w;N+=2)this.set(arguments[N],arguments[N+1])}else if(n)if(n instanceof qr)for(w=n.Y(),N=0;N<w.length;N++)this.set(w[N],n.get(w[N]));else for(N in n)this.set(N,n[N])}function Hi(n){if(n.c!=n.a.length){for(var c=0,w=0;c<n.a.length;){var N=n.a[c];bo(n.b,N)&&(n.a[w++]=N),c++}n.a.length=w}if(n.c!=n.a.length){var B={};for(w=c=0;c<n.a.length;)bo(B,N=n.a[c])||(n.a[w++]=N,B[N]=1),c++;n.a.length=w}}function bo(n,c){return Object.prototype.hasOwnProperty.call(n,c)}F(Ti,Bs),Ti.prototype[dn]=!0,Ti.prototype.addEventListener=function(n,c,w,N){xn(this,n,c,w,N)},Ti.prototype.removeEventListener=function(n,c,w,N){sr(this,n,c,w,N)},Ti.prototype.dispatchEvent=function(n){var c,w=this.fb;if(w)for(c=[];w;w=w.fb)c.push(w);w=this.$b;var N=n.type||n;if("string"==typeof n)n=new xt(n,w);else if(n instanceof xt)n.target=n.target||w;else{var B=n;Ln(n=new xt(N,w),B)}if(B=!0,c)for(var ie=c.length-1;0<=ie;ie--){var me=n.b=c[ie];B=Ko(me,N,!0,n)&&B}if(B=Ko(me=n.b=w,N,!0,n)&&B,B=Ko(me,N,!1,n)&&B,c)for(ie=0;ie<c.length;ie++)B=Ko(me=n.b=c[ie],N,!1,n)&&B;return B},Ti.prototype.Da=function(){if(Ti.$a.Da.call(this),this.v){var w,n=this.v;for(w in n.a){for(var N=n.a[w],B=0;B<N.length;B++)se(N[B]);delete n.a[w],n.b--}}this.fb=null},(m=qr.prototype).V=function(){Hi(this);for(var n=[],c=0;c<this.a.length;c++)n.push(this.b[this.a[c]]);return n},m.Y=function(){return Hi(this),this.a.concat()},m.clear=function(){this.b={},this.c=this.a.length=0},m.get=function(n,c){return bo(this.b,n)?this.b[n]:c},m.set=function(n,c){bo(this.b,n)||(this.c++,this.a.push(n)),this.b[n]=c},m.forEach=function(n,c){for(var w=this.Y(),N=0;N<w.length;N++){var B=w[N],ie=this.get(B);n.call(c,ie,B,this)}};var Eo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Si(n,c){var w;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,n instanceof Si?(this.i=void 0!==c?c:n.i,ea(this,n.f),this.l=n.l,this.a=n.a,Qo(this,n.g),this.c=n.c,fo(this,Va(n.b)),this.h=n.h):n&&(w=String(n).match(Eo))?(this.i=!!c,ea(this,w[1]||"",!0),this.l=os(w[2]||""),this.a=os(w[3]||"",!0),Qo(this,w[4]),this.c=os(w[5]||"",!0),fo(this,w[6]||"",!0),this.h=os(w[7]||"")):(this.i=!!c,this.b=new vs(null,this.i))}function ea(n,c,w){n.f=w?os(c,!0):c,n.f&&(n.f=n.f.replace(/:$/,""))}function Qo(n,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);n.g=c}else n.g=null}function fo(n,c,w){c instanceof vs?(n.b=c,function(n,c){c&&!n.f&&(ys(n),n.c=null,n.a.forEach(function(w,N){var B=N.toLowerCase();N!=B&&(_s(this,N),Qr(this,B,w))},n)),n.f=c}(n.b,n.i)):(w||(c=Xi(c,ss)),n.b=new vs(c,n.i))}function bi(n,c,w){n.b.set(c,w)}function Ar(n,c){return n.b.get(c)}function wi(n){return n instanceof Si?new Si(n):new Si(n,void 0)}function ya(n,c,w,N){var B=new Si(null,void 0);return n&&ea(B,n),c&&(B.a=c),w&&Qo(B,w),N&&(B.c=N),B}function os(n,c){return n?c?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Xi(n,c,w){return"string"==typeof n?(n=encodeURI(n).replace(c,Uu),w&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Uu(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Si.prototype.toString=function(){var n=[],c=this.f;c&&n.push(Xi(c,_a,!0),":");var w=this.a;return(w||"file"==c)&&(n.push("//"),(c=this.l)&&n.push(Xi(c,_a,!0),"@"),n.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(w=this.g)&&n.push(":",String(w))),(w=this.c)&&(this.a&&"/"!=w.charAt(0)&&n.push("/"),n.push(Xi(w,"/"==w.charAt(0)?La:wa,!0))),(w=this.b.toString())&&n.push("?",w),(w=this.h)&&n.push("#",Xi(w,Yo)),n.join("")},Si.prototype.resolve=function(n){var c=new Si(this),w=!!n.f;w?ea(c,n.f):w=!!n.l,w?c.l=n.l:w=!!n.a,w?c.a=n.a:w=null!=n.g;var N=n.c;if(w)Qo(c,n.g);else if(w=!!n.c){if("/"!=N.charAt(0))if(this.a&&!this.c)N="/"+N;else{var B=c.c.lastIndexOf("/");-1!=B&&(N=c.c.substr(0,B+1)+N)}if(".."==(B=N)||"."==B)N="";else if(ve(B,"./")||ve(B,"/.")){N=0==B.lastIndexOf("/",0),B=B.split("/");for(var ie=[],me=0;me<B.length;){var Qe=B[me++];"."==Qe?N&&me==B.length&&ie.push(""):".."==Qe?((1<ie.length||1==ie.length&&""!=ie[0])&&ie.pop(),N&&me==B.length&&ie.push("")):(ie.push(Qe),N=!0)}N=ie.join("/")}else N=B}return w?c.c=N:w=""!==n.b.toString(),w?fo(c,Va(n.b)):w=!!n.h,w&&(c.h=n.h),c};var _a=/[#\/\?@]/g,wa=/[#\?:]/g,La=/[#\?]/g,ss=/[#\?@]/g,Yo=/#/g;function vs(n,c){this.b=this.a=null,this.c=n||null,this.f=!!c}function ys(n){n.a||(n.a=new qr,n.b=0,n.c&&function(n,c){if(n){n=n.split("&");for(var w=0;w<n.length;w++){var N=n[w].indexOf("="),B=null;if(0<=N){var ie=n[w].substring(0,N);B=n[w].substring(N+1)}else ie=n[w];c(ie,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}(n.c,function(c,w){n.add(decodeURIComponent(c.replace(/\+/g," ")),w)}))}function As(n){var c=Mr(n);if(void 0===c)throw Error("Keys are undefined");var w=new vs(null,void 0);n=on(n);for(var N=0;N<c.length;N++){var B=c[N],ie=n[N];Array.isArray(ie)?Qr(w,B,ie):w.add(B,ie)}return w}function _s(n,c){ys(n),c=mn(n,c),bo(n.a.b,c)&&(n.c=null,n.b-=n.a.get(c).length,bo((n=n.a).b,c)&&(delete n.b[c],n.c--,n.a.length>2*n.c&&Hi(n)))}function Hs(n,c){return ys(n),c=mn(n,c),bo(n.a.b,c)}function Qr(n,c,w){_s(n,c),0<w.length&&(n.c=null,n.a.set(mn(n,c),bt(w)),n.b+=w.length)}function Va(n){var c=new vs;return c.c=n.c,n.a&&(c.a=new qr(n.a),c.b=n.b),c}function mn(n,c){return c=String(c),n.f&&(c=c.toLowerCase()),c}function Gs(n){var c=[];return Ns(new ba,n,c),c.join("")}function ba(){}function Ns(n,c,w){if(null==c)w.push("null");else{if("object"==typeof c){if(Array.isArray(c)){var N=c;c=N.length,w.push("[");for(var B="",ie=0;ie<c;ie++)w.push(B),Ns(n,N[ie],w),B=",";return void w.push("]")}if(!(c instanceof String||c instanceof Number||c instanceof Boolean)){for(N in w.push("{"),B="",c)Object.prototype.hasOwnProperty.call(c,N)&&"function"!=typeof(ie=c[N])&&(w.push(B),ei(N,w),w.push(":"),Ns(n,ie,w),B=",");return void w.push("}")}c=c.valueOf()}switch(typeof c){case"string":ei(c,w);break;case"number":w.push(isFinite(c)&&!isNaN(c)?String(c):"null");break;case"boolean":w.push(String(c));break;case"function":w.push("null");break;default:throw Error("Unknown type: "+typeof c)}}}(m=vs.prototype).add=function(n,c){ys(this),this.c=null,n=mn(this,n);var w=this.a.get(n);return w||this.a.set(n,w=[]),w.push(c),this.b+=1,this},m.clear=function(){this.a=this.c=null,this.b=0},m.forEach=function(n,c){ys(this),this.a.forEach(function(w,N){It(w,function(B){n.call(c,B,N,this)},this)},this)},m.Y=function(){ys(this);for(var n=this.a.V(),c=this.a.Y(),w=[],N=0;N<c.length;N++)for(var B=n[N],ie=0;ie<B.length;ie++)w.push(c[N]);return w},m.V=function(n){ys(this);var c=[];if("string"==typeof n)Hs(this,n)&&(c=$e(c,this.a.get(mn(this,n))));else{n=this.a.V();for(var w=0;w<n.length;w++)c=$e(c,n[w])}return c},m.set=function(n,c){return ys(this),this.c=null,Hs(this,n=mn(this,n))&&(this.b-=this.a.get(n).length),this.a.set(n,[c]),this.b+=1,this},m.get=function(n,c){return n&&0<(n=this.V(n)).length?String(n[0]):c},m.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var n=[],c=this.a.Y(),w=0;w<c.length;w++){var N=c[w],B=encodeURIComponent(String(N));N=this.V(N);for(var ie=0;ie<N.length;ie++){var me=B;""!==N[ie]&&(me+="="+encodeURIComponent(String(N[ie]))),n.push(me)}}return this.c=n.join("&")};var hi={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Rs=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ei(n,c){c.push('"',n.replace(Rs,function(w){var N=hi[w];return N||(N="\\u"+(65536|w.charCodeAt(0)).toString(16).substr(1),hi[w]=N),N}),'"')}function Ii(){var n=Wi();return Ee&&!!or&&11==or||/Edge\/\d+/.test(n)}function C(){return Q.window&&Q.window.location.href||self&&self.location&&self.location.href||""}function j(n,c){c=c||Q.window;var w="about:blank";n&&(w=Ft(bn(n))),c.location.href=w}function X(n,c){var N,w=[];for(N in n)N in c?typeof n[N]!=typeof c[N]?w.push(N):"object"==typeof n[N]&&null!=n[N]&&null!=c[N]?0<X(n[N],c[N]).length&&w.push(N):n[N]!==c[N]&&w.push(N):w.push(N);for(N in c)N in n||w.push(N);return w}function rt(n){return!!((n=(n||Wi()).toLowerCase()).match(/android/)||n.match(/webos/)||n.match(/iphone|ipad|ipod/)||n.match(/blackberry/)||n.match(/windows phone/)||n.match(/iemobile/))}function St(n){n=n||Q.window;try{n.close()}catch(c){}}function kn(n,c,w){var N=Math.floor(1e9*Math.random()).toString();c=c||500,w=w||600;var B=(window.screen.availHeight-w)/2,ie=(window.screen.availWidth-c)/2;for(me in c={width:c,height:w,top:0<B?B:0,left:0<ie?ie:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},w=Wi().toLowerCase(),N&&(c.target=N,ve(w,"crios/")&&(c.target="_blank")),lu(Wi())==uu&&(n=n||"http://localhost",c.scrollbars=!0),w=n||"",(n=c)||(n={}),N=window,c=w instanceof Dt?w:bn(void 0!==w.href?w.href:String(w)),w=n.target||w.target,B=[],n)switch(me){case"width":case"height":case"top":case"left":B.push(me+"="+n[me]);break;case"target":case"noopener":case"noreferrer":break;default:B.push(me+"="+(n[me]?1:0))}var me=B.join(",");if((Yt("iPhone")&&!Yt("iPod")&&!Yt("iPad")||Yt("iPad")||Yt("iPod"))&&N.navigator&&N.navigator.standalone&&w&&"_self"!=w?(Dr(me=mi(document,"A"),"HTMLAnchorElement"),c instanceof Dt||c instanceof Dt||(c="object"==typeof c&&c.sa?c.ra():String(c),sn.test(c)||(c="about:invalid#zClosurez"),c=new Dt(Wt,c)),me.href=Ft(c),me.setAttribute("target",w),n.noreferrer&&me.setAttribute("rel","noreferrer"),(n=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,N,1),me.dispatchEvent(n),me={}):n.noreferrer?(me=N.open("",w,me),n=Ft(c),me&&(Me&&ve(n,";")&&(n="'"+n.replace(/'/g,"%27")+"'"),me.opener=null,n=Jn('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+nt(n)+'">'),N=me.document)&&(N.write(ar(n)),N.close())):(me=N.open(Ft(c),w,me))&&n.noopener&&(me.opener=null),me)try{me.focus()}catch(Qe){}return me}var Nr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eo=/^[^@]+@[^@]+$/;function No(){var n=null;return new Qn(function(c){"complete"==Q.document.readyState?c():(n=function(){c()},ur(window,"load",n))}).s(function(c){throw sr(window,"load",n),c})}function Li(n){return n=n||Wi(),!("file:"!==d()&&"ionic:"!==d()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function Os(){var n=Q.window;try{return!(!n||n==n.top)}catch(c){return!1}}function ti(){return void 0!==Q.WorkerGlobalScope&&"function"==typeof Q.importScripts}function ni(){return k.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":k.INTERNAL.hasOwnProperty("node")?"Node":ti()?"Worker":"Browser"}function Ua(){var n=ni();return"ReactNative"===n||"Node"===n}var uu="Firefox";function lu(n){var c=n.toLowerCase();return ve(c,"opera/")||ve(c,"opr/")||ve(c,"opios/")?"Opera":ve(c,"iemobile")?"IEMobile":ve(c,"msie")||ve(c,"trident/")?"IE":ve(c,"edge/")?"Edge":ve(c,"firefox/")?uu:ve(c,"silk/")?"Silk":ve(c,"blackberry")?"Blackberry":ve(c,"webos")?"Webos":!ve(c,"safari/")||ve(c,"chrome/")||ve(c,"crios/")||ve(c,"android")?!ve(c,"chrome/")&&!ve(c,"crios/")||ve(c,"edge/")?ve(c,"android")?"Android":(n=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==n.length?n[1]:"Other":"Chrome":"Safari"}var Ea={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function cu(n,c){c=c||[];var B,w=[],N={};for(B in Ea)N[Ea[B]]=!0;for(B=0;B<c.length;B++)void 0!==N[c[B]]&&(delete N[c[B]],w.push(c[B]));return w.sort(),(c=w).length||(c=["FirebaseCore-web"]),"Browser"===(w=ni())?w=lu(N=Wi()):"Worker"===w&&(w=lu(N=Wi())+"-"+w),w+"/JsCore/"+n+"/"+c.join(",")}function Wi(){return Q.navigator&&Q.navigator.userAgent||""}function ai(n,c){n=n.split("."),c=c||Q;for(var w=0;w<n.length&&"object"==typeof c&&null!=c;w++)c=c[n[w]];return w!=n.length&&(c=void 0),c}function ja(){try{var n=Q.localStorage,c=ee();if(n)return n.setItem(c,"1"),n.removeItem(c),!Ii()||!!Q.indexedDB}catch(w){return ti()&&!!Q.indexedDB}return!1}function as(){return(b()||"chrome-extension:"===d()||Li())&&!Ua()&&ja()&&!ti()}function b(){return"http:"===d()||"https:"===d()}function d(){return Q.location&&Q.location.protocol||null}function y(n){return!(rt(n=n||Wi())||lu(n)==uu)}function T(n){return void 0===n?null:Gs(n)}function P(n){var w,c={};for(w in n)n.hasOwnProperty(w)&&null!=n[w]&&(c[w]=n[w]);return c}function V(n){if(null!==n)return JSON.parse(n)}function ee(n){return n||Math.floor(1e9*Math.random()).toString()}function le(n){return!("Safari"==lu(n=n||Wi())||n.toLowerCase().match(/iphone|ipad|ipod/))}function Ae(){var n=Q.___jsl;if(n&&n.H)for(var c in n.H)if(n.H[c].r=n.H[c].r||[],n.H[c].L=n.H[c].L||[],n.H[c].r=n.H[c].L.concat(),n.CP)for(var w=0;w<n.CP.length;w++)n.CP[w]=null}function Ce(n,c){if(n>c)throw Error("Short delay should be less than long delay!");this.a=n,this.c=c,n=Wi(),c=ni(),this.b=rt(n)||"ReactNative"===c}function ct(){var n=Q.document;return!n||void 0===n.visibilityState||"visible"==n.visibilityState}function Vt(n){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(n)}function an(n){try{var c=new Date(parseInt(n,10));if(!isNaN(c.getTime())&&!/[^0-9]/.test(n))return c.toUTCString()}catch(w){}return null}function On(){return!(!ai("fireauth.oauthhelper",Q)&&!ai("fireauth.iframe",Q))}Ce.prototype.get=function(){var n=Q.navigator;return!n||"boolean"!=typeof n.onLine||!b()&&"chrome-extension:"!==d()&&void 0===n.connection||n.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ro,Lr={};function ho(n){Lr[n]||(Lr[n]=!0,Vt(n))}try{var ta={};Object.defineProperty(ta,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ta,"abcd",{configurable:!0,enumerable:!0,value:2}),Ro=2==ta.abcd}catch(n){Ro=!1}function Hn(n,c,w){Ro?Object.defineProperty(n,c,{configurable:!0,enumerable:!0,value:w}):n[c]=w}function Ri(n,c){if(c)for(var w in c)c.hasOwnProperty(w)&&Hn(n,w,c[w])}function Co(n){var c={};return Ri(c,n),c}function wf(n){var c=n;if("object"==typeof n&&null!=n)for(var w in c="length"in n?[]:{},n)Hn(c,w,wf(n[w]));return c}function fu(n){var c=n&&(n[du]?"phone":null);if(!(c&&n&&n[hu]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");Hn(this,"uid",n[hu]),Hn(this,"displayName",n[na]||null);var w=null;n[Ba]&&(w=new Date(n[Ba]).toUTCString()),Hn(this,"enrollmentTime",w),Hn(this,"factorId",c)}function Nc(n){try{var c=new Ca(n)}catch(w){c=null}return c}fu.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var na="displayName",Ba="enrolledAt",hu="mfaEnrollmentId",du="phoneInfo";function Ca(n){fu.call(this,n),Hn(this,"phoneNumber",n[du])}function jl(n){var c={},w=n[gm],N=n[ug],B=n[op];if(n=Nc(n[bf]),!B||B!=qs&&B!=Bu&&!w||B==Bu&&!N||B==ra&&!n)throw Error("Invalid checkActionCode response!");B==Bu?(c[pu]=w||null,c[us]=w||null,c[zr]=N):(c[pu]=N||null,c[us]=N||null,c[zr]=w||null),c[Vi]=n||null,Hn(this,gh,B),Hn(this,sp,wf(c))}F(Ca,fu),Ca.prototype.w=function(){var n=Ca.$a.w.call(this);return n.phoneNumber=this.phoneNumber,n};var ra="REVERT_SECOND_FACTOR_ADDITION",qs="EMAIL_SIGNIN",Bu="VERIFY_AND_CHANGE_EMAIL",gm="email",bf="mfaInfo",ug="newEmail",op="requestType",zr="email",pu="fromEmail",Vi="multiFactorInfo",us="previousEmail",sp="data",gh="operation";function $i(n){var c=Ar(n=wi(n),Ha)||null,w=Ar(n,ws)||null,N=Ar(n,ol)||null;if(N=N&&Hu[N]||null,!c||!w||!N)throw new A("argument-error",Ha+", "+ws+"and "+ol+" are required in a valid action code URL.");Ri(this,{apiKey:c,operation:N,code:w,continueUrl:Ar(n,ls)||null,languageCode:Ar(n,ia)||null,tenantId:Ar(n,Bl)||null})}var Ha="apiKey",ws="oobCode",ls="continueUrl",ia="languageCode",ol="mode",Bl="tenantId",Hu={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ra,signIn:qs,verifyAndChangeEmail:Bu,verifyEmail:"VERIFY_EMAIL"};function To(n){try{return new $i(n)}catch(c){return null}}function sl(n){var c=n[Ta];if(void 0===c)throw new A("missing-continue-uri");if("string"!=typeof c||"string"==typeof c&&!c.length)throw new A("invalid-continue-uri");this.h=c,this.b=this.a=null,this.g=!1;var w=n[al];if(w&&"object"==typeof w){c=w[Zo];var N=w[Sa];if(w=w[zi],"string"==typeof c&&c.length){if(this.a=c,void 0!==N&&"boolean"!=typeof N)throw new A("argument-error",Sa+" property must be a boolean when specified.");if(this.g=!!N,void 0!==w&&("string"!=typeof w||"string"==typeof w&&!w.length))throw new A("argument-error",zi+" property must be a non empty string when specified.");this.b=w||null}else{if(void 0!==c)throw new A("argument-error",Zo+" property must be a non empty string when specified.");if(void 0!==N||void 0!==w)throw new A("missing-android-pkg-name")}}else if(void 0!==w)throw new A("argument-error",al+" property must be a non null object when specified.");if(this.f=null,(c=n[Oo])&&"object"==typeof c){if("string"==typeof(c=c[cs])&&c.length)this.f=c;else if(void 0!==c)throw new A("argument-error",cs+" property must be a non empty string when specified.")}else if(void 0!==c)throw new A("argument-error",Oo+" property must be a non null object when specified.");if(void 0!==(c=n[Ef])&&"boolean"!=typeof c)throw new A("argument-error",Ef+" property must be a boolean when specified.");if(this.c=!!c,void 0!==(n=n[Rc])&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new A("argument-error",Rc+" property must be a non empty string when specified.");this.i=n||null}var al="android",Rc="dynamicLinkDomain",Ef="handleCodeInApp",Oo="iOS",Ta="url",Sa="installApp",zi="minimumVersion",Zo="packageName",cs="bundleId";function ui(n){var c={};for(var w in c.continueUrl=n.h,c.canHandleCodeInApp=n.c,(c.androidPackageName=n.a)&&(c.androidMinimumVersion=n.b,c.androidInstallApp=n.g),c.iOSBundleId=n.f,c.dynamicLinkDomain=n.i,c)null===c[w]&&delete c[w];return c}var Tf=null;function bs(n){var c=Jh(n);if(!(c&&c.sub&&c.iss&&c.aud&&c.exp))throw Error("Invalid JWT");this.g=n,this.c=c.exp,this.h=c.sub,O(),this.a=c.provider_id||c.firebase&&c.firebase.sign_in_provider||null,this.f=c.firebase&&c.firebase.tenant||null,this.b=!!c.is_anonymous||"anonymous"==this.a}function Ga(n){try{return new bs(n)}catch(c){return null}}function Jh(n){if(!n||3!=(n=n.split(".")).length)return null;for(var c=(4-(n=n[1]).length%4)%4,w=0;w<c;w++)n+=".";try{return JSON.parse(function(n){var c="";return function(n,c){function w(Gt){for(;N<n.length;){var hn=n.charAt(N++),rr=Tf[hn];if(null!=rr)return rr;if(!/^[\s\xa0]*$/.test(hn))throw Error("Unknown base64 encoding at char: "+hn)}return Gt}!function(){if(!Tf){Tf={};for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),c=["+/=","+/","-_=","-_.","-_"],w=0;5>w;w++)for(var N=n.concat(c[w].split("")),B=0;B<N.length;B++){var ie=N[B];void 0===Tf[ie]&&(Tf[ie]=B)}}}();for(var N=0;;){var B=w(-1),ie=w(0),me=w(64),Qe=w(64);if(64===Qe&&-1===B)break;c(B<<2|ie>>4),64!=me&&(c(ie<<4&240|me>>2),64!=Qe&&c(me<<6&192|Qe))}}(n,function(w){c+=String.fromCharCode(w)}),c}(n))}catch(N){}return null}bs.prototype.S=function(){return this.f},bs.prototype.i=function(){return this.b},bs.prototype.toString=function(){return this.g};var mh="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ul=["client_id","response_type","scope","redirect_uri","state"],Gu={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:ul},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:ul},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:ul},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:mh},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function gu(n){for(var c in Gu)if(Gu[c].fa==n)return Gu[c];return null}function qa(n){var c={};c["facebook.com"]=Di,c["google.com"]=Gl,c["github.com"]=ll,c["twitter.com"]=qu;var w=n&&n[po];try{if(w)return c[w]?new c[w](n):new Es(n);if(void 0!==n[Sf])return new jo(n)}catch(N){}return null}var Sf="idToken",po="providerId";function jo(n){var c=n[po];if(!c&&n[Sf]){var w=Ga(n[Sf]);w&&w.a&&(c=w.a)}if(!c)throw Error("Invalid additional user info!");("anonymous"==c||"custom"==c)&&(c=null),w=!1,void 0!==n.isNewUser?w=!!n.isNewUser:"identitytoolkit#SignupNewUserResponse"===n.kind&&(w=!0),Hn(this,"providerId",c),Hn(this,"isNewUser",w)}function Es(n){jo.call(this,n),Hn(this,"profile",wf((n=V(n.rawUserInfo||"{}"))||{}))}function Di(n){if(Es.call(this,n),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ll(n){if(Es.call(this,n),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Hn(this,"username",this.profile&&this.profile.login||null)}function Gl(n){if(Es.call(this,n),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function qu(n){if(Es.call(this,n),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Hn(this,"username",n.screenName||null)}function vh(n){var c=wi(n),w=Ar(c,"link"),N=Ar(wi(w),"link");return c=Ar(c,"deep_link_id"),Ar(wi(c),"link")||c||N||w||n}function Pc(n,c){if(!n&&!c)throw new A("internal-error","Internal assert: no raw session string available");if(n&&c)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=n||null,this.b=c||null,this.type=this.a?cl:fl}F(Es,jo),F(Di,Es),F(ll,Es),F(Gl,Es),F(qu,Es);var cl="enroll",fl="signin";function ql(){}function Cs(n,c){return n.then(function(w){if(w[Ss]){var N=Ga(w[Ss]);if(!N||c!=N.h)throw new A("user-mismatch");return w}throw new A("user-mismatch")}).s(function(w){throw w&&w.code&&w.code==Z+"user-not-found"?new A("user-mismatch"):w})}function oa(n,c){if(!c)throw new A("internal-error","failed to construct a credential");this.a=c,Hn(this,"providerId",n),Hn(this,"signInMethod",n)}function mu(n){return{pendingToken:n.a,requestUri:"http://localhost"}}function Wl(n){if(n&&n.providerId&&n.signInMethod&&0==n.providerId.indexOf("saml.")&&n.pendingToken)try{return new oa(n.providerId,n.pendingToken)}catch(c){}return null}function Jr(n,c,w){if(this.a=null,c.idToken||c.accessToken)c.idToken&&Hn(this,"idToken",c.idToken),c.accessToken&&Hn(this,"accessToken",c.accessToken),c.nonce&&!c.pendingToken&&Hn(this,"nonce",c.nonce),c.pendingToken&&(this.a=c.pendingToken);else{if(!c.oauthToken||!c.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");Hn(this,"accessToken",c.oauthToken),Hn(this,"secret",c.oauthTokenSecret)}Hn(this,"providerId",n),Hn(this,"signInMethod",w)}function xc(n){var c={};return n.idToken&&(c.id_token=n.idToken),n.accessToken&&(c.access_token=n.accessToken),n.secret&&(c.oauth_token_secret=n.secret),c.providerId=n.providerId,n.nonce&&!n.a&&(c.nonce=n.nonce),c={postBody:As(c).toString(),requestUri:"http://localhost"},n.a&&(delete c.postBody,c.pendingToken=n.a),c}function If(n){if(n&&n.providerId&&n.signInMethod){var c={idToken:n.oauthIdToken,accessToken:n.oauthTokenSecret?null:n.oauthAccessToken,oauthTokenSecret:n.oauthTokenSecret,oauthToken:n.oauthTokenSecret&&n.oauthAccessToken,nonce:n.nonce,pendingToken:n.pendingToken};try{return new Jr(n.providerId,c,n.signInMethod)}catch(w){}}return null}function Bo(n,c){this.Pc=c||[],Ri(this,{providerId:n,isOAuthProvider:!0}),this.Hb={},this.ob=(gu(n)||{}).Ja||null,this.nb=null}function Wa(n){if("string"!=typeof n||0!=n.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');Bo.call(this,n,[])}function Ts(n){Bo.call(this,n,ul),this.a=[]}function sa(){Ts.call(this,"facebook.com")}function $l(n){if(!n)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var c=n;return ke(n)&&(c=n.accessToken),(new sa).credential({accessToken:c})}function Ps(){Ts.call(this,"github.com")}function vu(n){if(!n)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var c=n;return ke(n)&&(c=n.accessToken),(new Ps).credential({accessToken:c})}function Jo(){Ts.call(this,"google.com"),this.Ca("profile")}function Wu(n,c){var w=n;return ke(n)&&(w=n.idToken,c=n.accessToken),(new Jo).credential({idToken:w,accessToken:c})}function xs(){Bo.call(this,"twitter.com",mh)}function zl(n,c){var w=n;if(ke(w)||(w={oauthToken:n,oauthTokenSecret:c}),!w.oauthToken||!w.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Jr("twitter.com",w,"twitter.com")}function Ia(n,c,w){this.a=n,this.f=c,Hn(this,"providerId","password"),Hn(this,"signInMethod",w===no.EMAIL_LINK_SIGN_IN_METHOD?no.EMAIL_LINK_SIGN_IN_METHOD:no.EMAIL_PASSWORD_SIGN_IN_METHOD)}function uo(n){return n&&n.email&&n.password?new Ia(n.email,n.password,n.signInMethod):null}function no(){Ri(this,{providerId:"password",isOAuthProvider:!1})}function Mc(n,c){if(!(c=Xh(c)))throw new A("argument-error","Invalid email link!");return new Ia(n,c.code,no.EMAIL_LINK_SIGN_IN_METHOD)}function Xh(n){return(n=To(n=vh(n)))&&n.operation===qs?n:null}function hl(n){if(!(n.cb&&n.bb||n.La&&n.ea))throw new A("internal-error");this.a=n,Hn(this,"providerId","phone"),this.fa="phone",Hn(this,"signInMethod","phone")}function dl(n){if(n&&"phone"===n.providerId&&(n.verificationId&&n.verificationCode||n.temporaryProof&&n.phoneNumber)){var c={};return It(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(w){n[w]&&(c[w]=n[w])}),new hl(c)}return null}function Da(n){return n.a.La&&n.a.ea?{temporaryProof:n.a.La,phoneNumber:n.a.ea}:{sessionInfo:n.a.cb,code:n.a.bb}}function Ws(n){try{this.a=n||k.auth()}catch(c){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ri(this,{providerId:"phone",isOAuthProvider:!1})}function yu(n,c){if(!n)throw new A("missing-verification-id");if(!c)throw new A("missing-verification-code");return new hl({cb:n,bb:c})}function Aa(n){if(n.temporaryProof&&n.phoneNumber)return new hl({La:n.temporaryProof,ea:n.phoneNumber});var c=n&&n.providerId;if(!c||"password"===c)return null;var w=n&&n.oauthAccessToken,N=n&&n.oauthTokenSecret,B=n&&n.nonce,ie=n&&n.oauthIdToken,me=n&&n.pendingToken;try{switch(c){case"google.com":return Wu(ie,w);case"facebook.com":return $l(w);case"github.com":return vu(w);case"twitter.com":return zl(w,N);default:return w||N||ie||me?me?0==c.indexOf("saml.")?new oa(c,me):new Jr(c,{pendingToken:me,idToken:n.oauthIdToken,accessToken:n.oauthAccessToken},c):new Ts(c).credential({idToken:ie,accessToken:w,rawNonce:B}):null}}catch(Qe){return null}}function Kl(n){if(!n.isOAuthProvider)throw new A("invalid-oauth-provider")}function Na(n,c,w,N,B,ie,me){if(this.c=n,this.b=c||null,this.g=w||null,this.f=N||null,this.i=ie||null,this.h=me||null,this.a=B||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function ed(n){return(n=n||{}).type?new Na(n.type,n.eventId,n.urlResponse,n.sessionId,n.error&&G(n.error),n.postBody,n.tenantId):null}function lg(){this.b=null,this.a=[]}Pc.prototype.Ha=function(){return zn(this.a?this.a:this.b)},Pc.prototype.w=function(){return this.type==cl?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ql.prototype.ja=function(){},ql.prototype.b=function(){},ql.prototype.c=function(){},ql.prototype.w=function(){},oa.prototype.ja=function(n){return Gc(n,mu(this))},oa.prototype.b=function(n,c){var w=mu(this);return w.idToken=c,sc(n,w)},oa.prototype.c=function(n,c){return Cs(ac(n,mu(this)),c)},oa.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Jr.prototype.ja=function(n){return Gc(n,xc(this))},Jr.prototype.b=function(n,c){var w=xc(this);return w.idToken=c,sc(n,w)},Jr.prototype.c=function(n,c){return Cs(ac(n,xc(this)),c)},Jr.prototype.w=function(){var n={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(n.oauthIdToken=this.idToken),this.accessToken&&(n.oauthAccessToken=this.accessToken),this.secret&&(n.oauthTokenSecret=this.secret),this.nonce&&(n.nonce=this.nonce),this.a&&(n.pendingToken=this.a),n},Bo.prototype.Ka=function(n){return this.Hb=In(n),this},F(Wa,Bo),F(Ts,Bo),Ts.prototype.Ca=function(n){return pt(this.a,n)||this.a.push(n),this},Ts.prototype.Pb=function(){return bt(this.a)},Ts.prototype.credential=function(n,c){var w;if(!(w=ke(n)?{idToken:n.idToken||null,accessToken:n.accessToken||null,nonce:n.rawNonce||null}:{idToken:n||null,accessToken:c||null}).idToken&&!w.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new Jr(this.providerId,w,this.providerId)},F(sa,Ts),Hn(sa,"PROVIDER_ID","facebook.com"),Hn(sa,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),F(Ps,Ts),Hn(Ps,"PROVIDER_ID","github.com"),Hn(Ps,"GITHUB_SIGN_IN_METHOD","github.com"),F(Jo,Ts),Hn(Jo,"PROVIDER_ID","google.com"),Hn(Jo,"GOOGLE_SIGN_IN_METHOD","google.com"),F(xs,Bo),Hn(xs,"PROVIDER_ID","twitter.com"),Hn(xs,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ia.prototype.ja=function(n){return this.signInMethod==no.EMAIL_LINK_SIGN_IN_METHOD?Tr(n,hp,{email:this.a,oobCode:this.f}):Tr(n,Cr,{email:this.a,password:this.f})},Ia.prototype.b=function(n,c){return this.signInMethod==no.EMAIL_LINK_SIGN_IN_METHOD?Tr(n,dp,{idToken:c,email:this.a,oobCode:this.f}):Tr(n,Ze,{idToken:c,email:this.a,password:this.f})},Ia.prototype.c=function(n,c){return Cs(this.ja(n),c)},Ia.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ri(no,{PROVIDER_ID:"password"}),Ri(no,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ri(no,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),hl.prototype.ja=function(n){return n.eb(Da(this))},hl.prototype.b=function(n,c){var w=Da(this);return w.idToken=c,Tr(n,di,w)},hl.prototype.c=function(n,c){var w=Da(this);return w.operation="REAUTH",Cs(n=Tr(n,Ai,w),c)},hl.prototype.w=function(){var n={providerId:"phone"};return this.a.cb&&(n.verificationId=this.a.cb),this.a.bb&&(n.verificationCode=this.a.bb),this.a.La&&(n.temporaryProof=this.a.La),this.a.ea&&(n.phoneNumber=this.a.ea),n},Ws.prototype.eb=function(n,c){var w=this.a.a;return zn(c.verify()).then(function(N){if("string"!=typeof N)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(c.type){case"recaptcha":var B=ke(n)?n.session:null,ie=ke(n)?n.phoneNumber:n;return(B&&B.type==cl?B.Ha().then(function(Qe){return function(n,c){return Tr(n,yt,c).then(function(w){return w.phoneSessionInfo.sessionInfo})}(w,{idToken:Qe,phoneEnrollmentInfo:{phoneNumber:ie,recaptchaToken:N}})}):B&&B.type==fl?B.Ha().then(function(Qe){return function(n,c){return Tr(n,kt,c).then(function(w){return w.phoneResponseInfo.sessionInfo})}(w,{mfaPendingCredential:Qe,mfaEnrollmentId:n.multiFactorHint&&n.multiFactorHint.uid||n.multiFactorUid,phoneSignInInfo:{recaptchaToken:N}})}):function(n,c){return Tr(n,he,c)}(w,{phoneNumber:ie,recaptchaToken:N})).then(function(Qe){return"function"==typeof c.reset&&c.reset(),Qe},function(Qe){throw"function"==typeof c.reset&&c.reset(),Qe});default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Ri(Ws,{PROVIDER_ID:"phone"}),Ri(Ws,{PHONE_SIGN_IN_METHOD:"phone"}),Na.prototype.getUid=function(){var n=[];return n.push(this.c),this.b&&n.push(this.b),this.f&&n.push(this.f),this.h&&n.push(this.h),n.join("-")},Na.prototype.S=function(){return this.h},Na.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var wu,td=null;function Df(n){var c="unauthorized-domain",w=void 0,N=wi(n);n=N.a,"chrome-extension"==(N=N.f)?w=je("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",n):"http"==N||"https"==N?w=je("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",n):c="operation-not-supported-in-this-environment",A.call(this,c,w)}function Ra(n,c,w){A.call(this,n,w),(n=c||{}).Ib&&Hn(this,"email",n.Ib),n.ea&&Hn(this,"phoneNumber",n.ea),n.credential&&Hn(this,"credential",n.credential),n.Yb&&Hn(this,"tenantId",n.Yb)}function Af(n){if(n.code){var c=n.code||"";0==c.indexOf(Z)&&(c=c.substring(Z.length));var w={credential:Aa(n),Yb:n.tenantId};if(n.email)w.Ib=n.email;else if(n.phoneNumber)w.ea=n.phoneNumber;else if(!w.credential)return new A(c,n.message||void 0);return new Ra(c,w,n.message)}return null}function _u(){}function bu(){}function _h(n){if(!n.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var c=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],w=0;w<c.length;w++){var N=c[w];try{return new ActiveXObject(N),n.f=N}catch(B){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return n.f}function Eu(){}function $u(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=ft(this.pc,this),this.a.onerror=ft(this.Rb,this),this.a.onprogress=ft(this.qc,this),this.a.ontimeout=ft(this.uc,this)}function Ms(n,c){n.readyState=c,n.onreadystatechange&&n.onreadystatechange()}function Nf(n,c,w){this.reset(n,c,w,void 0,void 0)}function wh(n){this.f=n,this.b=this.c=this.a=null}function zu(n,c){this.name=n,this.value=c}F(Df,A),F(Ra,A),Ra.prototype.w=function(){var n={code:this.code,message:this.message};this.email&&(n.email=this.email),this.phoneNumber&&(n.phoneNumber=this.phoneNumber),this.tenantId&&(n.tenantId=this.tenantId);var c=this.credential&&this.credential.w();return c&&Ln(n,c),n},Ra.prototype.toJSON=function(){return this.w()},_u.prototype.c=null,F(bu,_u),bu.prototype.a=function(){var n=_h(this);return n?new ActiveXObject(n):new XMLHttpRequest},bu.prototype.b=function(){var n={};return _h(this)&&(n[0]=!0,n[1]=!0),n},wu=new bu,F(Eu,_u),Eu.prototype.a=function(){var n=new XMLHttpRequest;if("withCredentials"in n)return n;if("undefined"!=typeof XDomainRequest)return new $u;throw Error("Unsupported browser")},Eu.prototype.b=function(){return{}},(m=$u.prototype).open=function(n,c,w){if(null!=w&&!w)throw Error("Only async requests are supported.");this.a.open(n,c)},m.send=function(n){if(n){if("string"!=typeof n)throw Error("Only string data is supported");this.a.send(n)}else this.a.send()},m.abort=function(){this.a.abort()},m.setRequestHeader=function(){},m.getResponseHeader=function(n){return"content-type"==n.toLowerCase()?this.a.contentType:""},m.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ms(this,4)},m.Rb=function(){this.status=500,this.response=this.responseText="",Ms(this,4)},m.uc=function(){this.Rb()},m.qc=function(){this.status=200,Ms(this,1)},m.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Nf.prototype.a=null,Nf.prototype.reset=function(n,c,w,N,B){N||O(),delete this.a},zu.prototype.toString=function(){return this.name};var Ku=new zu("SEVERE",1e3),$a=new zu("WARNING",900),Yl=new zu("CONFIG",700),Of=new zu("FINE",500);function nd(n){return n.c?n.c:n.a?nd(n.a):(Ke("Root logger has no level set."),null)}wh.prototype.log=function(n,c,w){if(n.value>=nd(this).value)for(it(c)&&(c=c()),n=new Nf(n,String(c),this.f),w&&(n.a=w),w=this;w;)w=w.a};var Pf={},pl=null;function gl(n){var c;if(pl||(pl=new wh(""),Pf[""]=pl,pl.c=Yl),!(c=Pf[n])){c=new wh(n);var w=n.lastIndexOf("."),N=n.substr(w+1);(w=gl(n.substr(0,w))).b||(w.b={}),w.b[N]=c,c.a=w,Pf[n]=c}return c}function Oa(n,c){n&&n.log(Of,c,void 0)}function Cu(n){this.f=n}function Zl(n){Ti.call(this),this.o=n,this.readyState=za,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=gl("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}F(Cu,_u),Cu.prototype.a=function(){return new Zl(this.f)},Cu.prototype.b=function(n){return function(){return n}}({}),F(Zl,Ti);var za=0;function Qu(n){n.c.read().then(n.oc.bind(n)).catch(n.Ta.bind(n))}function kc(n,c){c&&n.f&&(n.status=n.f.status,n.statusText=n.f.statusText),n.readyState=4,n.f=null,n.c=null,n.l=null,Jl(n)}function Jl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}function Xl(n){Ti.call(this),this.headers=new qr,this.O=n||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=Yu,this.u=this.R=!1}(m=Zl.prototype).open=function(n,c){if(this.readyState!=za)throw this.abort(),Error("Error reopening a connection");this.m=n,this.g=c,this.readyState=1,Jl(this)},m.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var c={headers:this.i,method:this.m,credentials:void 0,cache:void 0};n&&(c.body=n),this.o.fetch(new Request(this.g,c)).then(this.tc.bind(this),this.Ta.bind(this))},m.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,kc(this,!1)),this.readyState=za},m.tc=function(n){this.a&&(this.f=n,this.b||(this.b=n.headers,this.readyState=2,Jl(this)),this.a&&(this.readyState=3,Jl(this),this.a&&("arraybuffer"===this.responseType?n.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==Q.ReadableStream&&"body"in n?(this.response=this.responseText="",this.c=n.body.getReader(),this.l=new TextDecoder,Qu(this)):n.text().then(this.sc.bind(this),this.Ta.bind(this)))))},m.oc=function(n){if(this.a){var c=this.l.decode(n.value?n.value:new Uint8Array(0),{stream:!n.done});c&&(this.response=this.responseText+=c),n.done?kc(this,!0):Jl(this),3==this.readyState&&Qu(this)}},m.sc=function(n){this.a&&(this.response=this.responseText=n,kc(this,!0))},m.rc=function(n){this.a&&(this.response=n,kc(this,!0))},m.Ta=function(n){var c=this.h;c&&c.log($a,"Failed to fetch url "+this.g,n instanceof Error?n:Error(n)),this.a&&kc(this,!0)},m.setRequestHeader=function(n,c){this.i.append(n,c)},m.getResponseHeader=function(n){return this.b?this.b.get(n.toLowerCase())||"":((n=this.h)&&n.log($a,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},m.getAllResponseHeaders=function(){if(!this.b){var n=this.h;return n&&n.log($a,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}n=[];for(var c=this.b.entries(),w=c.next();!w.done;)n.push((w=w.value)[0]+": "+w[1]),w=c.next();return n.join("\r\n")},F(Xl,Ti);var Yu="";Xl.prototype.b=gl("goog.net.XhrIo");var bh=/^https?$/i,aa=["POST","PUT"];function ec(n){return"content-type"==n.toLowerCase()}function Eh(n,c){n.c=!1,n.a&&(n.f=!0,n.a.abort(),n.f=!1),n.h=c,ap(n),vl(n)}function ap(n){n.G||(n.G=!0,n.dispatchEvent("complete"),n.dispatchEvent("error"))}function up(n){if(n.c&&void 0!==ae)if(n.A[1]&&4==Tu(n)&&2==Ju(n))Oa(n.b,Qa(n,"Local request error detected and ignored"));else if(n.i&&4==Tu(n))va(n.Ub,0,n);else if(n.dispatchEvent("readystatechange"),4==Tu(n)){Oa(n.b,Qa(n,"Request complete")),n.c=!1;try{var N,c=Ju(n);e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}if(!(N=w)){var B;if(B=0===c){var ie=String(n.l).match(Eo)[1]||null;if(!ie&&Q.self&&Q.self.location){var me=Q.self.location.protocol;ie=me.substr(0,me.length-1)}B=!bh.test(ie?ie.toLowerCase():"")}N=B}if(N)n.dispatchEvent("complete"),n.dispatchEvent("success");else{try{var Qe=2<Tu(n)?n.a.statusText:""}catch(Gt){Oa(n.b,"Can not get status: "+Gt.message),Qe=""}n.h=Qe+" ["+Ju(n)+"]",ap(n)}}finally{vl(n)}}}function vl(n,c){if(n.a){Zu(n);var w=n.a,N=n.A[0]?Te:null;n.a=null,n.A=null,c||n.dispatchEvent("ready");try{w.onreadystatechange=N}catch(B){(n=n.b)&&n.log(Ku,"Problem encountered resetting onreadystatechange: "+B.message,void 0)}}}function Zu(n){n.a&&n.u&&(n.a.ontimeout=null),n.o&&(Q.clearTimeout(n.o),n.o=null)}function Tu(n){return n.a?n.a.readyState:0}function Ju(n){try{return 2<Tu(n)?n.a.status:-1}catch(c){return-1}}function Qa(n,c){return c+" ["+n.P+" "+n.l+" "+Ju(n)+"]"}function Ya(n){var c=Th;this.g=[],this.u=c,this.o=n||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function yl(n,c,w){n.a=!0,n.c=w,n.f=!c,_l(n)}function Pa(n){if(n.a){if(!n.m)throw new wl(n);n.m=!1}}function Xu(n,c,w,N){n.g.push([c,w,N]),n.a&&_l(n)}function el(n){return cn(n.g,function(c){return it(c[1])})}function _l(n){if(n.h&&n.a&&el(n)){var c=n.h,w=Gi[c];w&&(Q.clearTimeout(w.a),delete Gi[c]),n.h=0}n.b&&(n.b.l--,delete n.b),c=n.c;for(var N=w=!1;n.g.length&&!n.i;){var B=n.g.shift(),ie=B[0],me=B[1];if(B=B[2],ie=n.f?me:ie)try{var Qe=ie.call(B||n.o,c);void 0!==Qe&&(n.f=n.f&&(Qe==c||Qe instanceof Error),n.c=c=Qe),(_e(c)||"function"==typeof Q.Promise&&c instanceof Q.Promise)&&(N=!0,n.i=!0)}catch(Gt){c=Gt,n.f=!0,el(n)||(w=!0)}}n.c=c,N&&(Qe=ft(n.v,n,!0),N=ft(n.v,n,!1),c instanceof Ya?(Xu(c,Qe,N),c.A=!0):c.then(Qe,N)),w&&(c=new Ch(c),Gi[c.a]=c,n.h=c.a)}function wl(){at.call(this)}function bl(){at.call(this)}function Ch(n){this.a=Q.setTimeout(ft(this.c,this),0),this.b=n}(m=Xl.prototype).Ma=function(){void 0!==ae&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Oa(this.b,Qa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},m.abort=function(){this.a&&this.c&&(Oa(this.b,Qa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),vl(this))},m.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),vl(this,!0)),Xl.$a.Da.call(this)},m.Ub=function(){this.xa||(this.N||this.i||this.f?up(this):this.Ic())},m.Ic=function(){up(this)},m.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Yu:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var n=this.b;return n&&n.log(Ku,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(c){return Oa(this.b,"Can not get response: "+c.message),null}},Ya.prototype.cancel=function(n){if(this.a)this.c instanceof Ya&&this.c.cancel();else{if(this.b){var c=this.b;delete this.b,n?c.cancel(n):(c.l--,0>=c.l&&c.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(n=new bl(this),Pa(this),yl(this,!1,n))}},Ya.prototype.v=function(n,c){this.i=!1,yl(this,n,c)},Ya.prototype.then=function(n,c,w){var N,B,ie=new Qn(function(me,Qe){N=me,B=Qe});return Xu(this,N,function(me){me instanceof bl?ie.cancel():B(me)}),ie.then(n,c,w)},Ya.prototype.$goog_Thenable=!0,F(wl,at),wl.prototype.message="Deferred has already fired",wl.prototype.name="AlreadyCalledError",F(bl,at),bl.prototype.message="Deferred was canceled",bl.prototype.name="CanceledError",Ch.prototype.c=function(){throw delete Gi[this.a],this.b};var Gi={};function Fc(n){var c={},w=c.document||document,N=oi(n).toString(),B=mi(document,"SCRIPT"),ie={Vb:B,Ma:void 0},me=new Ya(ie),Qe=null,Gt=null!=c.timeout?c.timeout:5e3;return 0<Gt&&(Qe=window.setTimeout(function(){Za(B,!0);var hn=new tc(Sh,"Timeout reached for loading script "+N);Pa(me),yl(me,!1,hn)},Gt),ie.Ma=Qe),B.onload=B.onreadystatechange=function(){B.readyState&&"loaded"!=B.readyState&&"complete"!=B.readyState||(Za(B,c.wd||!1,Qe),Pa(me),yl(me,!0,null))},B.onerror=function(){Za(B,!0,Qe);var hn=new tc(cp,"Error while loading script "+N);Pa(me),yl(me,!1,hn)},Ln(ie=c.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ko(B,ie),function(n,c){Dr(n,"HTMLScriptElement"),n.src=oi(c),null===ye&&(ye=(c=(c=Q.document).querySelector&&c.querySelector("script[nonce]"))&&(c=c.nonce||c.getAttribute("nonce"))&&De.test(c)?c:""),(c=ye)&&n.setAttribute("nonce",c)}(B,n),function(n){var c;return(c=(n||document).getElementsByTagName("HEAD"))&&0!=c.length?c[0]:n.documentElement}(w).appendChild(B),me}function Th(){if(this&&this.Vb){var n=this.Vb;n&&"SCRIPT"==n.tagName&&Za(n,!0,this.Ma)}}function Za(n,c,w){null!=w&&Q.clearTimeout(w),n.onload=Te,n.onerror=Te,n.onreadystatechange=Te,c&&window.setTimeout(function(){n&&n.parentNode&&n.parentNode.removeChild(n)},0)}var cp=0,Sh=1;function tc(n,c){var w="Jsloader error (code #"+n+")";c&&(w+=": "+c),at.call(this,w),this.code=n}function Vc(n){this.f=n}function ua(n,c,w){if(this.c=n,this.l=(n=c||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=n.secureTokenTimeout||El,this.g=In(n.secureTokenHeaders||Ho),this.h=n.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=n.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=n.firebaseTimeout||Su,this.a=In(n.firebaseHeaders||Uc),w&&(this.a["X-Client-Version"]=w,this.g["X-Client-Version"]=w),w="Node"==ni(),!(w=Q.XMLHttpRequest||w&&k.INTERNAL.node&&k.INTERNAL.node.XMLHttpRequest)&&!ti())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=ti()?new Cu(self):Ua()?new Vc(w):new Eu,this.b=null}F(tc,at),F(Vc,_u),Vc.prototype.a=function(){return new this.f},Vc.prototype.b=function(){return{}};var xf,Ss="idToken",El=new Ce(3e4,6e4),Ho={"Content-Type":"application/x-www-form-urlencoded"},Su=new Ce(3e4,6e4),Uc={"Content-Type":"application/json"};function jc(n,c){c?n.a["X-Firebase-Locale"]=c:delete n.a["X-Firebase-Locale"]}function ro(n,c){c&&(n.l=$s("https://securetoken.googleapis.com/v1/token",c),n.h=$s("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",c),n.i=$s("https://identitytoolkit.googleapis.com/v2/",c))}function $s(n,c){return n=wi(n),c=wi(c.url),n.c=n.a+n.c,ea(n,c.f),n.a=c.a,Qo(n,c.g),n.toString()}function nc(n,c){c?(n.a["X-Client-Version"]=c,n.g["X-Client-Version"]=c):(delete n.a["X-Client-Version"],delete n.g["X-Client-Version"])}function Bc(n,c,w,N,B,ie,me){(function(){var n=Wi();return!((n="Chrome"!=lu(n)?null:(n=n.match(/\sChrome\/(\d+)/i))&&2==n.length?parseInt(n[1],10):null)&&30>n||Ee&&or&&!(9<or))})()||ti()?n=ft(n.u,n):(xf||(xf=new Qn(function(Qe,Gt){!function(n,c){((window.gapi||{}).client||{}).request?n():(Q[Hc]=function(){((window.gapi||{}).client||{}).request?n():c(Error("CORS_UNSUPPORTED"))},function(n,c){Xu(n,null,c,void 0)}(Fc(Pi(rd,{onload:Hc})),function(){c(Error("CORS_UNSUPPORTED"))}))}(Qe,Gt)})),n=ft(n.o,n)),n(c,w,N,B,ie,me)}ua.prototype.S=function(){return this.b},ua.prototype.u=function(n,c,w,N,B,ie){if(ti()&&(void 0===Q.fetch||void 0===Q.Headers||void 0===Q.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var me=new Xl(this.f);if(ie){me.g=Math.max(0,ie);var Qe=setTimeout(function(){me.dispatchEvent("timeout")},ie)}zo(me,"complete",function(){Qe&&clearTimeout(Qe);var Gt=null;try{Gt=JSON.parse(function(n){try{return n.a?n.a.responseText:""}catch(c){return Oa(n.b,"Can not get responseText: "+c.message),""}}(this))||null}catch(hn){Gt=null}c&&c(Gt)}),au(me,"ready",function(){Qe&&clearTimeout(Qe),$(this)}),au(me,"timeout",function(){Qe&&clearTimeout(Qe),$(this),c&&c(null)}),function(n,c,w,N,B){if(n.a)throw Error("[goog.net.XhrIo] Object is active with another request="+n.l+"; newUri="+c);w=w?w.toUpperCase():"GET",n.l=c,n.h="",n.P=w,n.G=!1,n.c=!0,n.a=n.O?n.O.a():wu.a(),n.A=function(n){return n.c||(n.c=n.b())}(n.O?n.O:wu),n.a.onreadystatechange=ft(n.Ub,n);try{Oa(n.b,Qa(n,"Opening Xhr")),n.N=!0,n.a.open(w,String(c),!0),n.N=!1}catch(me){return Oa(n.b,Qa(n,"Error opening Xhr: "+me.message)),void Eh(n,me)}c=N||"";var ie=new qr(n.headers);B&&function(n,c){if(n.forEach&&"function"==typeof n.forEach)n.forEach(c,void 0);else if(Tt(n)||"string"==typeof n)It(n,c,void 0);else for(var w=Mr(n),N=on(n),B=N.length,ie=0;ie<B;ie++)c.call(void 0,N[ie],w&&w[ie],n)}(B,function(me,Qe){ie.set(Qe,me)}),B=function(n){e:{for(var c=ec,w=n.length,N="string"==typeof n?n.split(""):n,B=0;B<w;B++)if(B in N&&c.call(void 0,N[B],B,n)){c=B;break e}c=-1}return 0>c?null:"string"==typeof n?n.charAt(c):n[c]}(ie.Y()),N=Q.FormData&&c instanceof Q.FormData,!pt(aa,w)||B||N||ie.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),ie.forEach(function(me,Qe){this.a.setRequestHeader(Qe,me)},n),n.m&&(n.a.responseType=n.m),"withCredentials"in n.a&&n.a.withCredentials!==n.R&&(n.a.withCredentials=n.R);try{Zu(n),0<n.g&&(n.u=function(n){return Ee&&vr(9)&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(n.a),Oa(n.b,Qa(n,"Will abort after "+n.g+"ms if incomplete, xhr2 "+n.u)),n.u?(n.a.timeout=n.g,n.a.ontimeout=ft(n.Ma,n)):n.o=va(n.Ma,n.g,n)),Oa(n.b,Qa(n,"Sending request")),n.i=!0,n.a.send(c),n.i=!1}catch(me){Oa(n.b,Qa(n,"Send error: "+me.message)),Eh(n,me)}}(me,n,w,N,B)};var rd=new tr(pr,"https://apis.google.com/js/client.js?onload=%{onload}"),Hc="__fcb"+Math.floor(1e6*Math.random()).toString();function Iu(n){if("string"!=typeof(n=n.email)||!eo.test(n))throw new A("invalid-email")}function sd(n){"email"in n&&Iu(n)}function Xo(n){if(!n[Ss])throw n.mfaPendingCredential?new A("multi-factor-auth-required",null,In(n)):new A("internal-error")}function Tl(n){if(n.phoneNumber||n.temporaryProof){if(!n.phoneNumber||!n.temporaryProof)throw new A("internal-error")}else{if(!n.sessionInfo)throw new A("missing-verification-id");if(!n.code)throw new A("missing-verification-code")}}ua.prototype.o=function(n,c,w,N,B){var ie=this;xf.then(function(){window.gapi.client.setApiKey(ie.c);var me=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:n,method:w,body:N,headers:B,authType:"none",callback:function(Qe){window.gapi.auth.setToken(me),c&&c(Qe)}})}).s(function(me){c&&c({error:{message:me&&me.message||"CORS_UNSUPPORTED"}})})},ua.prototype.yb=function(){return Tr(this,Xe,{})},ua.prototype.Ab=function(n,c){return Tr(this,Ne,{idToken:n,email:c})},ua.prototype.Bb=function(n,c){return Tr(this,Ze,{idToken:n,password:c})};var Du={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ic(n){if(!n.phoneVerificationInfo)throw new A("internal-error");if(!n.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!n.phoneVerificationInfo.code)throw new A("missing-verification-code")}function oc(n){if(!n.requestUri||!n.sessionId&&!n.postBody&&!n.pendingToken)throw new A("internal-error")}function Ja(n,c){return c.oauthIdToken&&c.providerId&&0==c.providerId.indexOf("oidc.")&&!c.pendingToken&&(n.sessionId?c.nonce=n.sessionId:n.postBody&&Hs(n=new vs(n.postBody),"nonce")&&(c.nonce=n.get("nonce"))),c}function Dh(n){var c=null;if(n.needConfirmation?(n.code="account-exists-with-different-credential",c=Af(n)):"FEDERATED_USER_ID_ALREADY_LINKED"==n.errorMessage?(n.code="credential-already-in-use",c=Af(n)):"EMAIL_EXISTS"==n.errorMessage?(n.code="email-already-in-use",c=Af(n)):n.errorMessage&&(c=Il(n.errorMessage)),c)throw c;Xo(n)}function Gc(n,c){return c.returnIdpCredential=!0,Tr(n,Kt,c)}function sc(n,c){return c.returnIdpCredential=!0,Tr(n,Gn,c)}function ac(n,c){return c.returnIdpCredential=!0,c.autoCreate=!1,Tr(n,Kn,c)}function uc(n){if(!n.oobCode)throw new A("invalid-action-code")}(m=ua.prototype).Cb=function(n,c){var w={idToken:n},N=[];return Pn(Du,function(B,ie){var me=c[ie];null===me?N.push(B):ie in c&&(w[ie]=me)}),N.length&&(w.deleteAttribute=N),Tr(this,Ne,w)},m.ub=function(n,c){return Ln(n={requestType:"PASSWORD_RESET",email:n},c),Tr(this,I,n)},m.vb=function(n,c){return Ln(n={requestType:"EMAIL_SIGNIN",email:n},c),Tr(this,u,n)},m.tb=function(n,c){return Ln(n={requestType:"VERIFY_EMAIL",idToken:n},c),Tr(this,p,n)},m.Db=function(n,c,w){return Ln(n={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:n,newEmail:c},w),Tr(this,_,n)},m.eb=function(n){return Tr(this,Rr,n)},m.mb=function(n,c){return Tr(this,J,{oobCode:n,newPassword:c})},m.Qa=function(n){return Tr(this,zs,{oobCode:n})},m.ib=function(n){return Tr(this,Sl,{oobCode:n})};var Sl={endpoint:"setAccountInfo",B:uc,Z:"email",C:!0},zs={endpoint:"resetPassword",B:uc,F:function(n){var c=n.requestType;if(!c||!n.email&&"EMAIL_SIGNIN"!=c&&"VERIFY_AND_CHANGE_EMAIL"!=c)throw new A("internal-error")},C:!0},Lf={endpoint:"signupNewUser",B:function(n){if(Iu(n),!n.password)throw new A("weak-password")},F:Xo,U:!0,C:!0},tl={endpoint:"createAuthUri",C:!0},cg={endpoint:"deleteAccount",M:["idToken"]},Ah={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(n){if("array"!=wt(n.deleteProvider))throw new A("internal-error")}},hp={endpoint:"emailLinkSignin",M:["email","oobCode"],B:Iu,F:Xo,U:!0,C:!0},dp={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:Iu,F:Xo,U:!0},ad={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:ic,F:Xo,C:!0,Na:!0},l={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:ic,F:Xo,C:!0,Na:!0},i={endpoint:"getAccountInfo"},u={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(n){if("EMAIL_SIGNIN"!=n.requestType)throw new A("internal-error");Iu(n)},Z:"email",C:!0},p={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(n){if("VERIFY_EMAIL"!=n.requestType)throw new A("internal-error")},Z:"email",C:!0},_={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(n){if("VERIFY_AND_CHANGE_EMAIL"!=n.requestType)throw new A("internal-error")},Z:"email",C:!0},I={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(n){if("PASSWORD_RESET"!=n.requestType)throw new A("internal-error");Iu(n)},Z:"email",C:!0},R={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},U={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(n){if(!n.recaptchaSiteKey)throw new A("internal-error")}},J={endpoint:"resetPassword",B:uc,Z:"email",C:!0},he={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ne={endpoint:"setAccountInfo",M:["idToken"],B:sd,U:!0},Ze={endpoint:"setAccountInfo",M:["idToken"],B:function(n){if(sd(n),!n.password)throw new A("weak-password")},F:Xo,U:!0},Xe={endpoint:"signupNewUser",F:Xo,U:!0,C:!0},yt={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(n){if(!n.phoneEnrollmentInfo)throw new A("internal-error");if(!n.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!n.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},F:function(n){if(!n.phoneSessionInfo||!n.phoneSessionInfo.sessionInfo)throw new A("internal-error")},C:!0,Na:!0},kt={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(n){if(!n.phoneSignInInfo||!n.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},F:function(n){if(!n.phoneResponseInfo||!n.phoneResponseInfo.sessionInfo)throw new A("internal-error")},C:!0,Na:!0},Kt={endpoint:"verifyAssertion",B:oc,Xa:Ja,F:Dh,U:!0,C:!0},Kn={endpoint:"verifyAssertion",B:oc,Xa:Ja,F:function(n){if(n.errorMessage&&"USER_NOT_FOUND"==n.errorMessage)throw new A("user-not-found");if(n.errorMessage)throw Il(n.errorMessage);Xo(n)},U:!0,C:!0},Gn={endpoint:"verifyAssertion",B:function(n){if(oc(n),!n.idToken)throw new A("internal-error")},Xa:Ja,F:Dh,U:!0},lr={endpoint:"verifyCustomToken",B:function(n){if(!n.token)throw new A("invalid-custom-token")},F:Xo,U:!0,C:!0},Cr={endpoint:"verifyPassword",B:function(n){if(Iu(n),!n.password)throw new A("wrong-password")},F:Xo,U:!0,C:!0},Rr={endpoint:"verifyPhoneNumber",B:Tl,F:Xo,C:!0},di={endpoint:"verifyPhoneNumber",B:function(n){if(!n.idToken)throw new A("internal-error");Tl(n)},F:function(n){if(n.temporaryProof)throw n.code="credential-already-in-use",Af(n);Xo(n)}},Ai={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:Tl,F:Xo,C:!0},es={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(n){if(!!n[Ss]^!!n.refreshToken)throw new A("internal-error")},C:!0,Na:!0};function Tr(n,c,w){if(!function(n,c){if(!c||!c.length)return!0;if(!n)return!1;for(var w=0;w<c.length;w++){var N=n[c[w]];if(null==N||""===N)return!1}return!0}(w,c.M))return fr(new A("internal-error"));var ie,N=!!c.Na,B=c.Tb||"POST";return zn(w).then(c.B).then(function(){return c.U&&(w.returnSecureToken=!0),c.C&&n.b&&void 0===w.tenantId&&(w.tenantId=n.b),function(n,c,w,N,B,ie,me){var Qe=wi(c+w);bi(Qe,"key",n.c),me&&bi(Qe,"cb",O().toString());var Gt="GET"==N;if(Gt)for(var hn in B)B.hasOwnProperty(hn)&&bi(Qe,hn,B[hn]);return new Qn(function(rr,Xr){Bc(n,Qe.toString(),function(ri){ri?ri.error?Xr(la(ri,ie||{})):rr(ri):Xr(new A("network-request-failed"))},N,Gt?void 0:Gs(P(B)),n.a,n.m.get())})}(n,N?n.i:n.h,c.endpoint,B,w,c.Gb,c.kb||!1)}).then(function(me){return ie=me,c.Xa?c.Xa(w,ie):ie}).then(c.F).then(function(){if(!c.Z)return ie;if(!(c.Z in ie))throw new A("internal-error");return ie[c.Z]})}function Il(n){return la({error:{errors:[{message:n}],code:400,message:n}})}function la(n,c){var w=(n.error&&n.error.errors&&n.error.errors[0]||{}).reason||"",N={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(w=N[w]?new A(N[w]):null)return w;for(var B in w=n.error&&n.error.message||"",Ln(N={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},c||{}),c=(c=w.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<c.length?c[1]:void 0,N)if(0===w.indexOf(B))return new A(N[B],c);return!c&&n&&(c=T(n)),new A("internal-error",c)}function Xa(n){this.b=n,this.a=null,this.qb=function(n){return($c||($c=new Qn(function(n,c){function w(){Ae(),ai("gapi.load")("gapi.iframes",{callback:n,ontimeout:function(){Ae(),c(Error("Network Error"))},timeout:Ks.get()})}if(ai("gapi.iframes.Iframe"))n();else if(ai("gapi.load"))w();else{var N="__iframefcb"+Math.floor(1e6*Math.random()).toString();Q[N]=function(){ai("gapi.load")?w():c(Error("Network Error"))},zn(Fc(N=Pi(ud,{onload:N}))).s(function(){c(Error("Network Error"))})}}).s(function(n){throw $c=null,n}))).then(function(){return new Qn(function(c,w){ai("gapi.iframes.getContext")().open({where:document.body,url:n.b,messageHandlersFilter:ai("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(N){function B(){clearTimeout(ie),c()}n.a=N,n.a.restyle({setHideOnLeave:!1});var ie=setTimeout(function(){w(Error("Network Error"))},Au.get());N.ping(B).then(B,function(){w(Error("Network Error"))})})})})}(this)}var ud=new tr(pr,"https://apis.google.com/js/api.js?onload=%{onload}"),Ks=new Ce(3e4,6e4),Au=new Ce(5e3,15e3),$c=null;function fg(n,c,w,N){this.l=n,this.h=c,this.i=w,this.g=N,this.f=null,n=this.g?ya((n=wi(this.g.url)).f,n.a,n.g,"/emulator/auth/iframe"):ya("https",this.l,null,"/__/auth/iframe"),this.a=n,bi(this.a,"apiKey",this.h),bi(this.a,"appName",this.i),this.b=null,this.c=[]}function ld(n,c,w,N,B,ie){this.u=n,this.o=c,this.c=w,this.v=N,this.m=ie,this.i=this.g=this.l=null,this.a=B,this.h=this.f=null}function jf(n){try{return k.app(n).auth().Ga()}catch(c){return[]}}function ca(n,c,w,N,B,ie){this.o=n,this.g=c,this.b=w,this.f=ie,this.c=N||null,this.i=B||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function pp(n){var c=C();return function(n){return Tr(n,R,{}).then(function(c){return c.authorizedDomains||[]})}(n).then(function(w){e:{var N=wi(c),B=N.f;N=N.a;for(var ie=0;ie<w.length;ie++){var me=w[ie],Qe=N,Gt=B;if(0==me.indexOf("chrome-extension://")?Qe=wi(me).a==Qe&&"chrome-extension"==Gt:"http"!=Gt&&"https"!=Gt?Qe=!1:Nr.test(me)?Qe=Qe==me:(me=me.split(".").join("\\."),Qe=new RegExp("^(.+\\."+me+"|"+me+")$","i").test(Qe)),Qe){w=!0;break e}}w=!1}if(!w)throw new Df(C())})}function gp(n){return n.v||(n.v=No().then(function(){if(!n.u){var c=n.c,w=n.i,N=jf(n.b),B=new fg(n.o,n.g,n.b,n.f);B.f=c,B.b=w,B.c=bt(N||[]),n.u=B.toString()}n.m=new Xa(n.u),function(n){if(!n.m)throw Error("IfcHandler must be initialized!");!function(n,c){n.qb.then(function(){n.a.register("authEvent",c,ai("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(n.m,function(c){var w={};if(c&&c.authEvent){var N=!1;for(c=ed(c.authEvent),w=0;w<n.h.length;w++)N=n.h[w](c)||N;return(w={}).status=N?"ACK":"ERROR",zn(w)}return w.status="ERROR",zn(w)})}(n)})),n.v}function ks(n){return n.l||(n.A=n.c?cu(n.c,jf(n.b)):null,n.l=new ua(n.g,fe(n.i),n.A),n.f&&ro(n.l,n.f)),n.l}function eu(n,c,w,N,B,ie,me,Qe,Gt,hn,rr,Xr){return(n=new ld(n,c,w,N,B,Xr)).l=ie,n.g=me,n.i=Qe,n.b=In(Gt||null),n.f=hn,n.xb(rr).toString()}function vp(n){if(this.a=n||k.INTERNAL.reactNative&&k.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function cd(n){this.b=n,this.a={},this.f=ft(this.c,this)}fg.prototype.toString=function(){return this.f?bi(this.a,"v",this.f):_s(this.a.b,"v"),this.b?bi(this.a,"eid",this.b):_s(this.a.b,"eid"),this.c.length?bi(this.a,"fw",this.c.join(",")):_s(this.a.b,"fw"),this.a.toString()},ld.prototype.xb=function(n){return this.h=n,this},ld.prototype.toString=function(){if(this.m){var n=wi(this.m.url);n=ya(n.f,n.a,n.g,"/emulator/auth/handler")}else n=ya("https",this.u,null,"/__/auth/handler");if(bi(n,"apiKey",this.o),bi(n,"appName",this.c),bi(n,"authType",this.v),this.a.isOAuthProvider){var c=this.a;try{var w=k.app(this.c).auth().ka()}catch(Qe){w=null}for(var N in c.nb=w,bi(n,"providerId",this.a.providerId),c=P((w=this.a).Hb))c[N]=c[N].toString();N=w.Pc,c=In(c);for(var B=0;B<N.length;B++){var ie=N[B];ie in c&&delete c[ie]}w.ob&&w.nb&&!c[w.ob]&&(c[w.ob]=w.nb),Fn(c)||bi(n,"customParameters",T(c))}if("function"==typeof this.a.Pb&&(w=this.a.Pb()).length&&bi(n,"scopes",w.join(",")),this.l?bi(n,"redirectUrl",this.l):_s(n.b,"redirectUrl"),this.g?bi(n,"eventId",this.g):_s(n.b,"eventId"),this.i?bi(n,"v",this.i):_s(n.b,"v"),this.b)for(var me in this.b)this.b.hasOwnProperty(me)&&!Ar(n,me)&&bi(n,me,this.b[me]);return this.h?bi(n,"tid",this.h):_s(n.b,"tid"),this.f?bi(n,"eid",this.f):_s(n.b,"eid"),(me=jf(this.c)).length&&bi(n,"fw",me.join(",")),n.toString()},(m=ca.prototype).Nb=function(n,c,w){var N=new A("popup-closed-by-user"),B=new A("web-storage-unsupported"),ie=this,me=!1;return this.la().then(function(){(function(n){var c={type:"webStorageSupport"};return gp(n).then(function(){return function(n,c){return n.qb.then(function(){return new Qn(function(w){n.a.send(c.type,c,w,ai("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(n.m,c)}).then(function(w){if(w&&w.length&&void 0!==w[0].webStorageSupport)return w[0].webStorageSupport;throw Error()})})(ie).then(function(Qe){Qe||(n&&St(n),c(B),me=!0)})}).s(function(){}).then(function(){if(!me)return function(n){return new Qn(function(c){return function w(){Uo(2e3).then(function(){if(n&&!n.closed)return w();c()})}()})}(n)}).then(function(){if(!me)return Uo(w).then(function(){c(N)})})},m.Wb=function(){var n=Wi();return!y(n)&&!le(n)},m.Sb=function(){return!1},m.Lb=function(n,c,w,N,B,ie,me,Qe){if(!n)return fr(new A("popup-blocked"));if(me&&!y())return this.la().s(function(hn){St(n),B(hn)}),N(),zn();this.a||(this.a=pp(ks(this)));var Gt=this;return this.a.then(function(){var hn=Gt.la().s(function(rr){throw St(n),B(rr),rr});return N(),hn}).then(function(){Kl(w),me||j(eu(Gt.o,Gt.g,Gt.b,c,w,null,ie,Gt.c,void 0,Gt.i,Qe,Gt.f),n)}).s(function(hn){throw"auth/network-request-failed"==hn.code&&(Gt.a=null),hn})},m.Mb=function(n,c,w,N){this.a||(this.a=pp(ks(this)));var B=this;return this.a.then(function(){Kl(c),j(eu(B.o,B.g,B.b,n,c,C(),w,B.c,void 0,B.i,N,B.f))}).s(function(ie){throw"auth/network-request-failed"==ie.code&&(B.a=null),ie})},m.la=function(){var n=this;return gp(this).then(function(){return n.m.qb}).s(function(){throw n.a=null,new A("network-request-failed")})},m.Zb=function(){return!0},m.Ea=function(n){this.h.push(n)},m.Ra=function(n){Ve(this.h,function(c){return c==n})},(m=vp.prototype).get=function(n){return zn(this.a.getItem(n)).then(function(c){return c&&V(c)})},m.set=function(n,c){return zn(this.a.setItem(n,T(c)))},m.T=function(n){return zn(this.a.removeItem(n))},m.ca=function(){},m.ia=function(){};var tu,fd=[];function Nh(n,c,w){Fn(n.a)&&n.b.addEventListener("message",n.f),void 0===n.a[c]&&(n.a[c]=[]),n.a[c].push(w)}function Bf(n){this.a=n}function yp(n){this.c=n,this.b=!1,this.a=[]}function hd(n,c,w,N){var B,me,Qe,Gt,ie=w||{},hn=null;if(n.b)return fr(Error("connection_unavailable"));var rr=N?800:50,Xr="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Qn(function(ri,Oi){Xr?(B=Math.floor(Math.random()*Math.pow(10,20)).toString(),Xr.port1.start(),Qe=setTimeout(function(){Oi(Error("unsupported_event"))},rr),n.a.push(hn={messageChannel:Xr,onMessage:me=function(ku){ku.data.eventId===B&&("ack"===ku.data.status?(clearTimeout(Qe),Gt=setTimeout(function(){Oi(Error("timeout"))},3e3)):"done"===ku.data.status?(clearTimeout(Gt),void 0!==ku.data.response?ri(ku.data.response):Oi(Error("unknown_error"))):(clearTimeout(Qe),clearTimeout(Gt),Oi(Error("invalid_response"))))}}),Xr.port1.addEventListener("message",me),n.c.postMessage({eventType:c,eventId:B,data:ie},[Xr.port2])):Oi(Error("connection_unavailable"))}).then(function(ri){return Rh(n,hn),ri}).s(function(ri){throw Rh(n,hn),ri})}function Rh(n,c){if(c){var w=c.messageChannel;w&&(w.port1.removeEventListener("message",c.onMessage),w.port1.close()),Ve(n.a,function(B){return B==c})}}function dd(){if(!wp())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=Q.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var n=this;ti()&&self?(this.l=function(){var n=ti()?self:null;if(It(fd,function(w){w.b==n&&(c=w)}),!c){var c=new cd(n);fd.push(c)}return c}(),Nh(this.l,"keyChanged",function(c,w){return Kc(n).then(function(N){return 0<N.length&&It(n.a,function(B){B(N)}),{keyProcessed:pt(N,w.key)}})}),Nh(this.l,"ping",function(){return zn(["keyChanged"])})):function(){var n=Q.navigator;return n&&n.serviceWorker?zn().then(function(){return n.serviceWorker.ready}).then(function(c){return c.active||null}).s(function(){return null}):zn(null)}().then(function(c){(n.h=c)&&(n.g=new yp(new Bf(c)),hd(n.g,"ping",null,!0).then(function(w){w[0].fulfilled&&pt(w[0].value,"keyChanged")&&(n.o=!0)}).s(function(){}))})}function _p(n){return new Qn(function(c,w){var N=n.m.open("firebaseLocalStorageDb",1);N.onerror=function(B){try{B.preventDefault()}catch(ie){}w(Error(B.target.error))},N.onupgradeneeded=function(B){B=B.target.result;try{B.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(ie){w(ie)}},N.onsuccess=function(B){(B=B.target.result).objectStoreNames.contains("firebaseLocalStorage")?c(B):function(n){return new Qn(function(c,w){var N=n.m.deleteDatabase("firebaseLocalStorageDb");N.onsuccess=function(){c()},N.onerror=function(B){w(Error(B.target.error))}})}(n).then(function(){return _p(n)}).then(function(ie){c(ie)}).s(function(ie){w(ie)})}})}function pd(n){return n.v||(n.v=_p(n)),n.v}function wp(){try{return!!Q.indexedDB}catch(n){return!1}}function Hf(n){return n.objectStore("firebaseLocalStorage")}function zc(n,c){return n.transaction(["firebaseLocalStorage"],c?"readwrite":"readonly")}function Qs(n){return new Qn(function(c,w){n.onsuccess=function(N){N&&N.target?c(N.target.result):c()},n.onerror=function(N){w(N.target.error)}})}function bp(n,c){return n.g&&n.h&&function(){var n=Q.navigator;return n&&n.serviceWorker&&n.serviceWorker.controller||null}()===n.h?hd(n.g,"keyChanged",{key:c},n.o).then(function(){}).s(function(){}):zn()}function Kc(n){return pd(n).then(function(c){var w=Hf(zc(c,!1));return w.getAll?Qs(w.getAll()):new Qn(function(N,B){var ie=[],me=w.openCursor();me.onsuccess=function(Qe){(Qe=Qe.target.result)?(ie.push(Qe.value),Qe.continue()):N(ie)},me.onerror=function(Qe){B(Qe.target.error)}})}).then(function(c){var w={},N=[];if(0==n.b){for(N=0;N<c.length;N++)w[c[N].fbase_key]=c[N].value;N=X(n.c,w),n.c=w}return N})}function Ep(n){n.i&&n.i.cancel("STOP_EVENT"),n.f&&(clearTimeout(n.f),n.f=null)}function gg(n){var c=this,w=null;this.a=[],this.type="indexedDB",this.c=n,this.b=zn().then(function(){if(wp()){var N=ee(),B="__sak"+N;return tu||(tu=new dd),(w=tu).set(B,N).then(function(){return w.get(B)}).then(function(ie){if(ie!==N)throw Error("indexedDB not supported!");return w.T(B)}).then(function(){return w}).s(function(){return c.c})}return c.c}).then(function(N){return c.type=N.type,N.ca(function(B){It(c.a,function(ie){ie(B)})}),N})}function Oh(){this.a={},this.type="inMemory"}function fa(){if(!function(){var n="Node"==ni();if(!(n=mg()||n&&k.INTERNAL.node&&k.INTERNAL.node.localStorage))return!1;try{return n.setItem("__sak","1"),n.removeItem("__sak"),!0}catch(c){return!1}}())throw"Node"==ni()?new A("internal-error","The LocalStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=mg()||k.INTERNAL.node.localStorage,this.type="localStorage"}function mg(){try{var n=Q.localStorage,c=ee();return n&&(n.setItem(c,"1"),n.removeItem(c)),n}catch(w){return null}}function gd(){this.type="nullStorage"}function md(){if(!function(){var n="Node"==ni();if(!(n=yg()||n&&k.INTERNAL.node&&k.INTERNAL.node.sessionStorage))return!1;try{return n.setItem("__sak","1"),n.removeItem("__sak"),!0}catch(c){return!1}}())throw"Node"==ni()?new A("internal-error","The SessionStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=yg()||k.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function yg(){try{var n=Q.sessionStorage,c=ee();return n&&(n.setItem(c,"1"),n.removeItem(c)),n}catch(w){return null}}function _g(){var n={};n.Browser=wg,n.Node=Kr,n.ReactNative=Or,n.Worker=Qc,this.a=n[ni()]}cd.prototype.c=function(n){var c=n.data.eventType,w=n.data.eventId,N=this.a[c];if(N&&0<N.length){n.ports[0].postMessage({status:"ack",eventId:w,eventType:c,response:null});var B=[];It(N,function(ie){B.push(zn().then(function(){return ie(n.origin,n.data.data)}))}),Fo(B).then(function(ie){var me=[];It(ie,function(Qe){me.push({fulfilled:Qe.Ob,value:Qe.value,reason:Qe.reason?Qe.reason.message:void 0})}),It(me,function(Qe){for(var Gt in Qe)void 0===Qe[Gt]&&delete Qe[Gt]}),n.ports[0].postMessage({status:"done",eventId:w,eventType:c,response:me})})}},Bf.prototype.postMessage=function(n,c){this.a.postMessage(n,c)},yp.prototype.close=function(){for(;0<this.a.length;)Rh(this,this.a[0]);this.b=!0},(m=dd.prototype).set=function(n,c){var N,w=!1,B=this;return pd(this).then(function(ie){return Qs((ie=Hf(zc(N=ie,!0))).get(n))}).then(function(ie){var me=Hf(zc(N,!0));return ie?(ie.value=c,Qs(me.put(ie))):(B.b++,w=!0,(ie={}).fbase_key=n,ie.value=c,Qs(me.add(ie)))}).then(function(){return B.c[n]=c,bp(B,n)}).na(function(){w&&B.b--})},m.get=function(n){return pd(this).then(function(c){return Qs(Hf(zc(c,!1)).get(n))}).then(function(c){return c&&c.value})},m.T=function(n){var c=!1,w=this;return pd(this).then(function(N){return c=!0,w.b++,Qs(Hf(zc(N,!0)).delete(n))}).then(function(){return delete w.c[n],bp(w,n)}).na(function(){c&&w.b--})},m.ca=function(n){0==this.a.length&&function(n){Ep(n),function c(){n.f=setTimeout(function(){n.i=Kc(n).then(function(w){0<w.length&&It(n.a,function(N){N(w)})}).then(function(){c()}).s(function(w){"STOP_EVENT"!=w.message&&c()})},800)}()}(this),this.a.push(n)},m.ia=function(n){Ve(this.a,function(c){return c==n}),0==this.a.length&&Ep(this)},(m=gg.prototype).get=function(n){return this.b.then(function(c){return c.get(n)})},m.set=function(n,c){return this.b.then(function(w){return w.set(n,c)})},m.T=function(n){return this.b.then(function(c){return c.T(n)})},m.ca=function(n){this.a.push(n)},m.ia=function(n){Ve(this.a,function(c){return c==n})},(m=Oh.prototype).get=function(n){return zn(this.a[n])},m.set=function(n,c){return this.a[n]=c,zn()},m.T=function(n){return delete this.a[n],zn()},m.ca=function(){},m.ia=function(){},(m=fa.prototype).get=function(n){var c=this;return zn().then(function(){return V(c.a.getItem(n))})},m.set=function(n,c){var w=this;return zn().then(function(){var N=T(c);null===N?w.T(n):w.a.setItem(n,N)})},m.T=function(n){var c=this;return zn().then(function(){c.a.removeItem(n)})},m.ca=function(n){Q.window&&xn(Q.window,"storage",n)},m.ia=function(n){Q.window&&sr(Q.window,"storage",n)},(m=gd.prototype).get=function(){return zn(null)},m.set=function(){return zn()},m.T=function(){return zn()},m.ca=function(){},m.ia=function(){},(m=md.prototype).get=function(n){var c=this;return zn().then(function(){return V(c.a.getItem(n))})},m.set=function(n,c){var w=this;return zn().then(function(){var N=T(c);null===N?w.T(n):w.a.setItem(n,N)})},m.T=function(n){var c=this;return zn().then(function(){c.a.removeItem(n)})},m.ca=function(){},m.ia=function(){};var Cp,vd,wg={D:fa,ab:md},Kr={D:fa,ab:md},Or={D:vp,ab:gd},Qc={D:fa,ab:gd},lc={qd:"local",NONE:"none",sd:"session"};function nu(){var n=!(le(Wi())||!Os()),c=y(),w=ja();this.v=n,this.h=c,this.l=w,this.a={},Cp||(Cp=new _g),n=Cp;try{this.g=!Ii()&&On()||!Q.indexedDB?new n.a.D:new gg(ti()?new Oh:new n.a.D)}catch(N){this.g=new Oh,this.h=!0}try{this.i=new n.a.ab}catch(N){this.i=new Oh}this.m=new Oh,this.f=ft(this.Xb,this),this.b={}}function Ph(){return vd||(vd=new nu),vd}function fs(n,c){switch(c){case"session":return n.i;case"none":return n.m;default:return n.g}}function Ys(n,c){return"firebase:"+n.name+(c?":"+c:"")}function cc(n,c,w){return w=Ys(c,w),"local"==c.D&&(n.b[w]=null),fs(n,c.D).T(w)}function hs(n){n.c&&(clearInterval(n.c),n.c=null)}function Nu(n){this.a=n,this.b=Ph()}(m=nu.prototype).get=function(n,c){return fs(this,n.D).get(Ys(n,c))},m.set=function(n,c,w){var N=Ys(n,w),B=this,ie=fs(this,n.D);return ie.set(N,c).then(function(){return ie.get(N)}).then(function(me){"local"==n.D&&(B.b[N]=me)})},m.addListener=function(n,c,w){n=Ys(n,c),this.l&&(this.b[n]=Q.localStorage.getItem(n)),Fn(this.a)&&(fs(this,"local").ca(this.f),this.h||(Ii()||!On())&&Q.indexedDB||!this.l||function(n){hs(n),n.c=setInterval(function(){for(var c in n.a){var w=Q.localStorage.getItem(c),N=n.b[c];w!=N&&(n.b[c]=w,w=new Xt({type:"storage",key:c,target:window,oldValue:N,newValue:w,a:!0}),n.Xb(w))}},1e3)}(this)),this.a[n]||(this.a[n]=[]),this.a[n].push(w)},m.removeListener=function(n,c,w){n=Ys(n,c),this.a[n]&&(Ve(this.a[n],function(N){return N==w}),0==this.a[n].length&&delete this.a[n]),Fn(this.a)&&(fs(this,"local").ia(this.f),hs(this))},m.Xb=function(n){if(n&&n.g){var c=n.a.key;if(null==c)for(var w in this.a){var N=this.b[w];void 0===N&&(N=null);var B=Q.localStorage.getItem(w);B!==N&&(this.b[w]=B,this.lb(w))}else if(0==c.indexOf("firebase:")&&this.a[c]){if(void 0!==n.a.a?fs(this,"local").ia(this.f):hs(this),this.v)if(w=Q.localStorage.getItem(c),(N=n.a.newValue)!==w)null!==N?Q.localStorage.setItem(c,N):Q.localStorage.removeItem(c);else if(this.b[c]===N&&void 0===n.a.a)return;var ie=this;w=function(){(void 0!==n.a.a||ie.b[c]!==Q.localStorage.getItem(c))&&(ie.b[c]=Q.localStorage.getItem(c),ie.lb(c))},Ee&&or&&10==or&&Q.localStorage.getItem(c)!==n.a.newValue&&n.a.newValue!==n.a.oldValue?setTimeout(w,10):w()}}else It(n,ft(this.lb,this))},m.lb=function(n){this.a[n]&&It(this.a[n],function(c){c()})};var _d,Eg={name:"authEvent",D:"local"};function xh(){this.a=Ph()}function qf(n,c){this.b=Cg,this.f=Q.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=n,this.h=c,this.l=Q.Int32Array?new Int32Array(64):Array(64),void 0===_d&&(_d=Q.Int32Array?new Int32Array(Sg):Sg),this.reset()}F(qf,function(){this.b=-1});for(var Cg=64,Tp=Cg-1,Tg=[],Wf=0;Wf<Tp;Wf++)Tg[Wf]=0;var Yc=$e(128,Tg);function Wr(n){for(var c=n.f,w=n.l,N=0,B=0;B<c.length;)w[N++]=c[B]<<24|c[B+1]<<16|c[B+2]<<8|c[B+3],B=4*N;for(c=16;64>c;c++){var ie=(0|w[c-16])+(((B=0|w[c-15])>>>7|B<<25)^(B>>>18|B<<14)^B>>>3)|0,me=(0|w[c-7])+(((N=0|w[c-2])>>>17|N<<15)^(N>>>19|N<<13)^N>>>10)|0;w[c]=ie+me|0}N=0|n.a[0],B=0|n.a[1];var Qe=0|n.a[2],Gt=0|n.a[3],hn=0|n.a[4],rr=0|n.a[5],Xr=0|n.a[6];for(ie=0|n.a[7],c=0;64>c;c++){var ri=((N>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10))+(N&B^N&Qe^B&Qe)|0;me=(ie=ie+((hn>>>6|hn<<26)^(hn>>>11|hn<<21)^(hn>>>25|hn<<7))|0)+((me=(me=hn&rr^~hn&Xr)+(0|_d[c])|0)+(0|w[c])|0)|0,ie=Xr,Xr=rr,rr=hn,hn=Gt+me|0,Gt=Qe,Qe=B,B=N,N=me+ri|0}n.a[0]=n.a[0]+N|0,n.a[1]=n.a[1]+B|0,n.a[2]=n.a[2]+Qe|0,n.a[3]=n.a[3]+Gt|0,n.a[4]=n.a[4]+hn|0,n.a[5]=n.a[5]+rr|0,n.a[6]=n.a[6]+Xr|0,n.a[7]=n.a[7]+ie|0}function fc(n,c,w){void 0===w&&(w=c.length);var N=0,B=n.c;if("string"==typeof c)for(;N<w;)n.f[B++]=c.charCodeAt(N++),B==n.b&&(Wr(n),B=0);else{if(!Tt(c))throw Error("message must be string or array");for(;N<w;){var ie=c[N++];if(!("number"==typeof ie&&0<=ie&&255>=ie&&ie==(0|ie)))throw Error("message must be a byte array");n.f[B++]=ie,B==n.b&&(Wr(n),B=0)}}n.c=B,n.g+=w}qf.prototype.reset=function(){this.g=this.c=0,this.a=Q.Int32Array?new Int32Array(this.h):bt(this.h)};var Sg=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function nl(){qf.call(this,8,uv)}F(nl,qf);var uv=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Sp(n,c,w,N,B,ie){this.m=n,this.i=c,this.l=w,this.v=N||null,this.u=B||null,this.o=ie,this.h=c+":"+w,this.A=new xh,this.g=new Nu(this.h),this.f=null,this.b=[],this.a=this.c=null}function wd(n){return new A("invalid-cordova-configuration",n)}function Ig(n,c){for(var w=0;w<n.b.length;w++)try{n.b[w](c)}catch(N){}}function Ed(n){return n.f||(n.f=n.la().then(function(){return new Qn(function(c){n.Ea(function w(N){return c(N),n.Ra(w),!1}),function(n){function c(me){N=!0,B&&B.cancel(),Dg(n).then(function(Qe){var Gt=w;if(Qe&&me&&me.url){var hn=null;-1!=(Gt=vh(me.url)).indexOf("/__/auth/callback")&&(hn=(hn="object"==typeof(hn=V(Ar(hn=wi(Gt),"firebaseError")||null))?G(hn):null)?new Na(Qe.c,Qe.b,null,null,hn,null,Qe.S()):new Na(Qe.c,Qe.b,Gt,Qe.f,null,null,Qe.S())),Gt=hn||w}Ig(n,Gt)})}var w=new Na("unknown",null,null,null,new A("no-auth-event")),N=!1,B=Uo(500).then(function(){return Dg(n).then(function(){N||Ig(n,w)})}),ie=Q.handleOpenURL;Q.handleOpenURL=function(me){if(0==me.toLowerCase().indexOf(ai("BuildInfo.packageName",Q).toLowerCase()+"://")&&c({url:me}),"function"==typeof ie)try{ie(me)}catch(Qe){console.error(Qe)}},td||(td=new lg),function(n){var c=td;c.a.push(n),c.b||(c.b=function(w){for(var N=0;N<c.a.length;N++)c.a[N](w)},"function"==typeof(n=ai("universalLinks.subscribe",Q))&&n(null,c.b))}(c)}(n)})})),n.f}function Dg(n){var c=null;return function(n){return n.b.get(Eg,n.a).then(function(c){return ed(c)})}(n.g).then(function(w){return c=w,cc((w=n.g).b,Eg,w.a)}).then(function(){return c})}function Dp(n){this.a=n,this.b=Ph()}(m=Sp.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(Li(void 0)?No().then(function(){return new Qn(function(n,c){var w=Q.document,N=setTimeout(function(){c(Error("Cordova framework is not ready."))},1e3);w.addEventListener("deviceready",function(){clearTimeout(N),n()},!1)})}):fr(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof ai("universalLinks.subscribe",Q))throw wd("cordova-universal-links-plugin-fix is not installed");if(void 0===ai("BuildInfo.packageName",Q))throw wd("cordova-plugin-buildinfo is not installed");if("function"!=typeof ai("cordova.plugins.browsertab.openUrl",Q))throw wd("cordova-plugin-browsertab is not installed");if("function"!=typeof ai("cordova.InAppBrowser.open",Q))throw wd("cordova-plugin-inappbrowser is not installed")},function(){throw new A("cordova-not-ready")})},m.Nb=function(n,c){return c(new A("operation-not-supported-in-this-environment")),zn()},m.Lb=function(){return fr(new A("operation-not-supported-in-this-environment"))},m.Zb=function(){return!1},m.Wb=function(){return!0},m.Sb=function(){return!0},m.Mb=function(n,c,w,N){if(this.c)return fr(new A("redirect-operation-pending"));var B=this,ie=Q.document,me=null,Qe=null,Gt=null,hn=null;return this.c=zn().then(function(){return Kl(c),Ed(B)}).then(function(){return function(n,c,w,N,B){var ie=function(){for(var n=20,c=[];0<n;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),n--;return c.join("")}(),me=new Na(c,N,null,ie,new A("no-auth-event"),null,B),Qe=ai("BuildInfo.packageName",Q);if("string"!=typeof Qe)throw new A("invalid-cordova-configuration");var Gt=ai("BuildInfo.displayName",Q),hn={};if(Wi().toLowerCase().match(/iphone|ipad|ipod/))hn.ibi=Qe;else{if(!Wi().toLowerCase().match(/android/))return fr(new A("operation-not-supported-in-this-environment"));hn.apn=Qe}Gt&&(hn.appDisplayName=Gt),ie=function(n){var c=new nl;fc(c,n),n=[];var w=8*c.g;fc(c,Yc,56>c.c?56-c.c:c.b-(c.c-56));for(var N=63;56<=N;N--)c.f[N]=255&w,w/=256;for(Wr(c),N=w=0;N<c.i;N++)for(var B=24;0<=B;B-=8)n[w++]=c.a[N]>>B&255;return function(n){return Mn(n,function(c){return 1<(c=c.toString(16)).length?c:"0"+c}).join("")}(n)}(ie),hn.sessionId=ie;var rr=eu(n.m,n.i,n.l,c,w,null,N,n.v,hn,n.u,B,n.o);return n.la().then(function(){var Xr=n.h;return n.A.a.set(Eg,me.w(),Xr)}).then(function(){var Xr=ai("cordova.plugins.browsertab.isAvailable",Q);if("function"!=typeof Xr)throw new A("invalid-cordova-configuration");var ri=null;Xr(function(Oi){if(Oi){if("function"!=typeof(ri=ai("cordova.plugins.browsertab.openUrl",Q)))throw new A("invalid-cordova-configuration");ri(rr)}else{if("function"!=typeof(ri=ai("cordova.InAppBrowser.open",Q)))throw new A("invalid-cordova-configuration");Oi=Wi(),n.a=ri(rr,Oi.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Oi.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(B,n,c,w,N)}).then(function(){return new Qn(function(rr,Xr){Qe=function(){var ri=ai("cordova.plugins.browsertab.close",Q);return rr(),"function"==typeof ri&&ri(),B.a&&"function"==typeof B.a.close&&(B.a.close(),B.a=null),!1},B.Ea(Qe),hn=function(){ct()&&Gt()},ie.addEventListener("resume",Gt=function(){me||(me=Uo(2e3).then(function(){Xr(new A("redirect-cancelled-by-user"))}))},!1),Wi().toLowerCase().match(/android/)||ie.addEventListener("visibilitychange",hn,!1)}).s(function(rr){return Dg(B).then(function(){throw rr})})}).na(function(){Gt&&ie.removeEventListener("resume",Gt,!1),hn&&ie.removeEventListener("visibilitychange",hn,!1),me&&me.cancel(),Qe&&B.Ra(Qe),B.c=null})},m.Ea=function(n){this.b.push(n),Ed(this).s(function(c){"auth/invalid-cordova-configuration"===c.code&&(c=new Na("unknown",null,null,null,new A("no-auth-event")),n(c))})},m.Ra=function(n){Ve(this.b,function(c){return c==n})};var Ru={name:"pendingRedirect",D:"session"};function Ap(n){return cc(n.b,Ru,n.a)}function $f(n,c,w,N){this.i={},this.u=0,this.O=n,this.m=c,this.v=w,this.G=N,this.h=[],this.f=!1,this.l=ft(this.o,this),this.b=new Pu,this.A=new Yf,this.g=new Dp(Zc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=zf(this.O,this.m,this.v,$t,this.G)}function zf(n,c,w,N,B){var ie=k.SDK_VERSION||null;return Li()?new Sp(n,c,w,ie,N,B):new ca(n,c,w,ie,N,B)}function Td(n){n.f||(n.f=!0,n.a.Ea(n.l));var c=n.a;return n.a.la().s(function(w){throw n.a==c&&n.reset(),w})}function Rg(n){n.a.Wb()&&Td(n).s(function(c){var w=new Na("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));kh(c)&&n.o(w)}),n.a.Sb()||hc(n.b)}function rl(n,c){pt(n.h,c)||n.h.push(c),n.f||function(n){return n.b.get(Ru,n.a).then(function(c){return"pending"==c})}(n.g).then(function(w){w?Ap(n.g).then(function(){Td(n).s(function(N){var B=new Na("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));kh(N)&&n.o(B)})}):Rg(n)}).s(function(){Rg(n)})}function Np(n,c){Ve(n.h,function(w){return w==c})}$f.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=zf(this.O,this.m,this.v,null,this.G),this.i={}},$f.prototype.o=function(n){if(!n)throw new A("invalid-auth-event");if(6e5<=O()-this.u&&(this.i={},this.u=0),n&&n.getUid()&&this.i.hasOwnProperty(n.getUid()))return!1;for(var c=!1,w=0;w<this.h.length;w++){var N=this.h[w];if(N.Eb(n.c,n.b)){(c=this.c[n.c])&&(c.h(n,N),n&&(n.f||n.b)&&(this.i[n.getUid()]=!0,this.u=O())),c=!0;break}}return hc(this.b),c};var ym=new Ce(2e3,1e4),_m=new Ce(3e4,6e4);function Kf(n,c,w,N,B,ie,me){return n.a.Lb(c,w,N,function(){n.f||(n.f=!0,n.a.Ea(n.l))},function(){n.reset()},B,ie,me)}function kh(n){return!(!n||"auth/cordova-not-ready"!=n.code)}function Ou(n,c,w,N,B){var ie;return function(n){return n.b.set(Ru,"pending",n.a)}(n.g).then(function(){return n.a.Mb(c,w,N,B).s(function(me){if(kh(me))throw new A("operation-not-supported-in-this-environment");return ie=me,Ap(n.g).then(function(){throw ie})}).then(function(){return n.a.Zb()?new Qn(function(){}):Ap(n.g).then(function(){return n.qa()}).then(function(){}).s(function(){})})})}function Qf(n,c,w,N,B){return n.a.Nb(N,function(ie){c.ma(w,null,ie,B)},ym.get())}$f.prototype.qa=function(){return this.b.qa()};var Sd={};function Zc(n,c,w){return n=n+":"+c,w&&(n=n+":"+w.url),n}function Jc(n,c,w,N){var B=Zc(c,w,N);return Sd[B]||(Sd[B]=new $f(n,c,w,N)),Sd[B]}function Pu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function hc(n){n.g||(n.g=!0,Nl(n,!1,null,null))}function dc(n){n.g&&!n.i&&Nl(n,!1,null,null)}function Fh(n,c){if(n.b=function(){return zn(c)},n.f.length)for(var w=0;w<n.f.length;w++)n.f[w](c)}function Nl(n,c,w,N){c?N?function(n,c){if(n.b=function(){return fr(c)},n.c.length)for(var w=0;w<n.c.length;w++)n.c[w](c)}(n,N):Fh(n,w):Fh(n,{user:null}),n.f=[],n.c=[]}function Yf(){}function pc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(n){this.hb=n},enumerable:!1})}function Id(n,c){this.a=c,Hn(this,"verificationId",n)}function Dd(n,c,w,N){return new Ws(n).eb(c,w).then(function(B){return new Id(B,N)})}function cv(n){var c=Jh(n);if(!(c&&c.exp&&c.auth_time&&c.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ri(this,{token:n,expirationTime:an(1e3*c.exp),authTime:an(1e3*c.auth_time),issuedAtTime:an(1e3*c.iat),signInProvider:c.firebase&&c.firebase.sign_in_provider?c.firebase.sign_in_provider:null,signInSecondFactor:c.firebase&&c.firebase.sign_in_second_factor?c.firebase.sign_in_second_factor:null,claims:c})}function Ad(n,c,w){var N=c&&c[Jf];if(!N)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=n,this.f=In(c),this.g=w,this.c=new Pc(null,N),this.b=[];var B=this;It(c[Zf]||[],function(ie){(ie=Nc(ie))&&B.b.push(ie)}),Hn(this,"auth",this.a),Hn(this,"session",this.c),Hn(this,"hints",this.b)}Pu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Pu.prototype.h=function(n,c){if(n){this.reset(),this.g=!0;var w=n.c,N=n.b,B=n.a&&"auth/web-storage-unsupported"==n.a.code,ie=n.a&&"auth/operation-not-supported-in-this-environment"==n.a.code;this.i=!(!B&&!ie),"unknown"!=w||B||ie?n.a?(Nl(this,!0,null,n.a),zn()):c.Fa(w,N)?function(n,c,w){w=w.Fa(c.c,c.b);var N=c.g,B=c.f,ie=c.i,me=c.S(),Qe=!!c.c.match(/Redirect$/);w(N,B,me,ie).then(function(Gt){Nl(n,Qe,Gt,null)}).s(function(Gt){Nl(n,Qe,null,Gt)})}(this,n,c):fr(new A("invalid-auth-event")):(Nl(this,!1,null,null),zn())}else fr(new A("invalid-auth-event"))},Pu.prototype.qa=function(){var n=this;return new Qn(function(c,w){n.b?n.b().then(c,w):(n.f.push(c),n.c.push(w),function(n){var c=new A("timeout");n.a&&n.a.cancel(),n.a=Uo(_m.get()).then(function(){n.b||(n.g=!0,Nl(n,!0,null,c))})}(n))})},Yf.prototype.h=function(n,c){if(n){var w=n.c,N=n.b;n.a?(c.ma(n.c,null,n.a,n.b),zn()):c.Fa(w,N)?function(n,c){var w=n.b,N=n.c;c.Fa(N,w)(n.g,n.f,n.S(),n.i).then(function(B){c.ma(N,B,null,w)}).s(function(B){c.ma(N,null,B,w)})}(n,c):fr(new A("invalid-auth-event"))}else fr(new A("invalid-auth-event"))},Id.prototype.confirm=function(n){return n=yu(this.verificationId,n),this.a(n)};var Zf="mfaInfo",Jf="mfaPendingCredential";function Xf(n,c,w,N){A.call(this,"multi-factor-auth-required",N,c),this.b=new Ad(n,c,w),Hn(this,"resolver",this.b)}function Rp(n,c,w){if(n&&ke(n.serverResponse)&&"auth/multi-factor-auth-required"===n.code)try{return new Xf(c,n.serverResponse,w,n.message)}catch(N){}return null}function Op(){}function xp(n){Hn(this,"factorId",n.fa),this.a=n}function wm(n){if(xp.call(this,n),this.a.fa!=Ws.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Vh(n,c){for(var w in xt.call(this,n),c)this[w]=c[w]}function Uh(n,c){this.a=n,this.b=[],this.c=ft(this.xc,this),xn(this.a,"userReloaded",this.c);var w=[];c&&c.multiFactor&&c.multiFactor.enrolledFactors&&It(c.multiFactor.enrolledFactors,function(N){var B=null,ie={};if(N){N.uid&&(ie[hu]=N.uid),N.displayName&&(ie[na]=N.displayName),N.enrollmentTime&&(ie[Ba]=new Date(N.enrollmentTime).toISOString()),N.phoneNumber&&(ie[du]=N.phoneNumber);try{B=new Ca(ie)}catch(me){}N=B}else N=null;N&&w.push(N)}),Nd(this,w)}function Nd(n,c){n.b=c,Hn(n,"enrolledFactors",c)}function Xc(n,c,w){if(this.h=n,this.i=c,this.g=w,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Rd(n,c){n.stop(),n.b=Uo(function(n,c){return c?(n.a=n.c,n.g()):(c=n.a,n.a*=2,n.a>n.f&&(n.a=n.f),c)}(n,c)).then(function(){return function(){var n=Q.document,c=null;return ct()||!n?zn():new Qn(function(w){c=function(){ct()&&(n.removeEventListener("visibilitychange",c,!1),w())},n.addEventListener("visibilitychange",c,!1)}).s(function(w){throw n.removeEventListener("visibilitychange",c,!1),w})}()}).then(function(){return n.h()}).then(function(){Rd(n,!0)}).s(function(w){n.i(w)&&Rd(n,!1)})}function Od(n){this.c=n,this.b=this.a=null}function kp(n){return n.b&&1e3*n.b.c||0}function Fp(n,c){var w=c.refreshToken;n.b=Ga(c[Ss]||""),n.a=w}function eh(n,c){this.a=n||null,this.b=c||null,Ri(this,{lastSignInTime:an(c||null),creationTime:an(n||null)})}function Fg(n,c,w,N,B,ie){Ri(this,{uid:n,displayName:N||null,photoURL:B||null,email:w||null,phoneNumber:ie||null,providerId:c})}function Go(n,c,w){this.G=[],this.l=n.apiKey,this.m=n.appName,this.o=n.authDomain||null;var N=k.SDK_VERSION?cu(k.SDK_VERSION):null;this.a=new ua(this.l,fe($t),N),n.emulatorConfig&&ro(this.a,n.emulatorConfig),this.b=new Od(this.a),Up(this,c[Ss]),Fp(this.b,c),Hn(this,"refreshToken",this.b.a),jp(this,w||{}),Ti.call(this),this.P=!1,this.o&&as()&&(this.i=Jc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(n){return new Xc(function(){return n.I(!0)},function(c){return!(!c||"auth/network-request-failed"!=c.code)},function(){var c=kp(n.b)-O()-3e5;return 0<c?c:0})}(this),this.$=ft(this.gb,this);var B=this;this.pa=null,this.Ba=function(ie){B.wa(ie.h)},this.ba=null,this.za=function(ie){ro(B.a,ie.c)},this.W=null,this.X=[],this.Aa=function(ie){ef(B,ie.f)},this.aa=null,this.N=new Uh(this,w),Hn(this,"multiFactor",this.N)}function Lp(n,c){n.ba&&sr(n.ba,"languageCodeChanged",n.Ba),(n.ba=c)&&xn(c,"languageCodeChanged",n.Ba)}function ru(n,c){n.W&&sr(n.W,"emulatorConfigChanged",n.za),(n.W=c)&&xn(c,"emulatorConfigChanged",n.za)}function ef(n,c){n.X=c,nc(n.a,k.SDK_VERSION?cu(k.SDK_VERSION,n.X):null)}function Vp(n,c){n.aa&&sr(n.aa,"frameworkChanged",n.Aa),(n.aa=c)&&xn(c,"frameworkChanged",n.Aa)}function tf(n){try{return k.app(n.m).auth()}catch(c){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+n.m+"'!")}}function xd(n){n.A||n.u.b||(n.u.start(),sr(n,"tokenChanged",n.$),xn(n,"tokenChanged",n.$))}function Md(n){sr(n,"tokenChanged",n.$),n.u.stop()}function Up(n,c){n.ya=c,Hn(n,"_lat",c)}function xu(n){for(var c=[],w=0;w<n.R.length;w++)c.push(n.R[w](n));return Fo(c).then(function(){return n})}function Fs(n){n.i&&!n.P&&(n.P=!0,rl(n.i,n))}function jp(n,c){Ri(n,{uid:c.uid,displayName:c.displayName||null,photoURL:c.photoURL||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,isAnonymous:c.isAnonymous||!1,tenantId:c.tenantId||null,metadata:new eh(c.createdAt,c.lastLoginAt),providerData:[]}),n.a.b=n.tenantId}function th(){}function mc(n){return zn().then(function(){if(n.A)throw new A("app-deleted")})}function nh(n){return Mn(n.providerData,function(c){return c.providerId})}function jh(n,c){c&&(kd(n,c.providerId),n.providerData.push(c))}function kd(n,c){Ve(n.providerData,function(w){return w.providerId==c})}function Rl(n,c,w){("uid"!=c||w)&&n.hasOwnProperty(c)&&Hn(n,c,w)}function Fd(n,c){n!=c&&(Ri(n,{uid:c.uid,displayName:c.displayName,photoURL:c.photoURL,email:c.email,emailVerified:c.emailVerified,phoneNumber:c.phoneNumber,isAnonymous:c.isAnonymous,tenantId:c.tenantId,providerData:[]}),Hn(n,"metadata",c.metadata?function(n){return new eh(n.a,n.b)}(c.metadata):new eh),It(c.providerData,function(w){jh(n,w)}),function(n,c){n.b=c.b,n.a=c.a}(n.b,c.b),Hn(n,"refreshToken",n.b.a),Nd(n.N,c.N.b))}function rh(n){return n.I().then(function(c){var w=n.isAnonymous;return function(n,c){return Tr(n.a,i,{idToken:c}).then(ft(n.Jc,n))}(n,c).then(function(){return w||Rl(n,"isAnonymous",!1),c})})}function ka(n,c){c[Ss]&&n.ya!=c[Ss]&&(Fp(n.b,c),n.dispatchEvent(new Vh("tokenChanged")),Up(n,c[Ss]),Rl(n,"refreshToken",n.b.a))}function ih(n,c){return rh(n).then(function(){if(pt(nh(n),c))return xu(n).then(function(){throw new A("provider-already-linked")})})}function Ol(n,c,w){return Co({user:n,credential:Aa(c),additionalUserInfo:c=qa(c),operationType:w})}function Ld(n,c){return ka(n,c),n.reload().then(function(){return n})}function Bp(n,c,w,N,B){if(!as())return fr(new A("operation-not-supported-in-this-environment"));if(n.f&&!B)return fr(n.f);var ie=gu(w.providerId),me=ee(n.uid+":::"),Qe=null;(!y()||Os())&&n.o&&w.isOAuthProvider&&(Qe=eu(n.o,n.l,n.m,c,w,null,me,k.SDK_VERSION||null,null,null,n.tenantId));var Gt=kn(Qe,ie&&ie.ua,ie&&ie.ta);return N=N().then(function(){if(il(n),!B)return n.I().then(function(){})}).then(function(){return Kf(n.i,Gt,c,w,me,!!Qe,n.tenantId)}).then(function(){return new Qn(function(hn,rr){n.ma(c,null,new A("cancelled-popup-request"),n.h||null),n.g=hn,n.O=rr,n.h=me,n.c=Qf(n.i,n,c,Gt,me)})}).then(function(hn){return Gt&&St(Gt),hn?Co(hn):null}).s(function(hn){throw Gt&&St(Gt),hn}),So(n,N,B)}function Hp(n,c,w,N,B){if(!as())return fr(new A("operation-not-supported-in-this-environment"));if(n.f&&!B)return fr(n.f);var ie=null,me=ee(n.uid+":::");return N=N().then(function(){if(il(n),!B)return n.I().then(function(){})}).then(function(){return n.ga=me,xu(n)}).then(function(Qe){return n.ha&&(Qe=(Qe=n.ha).b.set(rf,n.w(),Qe.a)),Qe}).then(function(){return Ou(n.i,c,w,me,n.tenantId)}).s(function(Qe){if(ie=Qe,n.ha)return oh(n.ha);throw ie}).then(function(){if(ie)throw ie}),So(n,N,B)}function il(n){if(!n.i||!n.P)throw new A(n.i&&!n.P?"internal-error":"auth-domain-config-required")}function So(n,c,w){var N=function(n,c,w){return n.f&&!w?(c.cancel(),fr(n.f)):c.s(function(N){throw!N||"auth/user-disabled"!=N.code&&"auth/user-token-expired"!=N.code||(n.f||n.dispatchEvent(new Vh("userInvalidated")),n.f=N),N})}(n,c,w);return n.G.push(N),N.na(function(){_t(n.G,N)}),N.s(function(B){var ie=null;throw B&&"auth/multi-factor-auth-required"===B.code&&(ie=Rp(B.w(),tf(n),ft(n.ic,n))),ie||B})}function Vd(n){if(!n.apiKey)return null;var c={apiKey:n.apiKey,authDomain:n.authDomain,appName:n.appName,emulatorConfig:n.emulatorConfig},w={};if(!n.stsTokenManager||!n.stsTokenManager.accessToken)return null;w[Ss]=n.stsTokenManager.accessToken,w.refreshToken=n.stsTokenManager.refreshToken||null;var N=new Go(c,w,n);return n.providerData&&It(n.providerData,function(B){B&&jh(N,Co(B))}),n.redirectEventId&&(N.ga=n.redirectEventId),N}function Hh(n){this.a=n,this.b=Ph()}Ad.prototype.Qc=function(n){var c=this;return n.rb(this.a.a,this.c).then(function(w){var N=In(c.f);return delete N[Zf],delete N[Jf],Ln(N,w),c.g(N)})},F(Xf,A),Op.prototype.rb=function(n,c,w){return c.type==cl?function(n,c,w,N){return w.Ha().then(function(B){return B={idToken:B},void 0!==N&&(B.displayName=N),Ln(B,{phoneVerificationInfo:Da(n.a)}),Tr(c,ad,B)})}(this,n,c,w):function(n,c,w){return w.Ha().then(function(N){return Ln(N={mfaPendingCredential:N},{phoneVerificationInfo:Da(n.a)}),Tr(c,l,N)})}(this,n,c)},F(xp,Op),F(wm,xp),F(Vh,xt),(m=Uh.prototype).xc=function(n){Nd(this,function(n){var c=[];return It(n.mfaInfo||[],function(w){(w=Nc(w))&&c.push(w)}),c}(n.gd))},m.Qb=function(){return this.a.I().then(function(n){return new Pc(n,null)})},m.ec=function(n,c){var w=this,N=this.a.a;return this.Qb().then(function(B){return n.rb(N,B,c)}).then(function(B){return ka(w.a,B),w.a.reload()})},m.ad=function(n){var c=this,w="string"==typeof n?n:n.uid,N=this.a.a;return this.a.I().then(function(B){return Tr(N,es,{idToken:B,mfaEnrollmentId:w})}).then(function(B){var ie=Ir(c.b,function(me){return me.uid!=w});return Nd(c,ie),ka(c.a,B),c.a.reload().s(function(me){if("auth/user-token-expired"!=me.code)throw me})})},m.w=function(){return{multiFactor:{enrolledFactors:Mn(this.b,function(n){return n.w()})}}},Xc.prototype.start=function(){this.a=this.c,Rd(this,!0)},Xc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Od.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:kp(this)}},Od.prototype.getToken=function(n){return n=!!n,this.b&&!this.a?fr(new A("user-token-expired")):n||!this.b||O()>kp(this)-3e4?this.a?function(n,c){return function(n,c){return new Qn(function(w,N){"refresh_token"==c.grant_type&&c.refresh_token||"authorization_code"==c.grant_type&&c.code?Bc(n,n.l+"?key="+encodeURIComponent(n.c),function(B){B?B.error?N(la(B)):B.access_token&&B.refresh_token?w(B):N(new A("internal-error")):N(new A("network-request-failed"))},"POST",As(c).toString(),n.g,n.v.get()):N(new A("internal-error"))})}(n.c,c).then(function(w){return n.b=Ga(w.access_token),n.a=w.refresh_token,{accessToken:n.b.toString(),refreshToken:n.a}}).s(function(w){throw"auth/user-token-expired"==w.code&&(n.a=null),w})}(this,{grant_type:"refresh_token",refresh_token:this.a}):zn(null):zn({accessToken:this.b.toString(),refreshToken:this.a})},eh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},F(Go,Ti),Go.prototype.wa=function(n){this.pa=n,jc(this.a,n)},Go.prototype.ka=function(){return this.pa},Go.prototype.Ga=function(){return bt(this.X)},Go.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Hn(Go.prototype,"providerId","firebase"),(m=Go.prototype).reload=function(){var n=this;return So(this,mc(this).then(function(){return rh(n).then(function(){return xu(n)}).then(th)}))},m.nc=function(n){return this.I(n).then(function(c){return new cv(c)})},m.I=function(n){var c=this;return So(this,mc(this).then(function(){return c.b.getToken(n)}).then(function(w){if(!w)throw new A("internal-error");return w.accessToken!=c.ya&&(Up(c,w.accessToken),c.dispatchEvent(new Vh("tokenChanged"))),Rl(c,"refreshToken",w.refreshToken),w.accessToken}))},m.Jc=function(n){if(!(n=n.users)||!n.length)throw new A("internal-error");jp(this,{uid:(n=n[0]).localId,displayName:n.displayName,photoURL:n.photoUrl,email:n.email,emailVerified:!!n.emailVerified,phoneNumber:n.phoneNumber,lastLoginAt:n.lastLoginAt,createdAt:n.createdAt,tenantId:n.tenantId});for(var c=function(n){return(n=n.providerUserInfo)&&n.length?Mn(n,function(c){return new Fg(c.rawId,c.providerId,c.email,c.displayName,c.photoUrl,c.phoneNumber)}):[]}(n),w=0;w<c.length;w++)jh(this,c[w]);Rl(this,"isAnonymous",!(this.email&&n.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Vh("userReloaded",{gd:n}))},m.Kc=function(n){return ho("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(n)},m.sb=function(n){var c=this,w=null;return So(this,n.c(this.a,this.uid).then(function(N){return ka(c,N),w=Ol(c,N,"reauthenticate"),c.f=null,c.reload()}).then(function(){return w}),!0)},m.Bc=function(n){return ho("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(n)},m.pb=function(n){var c=this,w=null;return So(this,ih(this,n.providerId).then(function(){return c.I()}).then(function(N){return n.b(c.a,N)}).then(function(N){return w=Ol(c,N,"link"),Ld(c,N)}).then(function(){return w}))},m.Cc=function(n,c){var w=this;return So(this,ih(this,"phone").then(function(){return Dd(tf(w),n,c,ft(w.pb,w))}))},m.Lc=function(n,c){var w=this;return So(this,zn().then(function(){return Dd(tf(w),n,c,ft(w.sb,w))}),!0)},m.Ab=function(n){var c=this;return So(this,this.I().then(function(w){return c.a.Ab(w,n)}).then(function(w){return ka(c,w),c.reload()}))},m.dd=function(n){var c=this;return So(this,this.I().then(function(w){return n.b(c.a,w)}).then(function(w){return ka(c,w),c.reload()}))},m.Bb=function(n){var c=this;return So(this,this.I().then(function(w){return c.a.Bb(w,n)}).then(function(w){return ka(c,w),c.reload()}))},m.Cb=function(n){if(void 0===n.displayName&&void 0===n.photoURL)return mc(this);var c=this;return So(this,this.I().then(function(w){return c.a.Cb(w,{displayName:n.displayName,photoUrl:n.photoURL})}).then(function(w){return ka(c,w),Rl(c,"displayName",w.displayName||null),Rl(c,"photoURL",w.photoUrl||null),It(c.providerData,function(N){"password"===N.providerId&&(Hn(N,"displayName",c.displayName),Hn(N,"photoURL",c.photoURL))}),xu(c)}).then(th))},m.bd=function(n){var c=this;return So(this,rh(this).then(function(w){return pt(nh(c),n)?function(n,c,w){return Tr(n,Ah,{idToken:c,deleteProvider:w})}(c.a,w,[n]).then(function(N){var B={};return It(N.providerUserInfo||[],function(ie){B[ie.providerId]=!0}),It(nh(c),function(ie){B[ie]||kd(c,ie)}),B[Ws.PROVIDER_ID]||Hn(c,"phoneNumber",null),xu(c)}):xu(c).then(function(){throw new A("no-such-provider")})}))},m.delete=function(){var n=this;return So(this,this.I().then(function(c){return Tr(n.a,cg,{idToken:c})}).then(function(){n.dispatchEvent(new Vh("userDeleted"))})).then(function(){for(var c=0;c<n.G.length;c++)n.G[c].cancel("app-deleted");Lp(n,null),ru(n,null),Vp(n,null),n.G=[],n.A=!0,Md(n),Hn(n,"refreshToken",null),n.i&&Np(n.i,n)})},m.Eb=function(n,c){return!!("linkViaPopup"==n&&(this.h||null)==c&&this.g||"reauthViaPopup"==n&&(this.h||null)==c&&this.g||"linkViaRedirect"==n&&(this.ga||null)==c||"reauthViaRedirect"==n&&(this.ga||null)==c)},m.ma=function(n,c,w,N){"linkViaPopup"!=n&&"reauthViaPopup"!=n||N!=(this.h||null)||(w&&this.O?this.O(w):c&&!w&&this.g&&this.g(c),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},m.Fa=function(n,c){return"linkViaPopup"==n&&c==(this.h||null)?ft(this.Jb,this):"reauthViaPopup"==n&&c==(this.h||null)?ft(this.Kb,this):"linkViaRedirect"==n&&(this.ga||null)==c?ft(this.Jb,this):"reauthViaRedirect"==n&&(this.ga||null)==c?ft(this.Kb,this):null},m.Dc=function(n){var c=this;return Bp(this,"linkViaPopup",n,function(){return ih(c,n.providerId).then(function(){return xu(c)})},!1)},m.Mc=function(n){return Bp(this,"reauthViaPopup",n,function(){return zn()},!0)},m.Ec=function(n){var c=this;return Hp(this,"linkViaRedirect",n,function(){return ih(c,n.providerId)},!1)},m.Nc=function(n){return Hp(this,"reauthViaRedirect",n,function(){return zn()},!0)},m.Jb=function(n,c,w,N){var B=this;this.c&&(this.c.cancel(),this.c=null);var ie=null;return So(this,this.I().then(function(me){return sc(B.a,{requestUri:n,postBody:N,sessionId:c,idToken:me})}).then(function(me){return ie=Ol(B,me,"link"),Ld(B,me)}).then(function(){return ie}))},m.Kb=function(n,c,w,N){var B=this;this.c&&(this.c.cancel(),this.c=null);var ie=null;return So(this,zn().then(function(){return Cs(ac(B.a,{requestUri:n,sessionId:c,postBody:N,tenantId:w}),B.uid)}).then(function(Qe){return ie=Ol(B,Qe,"reauthenticate"),ka(B,Qe),B.f=null,B.reload()}).then(function(){return ie}),!0)},m.tb=function(n){var c=this,w=null;return So(this,this.I().then(function(N){return w=N,void 0===n||Fn(n)?{}:ui(new sl(n))}).then(function(N){return c.a.tb(w,N)}).then(function(N){if(c.email!=N)return c.reload()}).then(function(){}))},m.Db=function(n,c){var w=this,N=null;return So(this,this.I().then(function(B){return N=B,void 0===c||Fn(c)?{}:ui(new sl(c))}).then(function(B){return w.a.Db(N,n,B)}).then(function(B){if(w.email!=B)return w.reload()}).then(function(){}))},m.ic=function(n){var c=null,w=this;return So(this,n=Cs(zn(n),w.uid).then(function(N){return c=Ol(w,N,"reauthenticate"),ka(w,N),w.f=null,w.reload()}).then(function(){return c}),!0)},m.toJSON=function(){return this.w()},m.w=function(){var n={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Ln(n,this.metadata.w()),It(this.providerData,function(c){n.providerData.push(function(n){var w,c={};for(w in n)n.hasOwnProperty(w)&&(c[w]=n[w]);return c}(c))}),Ln(n,this.N.w()),n};var rf={name:"redirectUser",D:"session"};function oh(n){return cc(n.b,rf,n.a)}function Gh(n){this.a=n,this.b=Ph(),this.c=null,this.f=function(n){var c=ha("local"),w=ha("session"),N=ha("none");return function(n,c,w){var N=Ys(c,w),B=fs(n,c.D);return n.get(c,w).then(function(ie){var me=null;try{me=V(Q.localStorage.getItem(N))}catch(Qe){}if(me&&!ie)return Q.localStorage.removeItem(N),n.set(c,me,w);me&&ie&&"localStorage"!=B.type&&Q.localStorage.removeItem(N)})}(n.b,c,n.a).then(function(){return n.b.get(w,n.a)}).then(function(B){return B?w:n.b.get(N,n.a).then(function(ie){return ie?N:n.b.get(c,n.a).then(function(me){return me?c:n.b.get(jd,n.a).then(function(Qe){return Qe?ha(Qe):c})})})}).then(function(B){return n.c=B,vc(n,B.D)}).s(function(){n.c||(n.c=c)})}(this),this.b.addListener(ha("local"),this.a,ft(this.g,this))}function vc(n,c){var N,w=[];for(N in lc)lc[N]!==c&&w.push(cc(n.b,ha(lc[N]),n.a));return w.push(cc(n.b,jd,n.a)),function(n){return new Qn(function(c,w){var N=n.length,B=[];if(N)for(var ie=function(hn,rr){N--,B[hn]=rr,0==N&&c(B)},me=function(hn){w(hn)},Qe=0;Qe<n.length;Qe++)Xs(n[Qe],Rt(ie,Qe),me);else c(B)})}(w)}Gh.prototype.g=function(){var n=this,c=ha("local");Mu(this,function(){return zn().then(function(){return n.c&&"local"!=n.c.D?n.b.get(c,n.a):null}).then(function(w){if(w)return vc(n,"local").then(function(){n.c=c})})})};var jd={name:"persistence",D:"session"};function ha(n){return{name:"authUser",D:n}}function Lg(n,c){return Mu(n,function(){return n.b.set(n.c,c.w(),n.a)})}function Vg(n){return Mu(n,function(){return cc(n.b,n.c,n.a)})}function qp(n,c,w){return Mu(n,function(){return n.b.get(n.c,n.a).then(function(N){return N&&c&&(N.authDomain=c),N&&w&&(N.emulatorConfig=w),Vd(N||{})})})}function Mu(n,c){return n.f=n.f.then(c,c),n.f}function iu(n){if(this.m=!1,Hn(this,"settings",new pc),Hn(this,"app",n),!Ei(this).options||!Ei(this).options.apiKey)throw new A("invalid-api-key");n=k.SDK_VERSION?cu(k.SDK_VERSION):null,this.a=new ua(Ei(this).options&&Ei(this).options.apiKey,fe($t),n),this.R=[],this.u=[],this.P=[],this.ac=k.INTERNAL.createSubscribe(ft(this.yc,this)),this.X=void 0,this.bc=k.INTERNAL.createSubscribe(ft(this.zc,this)),yc(this,null),this.l=new Gh(Ei(this).options.apiKey+":"+Ei(this).name),this.G=new Hh(Ei(this).options.apiKey+":"+Ei(this).name),this.$=mo(this,function(n){var c=Ei(n).options.authDomain,w=function(n){var c=function(n,c){return n.b.get(rf,n.a).then(function(w){return w&&c&&(w.authDomain=c),Vd(w||{})})}(n.G,Ei(n).options.authDomain).then(function(w){return(n.o=w)&&(w.ha=n.G),oh(n.G)});return mo(n,c)}(n).then(function(){return qp(n.l,c,n.f)}).then(function(N){return N?(N.ha=n.G,n.o&&(n.o.ga||null)==(N.ga||null)?N:N.reload().then(function(){return Lg(n.l,N).then(function(){return N})}).s(function(B){return"auth/network-request-failed"==B.code?N:Vg(n.l)})):null}).then(function(N){yc(n,N||null)});return mo(n,w)}(this)),this.i=mo(this,function(n){return n.$.then(function(){return Dm(n)}).s(function(){}).then(function(){if(!n.m)return n.pa()}).s(function(){}).then(function(){if(!n.m){n.ba=!0;var c=n.l;c.b.addListener(ha("local"),c.a,n.pa)}})}(this)),this.ba=!1,this.pa=ft(this.Yc,this),this.Ba=ft(this.da,this),this.ya=ft(this.kc,this),this.za=ft(this.vc,this),this.Aa=ft(this.wc,this),this.b=null,function(n){var c=Ei(n).options.authDomain,w=Ei(n).options.apiKey;c&&as()&&(n.gb=n.$.then(function(){if(!n.m){if(n.b=Jc(c,w,Ei(n).name,n.f),rl(n.b,n),Vr(n)&&Fs(Vr(n)),n.o){Fs(n.o);var N=n.o;N.wa(n.ka()),Lp(N,n),ef(N=n.o,n.N),Vp(N,n),ro((N=n.o).a,n.f),ru(N,n),n.o=null}return n.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=ft(this.delete,this),this.INTERNAL.logFramework=ft(this.Fc,this),this.A=0,Ti.call(this),function(n){Object.defineProperty(n,"lc",{get:function(){return this.ka()},set:function(c){this.wa(c)},enumerable:!1}),n.aa=null,Object.defineProperty(n,"ti",{get:function(){return this.S()},set:function(c){this.xb(c)},enumerable:!1}),n.W=null}(this),this.N=[],this.f=null}function Ug(n){xt.call(this,"languageCodeChanged"),this.h=n}function jg(n){xt.call(this,"emulatorConfigChanged"),this.c=n}function of(n){xt.call(this,"frameworkChanged"),this.f=n}function Wp(n){return n.gb||fr(new A("auth-domain-config-required"))}function Dm(n){if(!as())return fr(new A("operation-not-supported-in-this-environment"));var c=Wp(n).then(function(){return n.b.qa()}).then(function(w){return w?Co(w):null});return mo(n,c)}function yc(n,c){Vr(n)&&(function(n,c){Ve(n.R,function(w){return w==c})}(Vr(n),n.Ba),sr(Vr(n),"tokenChanged",n.ya),sr(Vr(n),"userDeleted",n.za),sr(Vr(n),"userInvalidated",n.Aa),Md(Vr(n))),c&&(c.R.push(n.Ba),xn(c,"tokenChanged",n.ya),xn(c,"userDeleted",n.za),xn(c,"userInvalidated",n.Aa),0<n.A&&xd(c)),Hn(n,"currentUser",c),c&&(c.wa(n.ka()),Lp(c,n),ef(c,n.N),Vp(c,n),ro(c.a,n.f),ru(c,n))}function Ls(n,c){var w=null,N=null;return mo(n,c.then(function(B){return w=Aa(B),N=qa(B),function(n,c){var w={};return w.apiKey=Ei(n).options.apiKey,w.authDomain=Ei(n).options.authDomain,w.appName=Ei(n).name,n.f&&(w.emulatorConfig=n.f),n.$.then(function(){return function(n,c,w,N){var B=new Go(n,c);return w&&(B.ha=w),N&&ef(B,N),B.reload().then(function(){return B})}(w,c,n.G,n.Ga())}).then(function(N){return Vr(n)&&N.uid==Vr(n).uid?(Fd(Vr(n),N),n.da(N)):(yc(n,N),Fs(N),n.da(N))}).then(function(){qh(n)})}(n,B)},function(B){var ie=null;throw B&&"auth/multi-factor-auth-required"===B.code&&(ie=Rp(B.w(),n,ft(n.jc,n))),ie||B}).then(function(){return Co({user:Vr(n),credential:w,additionalUserInfo:N,operationType:"signIn"})}))}function Ei(n){return n.app}function Vr(n){return n.currentUser}function $p(n){return Vr(n)&&Vr(n)._lat||null}function qh(n){if(n.ba){for(var c=0;c<n.u.length;c++)n.u[c]&&n.u[c]($p(n));if(n.X!==n.getUid()&&n.P.length)for(n.X=n.getUid(),c=0;c<n.P.length;c++)n.P[c]&&n.P[c]($p(n))}}function mo(n,c){return n.R.push(c),c.na(function(){_t(n.R,c)}),c}function _c(){}function sf(){this.a={},this.b=1e12}Gh.prototype.wb=function(n){var c=null,w=this;return function(n){var c=new A("invalid-persistence-type"),w=new A("unsupported-persistence-type");e:{for(N in lc)if(lc[N]==n){var N=!0;break e}N=!1}if(!N||"string"!=typeof n)throw c;switch(ni()){case"ReactNative":if("session"===n)throw w;break;case"Node":if("none"!==n)throw w;break;case"Worker":if("session"===n||!wp()&&"none"!==n)throw w;break;default:if(!ja()&&"none"!==n)throw w}}(n),Mu(this,function(){return n!=w.c.D?w.b.get(w.c,w.a).then(function(N){return c=N,vc(w,n)}).then(function(){if(w.c=ha(n),c)return w.b.set(w.c,c,w.a)}):zn()})},F(iu,Ti),F(Ug,xt),F(jg,xt),F(of,xt),(m=iu.prototype).wb=function(n){return mo(this,n=this.l.wb(n))},m.wa=function(n){this.aa===n||this.m||(this.aa=n,jc(this.a,this.aa),this.dispatchEvent(new Ug(this.ka())))},m.ka=function(){return this.aa},m.ed=function(){var n=Q.navigator;this.wa(n&&(n.languages&&n.languages[0]||n.language||n.userLanguage)||null)},m.fd=function(n){if(!this.f){if(!/^https?:\/\//.test(n))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Vt("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),Q.document&&No().then(function(){var n=Q.document.createElement("div");n.innerText="Running in emulator mode. Do not use with production credentials.",n.style.position="fixed",n.style.width="100%",n.style.backgroundColor="#ffffff",n.style.border=".1em solid #000000",n.style.color="#ff0000",n.style.bottom="0px",n.style.left="0px",n.style.margin="0px",n.style.zIndex=1e4,n.style.textAlign="center",n.classList.add("firebase-emulator-warning"),Q.document.body.appendChild(n)}),this.f={url:n},this.settings.hb=!0,ro(this.a,this.f),this.dispatchEvent(new jg(this.f))}},m.Fc=function(n){this.N.push(n),nc(this.a,k.SDK_VERSION?cu(k.SDK_VERSION,this.N):null),this.dispatchEvent(new of(this.N))},m.Ga=function(){return bt(this.N)},m.xb=function(n){this.W===n||this.m||(this.W=n,this.a.b=this.W)},m.S=function(){return this.W},m.toJSON=function(){return{apiKey:Ei(this).options.apiKey,authDomain:Ei(this).options.authDomain,appName:Ei(this).name,currentUser:Vr(this)&&Vr(this).w()}},m.Eb=function(n,c){switch(n){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==c&&!!this.g;default:return!1}},m.ma=function(n,c,w,N){"signInViaPopup"==n&&this.h==N&&(w&&this.O?this.O(w):c&&!w&&this.g&&this.g(c),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},m.Fa=function(n,c){return"signInViaRedirect"==n||"signInViaPopup"==n&&this.h==c&&this.g?ft(this.hc,this):null},m.hc=function(n,c,w,N){var B=this,ie={requestUri:n,postBody:N,sessionId:c,tenantId:w};return this.c&&(this.c.cancel(),this.c=null),B.$.then(function(){return Ls(B,Gc(B.a,ie))})},m.Wc=function(n){if(!as())return fr(new A("operation-not-supported-in-this-environment"));var c=this,w=gu(n.providerId),N=ee(),B=null;(!y()||Os())&&Ei(this).options.authDomain&&n.isOAuthProvider&&(B=eu(Ei(this).options.authDomain,Ei(this).options.apiKey,Ei(this).name,"signInViaPopup",n,null,N,k.SDK_VERSION||null,null,null,this.S(),this.f));var ie=kn(B,w&&w.ua,w&&w.ta);return mo(this,w=Wp(this).then(function(me){return Kf(me,ie,"signInViaPopup",n,N,!!B,c.S())}).then(function(){return new Qn(function(me,Qe){c.ma("signInViaPopup",null,new A("cancelled-popup-request"),c.h),c.g=me,c.O=Qe,c.h=N,c.c=Qf(c.b,c,"signInViaPopup",ie,N)})}).then(function(me){return ie&&St(ie),me?Co(me):null}).s(function(me){throw ie&&St(ie),me}))},m.Xc=function(n){if(!as())return fr(new A("operation-not-supported-in-this-environment"));var c=this;return mo(this,Wp(this).then(function(){return function(n){return Mu(n,function(){return n.b.set(jd,n.c.D,n.a)})}(c.l)}).then(function(){return Ou(c.b,"signInViaRedirect",n,void 0,c.S())}))},m.qa=function(){var n=this;return Dm(this).then(function(c){return n.b&&dc(n.b.b),c}).s(function(c){throw n.b&&dc(n.b.b),c})},m.cd=function(n){if(!n)return fr(new A("null-user"));if(this.W!=n.tenantId)return fr(new A("tenant-id-mismatch"));var c=this,w={};w.apiKey=Ei(this).options.apiKey,w.authDomain=Ei(this).options.authDomain,w.appName=Ei(this).name;var N=function(n,c,w,N){var B=n.b,ie={};return ie[Ss]=B.b&&B.b.toString(),ie.refreshToken=B.a,c=new Go(c||{apiKey:n.l,authDomain:n.o,appName:n.m},ie),w&&(c.ha=w),N&&ef(c,N),Fd(c,n),c}(n,w,c.G,c.Ga());return mo(this,this.i.then(function(){if(Ei(c).options.apiKey!=n.l)return N.reload()}).then(function(){return Vr(c)&&n.uid==Vr(c).uid?(Fd(Vr(c),n),c.da(n)):(yc(c,N),Fs(N),c.da(N))}).then(function(){qh(c)}))},m.zb=function(){var n=this;return mo(this,this.i.then(function(){return n.b&&dc(n.b.b),Vr(n)?(yc(n,null),Vg(n.l).then(function(){qh(n)})):zn()}))},m.Yc=function(){var n=this;return qp(this.l,Ei(this).options.authDomain).then(function(c){if(!n.m){var w;if(w=Vr(n)&&c){w=Vr(n).uid;var N=c.uid;w=null!=w&&""!==w&&null!=N&&""!==N&&w==N}if(w)return Fd(Vr(n),c),Vr(n).I();(Vr(n)||c)&&(yc(n,c),c&&(Fs(c),c.ha=n.G),n.b&&rl(n.b,n),qh(n))}})},m.da=function(n){return Lg(this.l,n)},m.kc=function(){qh(this),this.da(Vr(this))},m.vc=function(){this.zb()},m.wc=function(){this.zb()},m.jc=function(n){var c=this;return this.i.then(function(){return Ls(c,zn(n))})},m.yc=function(n){var c=this;this.addAuthTokenListener(function(){n.next(Vr(c))})},m.zc=function(n){var c=this;!function(n,c){n.P.push(c),mo(n,n.i.then(function(){!n.m&&pt(n.P,c)&&n.X!==n.getUid()&&(n.X=n.getUid(),c($p(n)))}))}(this,function(){n.next(Vr(c))})},m.Hc=function(n,c,w){var N=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof n?n(Vr(N)):"function"==typeof n.next&&n.next(Vr(N))}),this.ac(n,c,w)},m.Gc=function(n,c,w){var N=this;return this.ba&&Promise.resolve().then(function(){N.X=N.getUid(),"function"==typeof n?n(Vr(N)):"function"==typeof n.next&&n.next(Vr(N))}),this.bc(n,c,w)},m.mc=function(n){var c=this;return mo(this,this.i.then(function(){return Vr(c)?Vr(c).I(n).then(function(N){return{accessToken:N}}):null}))},m.Sc=function(n){var c=this;return this.i.then(function(){return Ls(c,Tr(c.a,lr,{token:n}))}).then(function(w){var N=w.user;return Rl(N,"isAnonymous",!1),c.da(N),w})},m.Tc=function(n,c){var w=this;return this.i.then(function(){return Ls(w,Tr(w.a,Cr,{email:n,password:c}))})},m.dc=function(n,c){var w=this;return this.i.then(function(){return Ls(w,Tr(w.a,Lf,{email:n,password:c}))})},m.Za=function(n){var c=this;return this.i.then(function(){return Ls(c,n.ja(c.a))})},m.Rc=function(n){return ho("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(n)},m.yb=function(){var n=this;return this.i.then(function(){var c=Vr(n);if(c&&c.isAnonymous){var w=Co({providerId:null,isNewUser:!1});return Co({user:c,credential:null,additionalUserInfo:w,operationType:"signIn"})}return Ls(n,n.a.yb()).then(function(N){var B=N.user;return Rl(B,"isAnonymous",!0),n.da(B),N})})},m.getUid=function(){return Vr(this)&&Vr(this).uid||null},m.cc=function(n){this.addAuthTokenListener(n),this.A++,0<this.A&&Vr(this)&&xd(Vr(this))},m.Oc=function(n){var c=this;It(this.u,function(w){w==n&&c.A--}),0>this.A&&(this.A=0),0==this.A&&Vr(this)&&Md(Vr(this)),this.removeAuthTokenListener(n)},m.addAuthTokenListener=function(n){var c=this;this.u.push(n),mo(this,this.i.then(function(){c.m||pt(c.u,n)&&n($p(c))}))},m.removeAuthTokenListener=function(n){Ve(this.u,function(c){return c==n})},m.delete=function(){this.m=!0;for(var n=0;n<this.R.length;n++)this.R[n].cancel("app-deleted");return this.R=[],this.l&&(n=this.l).b.removeListener(ha("local"),n.a,this.pa),this.b&&(Np(this.b,this),dc(this.b.b)),Promise.resolve()},m.gc=function(n){return mo(this,function(n,c){return Tr(n,tl,{identifier:c,continueUri:b()?C():"http://localhost"}).then(function(w){return w.signinMethods||[]})}(this.a,n))},m.Ac=function(n){return!!Xh(n)},m.vb=function(n,c){var w=this;return mo(this,zn().then(function(){var N=new sl(c);if(!N.c)throw new A("argument-error",Ef+" must be true when sending sign in link to email");return ui(N)}).then(function(N){return w.a.vb(n,N)}).then(function(){}))},m.hd=function(n){return this.Qa(n).then(function(c){return c.data.email})},m.mb=function(n,c){return mo(this,this.a.mb(n,c).then(function(){}))},m.Qa=function(n){return mo(this,this.a.Qa(n).then(function(c){return new jl(c)}))},m.ib=function(n){return mo(this,this.a.ib(n).then(function(){}))},m.ub=function(n,c){var w=this;return mo(this,zn().then(function(){return void 0===c||Fn(c)?{}:ui(new sl(c))}).then(function(N){return w.a.ub(n,N)}).then(function(){}))},m.Vc=function(n,c){return mo(this,Dd(this,n,c,ft(this.Za,this)))},m.Uc=function(n,c){var w=this;return mo(this,zn().then(function(){var N=c||C(),B=Mc(n,N);if(!(N=Xh(N)))throw new A("argument-error","Invalid email link!");if(N.tenantId!==w.S())throw new A("tenant-id-mismatch");return w.Za(B)}))},_c.prototype.render=function(){},_c.prototype.reset=function(){},_c.prototype.getResponse=function(){},_c.prototype.execute=function(){};var Hd=null;function zp(n,c){return(c=Gd(c))&&n.a[c]||null}function Gd(n){return(n=void 0===n?1e12:n)?n.toString():null}function Pl(n,c){this.g=!1,this.c=c,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=qi(n);var w=this;this.i=function(){w.execute()},this.h?this.execute():xn(this.f,"click",this.i)}function Wh(n){if(n.g)throw Error("reCAPTCHA mock was already deleted!")}function xl(){}function qd(){}sf.prototype.render=function(n,c){return this.a[this.b.toString()]=new Pl(n,c),this.b++},sf.prototype.reset=function(n){var c=zp(this,n);n=Gd(n),c&&n&&(c.delete(),delete this.a[n])},sf.prototype.getResponse=function(n){return(n=zp(this,n))?n.getResponse():null},sf.prototype.execute=function(n){(n=zp(this,n))&&n.execute()},Pl.prototype.getResponse=function(){return Wh(this),this.b},Pl.prototype.execute=function(){Wh(this);var n=this;this.a||(this.a=setTimeout(function(){n.b=function(){for(var n=50,c=[];0<n;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),n--;return c.join("")}();var c=n.c.callback,w=n.c["expired-callback"];if(c)try{c(n.b)}catch(N){}n.a=setTimeout(function(){if(n.a=null,n.b=null,w)try{w()}catch(N){}n.h&&n.execute()},6e4)},500))},Pl.prototype.delete=function(){Wh(this),this.g=!0,clearTimeout(this.a),this.a=null,sr(this.f,"click",this.i)},Hn(xl,"FACTOR_ID","phone"),qd.prototype.g=function(){return Hd||(Hd=new sf),zn(Hd)},qd.prototype.c=function(){};var Wd=null;function $d(){this.b=Q.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Om=new tr(pr,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Hg=new Ce(3e4,6e4);$d.prototype.g=function(n){var c=this;return new Qn(function(w,N){var B=setTimeout(function(){N(new A("network-request-failed"))},Hg.get());!Q.grecaptcha||n!==c.f&&!c.b?(Q[c.a]=function(){if(Q.grecaptcha){c.f=n;var me=Q.grecaptcha.render;Q.grecaptcha.render=function(Qe,Gt){return Qe=me(Qe,Gt),c.b++,Qe},clearTimeout(B),w(Q.grecaptcha)}else clearTimeout(B),N(new A("internal-error"));delete Q[c.a]},zn(Fc(Pi(Om,{onload:c.a,hl:n||""}))).s(function(){clearTimeout(B),N(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(B),w(Q.grecaptcha))})},$d.prototype.c=function(){this.b--};var Kp=null;function Qp(n,c,w,N,B,ie,me){if(Hn(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=c,this.g=null,me?(Wd||(Wd=new qd),me=Wd):(Kp||(Kp=new $d),me=Kp),this.v=me,this.a=w||{theme:"light",type:"image"},this.h=[],this.a[sh])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Yp],!Q.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!qi(c)||!this.i&&qi(c).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new ua(n,ie||null,B||null),this.u=N||function(){return null};var Qe=this;this.l=[];var Gt=this.a[Is];this.a[Is]=function(rr){if(ah(Qe,rr),"function"==typeof Gt)Gt(rr);else if("string"==typeof Gt){var Xr=ai(Gt,Q);"function"==typeof Xr&&Xr(rr)}};var hn=this.a[Pm];this.a[Pm]=function(){if(ah(Qe,null),"function"==typeof hn)hn();else if("string"==typeof hn){var rr=ai(hn,Q);"function"==typeof rr&&rr()}}}var Is="callback",Pm="expired-callback",sh="sitekey",Yp="size";function ah(n,c){for(var w=0;w<n.l.length;w++)try{n.l[w](c)}catch(N){}}function Gg(n,c){return n.h.push(c),c.na(function(){_t(n.h,c)}),c}function uh(n){if(n.A)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function zh(n,c,w){var N=!1;try{this.b=w||k.app()}catch(me){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");w=this.b.options.apiKey;var B=this,ie=null;try{ie=this.b.auth().Ga()}catch(me){}try{N=this.b.auth().settings.appVerificationDisabledForTesting}catch(me){}ie=k.SDK_VERSION?cu(k.SDK_VERSION,ie):null,Qp.call(this,w,n,c,function(){try{var me=B.b.auth().ka()}catch(Qe){me=null}return me},ie,fe($t),N)}function Zp(n,c,w,N){e:{w=Array.prototype.slice.call(w);for(var B=0,ie=!1,me=0;me<c.length;me++)if(c[me].optional)ie=!0;else{if(ie)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");B++}if(ie=c.length,w.length<B||ie<w.length)N="Expected "+(B==ie?1==B?"1 argument":B+" arguments":B+"-"+ie+" arguments")+" but got "+w.length+".";else{for(B=0;B<w.length;B++)if(ie=c[B].optional&&void 0===w[B],!c[B].K(w[B])&&!ie){if(c=c[B],0>B||B>=zd.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");w=zd[B],N=(N?"":w+" argument ")+(c.name?'"'+c.name+'" ':"")+"must be "+c.J+".";break e}N=null}}if(N)throw new A("argument-error",n+" failed: "+N)}(m=Qp.prototype).Ia=function(){var n=this;return this.f?this.f:this.f=Gg(this,zn().then(function(){if(b()&&!ti())return No();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return n.v.g(n.u())}).then(function(c){return n.g=c,Tr(n.o,U,{})}).then(function(c){n.a[sh]=c.recaptchaSiteKey}).s(function(c){throw n.f=null,c}))},m.render=function(){uh(this);var n=this;return Gg(this,this.Ia().then(function(){if(null===n.c){var c=n.m;if(!n.i){var w=qi(c);c=function(n,c,w){var N=arguments,B=document,ie=String(N[0]),me=N[1];if(!Vs&&me&&(me.name||me.type)){if(ie=["<",ie],me.name&&ie.push(' name="',nt(me.name),'"'),me.type){ie.push(' type="',nt(me.type),'"');var Qe={};Ln(Qe,me),delete Qe.type,me=Qe}ie.push(">"),ie=ie.join("")}return ie=mi(B,ie),me&&("string"==typeof me?ie.className=me:Array.isArray(me)?ie.className=me.join(" "):ko(ie,me)),2<N.length&&Ao(B,ie,N),ie}("DIV"),w.appendChild(c)}n.c=n.g.render(c,n.a)}return n.c}))},m.verify=function(){uh(this);var n=this;return Gg(this,this.render().then(function(c){return new Qn(function(w){var N=n.g.getResponse(c);if(N)w(N);else{var B=function(ie){ie&&(function(n,c){Ve(n.l,function(w){return w==c})}(n,B),w(ie))};n.l.push(B),n.i&&n.g.execute(n.c)}})}))},m.reset=function(){uh(this),null!==this.c&&this.g.reset(this.c)},m.clear=function(){uh(this),this.A=!0,this.v.c();for(var n=0;n<this.h.length;n++)this.h[n].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){n=qi(this.m);for(var c;c=n.firstChild;)n.removeChild(c)}},F(zh,Qp);var zd="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Xn(n,c){return{name:n||"",J:"a valid string",optional:!!c,K:function(w){return"string"==typeof w}}}function da(n,c){return{name:n||"",J:"a boolean",optional:!!c,K:function(w){return"boolean"==typeof w}}}function ts(n,c){return{name:n||"",J:"a valid object",optional:!!c,K:ke}}function af(n,c){return{name:n||"",J:"a function",optional:!!c,K:function(w){return"function"==typeof w}}}function wc(n,c){return{name:n||"",J:"null",optional:!!c,K:function(w){return null===w}}}function Ec(n){return{name:n?n+"Credential":"credential",J:n?"a valid "+n+" credential":"a valid credential",optional:!1,K:function(c){return!!c&&!(!c.ja||n&&c.providerId!==n)}}}function Kh(n,c){return ke(n)&&"string"==typeof n.type&&n.type===c&&"function"==typeof n.Ha}function Wg(n){return ke(n)&&"string"==typeof n.uid}function Io(n,c,w,N){return{name:w||"",J:n.J+" or "+c.J,optional:!!N,K:function(B){return n.K(B)||c.K(B)}}}function vo(n,c){for(var w in c){var N=c[w].name;n[N]=Kd(N,n[w],c[w].j)}}function $g(n,c){for(var w in c){var N=c[w].name;N!==w&&Object.defineProperty(n,N,{get:Rt(function(B){return this[B]},w),set:Rt(function(B,ie,me,Qe){Zp(B,[me],[Qe],!0),this[ie]=Qe},N,w,c[w].jb),enumerable:!0})}}function xo(n,c,w,N){n[c]=Kd(c,w,N)}function Kd(n,c,w){function N(){var me=Array.prototype.slice.call(arguments);return Zp(B,w,me),c.apply(this,me)}if(!w)return c;var ie,B=function(n){return(n=n.split("."))[n.length-1]}(n);for(ie in c)N[ie]=c[ie];for(ie in c.prototype)N.prototype[ie]=c.prototype[ie];return N}vo(iu.prototype,{ib:{name:"applyActionCode",j:[Xn("code")]},Qa:{name:"checkActionCode",j:[Xn("code")]},mb:{name:"confirmPasswordReset",j:[Xn("code"),Xn("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Xn("email"),Xn("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Xn("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Xn("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Io(ts(),af(),"nextOrObserver"),af("opt_error",!0),af("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Io(ts(),af(),"nextOrObserver"),af("opt_error",!0),af("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Xn("email"),Io(ts("opt_actionCodeSettings",!0),wc(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Xn("email"),ts("actionCodeSettings")]},wb:{name:"setPersistence",j:[Xn("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Ec()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Ec()]},Sc:{name:"signInWithCustomToken",j:[Xn("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Xn("email"),Xn("password")]},Uc:{name:"signInWithEmailLink",j:[Xn("email"),Xn("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Xn("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(n){return!(!n||"string"!=typeof n.type||"function"!=typeof n.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(n){return!!(n&&n.providerId&&n.hasOwnProperty&&n.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(n){return!!(n&&n.providerId&&n.hasOwnProperty&&n.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Io({name:"user",J:"an instance of Firebase User",optional:!1,K:function(c){return!!(c&&c instanceof Go)}},wc(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Xn(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Xn("url")]},hd:{name:"verifyPasswordResetCode",j:[Xn("code")]}}),$g(iu.prototype,{lc:{name:"languageCode",jb:Io(Xn(),wc(),"languageCode")},ti:{name:"tenantId",jb:Io(Xn(),wc(),"tenantId")}}),(iu.Persistence=lc).LOCAL="local",iu.Persistence.SESSION="session",iu.Persistence.NONE="none",vo(Go.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[da("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[da("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Ec()]},pb:{name:"linkWithCredential",j:[Ec()]},Cc:{name:"linkWithPhoneNumber",j:[Xn("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(n){return!(!n||"string"!=typeof n.type||"function"!=typeof n.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(n){return!!(n&&n.providerId&&n.hasOwnProperty&&n.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(n){return!!(n&&n.providerId&&n.hasOwnProperty&&n.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ec()]},sb:{name:"reauthenticateWithCredential",j:[Ec()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Xn("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(n){return!(!n||"string"!=typeof n.type||"function"!=typeof n.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(n){return!!(n&&n.providerId&&n.hasOwnProperty&&n.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(n){return!!(n&&n.providerId&&n.hasOwnProperty&&n.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Io(ts("opt_actionCodeSettings",!0),wc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Xn(null,!0)]},bd:{name:"unlink",j:[Xn("provider")]},Ab:{name:"updateEmail",j:[Xn("email")]},Bb:{name:"updatePassword",j:[Xn("password")]},dd:{name:"updatePhoneNumber",j:[Ec("phone")]},Cb:{name:"updateProfile",j:[ts("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Xn("email"),Io(ts("opt_actionCodeSettings",!0),wc(null,!0),"opt_actionCodeSettings",!0)]}}),vo(sf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vo(_c.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vo(Qn.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),$g(pc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:da("appVerificationDisabledForTesting")}}),vo(Id.prototype,{confirm:{name:"confirm",j:[Xn("verificationCode")]}}),xo(ql,"fromJSON",function(n){n="string"==typeof n?JSON.parse(n):n;for(var c,w=[If,uo,dl,Wl],N=0;N<w.length;N++)if(c=w[N](n))return c;return null},[Io(Xn(),ts(),"json")]),xo(no,"credential",function(n,c){return new Ia(n,c)},[Xn("email"),Xn("password")]),vo(Ia.prototype,{w:{name:"toJSON",j:[Xn(null,!0)]}}),vo(sa.prototype,{Ca:{name:"addScope",j:[Xn("scope")]},Ka:{name:"setCustomParameters",j:[ts("customOAuthParameters")]}}),xo(sa,"credential",$l,[Io(Xn(),ts(),"token")]),xo(no,"credentialWithLink",Mc,[Xn("email"),Xn("emailLink")]),vo(Ps.prototype,{Ca:{name:"addScope",j:[Xn("scope")]},Ka:{name:"setCustomParameters",j:[ts("customOAuthParameters")]}}),xo(Ps,"credential",vu,[Io(Xn(),ts(),"token")]),vo(Jo.prototype,{Ca:{name:"addScope",j:[Xn("scope")]},Ka:{name:"setCustomParameters",j:[ts("customOAuthParameters")]}}),xo(Jo,"credential",Wu,[Io(Xn(),Io(ts(),wc()),"idToken"),Io(Xn(),wc(),"accessToken",!0)]),vo(xs.prototype,{Ka:{name:"setCustomParameters",j:[ts("customOAuthParameters")]}}),xo(xs,"credential",zl,[Io(Xn(),ts(),"token"),Xn("secret",!0)]),vo(Ts.prototype,{Ca:{name:"addScope",j:[Xn("scope")]},credential:{name:"credential",j:[Io(Xn(),Io(ts(),wc()),"optionsOrIdToken"),Io(Xn(),wc(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[ts("customOAuthParameters")]}}),vo(Jr.prototype,{w:{name:"toJSON",j:[Xn(null,!0)]}}),vo(oa.prototype,{w:{name:"toJSON",j:[Xn(null,!0)]}}),xo(Ws,"credential",yu,[Xn("verificationId"),Xn("verificationCode")]),vo(Ws.prototype,{eb:{name:"verifyPhoneNumber",j:[Io(Xn(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(w){return!!w&&(w.session&&w.phoneNumber?Kh(w.session,cl)&&"string"==typeof w.phoneNumber:w.session&&w.multiFactorHint?Kh(w.session,fl)&&Wg(w.multiFactorHint):w.session&&w.multiFactorUid?Kh(w.session,fl)&&"string"==typeof w.multiFactorUid:!!w.phoneNumber&&"string"==typeof w.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(n){return!(!n||"string"!=typeof n.type||"function"!=typeof n.verify)}}]}}),vo(hl.prototype,{w:{name:"toJSON",j:[Xn(null,!0)]}}),vo(A.prototype,{toJSON:{name:"toJSON",j:[Xn(null,!0)]}}),vo(Ra.prototype,{toJSON:{name:"toJSON",j:[Xn(null,!0)]}}),vo(Df.prototype,{toJSON:{name:"toJSON",j:[Xn(null,!0)]}}),vo(Xf.prototype,{toJSON:{name:"toJSON",j:[Xn(null,!0)]}}),vo(Ad.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(n){return!!n&&!!n.rb}}]}}),vo(Uh.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(n){return!!n&&!!n.rb}},Xn("displayName",!0)]},ad:{name:"unenroll",j:[Io({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Wg},Xn(),"multiFactorInfoIdentifier")]}}),vo(zh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),xo($i,"parseLink",To,[Xn("link")]),xo(xl,"assertion",function(n){return new wm(n)},[Ec("phone")]),function(){if(void 0===k||!k.INTERNAL||!k.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var n={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qs,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ra,VERIFY_AND_CHANGE_EMAIL:Bu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:iu,AuthCredential:ql,Error:A};xo(n,"EmailAuthProvider",no,[]),xo(n,"FacebookAuthProvider",sa,[]),xo(n,"GithubAuthProvider",Ps,[]),xo(n,"GoogleAuthProvider",Jo,[]),xo(n,"TwitterAuthProvider",xs,[]),xo(n,"OAuthProvider",Ts,[Xn("providerId")]),xo(n,"SAMLAuthProvider",Wa,[Xn("providerId")]),xo(n,"PhoneAuthProvider",Ws,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(n){return!!(n&&n instanceof iu)}}]),xo(n,"RecaptchaVerifier",zh,[Io(Xn(),{name:"",J:"an HTML element",optional:!1,K:function(n){return!!(n&&n instanceof Element)}},"recaptchaContainer"),ts("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(n){return!!(n&&n instanceof k.app.App)}}]),xo(n,"ActionCodeURL",$i,[]),xo(n,"PhoneMultiFactorGenerator",xl,[]),k.INTERNAL.registerComponent({name:"auth",instanceFactory:function(c){return new iu(c=c.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:n,instantiationMode:"LAZY",type:"PUBLIC"}),k.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(c){return{getUid:ft((c=c.getProvider("auth").getImmediate()).getUid,c),getToken:ft(c.mc,c),addAuthTokenListener:ft(c.cc,c),removeAuthTokenListener:ft(c.Oc,c)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),k.registerVersion("@firebase/auth","0.15.0"),k.INTERNAL.extendNamespace({User:Go})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},1100:(Vn,We,pe)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var k=pe(5385),m=pe(1704),te=function(){function ae(Q,De,ye){this.name=Q,this.instanceFactory=De,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return ae.prototype.setInstantiationMode=function(Q){return this.instantiationMode=Q,this},ae.prototype.setMultipleInstances=function(Q){return this.multipleInstances=Q,this},ae.prototype.setServiceProps=function(Q){return this.serviceProps=Q,this},ae}(),mt="[DEFAULT]",Le=function(){function ae(Q,De){this.name=Q,this.container=De,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return ae.prototype.get=function(Q){void 0===Q&&(Q=mt);var De=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(De)){var ye=new m.Deferred;this.instancesDeferred.set(De,ye);try{var Te=this.getOrInitializeService(De);Te&&ye.resolve(Te)}catch(wt){}}return this.instancesDeferred.get(De).promise},ae.prototype.getImmediate=function(Q){var De=k.__assign({identifier:mt,optional:!1},Q),Te=De.optional,wt=this.normalizeInstanceIdentifier(De.identifier);try{var Tt=this.getOrInitializeService(wt);if(!Tt){if(Te)return null;throw Error("Service "+this.name+" is not available")}return Tt}catch(it){if(Te)return null;throw it}},ae.prototype.getComponent=function(){return this.component},ae.prototype.setComponent=function(Q){var De,ye;if(Q.name!==this.name)throw Error("Mismatching Component "+Q.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=Q,function(ae){return"EAGER"===ae.instantiationMode}(Q))try{this.getOrInitializeService(mt)}catch(Pt){}try{for(var Te=k.__values(this.instancesDeferred.entries()),wt=Te.next();!wt.done;wt=Te.next()){var Tt=k.__read(wt.value,2),ke=Tt[1],He=this.normalizeInstanceIdentifier(Tt[0]);try{var qe=this.getOrInitializeService(He);ke.resolve(qe)}catch(Pt){}}}catch(Pt){De={error:Pt}}finally{try{wt&&!wt.done&&(ye=Te.return)&&ye.call(Te)}finally{if(De)throw De.error}}},ae.prototype.clearInstance=function(Q){void 0===Q&&(Q=mt),this.instancesDeferred.delete(Q),this.instances.delete(Q)},ae.prototype.delete=function(){return k.__awaiter(this,void 0,void 0,function(){var Q;return k.__generator(this,function(De){switch(De.label){case 0:return Q=Array.from(this.instances.values()),[4,Promise.all(k.__spread(Q.filter(function(ye){return"INTERNAL"in ye}).map(function(ye){return ye.INTERNAL.delete()}),Q.filter(function(ye){return"_delete"in ye}).map(function(ye){return ye._delete()})))];case 1:return De.sent(),[2]}})})},ae.prototype.isComponentSet=function(){return null!=this.component},ae.prototype.getOrInitializeService=function(Q){var De=this.instances.get(Q);return!De&&this.component&&(De=this.component.instanceFactory(this.container,function(ae){return ae===mt?void 0:ae}(Q)),this.instances.set(Q,De)),De||null},ae.prototype.normalizeInstanceIdentifier=function(Q){return this.component?this.component.multipleInstances?Q:mt:Q},ae}(),Je=function(){function ae(Q){this.name=Q,this.providers=new Map}return ae.prototype.addComponent=function(Q){var De=this.getProvider(Q.name);if(De.isComponentSet())throw new Error("Component "+Q.name+" has already been registered with "+this.name);De.setComponent(Q)},ae.prototype.addOrOverwriteComponent=function(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)},ae.prototype.getProvider=function(Q){if(this.providers.has(Q))return this.providers.get(Q);var De=new Le(Q,this);return this.providers.set(Q,De),De},ae.prototype.getProviders=function(){return Array.from(this.providers.values())},ae}();We.Component=te,We.ComponentContainer=Je,We.Provider=Le},4614:(Vn,We,pe)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var k=pe(6279),m=pe(209),te=pe(1704),mt=pe(300),Le=pe(1100);function Ye(b){return b&&"object"==typeof b&&"default"in b?b:{default:b}}var b,tt=Ye(k),Je=function(){function b(d){this.domStorage_=d,this.prefix_="firebase:"}return b.prototype.set=function(d,y){null==y?this.domStorage_.removeItem(this.prefixedName_(d)):this.domStorage_.setItem(this.prefixedName_(d),te.stringify(y))},b.prototype.get=function(d){var y=this.domStorage_.getItem(this.prefixedName_(d));return null==y?null:te.jsonEval(y)},b.prototype.remove=function(d){this.domStorage_.removeItem(this.prefixedName_(d))},b.prototype.prefixedName_=function(d){return this.prefix_+d},b.prototype.toString=function(){return this.domStorage_.toString()},b}(),ae=function(){function b(){this.cache_={},this.isInMemoryStorage=!0}return b.prototype.set=function(d,y){null==y?delete this.cache_[d]:this.cache_[d]=y},b.prototype.get=function(d){return te.contains(this.cache_,d)?this.cache_[d]:null},b.prototype.remove=function(d){delete this.cache_[d]},b}(),Q=function(b){try{if("undefined"!=typeof window&&void 0!==window[b]){var d=window[b];return d.setItem("firebase:sentinel","cache"),d.removeItem("firebase:sentinel"),new Je(d)}}catch(y){}return new ae},De=Q("localStorage"),ye=Q("sessionStorage"),Te=new mt.Logger("@firebase/database"),wt=(b=1,function(){return b++}),Tt=function(b){var d=te.stringToByteArray(b),y=new te.Sha1;y.update(d);var T=y.digest();return te.base64.encodeByteArray(T)},it=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];for(var y="",T=0;T<b.length;T++){var P=b[T];Array.isArray(P)||P&&"object"==typeof P&&"number"==typeof P.length?y+=it.apply(null,P):y+="object"==typeof P?te.stringify(P):P,y+=" "}return y},ke=null,He=!0,qe=function(b,d){te.assert(!d||!0===b||!1===b,"Can't turn on custom loggers persistently."),!0===b?(Te.logLevel=mt.LogLevel.VERBOSE,ke=Te.log.bind(Te),d&&ye.set("logging_enabled",!0)):"function"==typeof b?ke=b:(ke=null,ye.remove("logging_enabled"))},Pt=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];if(!0===He&&(He=!1,null===ke&&!0===ye.get("logging_enabled")&&qe(!0)),ke){var y=it.apply(null,b);ke(y)}},Ut=function(b){return function(){for(var d=[],y=0;y<arguments.length;y++)d[y]=arguments[y];Pt.apply(void 0,m.__spread([b],d))}},Mt=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];var y="FIREBASE INTERNAL ERROR: "+it.apply(void 0,m.__spread(b));Te.error(y)},ft=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];var y="FIREBASE FATAL ERROR: "+it.apply(void 0,m.__spread(b));throw Te.error(y),new Error(y)},Rt=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];var y="FIREBASE WARNING: "+it.apply(void 0,m.__spread(b));Te.warn(y)},F=function(b){return"number"==typeof b&&(b!=b||b===Number.POSITIVE_INFINITY||b===Number.NEGATIVE_INFINITY)},G="[MIN_NAME]",Z="[MAX_NAME]",L=function(b,d){if(b===d)return 0;if(b===G||d===Z)return-1;if(d===G||b===Z)return 1;var y=yn(b),T=yn(d);return null!==y?null!==T?y-T==0?b.length-d.length:y-T:-1:null!==T?1:b<d?-1:1},ce=function(b,d){return b===d?0:b<d?-1:1},fe=function(b,d){if(d&&b in d)return d[b];throw new Error("Missing required key ("+b+") in object: "+te.stringify(d))},$t=function(b){if("object"!=typeof b||null===b)return te.stringify(b);var d=[];for(var y in b)d.push(y);d.sort();for(var T="{",P=0;P<d.length;P++)0!==P&&(T+=","),T+=te.stringify(d[P]),T+=":",T+=$t(b[d[P]]);return T+"}"},_e=function(b,d){var y=b.length;if(y<=d)return[b];for(var T=[],P=0;P<y;P+=d)T.push(b.substring(P,P+d>y?y:P+d));return T};function at(b,d){for(var y in b)b.hasOwnProperty(y)&&d(y,b[y])}var Et,Ft,Wt,ar,hr,Me,zt=function(b){te.assert(!F(b),"Invalid JSON number");var P,V,ee,le,Ae,T=1023;0===b?(V=0,ee=0,P=1/b==-1/0?1:0):(P=b<0,(b=Math.abs(b))>=Math.pow(2,1-T)?(V=(le=Math.min(Math.floor(Math.log(b)/Math.LN2),T))+T,ee=Math.round(b*Math.pow(2,52-le)-Math.pow(2,52))):(V=0,ee=Math.round(b/Math.pow(2,-1074))));var Ce=[];for(Ae=52;Ae;Ae-=1)Ce.push(ee%2?1:0),ee=Math.floor(ee/2);for(Ae=11;Ae;Ae-=1)Ce.push(V%2?1:0),V=Math.floor(V/2);Ce.push(P?1:0),Ce.reverse();var ct=Ce.join(""),Ot="";for(Ae=0;Ae<64;Ae+=8){var Vt=parseInt(ct.substr(Ae,8),2).toString(16);1===Vt.length&&(Vt="0"+Vt),Ot+=Vt}return Ot.toLowerCase()},Bt=new RegExp("^-?(0*)\\d{1,10}$"),yn=function(b){if(Bt.test(b)){var d=Number(b);if(d>=-2147483648&&d<=2147483647)return d}return null},Ht=function(b){try{b()}catch(d){setTimeout(function(){throw Rt("Exception was thrown by user callback.",d.stack||""),d},Math.floor(0))}},pn=function(b,d){var y=setTimeout(b,d);return"object"==typeof y&&y.unref&&y.unref(),y},It=function(){function b(d,y){if(void 0===y){this.pieces_=d.split("/");for(var T=0,P=0;P<this.pieces_.length;P++)this.pieces_[P].length>0&&(this.pieces_[T]=this.pieces_[P],T++);this.pieces_.length=T,this.pieceNum_=0}else this.pieces_=d,this.pieceNum_=y}return Object.defineProperty(b,"Empty",{get:function(){return new b("")},enumerable:!1,configurable:!0}),b.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},b.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},b.prototype.popFront=function(){var d=this.pieceNum_;return d<this.pieces_.length&&d++,new b(this.pieces_,d)},b.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},b.prototype.toString=function(){for(var d="",y=this.pieceNum_;y<this.pieces_.length;y++)""!==this.pieces_[y]&&(d+="/"+this.pieces_[y]);return d||"/"},b.prototype.toUrlEncodedString=function(){for(var d="",y=this.pieceNum_;y<this.pieces_.length;y++)""!==this.pieces_[y]&&(d+="/"+encodeURIComponent(String(this.pieces_[y])));return d||"/"},b.prototype.slice=function(d){return void 0===d&&(d=0),this.pieces_.slice(this.pieceNum_+d)},b.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var d=[],y=this.pieceNum_;y<this.pieces_.length-1;y++)d.push(this.pieces_[y]);return new b(d,0)},b.prototype.child=function(d){for(var y=[],T=this.pieceNum_;T<this.pieces_.length;T++)y.push(this.pieces_[T]);if(d instanceof b)for(T=d.pieceNum_;T<d.pieces_.length;T++)y.push(d.pieces_[T]);else{var P=d.split("/");for(T=0;T<P.length;T++)P[T].length>0&&y.push(P[T])}return new b(y,0)},b.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},b.relativePath=function(d,y){var T=d.getFront(),P=y.getFront();if(null===T)return y;if(T===P)return b.relativePath(d.popFront(),y.popFront());throw new Error("INTERNAL ERROR: innerPath ("+y+") is not within outerPath ("+d+")")},b.comparePaths=function(d,y){for(var T=d.slice(),P=y.slice(),V=0;V<T.length&&V<P.length;V++){var ee=L(T[V],P[V]);if(0!==ee)return ee}return T.length===P.length?0:T.length<P.length?-1:1},b.prototype.equals=function(d){if(this.getLength()!==d.getLength())return!1;for(var y=this.pieceNum_,T=d.pieceNum_;y<=this.pieces_.length;y++,T++)if(this.pieces_[y]!==d.pieces_[T])return!1;return!0},b.prototype.contains=function(d){var y=this.pieceNum_,T=d.pieceNum_;if(this.getLength()>d.getLength())return!1;for(;y<this.pieces_.length;){if(this.pieces_[y]!==d.pieces_[T])return!1;++y,++T}return!0},b}(),Zn=function(){function b(d,y){this.errorPrefix_=y,this.parts_=d.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var T=0;T<this.parts_.length;T++)this.byteLength_+=te.stringLength(this.parts_[T]);this.checkValid_()}return Object.defineProperty(b,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(b,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),b.prototype.push=function(d){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(d),this.byteLength_+=te.stringLength(d),this.checkValid_()},b.prototype.pop=function(){var d=this.parts_.pop();this.byteLength_-=te.stringLength(d),this.parts_.length>0&&(this.byteLength_-=1)},b.prototype.checkValid_=function(){if(this.byteLength_>b.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+b.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>b.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+b.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},b.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},b}(),_t="firebaseio.com",bt="websocket",Qt="long_polling",tn=function(){function b(d,y,T,P,V,ee,le){void 0===V&&(V=!1),void 0===ee&&(ee=""),void 0===le&&(le=!1),this.secure=y,this.namespace=T,this.webSocketOnly=P,this.nodeAdmin=V,this.persistenceKey=ee,this.includeNamespaceInQueryParams=le,this.host=d.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=De.get("host:"+d)||this.host}return b.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},b.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},b.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},b.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},b.prototype.updateHost=function(d){d!==this.internalHost&&(this.internalHost=d,this.isCacheableHost()&&De.set("host:"+this.host,this.internalHost))},b.prototype.connectionURL=function(d,y){var T;if(te.assert("string"==typeof d,"typeof type must == string"),te.assert("object"==typeof y,"typeof params must == object"),d===bt)T=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(d!==Qt)throw new Error("Unknown connection type: "+d);T=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(y.ns=this.namespace);var P=[];return at(y,function(V,ee){P.push(V+"="+ee)}),T+P.join("&")},b.prototype.toString=function(){var d=this.toURLString();return this.persistenceKey&&(d+="<"+this.persistenceKey+">"),d},b.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},b}(),Un=function(b,d){var y=Sn(b),T=y.namespace;return"firebase.com"===y.domain&&ft(y.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!T||"undefined"===T)&&"localhost"!==y.domain&&ft("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),y.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tn(y.host,y.secure,T,d,"ws"===y.scheme||"wss"===y.scheme,"",T!==y.subdomain),path:new It(y.pathString)}},Sn=function(b){var d="",y="",T="",P="",V="",ee=!0,le="https",Ae=443;if("string"==typeof b){var Ce=b.indexOf("//");Ce>=0&&(le=b.substring(0,Ce-1),b=b.substring(Ce+2));var ct=b.indexOf("/");-1===ct&&(ct=b.length);var Ot=b.indexOf("?");-1===Ot&&(Ot=b.length),d=b.substring(0,Math.min(ct,Ot)),ct<Ot&&(P=function(b){for(var d="",y=b.split("/"),T=0;T<y.length;T++)if(y[T].length>0){var P=y[T];try{P=decodeURIComponent(P.replace(/\+/g," "))}catch(V){}d+="/"+P}return d}(b.substring(ct,Ot)));var Vt=function(b){var d,y,T={};"?"===b.charAt(0)&&(b=b.substring(1));try{for(var P=m.__values(b.split("&")),V=P.next();!V.done;V=P.next()){var ee=V.value;if(0!==ee.length){var le=ee.split("=");2===le.length?T[decodeURIComponent(le[0])]=decodeURIComponent(le[1]):Rt("Invalid query segment '"+ee+"' in query '"+b+"'")}}}catch(Ae){d={error:Ae}}finally{try{V&&!V.done&&(y=P.return)&&y.call(P)}finally{if(d)throw d.error}}return T}(b.substring(Math.min(b.length,Ot)));(Ce=d.indexOf(":"))>=0?(ee="https"===le||"wss"===le,Ae=parseInt(d.substring(Ce+1),10)):Ce=d.length;var an=d.slice(0,Ce);if("localhost"===an.toLowerCase())y="localhost";else if(an.split(".").length<=2)y=an;else{var On=d.indexOf(".");T=d.substring(0,On).toLowerCase(),y=d.substring(On+1),V=T}"ns"in Vt&&(V=Vt.ns)}return{host:d,port:Ae,domain:y,subdomain:T,secure:ee,scheme:le,pathString:P,namespace:V}},Yr=/[\[\].#$\/\u0000-\u001F\u007F]/,st=/[\[\].#$\u0000-\u001F\u007F]/,ve=10485760,ze=function(b){return"string"==typeof b&&0!==b.length&&!Yr.test(b)},Ct=function(b){return"string"==typeof b&&0!==b.length&&!st.test(b)},fn=function(b){return null===b||"string"==typeof b||"number"==typeof b&&!F(b)||b&&"object"==typeof b&&te.contains(b,".sv")},Yt=function(b,d,y,T,P){P&&void 0===y||Pn(te.errorPrefix(b,d,P),y,T)},Pn=function(b,d,y){var T=y instanceof It?new Zn(y,b):y;if(void 0===d)throw new Error(b+"contains undefined "+T.toErrorString());if("function"==typeof d)throw new Error(b+"contains a function "+T.toErrorString()+" with contents = "+d.toString());if(F(d))throw new Error(b+"contains "+d.toString()+" "+T.toErrorString());if("string"==typeof d&&d.length>ve/3&&te.stringLength(d)>ve)throw new Error(b+"contains a string greater than "+ve+" utf8 bytes "+T.toErrorString()+" ('"+d.substring(0,50)+"...')");if(d&&"object"==typeof d){var P=!1,V=!1;if(at(d,function(ee,le){if(".value"===ee)P=!0;else if(".priority"!==ee&&".sv"!==ee&&(V=!0,!ze(ee)))throw new Error(b+" contains an invalid key ("+ee+") "+T.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');T.push(ee),Pn(b,le,T),T.pop()}),P&&V)throw new Error(b+' contains ".value" child '+T.toErrorString()+" in addition to actual children.")}},In=function(b,d,y,T,P){if(!P||void 0!==y){var V=te.errorPrefix(b,d,P);if(!y||"object"!=typeof y||Array.isArray(y))throw new Error(V+" must be an object containing the children to replace.");var ee=[];at(y,function(le,Ae){var Ce=new It(le);if(Pn(V,Ae,T.child(Ce)),".priority"===Ce.getBack()&&!fn(Ae))throw new Error(V+"contains an invalid value for '"+Ce.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");ee.push(Ce)}),function(b,d){var y,T;for(y=0;y<d.length;y++)for(var P=(T=d[y]).slice(),V=0;V<P.length;V++)if((".priority"!==P[V]||V!==P.length-1)&&!ze(P[V]))throw new Error(b+"contains an invalid key ("+P[V]+") in path "+T.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');d.sort(It.comparePaths);var ee=null;for(y=0;y<d.length;y++){if(T=d[y],null!==ee&&ee.contains(T))throw new Error(b+"contains a path "+ee.toString()+" that is ancestor of another path "+T.toString());ee=T}}(V,ee)}},Wn=function(b,d,y,T){if(!T||void 0!==y){if(F(y))throw new Error(te.errorPrefix(b,d,T)+"is "+y.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fn(y))throw new Error(te.errorPrefix(b,d,T)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ln=function(b,d,y,T){if(!T||void 0!==y)switch(y){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(te.errorPrefix(b,d,T)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Dr=function(b,d,y,T){if(!(T&&void 0===y||ze(y)))throw new Error(te.errorPrefix(b,d,T)+'was an invalid key = "'+y+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},tr=function(b,d,y,T){if(!(T&&void 0===y||Ct(y)))throw new Error(te.errorPrefix(b,d,T)+'was an invalid path = "'+y+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},li=function(b,d,y,T){y&&(y=y.replace(/^\/*\.info(\/|$)/,"/")),tr(b,d,y,T)},dr=function(b,d){if(".info"===d.getFront())throw new Error(b+" failed = Can't modify data under /.info/")},pr=function(b,d,y){var T=y.path.toString();if("string"!=typeof y.repoInfo.host||0===y.repoInfo.host.length||!ze(y.repoInfo.namespace)&&"localhost"!==y.repoInfo.host.split(":")[0]||0!==T.length&&!function(b){return b&&(b=b.replace(/^\/*\.info(\/|$)/,"/")),Ct(b)}(T))throw new Error(te.errorPrefix(b,d,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ni=function(b,d,y,T){if((!T||void 0!==y)&&"boolean"!=typeof y)throw new Error(te.errorPrefix(b,d,T)+"must be a boolean.")},ii=function(){function b(d,y){this.repo_=d,this.path_=y}return b.prototype.cancel=function(d){te.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),te.validateCallback("OnDisconnect.cancel",1,d,!0);var y=new te.Deferred;return this.repo_.onDisconnectCancel(this.path_,y.wrapCallback(d)),y.promise},b.prototype.remove=function(d){te.validateArgCount("OnDisconnect.remove",0,1,arguments.length),dr("OnDisconnect.remove",this.path_),te.validateCallback("OnDisconnect.remove",1,d,!0);var y=new te.Deferred;return this.repo_.onDisconnectSet(this.path_,null,y.wrapCallback(d)),y.promise},b.prototype.set=function(d,y){te.validateArgCount("OnDisconnect.set",1,2,arguments.length),dr("OnDisconnect.set",this.path_),Yt("OnDisconnect.set",1,d,this.path_,!1),te.validateCallback("OnDisconnect.set",2,y,!0);var T=new te.Deferred;return this.repo_.onDisconnectSet(this.path_,d,T.wrapCallback(y)),T.promise},b.prototype.setWithPriority=function(d,y,T){te.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),dr("OnDisconnect.setWithPriority",this.path_),Yt("OnDisconnect.setWithPriority",1,d,this.path_,!1),Wn("OnDisconnect.setWithPriority",2,y,!1),te.validateCallback("OnDisconnect.setWithPriority",3,T,!0);var P=new te.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,d,y,P.wrapCallback(T)),P.promise},b.prototype.update=function(d,y){if(te.validateArgCount("OnDisconnect.update",1,2,arguments.length),dr("OnDisconnect.update",this.path_),Array.isArray(d)){for(var T={},P=0;P<d.length;++P)T[""+P]=d[P];d=T,Rt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}In("OnDisconnect.update",1,d,this.path_,!1),te.validateCallback("OnDisconnect.update",2,y,!0);var V=new te.Deferred;return this.repo_.onDisconnectUpdate(this.path_,d,V.wrapCallback(y)),V.promise},b}(),oi=function(){function b(d,y){this.committed=d,this.snapshot=y}return b.prototype.toJSON=function(){return te.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},b}(),Pi=function(){var b="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",d=0,y=[];return function(T){var P=T===d;d=T;var V,ee=new Array(8);for(V=7;V>=0;V--)ee[V]=b.charAt(T%64),T=Math.floor(T/64);te.assert(0===T,"Cannot push at time == 0");var le=ee.join("");if(P){for(V=11;V>=0&&63===y[V];V--)y[V]=0;y[V]++}else for(V=0;V<12;V++)y[V]=Math.floor(64*Math.random());for(V=0;V<12;V++)le+=b.charAt(y[V]);return te.assert(20===le.length,"nextPushId: Length should be 20."),le}}(),xe=function(){function b(d,y){this.name=d,this.node=y}return b.Wrap=function(d,y){return new b(d,y)},b}(),ht=function(){function b(){}return b.prototype.getCompare=function(){return this.compare.bind(this)},b.prototype.indexedValueChanged=function(d,y){var T=new xe(G,d),P=new xe(G,y);return 0!==this.compare(T,P)},b.prototype.minPost=function(){return xe.MIN},b}(),Lt=function(b){function d(){return null!==b&&b.apply(this,arguments)||this}return m.__extends(d,b),Object.defineProperty(d,"__EMPTY_NODE",{get:function(){return Et},set:function(y){Et=y},enumerable:!1,configurable:!0}),d.prototype.compare=function(y,T){return L(y.name,T.name)},d.prototype.isDefinedOn=function(y){throw te.assertionError("KeyIndex.isDefinedOn not expected to be called.")},d.prototype.indexedValueChanged=function(y,T){return!1},d.prototype.minPost=function(){return xe.MIN},d.prototype.maxPost=function(){return new xe(Z,Et)},d.prototype.makePost=function(y,T){return te.assert("string"==typeof y,"KeyIndex indexValue must always be a string."),new xe(y,Et)},d.prototype.toString=function(){return".key"},d}(ht),Dt=new Lt,bn=function(b){return"number"==typeof b?"number:"+zt(b):"string:"+b},Dn=function(b){if(b.isLeafNode()){var d=b.val();te.assert("string"==typeof d||"number"==typeof d||"object"==typeof d&&te.contains(d,".sv"),"Priority must be a string or number.")}else te.assert(b===Ft||b.isEmpty(),"priority of unexpected type.");te.assert(b===Ft||b.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Nn=function(){function b(d,y){void 0===y&&(y=b.__childrenNodeConstructor.EMPTY_NODE),this.value_=d,this.priorityNode_=y,this.lazyHash_=null,te.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Dn(this.priorityNode_)}return Object.defineProperty(b,"__childrenNodeConstructor",{get:function(){return Wt},set:function(d){Wt=d},enumerable:!1,configurable:!0}),b.prototype.isLeafNode=function(){return!0},b.prototype.getPriority=function(){return this.priorityNode_},b.prototype.updatePriority=function(d){return new b(this.value_,d)},b.prototype.getImmediateChild=function(d){return".priority"===d?this.priorityNode_:b.__childrenNodeConstructor.EMPTY_NODE},b.prototype.getChild=function(d){return d.isEmpty()?this:".priority"===d.getFront()?this.priorityNode_:b.__childrenNodeConstructor.EMPTY_NODE},b.prototype.hasChild=function(){return!1},b.prototype.getPredecessorChildName=function(d,y){return null},b.prototype.updateImmediateChild=function(d,y){return".priority"===d?this.updatePriority(y):y.isEmpty()&&".priority"!==d?this:b.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(d,y).updatePriority(this.priorityNode_)},b.prototype.updateChild=function(d,y){var T=d.getFront();return null===T?y:y.isEmpty()&&".priority"!==T?this:(te.assert(".priority"!==T||1===d.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(T,b.__childrenNodeConstructor.EMPTY_NODE.updateChild(d.popFront(),y)))},b.prototype.isEmpty=function(){return!1},b.prototype.numChildren=function(){return 0},b.prototype.forEachChild=function(d,y){return!1},b.prototype.val=function(d){return d&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},b.prototype.hash=function(){if(null===this.lazyHash_){var d="";this.priorityNode_.isEmpty()||(d+="priority:"+bn(this.priorityNode_.val())+":");var y=typeof this.value_;d+=y+":",d+="number"===y?zt(this.value_):this.value_,this.lazyHash_=Tt(d)}return this.lazyHash_},b.prototype.getValue=function(){return this.value_},b.prototype.compareTo=function(d){return d===b.__childrenNodeConstructor.EMPTY_NODE?1:d instanceof b.__childrenNodeConstructor?-1:(te.assert(d.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(d))},b.prototype.compareToLeafNode_=function(d){var y=typeof d.value_,T=typeof this.value_,P=b.VALUE_TYPE_ORDER.indexOf(y),V=b.VALUE_TYPE_ORDER.indexOf(T);return te.assert(P>=0,"Unknown leaf type: "+y),te.assert(V>=0,"Unknown leaf type: "+T),P===V?"object"===T?0:this.value_<d.value_?-1:this.value_===d.value_?0:1:V-P},b.prototype.withIndex=function(){return this},b.prototype.isIndexed=function(){return!0},b.prototype.equals=function(d){return d===this||!!d.isLeafNode()&&(this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_))},b.VALUE_TYPE_ORDER=["object","boolean","number","string"],b}(),Se=new(function(b){function d(){return null!==b&&b.apply(this,arguments)||this}return m.__extends(d,b),d.prototype.compare=function(y,T){var P=y.node.getPriority(),V=T.node.getPriority(),ee=P.compareTo(V);return 0===ee?L(y.name,T.name):ee},d.prototype.isDefinedOn=function(y){return!y.getPriority().isEmpty()},d.prototype.indexedValueChanged=function(y,T){return!y.getPriority().equals(T.getPriority())},d.prototype.minPost=function(){return xe.MIN},d.prototype.maxPost=function(){return new xe(Z,new Nn("[PRIORITY-POST]",hr))},d.prototype.makePost=function(y,T){var P=ar(y);return new xe(T,new Nn("[PRIORITY-POST]",P))},d.prototype.toString=function(){return".priority"},d}(ht)),je=function(){function b(d,y,T,P,V){void 0===V&&(V=null),this.isReverse_=P,this.resultGenerator_=V,this.nodeStack_=[];for(var ee=1;!d.isEmpty();)if(d=d,ee=y?T(d.key,y):1,P&&(ee*=-1),ee<0)d=this.isReverse_?d.left:d.right;else{if(0===ee){this.nodeStack_.push(d);break}this.nodeStack_.push(d),d=this.isReverse_?d.right:d.left}}return b.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var y,d=this.nodeStack_.pop();if(y=this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value},this.isReverse_)for(d=d.left;!d.isEmpty();)this.nodeStack_.push(d),d=d.right;else for(d=d.right;!d.isEmpty();)this.nodeStack_.push(d),d=d.left;return y},b.prototype.hasNext=function(){return this.nodeStack_.length>0},b.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var d=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value}},b}(),nt=function(){function b(d,y,T,P,V){this.key=d,this.value=y,this.color=null!=T?T:b.RED,this.left=null!=P?P:H.EMPTY_NODE,this.right=null!=V?V:H.EMPTY_NODE}return b.prototype.copy=function(d,y,T,P,V){return new b(null!=d?d:this.key,null!=y?y:this.value,null!=T?T:this.color,null!=P?P:this.left,null!=V?V:this.right)},b.prototype.count=function(){return this.left.count()+1+this.right.count()},b.prototype.isEmpty=function(){return!1},b.prototype.inorderTraversal=function(d){return this.left.inorderTraversal(d)||!!d(this.key,this.value)||this.right.inorderTraversal(d)},b.prototype.reverseTraversal=function(d){return this.right.reverseTraversal(d)||d(this.key,this.value)||this.left.reverseTraversal(d)},b.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},b.prototype.minKey=function(){return this.min_().key},b.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},b.prototype.insert=function(d,y,T){var P=this,V=T(d,P.key);return(P=V<0?P.copy(null,null,null,P.left.insert(d,y,T),null):0===V?P.copy(null,y,null,null,null):P.copy(null,null,null,null,P.right.insert(d,y,T))).fixUp_()},b.prototype.removeMin_=function(){if(this.left.isEmpty())return H.EMPTY_NODE;var d=this;return!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),(d=d.copy(null,null,null,d.left.removeMin_(),null)).fixUp_()},b.prototype.remove=function(d,y){var T,P;if(y(d,(T=this).key)<0)!T.left.isEmpty()&&!T.left.isRed_()&&!T.left.left.isRed_()&&(T=T.moveRedLeft_()),T=T.copy(null,null,null,T.left.remove(d,y),null);else{if(T.left.isRed_()&&(T=T.rotateRight_()),!T.right.isEmpty()&&!T.right.isRed_()&&!T.right.left.isRed_()&&(T=T.moveRedRight_()),0===y(d,T.key)){if(T.right.isEmpty())return H.EMPTY_NODE;P=T.right.min_(),T=T.copy(P.key,P.value,null,null,T.right.removeMin_())}T=T.copy(null,null,null,null,T.right.remove(d,y))}return T.fixUp_()},b.prototype.isRed_=function(){return this.color},b.prototype.fixUp_=function(){var d=this;return d.right.isRed_()&&!d.left.isRed_()&&(d=d.rotateLeft_()),d.left.isRed_()&&d.left.left.isRed_()&&(d=d.rotateRight_()),d.left.isRed_()&&d.right.isRed_()&&(d=d.colorFlip_()),d},b.prototype.moveRedLeft_=function(){var d=this.colorFlip_();return d.right.left.isRed_()&&(d=(d=(d=d.copy(null,null,null,null,d.right.rotateRight_())).rotateLeft_()).colorFlip_()),d},b.prototype.moveRedRight_=function(){var d=this.colorFlip_();return d.left.left.isRed_()&&(d=(d=d.rotateRight_()).colorFlip_()),d},b.prototype.rotateLeft_=function(){var d=this.copy(null,null,b.RED,null,this.right.left);return this.right.copy(null,null,this.color,d,null)},b.prototype.rotateRight_=function(){var d=this.copy(null,null,b.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,d)},b.prototype.colorFlip_=function(){var d=this.left.copy(null,null,!this.left.color,null,null),y=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,d,y)},b.prototype.checkMaxDepth_=function(){var d=this.check_();return Math.pow(2,d)<=this.count()+1},b.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var d=this.left.check_();if(d!==this.right.check_())throw new Error("Black depths differ");return d+(this.isRed_()?0:1)},b.RED=!0,b.BLACK=!1,b}(),ue=function(){function b(){}return b.prototype.copy=function(d,y,T,P,V){return this},b.prototype.insert=function(d,y,T){return new nt(d,y,null)},b.prototype.remove=function(d,y){return this},b.prototype.count=function(){return 0},b.prototype.isEmpty=function(){return!0},b.prototype.inorderTraversal=function(d){return!1},b.prototype.reverseTraversal=function(d){return!1},b.prototype.minKey=function(){return null},b.prototype.maxKey=function(){return null},b.prototype.check_=function(){return 0},b.prototype.isRed_=function(){return!1},b}(),H=function(){function b(d,y){void 0===y&&(y=b.EMPTY_NODE),this.comparator_=d,this.root_=y}return b.prototype.insert=function(d,y){return new b(this.comparator_,this.root_.insert(d,y,this.comparator_).copy(null,null,nt.BLACK,null,null))},b.prototype.remove=function(d){return new b(this.comparator_,this.root_.remove(d,this.comparator_).copy(null,null,nt.BLACK,null,null))},b.prototype.get=function(d){for(var y,T=this.root_;!T.isEmpty();){if(0===(y=this.comparator_(d,T.key)))return T.value;y<0?T=T.left:y>0&&(T=T.right)}return null},b.prototype.getPredecessorKey=function(d){for(var y,T=this.root_,P=null;!T.isEmpty();){if(0===(y=this.comparator_(d,T.key))){if(T.left.isEmpty())return P?P.key:null;for(T=T.left;!T.right.isEmpty();)T=T.right;return T.key}y<0?T=T.left:y>0&&(P=T,T=T.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},b.prototype.isEmpty=function(){return this.root_.isEmpty()},b.prototype.count=function(){return this.root_.count()},b.prototype.minKey=function(){return this.root_.minKey()},b.prototype.maxKey=function(){return this.root_.maxKey()},b.prototype.inorderTraversal=function(d){return this.root_.inorderTraversal(d)},b.prototype.reverseTraversal=function(d){return this.root_.reverseTraversal(d)},b.prototype.getIterator=function(d){return new je(this.root_,null,this.comparator_,!1,d)},b.prototype.getIteratorFrom=function(d,y){return new je(this.root_,d,this.comparator_,!1,y)},b.prototype.getReverseIteratorFrom=function(d,y){return new je(this.root_,d,this.comparator_,!0,y)},b.prototype.getReverseIterator=function(d){return new je(this.root_,null,this.comparator_,!0,d)},b.EMPTY_NODE=new ue,b}(),oe=Math.log(2),Ee=function(){function b(d){this.count=parseInt(Math.log(d+1)/oe,10),this.current_=this.count-1;var P=parseInt(Array(this.count+1).join("1"),2);this.bits_=d+1&P}return b.prototype.nextBitIsOne=function(){var d=!(this.bits_&1<<this.current_);return this.current_--,d},b}(),Be=function(b,d,y,T){b.sort(d);var P=function(Ae,Ce){var Ot,Vt,ct=Ce-Ae;if(0===ct)return null;if(1===ct)return Ot=b[Ae],Vt=y?y(Ot):Ot,new nt(Vt,Ot.node,nt.BLACK,null,null);var an=parseInt(ct/2,10)+Ae,On=P(Ae,an),jn=P(an+1,Ce);return Ot=b[an],Vt=y?y(Ot):Ot,new nt(Vt,Ot.node,nt.BLACK,On,jn)},le=function(Ae){for(var Ce=null,ct=null,Ot=b.length,Vt=function(Lr,ho){var Ro=Ot-Lr,ta=Ot;Ot-=Lr;var Hn=P(Ro+1,ta),Ri=b[Ro],Co=y?y(Ri):Ri;an(new nt(Co,Ri.node,ho,null,Hn))},an=function(Lr){Ce?(Ce.left=Lr,Ce=Lr):(ct=Lr,Ce=Lr)},On=0;On<Ae.count;++On){var jn=Ae.nextBitIsOne(),Ur=Math.pow(2,Ae.count-(On+1));jn?Vt(Ur,nt.BLACK):(Vt(Ur,nt.BLACK),Vt(Ur,nt.RED))}return ct}(new Ee(b.length));return new H(T||d,le)},ut={},Jt=function(){function b(d,y){this.indexes_=d,this.indexSet_=y}return Object.defineProperty(b,"Default",{get:function(){return te.assert(ut&&Se,"ChildrenNode.ts has not been loaded"),Me=Me||new b({".priority":ut},{".priority":Se})},enumerable:!1,configurable:!0}),b.prototype.get=function(d){var y=te.safeGet(this.indexes_,d);if(!y)throw new Error("No index defined for "+d);return y instanceof H?y:null},b.prototype.hasIndex=function(d){return te.contains(this.indexSet_,d.toString())},b.prototype.addIndex=function(d,y){te.assert(d!==Dt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var T=[],P=!1,V=y.getIterator(xe.Wrap),ee=V.getNext();ee;)P=P||d.isDefinedOn(ee.node),T.push(ee),ee=V.getNext();var le;le=P?Be(T,d.getCompare()):ut;var Ae=d.toString(),Ce=m.__assign({},this.indexSet_);Ce[Ae]=d;var ct=m.__assign({},this.indexes_);return ct[Ae]=le,new b(ct,Ce)},b.prototype.addToIndexes=function(d,y){var T=this;return new b(te.map(this.indexes_,function(V,ee){var le=te.safeGet(T.indexSet_,ee);if(te.assert(le,"Missing index implementation for "+ee),V===ut){if(le.isDefinedOn(d.node)){for(var Ae=[],Ce=y.getIterator(xe.Wrap),ct=Ce.getNext();ct;)ct.name!==d.name&&Ae.push(ct),ct=Ce.getNext();return Ae.push(d),Be(Ae,le.getCompare())}return ut}var Ot=y.get(d.name),Vt=V;return Ot&&(Vt=Vt.remove(new xe(d.name,Ot))),Vt.insert(d,d.node)}),this.indexSet_)},b.prototype.removeFromIndexes=function(d,y){return new b(te.map(this.indexes_,function(P){if(P===ut)return P;var V=y.get(d.name);return V?P.remove(new xe(d.name,V)):P}),this.indexSet_)},b}();function ln(b,d){return L(b.name,d.name)}function qn(b,d){return L(b,d)}var An,vn=function(){function b(d,y,T){this.children_=d,this.priorityNode_=y,this.indexMap_=T,this.lazyHash_=null,this.priorityNode_&&Dn(this.priorityNode_),this.children_.isEmpty()&&te.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(b,"EMPTY_NODE",{get:function(){return An||(An=new b(new H(qn),null,Jt.Default))},enumerable:!1,configurable:!0}),b.prototype.isLeafNode=function(){return!1},b.prototype.getPriority=function(){return this.priorityNode_||An},b.prototype.updatePriority=function(d){return this.children_.isEmpty()?this:new b(this.children_,d,this.indexMap_)},b.prototype.getImmediateChild=function(d){if(".priority"===d)return this.getPriority();var y=this.children_.get(d);return null===y?An:y},b.prototype.getChild=function(d){var y=d.getFront();return null===y?this:this.getImmediateChild(y).getChild(d.popFront())},b.prototype.hasChild=function(d){return null!==this.children_.get(d)},b.prototype.updateImmediateChild=function(d,y){if(te.assert(y,"We should always be passing snapshot nodes"),".priority"===d)return this.updatePriority(y);var T=new xe(d,y),P=void 0,V=void 0;y.isEmpty()?(P=this.children_.remove(d),V=this.indexMap_.removeFromIndexes(T,this.children_)):(P=this.children_.insert(d,y),V=this.indexMap_.addToIndexes(T,this.children_));var ee=P.isEmpty()?An:this.priorityNode_;return new b(P,ee,V)},b.prototype.updateChild=function(d,y){var T=d.getFront();if(null===T)return y;te.assert(".priority"!==d.getFront()||1===d.getLength(),".priority must be the last token in a path");var P=this.getImmediateChild(T).updateChild(d.popFront(),y);return this.updateImmediateChild(T,P)},b.prototype.isEmpty=function(){return this.children_.isEmpty()},b.prototype.numChildren=function(){return this.children_.count()},b.prototype.val=function(d){if(this.isEmpty())return null;var y={},T=0,P=0,V=!0;if(this.forEachChild(Se,function(Ae,Ce){y[Ae]=Ce.val(d),T++,V&&b.INTEGER_REGEXP_.test(Ae)?P=Math.max(P,Number(Ae)):V=!1}),!d&&V&&P<2*T){var ee=[];for(var le in y)ee[le]=y[le];return ee}return d&&!this.getPriority().isEmpty()&&(y[".priority"]=this.getPriority().val()),y},b.prototype.hash=function(){if(null===this.lazyHash_){var d="";this.getPriority().isEmpty()||(d+="priority:"+bn(this.getPriority().val())+":"),this.forEachChild(Se,function(y,T){var P=T.hash();""!==P&&(d+=":"+y+":"+P)}),this.lazyHash_=""===d?"":Tt(d)}return this.lazyHash_},b.prototype.getPredecessorChildName=function(d,y,T){var P=this.resolveIndex_(T);if(P){var V=P.getPredecessorKey(new xe(d,y));return V?V.name:null}return this.children_.getPredecessorKey(d)},b.prototype.getFirstChildName=function(d){var y=this.resolveIndex_(d);if(y){var T=y.minKey();return T&&T.name}return this.children_.minKey()},b.prototype.getFirstChild=function(d){var y=this.getFirstChildName(d);return y?new xe(y,this.children_.get(y)):null},b.prototype.getLastChildName=function(d){var y=this.resolveIndex_(d);if(y){var T=y.maxKey();return T&&T.name}return this.children_.maxKey()},b.prototype.getLastChild=function(d){var y=this.getLastChildName(d);return y?new xe(y,this.children_.get(y)):null},b.prototype.forEachChild=function(d,y){var T=this.resolveIndex_(d);return T?T.inorderTraversal(function(P){return y(P.name,P.node)}):this.children_.inorderTraversal(y)},b.prototype.getIterator=function(d){return this.getIteratorFrom(d.minPost(),d)},b.prototype.getIteratorFrom=function(d,y){var T=this.resolveIndex_(y);if(T)return T.getIteratorFrom(d,function(ee){return ee});for(var P=this.children_.getIteratorFrom(d.name,xe.Wrap),V=P.peek();null!=V&&y.compare(V,d)<0;)P.getNext(),V=P.peek();return P},b.prototype.getReverseIterator=function(d){return this.getReverseIteratorFrom(d.maxPost(),d)},b.prototype.getReverseIteratorFrom=function(d,y){var T=this.resolveIndex_(y);if(T)return T.getReverseIteratorFrom(d,function(ee){return ee});for(var P=this.children_.getReverseIteratorFrom(d.name,xe.Wrap),V=P.peek();null!=V&&y.compare(V,d)>0;)P.getNext(),V=P.peek();return P},b.prototype.compareTo=function(d){return this.isEmpty()?d.isEmpty()?0:-1:d.isLeafNode()||d.isEmpty()?1:d===nr?-1:0},b.prototype.withIndex=function(d){if(d===Dt||this.indexMap_.hasIndex(d))return this;var y=this.indexMap_.addIndex(d,this.children_);return new b(this.children_,this.priorityNode_,y)},b.prototype.isIndexed=function(d){return d===Dt||this.indexMap_.hasIndex(d)},b.prototype.equals=function(d){if(d===this)return!0;if(d.isLeafNode())return!1;var y=d;if(this.getPriority().equals(y.getPriority())){if(this.children_.count()===y.children_.count()){for(var T=this.getIterator(Se),P=y.getIterator(Se),V=T.getNext(),ee=P.getNext();V&&ee;){if(V.name!==ee.name||!V.node.equals(ee.node))return!1;V=T.getNext(),ee=P.getNext()}return null===V&&null===ee}return!1}return!1},b.prototype.resolveIndex_=function(d){return d===Dt?null:this.indexMap_.get(d.toString())},b.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,b}(),nr=new(function(b){function d(){return b.call(this,new H(qn),vn.EMPTY_NODE,Jt.Default)||this}return m.__extends(d,b),d.prototype.compareTo=function(y){return y===this?0:1},d.prototype.equals=function(y){return y===this},d.prototype.getPriority=function(){return this},d.prototype.getImmediateChild=function(y){return vn.EMPTY_NODE},d.prototype.isEmpty=function(){return!1},d}(vn));function or(b,d){if(void 0===d&&(d=null),null===b)return vn.EMPTY_NODE;if("object"==typeof b&&".priority"in b&&(d=b[".priority"]),te.assert(null===d||"string"==typeof d||"number"==typeof d||"object"==typeof d&&".sv"in d,"Invalid priority type found: "+typeof d),"object"==typeof b&&".value"in b&&null!==b[".value"]&&(b=b[".value"]),"object"!=typeof b||".sv"in b)return new Nn(b,or(d));if(b instanceof Array){var Ae=vn.EMPTY_NODE;return at(b,function(Ce,ct){if(te.contains(b,Ce)&&"."!==Ce.substring(0,1)){var Ot=or(ct);(Ot.isLeafNode()||!Ot.isEmpty())&&(Ae=Ae.updateImmediateChild(Ce,Ot))}}),Ae.updatePriority(or(d))}var T=[],P=!1;if(at(b,function(Ce,ct){if("."!==Ce.substring(0,1)){var Ot=or(ct);Ot.isEmpty()||(P=P||!Ot.getPriority().isEmpty(),T.push(new xe(Ce,Ot)))}}),0===T.length)return vn.EMPTY_NODE;var ee=Be(T,ln,function(Ce){return Ce.name},qn);if(P){var le=Be(T,Se.getCompare());return new vn(ee,or(d),new Jt({".priority":le},{".priority":Se}))}return new vn(ee,or(d),Jt.Default)}Object.defineProperties(xe,{MIN:{value:new xe(G,vn.EMPTY_NODE)},MAX:{value:new xe(Z,nr)}}),Lt.__EMPTY_NODE=vn.EMPTY_NODE,Nn.__childrenNodeConstructor=vn,function(b){Ft=b}(nr),function(b){hr=b}(nr),function(b){ar=b}(or);var xi,qi=new(function(b){function d(){return null!==b&&b.apply(this,arguments)||this}return m.__extends(d,b),d.prototype.compare=function(y,T){var P=y.node.compareTo(T.node);return 0===P?L(y.name,T.name):P},d.prototype.isDefinedOn=function(y){return!0},d.prototype.indexedValueChanged=function(y,T){return!y.equals(T)},d.prototype.minPost=function(){return xe.MIN},d.prototype.maxPost=function(){return xe.MAX},d.prototype.makePost=function(y,T){var P=or(y);return new xe(T,P)},d.prototype.toString=function(){return".value"},d}(ht)),ko=function(b){function d(y){var T=b.call(this)||this;return T.indexPath_=y,te.assert(!y.isEmpty()&&".priority"!==y.getFront(),"Can't create PathIndex with empty path or .priority key"),T}return m.__extends(d,b),d.prototype.extractChild=function(y){return y.getChild(this.indexPath_)},d.prototype.isDefinedOn=function(y){return!y.getChild(this.indexPath_).isEmpty()},d.prototype.compare=function(y,T){var P=this.extractChild(y.node),V=this.extractChild(T.node),ee=P.compareTo(V);return 0===ee?L(y.name,T.name):ee},d.prototype.makePost=function(y,T){var P=or(y),V=vn.EMPTY_NODE.updateChild(this.indexPath_,P);return new xe(T,V)},d.prototype.maxPost=function(){var y=vn.EMPTY_NODE.updateChild(this.indexPath_,nr);return new xe(Z,y)},d.prototype.toString=function(){return this.indexPath_.slice().join("/")},d}(ht),Yi=function(){function b(d,y,T){this.node_=d,this.ref_=y,this.index_=T}return b.prototype.val=function(){return te.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},b.prototype.exportVal=function(){return te.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},b.prototype.toJSON=function(){return te.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},b.prototype.exists=function(){return te.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},b.prototype.child=function(d){te.validateArgCount("DataSnapshot.child",0,1,arguments.length),d=String(d),tr("DataSnapshot.child",1,d,!1);var y=new It(d),T=this.ref_.child(y);return new b(this.node_.getChild(y),T,Se)},b.prototype.hasChild=function(d){te.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),tr("DataSnapshot.hasChild",1,d,!1);var y=new It(d);return!this.node_.getChild(y).isEmpty()},b.prototype.getPriority=function(){return te.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},b.prototype.forEach=function(d){var y=this;if(te.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),te.validateCallback("DataSnapshot.forEach",1,d,!1),this.node_.isLeafNode())return!1;var T=this.node_;return!!T.forEachChild(this.index_,function(P,V){return d(new b(V,y.ref_.child(P),Se))})},b.prototype.hasChildren=function(){return te.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(b.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),b.prototype.numChildren=function(){return te.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},b.prototype.getRef=function(){return te.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(b.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),b}(),ps=function(){function b(d,y,T,P){this.eventType=d,this.eventRegistration=y,this.snapshot=T,this.prevName=P}return b.prototype.getPath=function(){var d=this.snapshot.getRef();return"value"===this.eventType?d.path:d.getParent().path},b.prototype.getEventType=function(){return this.eventType},b.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},b.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+te.stringify(this.snapshot.exportVal())},b}(),Ao=function(){function b(d,y,T){this.eventRegistration=d,this.error=y,this.path=T}return b.prototype.getPath=function(){return this.path},b.prototype.getEventType=function(){return"cancel"},b.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},b.prototype.toString=function(){return this.path.toString()+":cancel"},b}(),mi=function(){function b(d,y,T){this.callback_=d,this.cancelCallback_=y,this.context_=T}return b.prototype.respondsTo=function(d){return"value"===d},b.prototype.createEvent=function(d,y){var T=y.getQueryParams().getIndex();return new ps("value",this,new Yi(d.snapshotNode,y.getRef(),T))},b.prototype.getEventRunner=function(d){var y=this.context_;if("cancel"===d.getEventType()){te.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var T=this.cancelCallback_;return function(){T.call(y,d.error)}}var P=this.callback_;return function(){P.call(y,d.snapshot)}},b.prototype.createCancelEvent=function(d,y){return this.cancelCallback_?new Ao(this,d,y):null},b.prototype.matches=function(d){return d instanceof b&&(!d.callback_||!this.callback_||d.callback_===this.callback_&&d.context_===this.context_)},b.prototype.hasAnyCallback=function(){return null!==this.callback_},b}(),Zi=function(){function b(d,y,T){this.callbacks_=d,this.cancelCallback_=y,this.context_=T}return b.prototype.respondsTo=function(d){var y="children_added"===d?"child_added":d;return te.contains(this.callbacks_,y="children_removed"===y?"child_removed":y)},b.prototype.createCancelEvent=function(d,y){return this.cancelCallback_?new Ao(this,d,y):null},b.prototype.createEvent=function(d,y){te.assert(null!=d.childName,"Child events should have a childName.");var T=y.getRef().child(d.childName),P=y.getQueryParams().getIndex();return new ps(d.type,this,new Yi(d.snapshotNode,T,P),d.prevName)},b.prototype.getEventRunner=function(d){var y=this.context_;if("cancel"===d.getEventType()){te.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var T=this.cancelCallback_;return function(){T.call(y,d.error)}}var P=this.callbacks_[d.eventType];return function(){P.call(y,d.snapshot,d.prevName)}},b.prototype.matches=function(d){var y=this;if(d instanceof b){if(!this.callbacks_||!d.callbacks_)return!0;if(this.context_===d.context_){var T=Object.keys(d.callbacks_),P=Object.keys(this.callbacks_),V=T.length;if(V===P.length){if(1===V){var le=T[0],Ae=P[0];return!(Ae!==le||d.callbacks_[le]&&this.callbacks_[Ae]&&d.callbacks_[le]!==this.callbacks_[Ae])}return P.every(function(Ce){return d.callbacks_[Ce]===y.callbacks_[Ce]})}}}return!1},b.prototype.hasAnyCallback=function(){return null!==this.callbacks_},b}(),vi=function(){function b(d,y,T,P){this.repo=d,this.path=y,this.queryParams_=T,this.orderByCalled_=P}return Object.defineProperty(b,"__referenceConstructor",{get:function(){return te.assert(xi,"Reference.ts has not been loaded"),xi},set:function(d){xi=d},enumerable:!1,configurable:!0}),b.validateQueryEndpoints_=function(d){var y=null,T=null;if(d.hasStart()&&(y=d.getIndexStartValue()),d.hasEnd()&&(T=d.getIndexEndValue()),d.getIndex()===Dt){var P="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",V="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(d.hasStart()){if(d.getIndexStartName()!==G)throw new Error(P);if("string"!=typeof y)throw new Error(V)}if(d.hasEnd()){if(d.getIndexEndName()!==Z)throw new Error(P);if("string"!=typeof T)throw new Error(V)}}else if(d.getIndex()===Se){if(null!=y&&!fn(y)||null!=T&&!fn(T))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(te.assert(d.getIndex()instanceof ko||d.getIndex()===qi,"unknown index type."),null!=y&&"object"==typeof y||null!=T&&"object"==typeof T)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},b.validateLimit_=function(d){if(d.hasStart()&&d.hasEnd()&&d.hasLimit()&&!d.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},b.prototype.validateNoPreviousOrderByCall_=function(d){if(!0===this.orderByCalled_)throw new Error(d+": You can't combine multiple orderBy calls.")},b.prototype.getQueryParams=function(){return this.queryParams_},b.prototype.getRef=function(){return te.validateArgCount("Query.ref",0,0,arguments.length),new b.__referenceConstructor(this.repo,this.path)},b.prototype.on=function(d,y,T,P){te.validateArgCount("Query.on",2,4,arguments.length),Ln("Query.on",1,d,!1),te.validateCallback("Query.on",2,y,!1);var V=b.getCancelAndContextArgs_("Query.on",T,P);if("value"===d)this.onValueEvent(y,V.cancel,V.context);else{var ee={};ee[d]=y,this.onChildEvent(ee,V.cancel,V.context)}return y},b.prototype.onValueEvent=function(d,y,T){var P=new mi(d,y||null,T||null);this.repo.addEventCallbackForQuery(this,P)},b.prototype.onChildEvent=function(d,y,T){var P=new Zi(d,y,T);this.repo.addEventCallbackForQuery(this,P)},b.prototype.off=function(d,y,T){te.validateArgCount("Query.off",0,3,arguments.length),Ln("Query.off",1,d,!0),te.validateCallback("Query.off",2,y,!0),te.validateContextObject("Query.off",3,T,!0);var P=null,V=null;if("value"===d){var ee=y||null;P=new mi(ee,null,T||null)}else d&&(y&&((V={})[d]=y),P=new Zi(V,null,T||null));this.repo.removeEventCallbackForQuery(this,P)},b.prototype.once=function(d,y,T,P){var V=this;te.validateArgCount("Query.once",1,4,arguments.length),Ln("Query.once",1,d,!1),te.validateCallback("Query.once",2,y,!0);var ee=b.getCancelAndContextArgs_("Query.once",T,P),le=!0,Ae=new te.Deferred;Ae.promise.catch(function(){});var Ce=function(ct){le&&(le=!1,V.off(d,Ce),y&&y.bind(ee.context)(ct),Ae.resolve(ct))};return this.on(d,Ce,function(ct){V.off(d,Ce),ee.cancel&&ee.cancel.bind(ee.context)(ct),Ae.reject(ct)}),Ae.promise},b.prototype.limitToFirst=function(d){if(te.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof d||Math.floor(d)!==d||d<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new b(this.repo,this.path,this.queryParams_.limitToFirst(d),this.orderByCalled_)},b.prototype.limitToLast=function(d){if(te.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof d||Math.floor(d)!==d||d<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new b(this.repo,this.path,this.queryParams_.limitToLast(d),this.orderByCalled_)},b.prototype.orderByChild=function(d){if(te.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===d)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===d)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===d)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');tr("Query.orderByChild",1,d,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var y=new It(d);if(y.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var T=new ko(y),P=this.queryParams_.orderBy(T);return b.validateQueryEndpoints_(P),new b(this.repo,this.path,P,!0)},b.prototype.orderByKey=function(){te.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var d=this.queryParams_.orderBy(Dt);return b.validateQueryEndpoints_(d),new b(this.repo,this.path,d,!0)},b.prototype.orderByPriority=function(){te.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var d=this.queryParams_.orderBy(Se);return b.validateQueryEndpoints_(d),new b(this.repo,this.path,d,!0)},b.prototype.orderByValue=function(){te.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var d=this.queryParams_.orderBy(qi);return b.validateQueryEndpoints_(d),new b(this.repo,this.path,d,!0)},b.prototype.startAt=function(d,y){void 0===d&&(d=null),te.validateArgCount("Query.startAt",0,2,arguments.length),Yt("Query.startAt",1,d,this.path,!0),Dr("Query.startAt",2,y,!0);var T=this.queryParams_.startAt(d,y);if(b.validateLimit_(T),b.validateQueryEndpoints_(T),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===d&&(d=null,y=null),new b(this.repo,this.path,T,this.orderByCalled_)},b.prototype.endAt=function(d,y){void 0===d&&(d=null),te.validateArgCount("Query.endAt",0,2,arguments.length),Yt("Query.endAt",1,d,this.path,!0),Dr("Query.endAt",2,y,!0);var T=this.queryParams_.endAt(d,y);if(b.validateLimit_(T),b.validateQueryEndpoints_(T),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new b(this.repo,this.path,T,this.orderByCalled_)},b.prototype.equalTo=function(d,y){if(te.validateArgCount("Query.equalTo",1,2,arguments.length),Yt("Query.equalTo",1,d,this.path,!1),Dr("Query.equalTo",2,y,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(d,y).endAt(d,y)},b.prototype.toString=function(){return te.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},b.prototype.toJSON=function(){return te.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},b.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},b.prototype.queryIdentifier=function(){var d=this.queryObject(),y=$t(d);return"{}"===y?"default":y},b.prototype.isEqual=function(d){if(te.validateArgCount("Query.isEqual",1,1,arguments.length),!(d instanceof b)){var y="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(y)}var T=this.repo===d.repo,P=this.path.equals(d.path),V=this.queryIdentifier()===d.queryIdentifier();return T&&P&&V},b.getCancelAndContextArgs_=function(d,y,T){var P={cancel:null,context:null};if(y&&T)P.cancel=y,te.validateCallback(d,3,P.cancel,!0),P.context=T,te.validateContextObject(d,4,P.context,!0);else if(y)if("object"==typeof y&&null!==y)P.context=y;else{if("function"!=typeof y)throw new Error(te.errorPrefix(d,3,!0)+" must either be a cancel callback or a context object.");P.cancel=y}return P},Object.defineProperty(b.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),b}(),rs=function(){function b(d){this.node_=d}return b.prototype.getImmediateChild=function(d){return new b(this.node_.getImmediateChild(d))},b.prototype.node=function(){return this.node_},b}(),yo=function(){function b(d,y){this.syncTree_=d,this.path_=y}return b.prototype.getImmediateChild=function(d){var y=this.path_.child(d);return new b(this.syncTree_,y)},b.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},b}(),yi=function(b,d,y){return b&&"object"==typeof b?(te.assert(".sv"in b,"Unexpected leaf node or priority contents"),"string"==typeof b[".sv"]?ki(b[".sv"],d,y):"object"==typeof b[".sv"]?si(b[".sv"],d):void te.assert(!1,"Unexpected server value: "+JSON.stringify(b,null,2))):b},ki=function(b,d,y){switch(b){case"timestamp":return y.timestamp;default:te.assert(!1,"Unexpected server value: "+b)}},si=function(b,d,y){b.hasOwnProperty("increment")||te.assert(!1,"Unexpected server value: "+JSON.stringify(b,null,2));var T=b.increment;"number"!=typeof T&&te.assert(!1,"Unexpected increment value: "+T);var P=d.node();if(te.assert(null!=P,"Expected ChildrenNode.EMPTY_NODE for nulls"),!P.isLeafNode())return T;var ee=P.getValue();return"number"!=typeof ee?T:ee+T},Fi=function(b,d,y,T){return ji(d,new yo(y,b),T)},Qn=function(b,d,y){return ji(b,new rs(d),y)};function ji(b,d,y){var V,T=b.getPriority().val(),P=yi(T,d.getImmediateChild(".priority"),y);if(b.isLeafNode()){var ee=b,le=yi(ee.getValue(),d,y);return le!==ee.getValue()||P!==ee.getPriority().val()?new Nn(le,or(P)):b}var Ae=b;return V=Ae,P!==Ae.getPriority().val()&&(V=V.updatePriority(new Nn(P))),Ae.forEachChild(Se,function(Ce,ct){var Ot=ji(ct,d.getImmediateChild(Ce),y);Ot!==ct&&(V=V.updateImmediateChild(Ce,Ot))}),V}var co,wo,Wo=function(){function b(){this.value=null,this.children=new Map}return b.prototype.find=function(d){if(null!=this.value)return this.value.getChild(d);if(!d.isEmpty()&&this.children.size>0){var y=d.getFront();return d=d.popFront(),this.children.has(y)?this.children.get(y).find(d):null}return null},b.prototype.remember=function(d,y){if(d.isEmpty())this.value=y,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(d,y);else{var T=d.getFront();this.children.has(T)||this.children.set(T,new b);var P=this.children.get(T);d=d.popFront(),P.remember(d,y)}},b.prototype.forget=function(d){if(d.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var y=this.value;this.value=null;var T=this;return y.forEachChild(Se,function(ee,le){T.remember(new It(ee),le)}),this.forget(d)}if(this.children.size>0){var P=d.getFront();return d=d.popFront(),this.children.has(P)&&this.children.get(P).forget(d)&&this.children.delete(P),0===this.children.size}return!0},b.prototype.forEachTree=function(d,y){null!==this.value?y(d,this.value):this.forEachChild(function(T,P){var V=new It(d.toString()+"/"+T);P.forEachTree(V,y)})},b.prototype.forEachChild=function(d){this.children.forEach(function(y,T){d(T,y)})},b}(),$r=(()=>(function(b){b[b.OVERWRITE=0]="OVERWRITE",b[b.MERGE=1]="MERGE",b[b.ACK_USER_WRITE=2]="ACK_USER_WRITE",b[b.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}($r||($r={})),$r))(),lo=function(){function b(d,y,T,P){this.fromUser=d,this.fromServer=y,this.queryId=T,this.tagged=P,te.assert(!P||y,"Tagged queries must be from server.")}return b.User=new b(!0,!1,null,!1),b.Server=new b(!1,!0,null,!1),b.forServerTaggedQuery=function(d){return new b(!1,!0,d,!0)},b}(),Us=function(){function b(d,y,T){this.path=d,this.affectedTree=y,this.revert=T,this.type=$r.ACK_USER_WRITE,this.source=lo.User}return b.prototype.operationForChild=function(d){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return te.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var y=this.affectedTree.subtree(new It(d));return new b(It.Empty,y,this.revert)}return te.assert(this.path.getFront()===d,"operationForChild called for unrelated child."),new b(this.path.popFront(),this.affectedTree,this.revert)},b}(),fr=function(){function b(d,y){void 0===y&&(co||(co=new H(ce)),y=co),this.value=d,this.children=y}return b.fromObject=function(d){var y=b.Empty;return at(d,function(T,P){y=y.set(new It(T),P)}),y},b.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},b.prototype.findRootMostMatchingPathAndValue=function(d,y){if(null!=this.value&&y(this.value))return{path:It.Empty,value:this.value};if(d.isEmpty())return null;var T=d.getFront(),P=this.children.get(T);if(null!==P){var V=P.findRootMostMatchingPathAndValue(d.popFront(),y);return null!=V?{path:new It(T).child(V.path),value:V.value}:null}return null},b.prototype.findRootMostValueAndPath=function(d){return this.findRootMostMatchingPathAndValue(d,function(){return!0})},b.prototype.subtree=function(d){if(d.isEmpty())return this;var y=d.getFront(),T=this.children.get(y);return null!==T?T.subtree(d.popFront()):b.Empty},b.prototype.set=function(d,y){if(d.isEmpty())return new b(y,this.children);var T=d.getFront(),V=(this.children.get(T)||b.Empty).set(d.popFront(),y),ee=this.children.insert(T,V);return new b(this.value,ee)},b.prototype.remove=function(d){if(d.isEmpty())return this.children.isEmpty()?b.Empty:new b(null,this.children);var y=d.getFront(),T=this.children.get(y);if(T){var P=T.remove(d.popFront()),V=void 0;return V=P.isEmpty()?this.children.remove(y):this.children.insert(y,P),null===this.value&&V.isEmpty()?b.Empty:new b(this.value,V)}return this},b.prototype.get=function(d){if(d.isEmpty())return this.value;var y=d.getFront(),T=this.children.get(y);return T?T.get(d.popFront()):null},b.prototype.setTree=function(d,y){if(d.isEmpty())return y;var ee,T=d.getFront(),V=(this.children.get(T)||b.Empty).setTree(d.popFront(),y);return ee=V.isEmpty()?this.children.remove(T):this.children.insert(T,V),new b(this.value,ee)},b.prototype.fold=function(d){return this.fold_(It.Empty,d)},b.prototype.fold_=function(d,y){var T={};return this.children.inorderTraversal(function(P,V){T[P]=V.fold_(d.child(P),y)}),y(d,this.value,T)},b.prototype.findOnPath=function(d,y){return this.findOnPath_(d,It.Empty,y)},b.prototype.findOnPath_=function(d,y,T){var P=!!this.value&&T(y,this.value);if(P)return P;if(d.isEmpty())return null;var V=d.getFront(),ee=this.children.get(V);return ee?ee.findOnPath_(d.popFront(),y.child(V),T):null},b.prototype.foreachOnPath=function(d,y){return this.foreachOnPath_(d,It.Empty,y)},b.prototype.foreachOnPath_=function(d,y,T){if(d.isEmpty())return this;this.value&&T(y,this.value);var P=d.getFront(),V=this.children.get(P);return V?V.foreachOnPath_(d.popFront(),y.child(P),T):b.Empty},b.prototype.foreach=function(d){this.foreach_(It.Empty,d)},b.prototype.foreach_=function(d,y){this.children.inorderTraversal(function(T,P){P.foreach_(d.child(T),y)}),this.value&&y(d,this.value)},b.prototype.foreachChild=function(d){this.children.inorderTraversal(function(y,T){T.value&&d(y,T.value)})},b.Empty=new b(null),b}(),Xs=function(){function b(d,y){this.source=d,this.path=y,this.type=$r.LISTEN_COMPLETE}return b.prototype.operationForChild=function(d){return this.path.isEmpty()?new b(this.source,It.Empty):new b(this.source,this.path.popFront())},b}(),io=function(){function b(d,y,T){this.source=d,this.path=y,this.snap=T,this.type=$r.OVERWRITE}return b.prototype.operationForChild=function(d){return this.path.isEmpty()?new b(this.source,It.Empty,this.snap.getImmediateChild(d)):new b(this.source,this.path.popFront(),this.snap)},b}(),Fo=function(){function b(d,y,T){this.source=d,this.path=y,this.children=T,this.type=$r.MERGE}return b.prototype.operationForChild=function(d){if(this.path.isEmpty()){var y=this.children.subtree(new It(d));return y.isEmpty()?null:y.value?new io(this.source,It.Empty,y.value):new b(this.source,It.Empty,y)}return te.assert(this.path.getFront()===d,"Can't get a merge for a child not on the path of the operation"),new b(this.source,this.path.popFront(),this.children)},b.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},b}(),oo=function(){function b(d,y,T){this.node_=d,this.fullyInitialized_=y,this.filtered_=T}return b.prototype.isFullyInitialized=function(){return this.fullyInitialized_},b.prototype.isFiltered=function(){return this.filtered_},b.prototype.isCompleteForPath=function(d){if(d.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var y=d.getFront();return this.isCompleteForChild(y)},b.prototype.isCompleteForChild=function(d){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(d)},b.prototype.getNode=function(){return this.node_},b}(),Lo=function(){function b(d,y){this.eventCache_=d,this.serverCache_=y}return b.prototype.updateEventSnap=function(d,y,T){return new b(new oo(d,y,T),this.serverCache_)},b.prototype.updateServerSnap=function(d,y,T){return new b(this.eventCache_,new oo(d,y,T))},b.prototype.getEventCache=function(){return this.eventCache_},b.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},b.prototype.getServerCache=function(){return this.serverCache_},b.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},b.Empty=new b(new oo(vn.EMPTY_NODE,!1,!1),new oo(vn.EMPTY_NODE,!1,!1)),b}(),gr=function(){function b(d,y,T,P,V){this.type=d,this.snapshotNode=y,this.childName=T,this.oldSnap=P,this.prevName=V}return b.valueChange=function(d){return new b(b.VALUE,d)},b.childAddedChange=function(d,y){return new b(b.CHILD_ADDED,y,d)},b.childRemovedChange=function(d,y){return new b(b.CHILD_REMOVED,y,d)},b.childChangedChange=function(d,y,T){return new b(b.CHILD_CHANGED,y,d,T)},b.childMovedChange=function(d,y){return new b(b.CHILD_MOVED,y,d)},b.CHILD_ADDED="child_added",b.CHILD_REMOVED="child_removed",b.CHILD_CHANGED="child_changed",b.CHILD_MOVED="child_moved",b.VALUE="value",b}(),Ji=function(){function b(d){this.index_=d}return b.prototype.updateChild=function(d,y,T,P,V,ee){te.assert(d.isIndexed(this.index_),"A node must be indexed if only a child is updated");var le=d.getImmediateChild(y);return le.getChild(P).equals(T.getChild(P))&&le.isEmpty()===T.isEmpty()||(null!=ee&&(T.isEmpty()?d.hasChild(y)?ee.trackChildChange(gr.childRemovedChange(y,le)):te.assert(d.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):le.isEmpty()?ee.trackChildChange(gr.childAddedChange(y,T)):ee.trackChildChange(gr.childChangedChange(y,T,le))),d.isLeafNode()&&T.isEmpty())?d:d.updateImmediateChild(y,T).withIndex(this.index_)},b.prototype.updateFullNode=function(d,y,T){return null!=T&&(d.isLeafNode()||d.forEachChild(Se,function(P,V){y.hasChild(P)||T.trackChildChange(gr.childRemovedChange(P,V))}),y.isLeafNode()||y.forEachChild(Se,function(P,V){if(d.hasChild(P)){var ee=d.getImmediateChild(P);ee.equals(V)||T.trackChildChange(gr.childChangedChange(P,V,ee))}else T.trackChildChange(gr.childAddedChange(P,V))})),y.withIndex(this.index_)},b.prototype.updatePriority=function(d,y){return d.isEmpty()?vn.EMPTY_NODE:d.updatePriority(y)},b.prototype.filtersNodes=function(){return!1},b.prototype.getIndexedFilter=function(){return this},b.prototype.getIndex=function(){return this.index_},b}(),Bi=function(){function b(){this.changeMap=new Map}return b.prototype.trackChildChange=function(d){var y=d.type,T=d.childName;te.assert(y===gr.CHILD_ADDED||y===gr.CHILD_CHANGED||y===gr.CHILD_REMOVED,"Only child changes supported for tracking"),te.assert(".priority"!==T,"Only non-priority child changes can be tracked.");var P=this.changeMap.get(T);if(P){var V=P.type;if(y===gr.CHILD_ADDED&&V===gr.CHILD_REMOVED)this.changeMap.set(T,gr.childChangedChange(T,d.snapshotNode,P.snapshotNode));else if(y===gr.CHILD_REMOVED&&V===gr.CHILD_ADDED)this.changeMap.delete(T);else if(y===gr.CHILD_REMOVED&&V===gr.CHILD_CHANGED)this.changeMap.set(T,gr.childRemovedChange(T,P.oldSnap));else if(y===gr.CHILD_CHANGED&&V===gr.CHILD_ADDED)this.changeMap.set(T,gr.childAddedChange(T,d.snapshotNode));else{if(y!==gr.CHILD_CHANGED||V!==gr.CHILD_CHANGED)throw te.assertionError("Illegal combination of changes: "+d+" occurred after "+P);this.changeMap.set(T,gr.childChangedChange(T,d.snapshotNode,P.oldSnap))}}else this.changeMap.set(T,d)},b.prototype.getChanges=function(){return Array.from(this.changeMap.values())},b}(),is=new(function(){function b(){}return b.prototype.getCompleteChild=function(d){return null},b.prototype.getChildAfterChild=function(d,y,T){return null},b}()),Vo=function(){function b(d,y,T){void 0===T&&(T=null),this.writes_=d,this.viewCache_=y,this.optCompleteServerCache_=T}return b.prototype.getCompleteChild=function(d){var y=this.viewCache_.getEventCache();if(y.isCompleteForChild(d))return y.getNode().getImmediateChild(d);var T=null!=this.optCompleteServerCache_?new oo(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(d,T)},b.prototype.getChildAfterChild=function(d,y,T){var P=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),V=this.writes_.calcIndexedSlice(P,y,1,T,d);return 0===V.length?null:V[0]},b}(),_o=function(d,y){this.viewCache=d,this.changes=y},js=function(){function b(d){this.filter_=d}return b.prototype.assertIndexed=function(d){te.assert(d.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),te.assert(d.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},b.prototype.applyOperation=function(d,y,T,P){var ee,le,V=new Bi;if(y.type===$r.OVERWRITE){var Ae=y;Ae.source.fromUser?ee=this.applyUserOverwrite_(d,Ae.path,Ae.snap,T,P,V):(te.assert(Ae.source.fromServer,"Unknown source."),le=Ae.source.tagged||d.getServerCache().isFiltered()&&!Ae.path.isEmpty(),ee=this.applyServerOverwrite_(d,Ae.path,Ae.snap,T,P,le,V))}else if(y.type===$r.MERGE){var Ce=y;Ce.source.fromUser?ee=this.applyUserMerge_(d,Ce.path,Ce.children,T,P,V):(te.assert(Ce.source.fromServer,"Unknown source."),le=Ce.source.tagged||d.getServerCache().isFiltered(),ee=this.applyServerMerge_(d,Ce.path,Ce.children,T,P,le,V))}else if(y.type===$r.ACK_USER_WRITE){var ct=y;ee=ct.revert?this.revertUserWrite_(d,ct.path,T,P,V):this.ackUserWrite_(d,ct.path,ct.affectedTree,T,P,V)}else{if(y.type!==$r.LISTEN_COMPLETE)throw te.assertionError("Unknown operation type: "+y.type);ee=this.listenComplete_(d,y.path,T,V)}var Ot=V.getChanges();return b.maybeAddValueEvent_(d,ee,Ot),new _o(ee,Ot)},b.maybeAddValueEvent_=function(d,y,T){var P=y.getEventCache();if(P.isFullyInitialized()){var V=P.getNode().isLeafNode()||P.getNode().isEmpty(),ee=d.getCompleteEventSnap();(T.length>0||!d.getEventCache().isFullyInitialized()||V&&!P.getNode().equals(ee)||!P.getNode().getPriority().equals(ee.getPriority()))&&T.push(gr.valueChange(y.getCompleteEventSnap()))}},b.prototype.generateEventCacheAfterServerEvent_=function(d,y,T,P,V){var ee=d.getEventCache();if(null!=T.shadowingWrite(y))return d;var le=void 0,Ae=void 0;if(y.isEmpty())if(te.assert(d.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),d.getServerCache().isFiltered()){var Ce=d.getCompleteServerSnap(),Ot=T.calcCompleteEventChildren(Ce instanceof vn?Ce:vn.EMPTY_NODE);le=this.filter_.updateFullNode(d.getEventCache().getNode(),Ot,V)}else{var Vt=T.calcCompleteEventCache(d.getCompleteServerSnap());le=this.filter_.updateFullNode(d.getEventCache().getNode(),Vt,V)}else{var an=y.getFront();if(".priority"===an){te.assert(1===y.getLength(),"Can't have a priority with additional path components");var On=ee.getNode();Ae=d.getServerCache().getNode();var jn=T.calcEventCacheAfterServerOverwrite(y,On,Ae);le=null!=jn?this.filter_.updatePriority(On,jn):ee.getNode()}else{var Ur=y.popFront(),Lr=void 0;if(ee.isCompleteForChild(an)){Ae=d.getServerCache().getNode();var ho=T.calcEventCacheAfterServerOverwrite(y,ee.getNode(),Ae);Lr=null!=ho?ee.getNode().getImmediateChild(an).updateChild(Ur,ho):ee.getNode().getImmediateChild(an)}else Lr=T.calcCompleteChild(an,d.getServerCache());le=null!=Lr?this.filter_.updateChild(ee.getNode(),an,Lr,Ur,P,V):ee.getNode()}}return d.updateEventSnap(le,ee.isFullyInitialized()||y.isEmpty(),this.filter_.filtersNodes())},b.prototype.applyServerOverwrite_=function(d,y,T,P,V,ee,le){var Ce,Ae=d.getServerCache(),ct=ee?this.filter_:this.filter_.getIndexedFilter();if(y.isEmpty())Ce=ct.updateFullNode(Ae.getNode(),T,null);else if(ct.filtersNodes()&&!Ae.isFiltered()){var Ot=Ae.getNode().updateChild(y,T);Ce=ct.updateFullNode(Ae.getNode(),Ot,null)}else{var Vt=y.getFront();if(!Ae.isCompleteForPath(y)&&y.getLength()>1)return d;var an=y.popFront(),jn=Ae.getNode().getImmediateChild(Vt).updateChild(an,T);Ce=".priority"===Vt?ct.updatePriority(Ae.getNode(),jn):ct.updateChild(Ae.getNode(),Vt,jn,an,is,null)}var Ur=d.updateServerSnap(Ce,Ae.isFullyInitialized()||y.isEmpty(),ct.filtersNodes()),Lr=new Vo(P,Ur,V);return this.generateEventCacheAfterServerEvent_(Ur,y,P,Lr,le)},b.prototype.applyUserOverwrite_=function(d,y,T,P,V,ee){var Ae,Ce,le=d.getEventCache(),ct=new Vo(P,d,V);if(y.isEmpty())Ce=this.filter_.updateFullNode(d.getEventCache().getNode(),T,ee),Ae=d.updateEventSnap(Ce,!0,this.filter_.filtersNodes());else{var Ot=y.getFront();if(".priority"===Ot)Ce=this.filter_.updatePriority(d.getEventCache().getNode(),T),Ae=d.updateEventSnap(Ce,le.isFullyInitialized(),le.isFiltered());else{var Vt=y.popFront(),an=le.getNode().getImmediateChild(Ot),On=void 0;if(Vt.isEmpty())On=T;else{var jn=ct.getCompleteChild(Ot);On=null!=jn?".priority"===Vt.getBack()&&jn.getChild(Vt.parent()).isEmpty()?jn:jn.updateChild(Vt,T):vn.EMPTY_NODE}if(an.equals(On))Ae=d;else{var Ur=this.filter_.updateChild(le.getNode(),Ot,On,Vt,ct,ee);Ae=d.updateEventSnap(Ur,le.isFullyInitialized(),this.filter_.filtersNodes())}}}return Ae},b.cacheHasChild_=function(d,y){return d.getEventCache().isCompleteForChild(y)},b.prototype.applyUserMerge_=function(d,y,T,P,V,ee){var le=this,Ae=d;return T.foreach(function(Ce,ct){var Ot=y.child(Ce);b.cacheHasChild_(d,Ot.getFront())&&(Ae=le.applyUserOverwrite_(Ae,Ot,ct,P,V,ee))}),T.foreach(function(Ce,ct){var Ot=y.child(Ce);b.cacheHasChild_(d,Ot.getFront())||(Ae=le.applyUserOverwrite_(Ae,Ot,ct,P,V,ee))}),Ae},b.prototype.applyMerge_=function(d,y){return y.foreach(function(T,P){d=d.updateChild(T,P)}),d},b.prototype.applyServerMerge_=function(d,y,T,P,V,ee,le){var Ae=this;if(d.getServerCache().getNode().isEmpty()&&!d.getServerCache().isFullyInitialized())return d;var ct,Ce=d;ct=y.isEmpty()?T:fr.Empty.setTree(y,T);var Ot=d.getServerCache().getNode();return ct.children.inorderTraversal(function(Vt,an){if(Ot.hasChild(Vt)){var On=d.getServerCache().getNode().getImmediateChild(Vt),jn=Ae.applyMerge_(On,an);Ce=Ae.applyServerOverwrite_(Ce,new It(Vt),jn,P,V,ee,le)}}),ct.children.inorderTraversal(function(Vt,an){var On=!d.getServerCache().isCompleteForChild(Vt)&&null==an.value;if(!Ot.hasChild(Vt)&&!On){var jn=d.getServerCache().getNode().getImmediateChild(Vt),Ur=Ae.applyMerge_(jn,an);Ce=Ae.applyServerOverwrite_(Ce,new It(Vt),Ur,P,V,ee,le)}}),Ce},b.prototype.ackUserWrite_=function(d,y,T,P,V,ee){if(null!=P.shadowingWrite(y))return d;var le=d.getServerCache().isFiltered(),Ae=d.getServerCache();if(null!=T.value){if(y.isEmpty()&&Ae.isFullyInitialized()||Ae.isCompleteForPath(y))return this.applyServerOverwrite_(d,y,Ae.getNode().getChild(y),P,V,le,ee);if(y.isEmpty()){var Ce=fr.Empty;return Ae.getNode().forEachChild(Dt,function(Ot,Vt){Ce=Ce.set(new It(Ot),Vt)}),this.applyServerMerge_(d,y,Ce,P,V,le,ee)}return d}var ct=fr.Empty;return T.foreach(function(Ot,Vt){var an=y.child(Ot);Ae.isCompleteForPath(an)&&(ct=ct.set(Ot,Ae.getNode().getChild(an)))}),this.applyServerMerge_(d,y,ct,P,V,le,ee)},b.prototype.listenComplete_=function(d,y,T,P){var V=d.getServerCache(),ee=d.updateServerSnap(V.getNode(),V.isFullyInitialized()||y.isEmpty(),V.isFiltered());return this.generateEventCacheAfterServerEvent_(ee,y,T,is,P)},b.prototype.revertUserWrite_=function(d,y,T,P,V){var ee;if(null!=T.shadowingWrite(y))return d;var le=new Vo(T,d,P),Ae=d.getEventCache().getNode(),Ce=void 0;if(y.isEmpty()||".priority"===y.getFront()){var ct=void 0;if(d.getServerCache().isFullyInitialized())ct=T.calcCompleteEventCache(d.getCompleteServerSnap());else{var Ot=d.getServerCache().getNode();te.assert(Ot instanceof vn,"serverChildren would be complete if leaf node"),ct=T.calcCompleteEventChildren(Ot)}Ce=this.filter_.updateFullNode(Ae,ct=ct,V)}else{var Vt=y.getFront(),an=T.calcCompleteChild(Vt,d.getServerCache());null==an&&d.getServerCache().isCompleteForChild(Vt)&&(an=Ae.getImmediateChild(Vt)),(Ce=null!=an?this.filter_.updateChild(Ae,Vt,an,y.popFront(),le,V):d.getEventCache().getNode().hasChild(Vt)?this.filter_.updateChild(Ae,Vt,vn.EMPTY_NODE,y.popFront(),le,V):Ae).isEmpty()&&d.getServerCache().isFullyInitialized()&&(ee=T.calcCompleteEventCache(d.getCompleteServerSnap())).isLeafNode()&&(Ce=this.filter_.updateFullNode(Ce,ee,V))}return ee=d.getServerCache().isFullyInitialized()||null!=T.shadowingWrite(It.Empty),d.updateEventSnap(Ce,ee,this.filter_.filtersNodes())},b}(),Hr=function(){function b(d){this.query_=d,this.index_=this.query_.getQueryParams().getIndex()}return b.prototype.generateEventsForChanges=function(d,y,T){var P=this,V=[],ee=[];return d.forEach(function(le){le.type===gr.CHILD_CHANGED&&P.index_.indexedValueChanged(le.oldSnap,le.snapshotNode)&&ee.push(gr.childMovedChange(le.childName,le.snapshotNode))}),this.generateEventsForType_(V,gr.CHILD_REMOVED,d,T,y),this.generateEventsForType_(V,gr.CHILD_ADDED,d,T,y),this.generateEventsForType_(V,gr.CHILD_MOVED,ee,T,y),this.generateEventsForType_(V,gr.CHILD_CHANGED,d,T,y),this.generateEventsForType_(V,gr.VALUE,d,T,y),V},b.prototype.generateEventsForType_=function(d,y,T,P,V){var ee=this,le=T.filter(function(Ae){return Ae.type===y});le.sort(this.compareChanges_.bind(this)),le.forEach(function(Ae){var Ce=ee.materializeSingleChange_(Ae,V);P.forEach(function(ct){ct.respondsTo(Ae.type)&&d.push(ct.createEvent(Ce,ee.query_))})})},b.prototype.materializeSingleChange_=function(d,y){return"value"===d.type||"child_removed"===d.type||(d.prevName=y.getPredecessorChildName(d.childName,d.snapshotNode,this.index_)),d},b.prototype.compareChanges_=function(d,y){if(null==d.childName||null==y.childName)throw te.assertionError("Should only compare child_ events.");var T=new xe(d.childName,d.snapshotNode),P=new xe(y.childName,y.snapshotNode);return this.index_.compare(T,P)},b}(),$o=function(){function b(d,y){this.query_=d,this.eventRegistrations_=[];var T=this.query_.getQueryParams(),P=new Ji(T.getIndex()),V=T.getNodeFilter();this.processor_=new js(V);var ee=y.getServerCache(),le=y.getEventCache(),Ae=P.updateFullNode(vn.EMPTY_NODE,ee.getNode(),null),Ce=V.updateFullNode(vn.EMPTY_NODE,le.getNode(),null),ct=new oo(Ae,ee.isFullyInitialized(),P.filtersNodes()),Ot=new oo(Ce,le.isFullyInitialized(),V.filtersNodes());this.viewCache_=new Lo(Ot,ct),this.eventGenerator_=new Hr(this.query_)}return b.prototype.getQuery=function(){return this.query_},b.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},b.prototype.getCompleteServerCache=function(d){var y=this.viewCache_.getCompleteServerSnap();return y&&(this.query_.getQueryParams().loadsAllData()||!d.isEmpty()&&!y.getImmediateChild(d.getFront()).isEmpty())?y.getChild(d):null},b.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},b.prototype.addEventRegistration=function(d){this.eventRegistrations_.push(d)},b.prototype.removeEventRegistration=function(d,y){var T=[];if(y){te.assert(null==d,"A cancel should cancel all event registrations.");var P=this.query_.path;this.eventRegistrations_.forEach(function(Ae){var Ce=Ae.createCancelEvent(y=y,P);Ce&&T.push(Ce)})}if(d){for(var V=[],ee=0;ee<this.eventRegistrations_.length;++ee){var le=this.eventRegistrations_[ee];if(le.matches(d)){if(d.hasAnyCallback()){V=V.concat(this.eventRegistrations_.slice(ee+1));break}}else V.push(le)}this.eventRegistrations_=V}else this.eventRegistrations_=[];return T},b.prototype.applyOperation=function(d,y,T){d.type===$r.MERGE&&null!==d.source.queryId&&(te.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),te.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var P=this.viewCache_,V=this.processor_.applyOperation(P,d,y,T);return this.processor_.assertIndexed(V.viewCache),te.assert(V.viewCache.getServerCache().isFullyInitialized()||!P.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=V.viewCache,this.generateEventsForChanges_(V.changes,V.viewCache.getEventCache().getNode(),null)},b.prototype.getInitialEvents=function(d){var y=this.viewCache_.getEventCache(),T=[];return y.getNode().isLeafNode()||y.getNode().forEachChild(Se,function(V,ee){T.push(gr.childAddedChange(V,ee))}),y.isFullyInitialized()&&T.push(gr.valueChange(y.getNode())),this.generateEventsForChanges_(T,y.getNode(),d)},b.prototype.generateEventsForChanges_=function(d,y,T){return this.eventGenerator_.generateEventsForChanges(d,y,T?[T]:this.eventRegistrations_)},b}(),Bs=function(){function b(){this.views=new Map}return Object.defineProperty(b,"__referenceConstructor",{get:function(){return te.assert(wo,"Reference.ts has not been loaded"),wo},set:function(d){te.assert(!wo,"__referenceConstructor has already been defined"),wo=d},enumerable:!1,configurable:!0}),b.prototype.isEmpty=function(){return 0===this.views.size},b.prototype.applyOperation=function(d,y,T){var P,V,ee=d.source.queryId;if(null!==ee){var le=this.views.get(ee);return te.assert(null!=le,"SyncTree gave us an op for an invalid query."),le.applyOperation(d,y,T)}var Ae=[];try{for(var Ce=m.__values(this.views.values()),ct=Ce.next();!ct.done;ct=Ce.next())Ae=Ae.concat((le=ct.value).applyOperation(d,y,T))}catch(Ot){P={error:Ot}}finally{try{ct&&!ct.done&&(V=Ce.return)&&V.call(Ce)}finally{if(P)throw P.error}}return Ae},b.prototype.addEventRegistration=function(d,y,T,P,V){var ee=d.queryIdentifier(),le=this.views.get(ee);if(!le){var Ae=T.calcCompleteEventCache(V?P:null),Ce=!1;Ae?Ce=!0:P instanceof vn?(Ae=T.calcCompleteEventChildren(P),Ce=!1):(Ae=vn.EMPTY_NODE,Ce=!1);var ct=new Lo(new oo(Ae,Ce,!1),new oo(P,V,!1));le=new $o(d,ct),this.views.set(ee,le)}return le.addEventRegistration(y),le.getInitialEvents(y)},b.prototype.removeEventRegistration=function(d,y,T){var P,V,ee=d.queryIdentifier(),le=[],Ae=[],Ce=this.hasCompleteView();if("default"===ee)try{for(var ct=m.__values(this.views.entries()),Ot=ct.next();!Ot.done;Ot=ct.next()){var On,Vt=m.__read(Ot.value,2),an=Vt[0];Ae=Ae.concat((On=Vt[1]).removeEventRegistration(y,T)),On.isEmpty()&&(this.views.delete(an),On.getQuery().getQueryParams().loadsAllData()||le.push(On.getQuery()))}}catch(jn){P={error:jn}}finally{try{Ot&&!Ot.done&&(V=ct.return)&&V.call(ct)}finally{if(P)throw P.error}}else(On=this.views.get(ee))&&(Ae=Ae.concat(On.removeEventRegistration(y,T)),On.isEmpty()&&(this.views.delete(ee),On.getQuery().getQueryParams().loadsAllData()||le.push(On.getQuery())));return Ce&&!this.hasCompleteView()&&le.push(new b.__referenceConstructor(d.repo,d.path)),{removed:le,events:Ae}},b.prototype.getQueryViews=function(){var d,y,T=[];try{for(var P=m.__values(this.views.values()),V=P.next();!V.done;V=P.next()){var ee=V.value;ee.getQuery().getQueryParams().loadsAllData()||T.push(ee)}}catch(le){d={error:le}}finally{try{V&&!V.done&&(y=P.return)&&y.call(P)}finally{if(d)throw d.error}}return T},b.prototype.getCompleteServerCache=function(d){var y,T,P=null;try{for(var V=m.__values(this.views.values()),ee=V.next();!ee.done;ee=V.next())P=P||ee.value.getCompleteServerCache(d)}catch(Ae){y={error:Ae}}finally{try{ee&&!ee.done&&(T=V.return)&&T.call(V)}finally{if(y)throw y.error}}return P},b.prototype.viewForQuery=function(d){if(d.getQueryParams().loadsAllData())return this.getCompleteView();var T=d.queryIdentifier();return this.views.get(T)},b.prototype.viewExistsForQuery=function(d){return null!=this.viewForQuery(d)},b.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},b.prototype.getCompleteView=function(){var d,y;try{for(var T=m.__values(this.views.values()),P=T.next();!P.done;P=T.next()){var V=P.value;if(V.getQuery().getQueryParams().loadsAllData())return V}}catch(ee){d={error:ee}}finally{try{P&&!P.done&&(y=T.return)&&y.call(T)}finally{if(d)throw d.error}}return null},b}(),ao=function(){function b(d){this.writeTree_=d}return b.prototype.addWrite=function(d,y){if(d.isEmpty())return new b(new fr(y));var T=this.writeTree_.findRootMostValueAndPath(d);if(null!=T){var P=T.path,V=T.value,ee=It.relativePath(P,d);return V=V.updateChild(ee,y),new b(this.writeTree_.set(P,V))}var le=new fr(y);return new b(this.writeTree_.setTree(d,le))},b.prototype.addWrites=function(d,y){var T=this;return at(y,function(P,V){T=T.addWrite(d.child(P),V)}),T},b.prototype.removeWrite=function(d){return d.isEmpty()?b.Empty:new b(this.writeTree_.setTree(d,fr.Empty))},b.prototype.hasCompleteWrite=function(d){return null!=this.getCompleteNode(d)},b.prototype.getCompleteNode=function(d){var y=this.writeTree_.findRootMostValueAndPath(d);return null!=y?this.writeTree_.get(y.path).getChild(It.relativePath(y.path,d)):null},b.prototype.getCompleteChildren=function(){var d=[],y=this.writeTree_.value;return null!=y?y.isLeafNode()||y.forEachChild(Se,function(T,P){d.push(new xe(T,P))}):this.writeTree_.children.inorderTraversal(function(T,P){null!=P.value&&d.push(new xe(T,P.value))}),d},b.prototype.childCompoundWrite=function(d){if(d.isEmpty())return this;var y=this.getCompleteNode(d);return new b(null!=y?new fr(y):this.writeTree_.subtree(d))},b.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},b.prototype.apply=function(d){return Y(It.Empty,this.writeTree_,d)},b.Empty=new b(new fr(null)),b}();function Y(b,d,y){if(null!=d.value)return y.updateChild(b,d.value);var T=null;return d.children.inorderTraversal(function(P,V){".priority"===P?(te.assert(null!==V.value,"Priority writes must always be leaf nodes"),T=V.value):y=Y(b.child(P),V,y)}),!y.getChild(b).isEmpty()&&null!==T&&(y=y.updateChild(b.child(".priority"),T)),y}var $=function(){function b(){this.visibleWrites_=ao.Empty,this.allWrites_=[],this.lastWriteId_=-1}return b.prototype.childWrites=function(d){return new ge(d,this)},b.prototype.addOverwrite=function(d,y,T,P){te.assert(T>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===P&&(P=!0),this.allWrites_.push({path:d,snap:y,writeId:T,visible:P}),P&&(this.visibleWrites_=this.visibleWrites_.addWrite(d,y)),this.lastWriteId_=T},b.prototype.addMerge=function(d,y,T){te.assert(T>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:d,children:y,writeId:T,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(d,y),this.lastWriteId_=T},b.prototype.getWrite=function(d){for(var y=0;y<this.allWrites_.length;y++){var T=this.allWrites_[y];if(T.writeId===d)return T}return null},b.prototype.removeWrite=function(d){var y=this,T=this.allWrites_.findIndex(function(ct){return ct.writeId===d});te.assert(T>=0,"removeWrite called with nonexistent writeId.");var P=this.allWrites_[T];this.allWrites_.splice(T,1);for(var V=P.visible,ee=!1,le=this.allWrites_.length-1;V&&le>=0;){var Ae=this.allWrites_[le];Ae.visible&&(le>=T&&this.recordContainsPath_(Ae,P.path)?V=!1:P.path.contains(Ae.path)&&(ee=!0)),le--}return!!V&&(ee?(this.resetTree_(),!0):(P.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(P.path):at(P.children,function(ct){y.visibleWrites_=y.visibleWrites_.removeWrite(P.path.child(ct))}),!0))},b.prototype.getCompleteWriteData=function(d){return this.visibleWrites_.getCompleteNode(d)},b.prototype.calcCompleteEventCache=function(d,y,T,P){if(T||P){var Ae=this.visibleWrites_.childCompoundWrite(d);return!P&&Ae.isEmpty()?y:P||null!=y||Ae.hasCompleteWrite(It.Empty)?b.layerTree_(this.allWrites_,function(Vt){return(Vt.visible||P)&&(!T||!~T.indexOf(Vt.writeId))&&(Vt.path.contains(d)||d.contains(Vt.path))},d).apply(y||vn.EMPTY_NODE):null}var V=this.visibleWrites_.getCompleteNode(d);if(null!=V)return V;var ee=this.visibleWrites_.childCompoundWrite(d);return ee.isEmpty()?y:null!=y||ee.hasCompleteWrite(It.Empty)?ee.apply(y||vn.EMPTY_NODE):null},b.prototype.calcCompleteEventChildren=function(d,y){var T=vn.EMPTY_NODE,P=this.visibleWrites_.getCompleteNode(d);if(P)return P.isLeafNode()||P.forEachChild(Se,function(le,Ae){T=T.updateImmediateChild(le,Ae)}),T;if(y){var V=this.visibleWrites_.childCompoundWrite(d);return y.forEachChild(Se,function(le,Ae){var Ce=V.childCompoundWrite(new It(le)).apply(Ae);T=T.updateImmediateChild(le,Ce)}),V.getCompleteChildren().forEach(function(le){T=T.updateImmediateChild(le.name,le.node)}),T}return this.visibleWrites_.childCompoundWrite(d).getCompleteChildren().forEach(function(le){T=T.updateImmediateChild(le.name,le.node)}),T},b.prototype.calcEventCacheAfterServerOverwrite=function(d,y,T,P){te.assert(T||P,"Either existingEventSnap or existingServerSnap must exist");var V=d.child(y);if(this.visibleWrites_.hasCompleteWrite(V))return null;var ee=this.visibleWrites_.childCompoundWrite(V);return ee.isEmpty()?P.getChild(y):ee.apply(P.getChild(y))},b.prototype.calcCompleteChild=function(d,y,T){var P=d.child(y),V=this.visibleWrites_.getCompleteNode(P);return null!=V?V:T.isCompleteForChild(y)?this.visibleWrites_.childCompoundWrite(P).apply(T.getNode().getImmediateChild(y)):null},b.prototype.shadowingWrite=function(d){return this.visibleWrites_.getCompleteNode(d)},b.prototype.calcIndexedSlice=function(d,y,T,P,V,ee){var le,Ae=this.visibleWrites_.childCompoundWrite(d),Ce=Ae.getCompleteNode(It.Empty);if(null!=Ce)le=Ce;else{if(null==y)return[];le=Ae.apply(y)}if((le=le.withIndex(ee)).isEmpty()||le.isLeafNode())return[];for(var ct=[],Ot=ee.getCompare(),Vt=V?le.getReverseIteratorFrom(T,ee):le.getIteratorFrom(T,ee),an=Vt.getNext();an&&ct.length<P;)0!==Ot(an,T)&&ct.push(an),an=Vt.getNext();return ct},b.prototype.recordContainsPath_=function(d,y){if(d.snap)return d.path.contains(y);for(var T in d.children)if(d.children.hasOwnProperty(T)&&d.path.child(T).contains(y))return!0;return!1},b.prototype.resetTree_=function(){this.visibleWrites_=b.layerTree_(this.allWrites_,b.DefaultFilter_,It.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},b.DefaultFilter_=function(d){return d.visible},b.layerTree_=function(d,y,T){for(var P=ao.Empty,V=0;V<d.length;++V){var ee=d[V];if(y(ee)){var le=ee.path,Ae=void 0;if(ee.snap)T.contains(le)?(Ae=It.relativePath(T,le),P=P.addWrite(Ae,ee.snap)):le.contains(T)&&(Ae=It.relativePath(le,T),P=P.addWrite(It.Empty,ee.snap.getChild(Ae)));else{if(!ee.children)throw te.assertionError("WriteRecord should have .snap or .children");if(T.contains(le))Ae=It.relativePath(T,le),P=P.addWrites(Ae,ee.children);else if(le.contains(T))if((Ae=It.relativePath(le,T)).isEmpty())P=P.addWrites(It.Empty,ee.children);else{var Ce=te.safeGet(ee.children,Ae.getFront());if(Ce){var ct=Ce.getChild(Ae.popFront());P=P.addWrite(It.Empty,ct)}}}}}return P},b}(),ge=function(){function b(d,y){this.treePath_=d,this.writeTree_=y}return b.prototype.calcCompleteEventCache=function(d,y,T){return this.writeTree_.calcCompleteEventCache(this.treePath_,d,y,T)},b.prototype.calcCompleteEventChildren=function(d){return this.writeTree_.calcCompleteEventChildren(this.treePath_,d)},b.prototype.calcEventCacheAfterServerOverwrite=function(d,y,T){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,d,y,T)},b.prototype.shadowingWrite=function(d){return this.writeTree_.shadowingWrite(this.treePath_.child(d))},b.prototype.calcIndexedSlice=function(d,y,T,P,V){return this.writeTree_.calcIndexedSlice(this.treePath_,d,y,T,P,V)},b.prototype.calcCompleteChild=function(d,y){return this.writeTree_.calcCompleteChild(this.treePath_,d,y)},b.prototype.child=function(d){return new b(this.treePath_.child(d),this.writeTree_)},b}(),Pe=function(){function b(d){this.listenProvider_=d,this.syncPointTree_=fr.Empty,this.pendingWriteTree_=new $,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return b.prototype.applyUserOverwrite=function(d,y,T,P){return this.pendingWriteTree_.addOverwrite(d,y,T,P),P?this.applyOperationToSyncPoints_(new io(lo.User,d,y)):[]},b.prototype.applyUserMerge=function(d,y,T){this.pendingWriteTree_.addMerge(d,y,T);var P=fr.fromObject(y);return this.applyOperationToSyncPoints_(new Fo(lo.User,d,P))},b.prototype.ackUserWrite=function(d,y){void 0===y&&(y=!1);var T=this.pendingWriteTree_.getWrite(d);if(this.pendingWriteTree_.removeWrite(d)){var V=fr.Empty;return null!=T.snap?V=V.set(It.Empty,!0):at(T.children,function(ee,le){V=V.set(new It(ee),le)}),this.applyOperationToSyncPoints_(new Us(T.path,V,y))}return[]},b.prototype.applyServerOverwrite=function(d,y){return this.applyOperationToSyncPoints_(new io(lo.Server,d,y))},b.prototype.applyServerMerge=function(d,y){var T=fr.fromObject(y);return this.applyOperationToSyncPoints_(new Fo(lo.Server,d,T))},b.prototype.applyListenComplete=function(d){return this.applyOperationToSyncPoints_(new Xs(lo.Server,d))},b.prototype.applyTaggedQueryOverwrite=function(d,y,T){var P=this.queryKeyForTag_(T);if(null!=P){var V=b.parseQueryKey_(P),ee=V.path,le=V.queryId,Ae=It.relativePath(ee,d),Ce=new io(lo.forServerTaggedQuery(le),Ae,y);return this.applyTaggedOperation_(ee,Ce)}return[]},b.prototype.applyTaggedQueryMerge=function(d,y,T){var P=this.queryKeyForTag_(T);if(P){var V=b.parseQueryKey_(P),ee=V.path,le=V.queryId,Ae=It.relativePath(ee,d),Ce=fr.fromObject(y),ct=new Fo(lo.forServerTaggedQuery(le),Ae,Ce);return this.applyTaggedOperation_(ee,ct)}return[]},b.prototype.applyTaggedListenComplete=function(d,y){var T=this.queryKeyForTag_(y);if(T){var P=b.parseQueryKey_(T),V=P.path,ee=P.queryId,le=It.relativePath(V,d),Ae=new Xs(lo.forServerTaggedQuery(ee),le);return this.applyTaggedOperation_(V,Ae)}return[]},b.prototype.addEventRegistration=function(d,y){var T=d.path,P=null,V=!1;this.syncPointTree_.foreachOnPath(T,function(jn,Ur){var Lr=It.relativePath(jn,T);P=P||Ur.getCompleteServerCache(Lr),V=V||Ur.hasCompleteView()});var le,ee=this.syncPointTree_.get(T);ee?(V=V||ee.hasCompleteView(),P=P||ee.getCompleteServerCache(It.Empty)):(ee=new Bs,this.syncPointTree_=this.syncPointTree_.set(T,ee)),null!=P?le=!0:(le=!1,P=vn.EMPTY_NODE,this.syncPointTree_.subtree(T).foreachChild(function(jn,Ur){var Lr=Ur.getCompleteServerCache(It.Empty);Lr&&(P=P.updateImmediateChild(jn,Lr))}));var Ce=ee.viewExistsForQuery(d);if(!Ce&&!d.getQueryParams().loadsAllData()){var ct=b.makeQueryKey_(d);te.assert(!this.queryToTagMap.has(ct),"View does not exist, but we have a tag");var Ot=b.getNextQueryTag_();this.queryToTagMap.set(ct,Ot),this.tagToQueryMap.set(Ot,ct)}var Vt=this.pendingWriteTree_.childWrites(T),an=ee.addEventRegistration(d,y,Vt,P,le);if(!Ce&&!V){var On=ee.viewForQuery(d);an=an.concat(this.setupListener_(d,On))}return an},b.prototype.removeEventRegistration=function(d,y,T){var P=this,V=d.path,ee=this.syncPointTree_.get(V),le=[];if(ee&&("default"===d.queryIdentifier()||ee.viewExistsForQuery(d))){var Ae=ee.removeEventRegistration(d,y,T);ee.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(V));var Ce=Ae.removed;le=Ae.events;var ct=-1!==Ce.findIndex(function(Ro){return Ro.getQueryParams().loadsAllData()}),Ot=this.syncPointTree_.findOnPath(V,function(Ro,ta){return ta.hasCompleteView()});if(ct&&!Ot){var Vt=this.syncPointTree_.subtree(V);if(!Vt.isEmpty())for(var an=this.collectDistinctViewsForSubTree_(Vt),On=0;On<an.length;++On){var jn=an[On],Ur=jn.getQuery(),Lr=this.createListenerForView_(jn);this.listenProvider_.startListening(b.queryForListening_(Ur),this.tagForQuery_(Ur),Lr.hashFn,Lr.onComplete)}}!Ot&&Ce.length>0&&!T&&(ct?this.listenProvider_.stopListening(b.queryForListening_(d),null):Ce.forEach(function(Ro){var ta=P.queryToTagMap.get(b.makeQueryKey_(Ro));P.listenProvider_.stopListening(b.queryForListening_(Ro),ta)})),this.removeTags_(Ce)}return le},b.prototype.calcCompleteEventCache=function(d,y){var P=this.pendingWriteTree_,V=this.syncPointTree_.findOnPath(d,function(ee,le){var Ae=It.relativePath(ee,d),Ce=le.getCompleteServerCache(Ae);if(Ce)return Ce});return P.calcCompleteEventCache(d,V,y,!0)},b.prototype.collectDistinctViewsForSubTree_=function(d){return d.fold(function(y,T,P){if(T&&T.hasCompleteView())return[T.getCompleteView()];var ee=[];return T&&(ee=T.getQueryViews()),at(P,function(le,Ae){ee=ee.concat(Ae)}),ee})},b.prototype.removeTags_=function(d){for(var y=0;y<d.length;++y){var T=d[y];if(!T.getQueryParams().loadsAllData()){var P=b.makeQueryKey_(T),V=this.queryToTagMap.get(P);this.queryToTagMap.delete(P),this.tagToQueryMap.delete(V)}}},b.queryForListening_=function(d){return d.getQueryParams().loadsAllData()&&!d.getQueryParams().isDefault()?d.getRef():d},b.prototype.setupListener_=function(d,y){var T=d.path,P=this.tagForQuery_(d),V=this.createListenerForView_(y),ee=this.listenProvider_.startListening(b.queryForListening_(d),P,V.hashFn,V.onComplete),le=this.syncPointTree_.subtree(T);if(P)te.assert(!le.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var Ae=le.fold(function(Ot,Vt,an){if(!Ot.isEmpty()&&Vt&&Vt.hasCompleteView())return[Vt.getCompleteView().getQuery()];var On=[];return Vt&&(On=On.concat(Vt.getQueryViews().map(function(jn){return jn.getQuery()}))),at(an,function(jn,Ur){On=On.concat(Ur)}),On}),Ce=0;Ce<Ae.length;++Ce){var ct=Ae[Ce];this.listenProvider_.stopListening(b.queryForListening_(ct),this.tagForQuery_(ct))}return ee},b.prototype.createListenerForView_=function(d){var y=this,T=d.getQuery(),P=this.tagForQuery_(T);return{hashFn:function(){return(d.getServerCache()||vn.EMPTY_NODE).hash()},onComplete:function(V){if("ok"===V)return P?y.applyTaggedListenComplete(T.path,P):y.applyListenComplete(T.path);var ee=function(b,d){var y="Unknown Error";"too_big"===b?y="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===b?y="Client doesn't have permission to access the desired data.":"unavailable"===b&&(y="The service is unavailable");var T=new Error(b+" at "+d.path.toString()+": "+y);return T.code=b.toUpperCase(),T}(V,T);return y.removeEventRegistration(T,null,ee)}}},b.makeQueryKey_=function(d){return d.path.toString()+"$"+d.queryIdentifier()},b.parseQueryKey_=function(d){var y=d.indexOf("$");return te.assert(-1!==y&&y<d.length-1,"Bad queryKey."),{queryId:d.substr(y+1),path:new It(d.substr(0,y))}},b.prototype.queryKeyForTag_=function(d){return this.tagToQueryMap.get(d)},b.prototype.tagForQuery_=function(d){var y=b.makeQueryKey_(d);return this.queryToTagMap.get(y)},b.getNextQueryTag_=function(){return b.nextQueryTag_++},b.prototype.applyTaggedOperation_=function(d,y){var T=this.syncPointTree_.get(d);te.assert(T,"Missing sync point for query tag that we're tracking");var P=this.pendingWriteTree_.childWrites(d);return T.applyOperation(y,P,null)},b.prototype.applyOperationToSyncPoints_=function(d){return this.applyOperationHelper_(d,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(It.Empty))},b.prototype.applyOperationHelper_=function(d,y,T,P){if(d.path.isEmpty())return this.applyOperationDescendantsHelper_(d,y,T,P);var V=y.get(It.Empty);null==T&&null!=V&&(T=V.getCompleteServerCache(It.Empty));var ee=[],le=d.path.getFront(),Ae=d.operationForChild(le),Ce=y.children.get(le);if(Ce&&Ae){var ct=T?T.getImmediateChild(le):null,Ot=P.child(le);ee=ee.concat(this.applyOperationHelper_(Ae,Ce,ct,Ot))}return V&&(ee=ee.concat(V.applyOperation(d,P,T))),ee},b.prototype.applyOperationDescendantsHelper_=function(d,y,T,P){var V=this,ee=y.get(It.Empty);null==T&&null!=ee&&(T=ee.getCompleteServerCache(It.Empty));var le=[];return y.children.inorderTraversal(function(Ae,Ce){var ct=T?T.getImmediateChild(Ae):null,Ot=P.child(Ae),Vt=d.operationForChild(Ae);Vt&&(le=le.concat(V.applyOperationDescendantsHelper_(Vt,Ce,ct,Ot)))}),ee&&(le=le.concat(ee.applyOperation(d,P,T))),le},b.nextQueryTag_=1,b}(),Ue=function(){function b(){this.rootNode_=vn.EMPTY_NODE}return b.prototype.getNode=function(d){return this.rootNode_.getChild(d)},b.prototype.updateSnapshot=function(d,y){this.rootNode_=this.rootNode_.updateChild(d,y)},b}(),ot=function(){function b(){this.counters_={}}return b.prototype.incrementCounter=function(d,y){void 0===y&&(y=1),te.contains(this.counters_,d)||(this.counters_[d]=0),this.counters_[d]+=y},b.prototype.get=function(){return te.deepCopy(this.counters_)},b}(),xt=function(){function b(){}return b.getCollection=function(d){var y=d.toString();return this.collections_[y]||(this.collections_[y]=new ot),this.collections_[y]},b.getOrCreateReporter=function(d,y){var T=d.toString();return this.reporters_[T]||(this.reporters_[T]=y()),this.reporters_[T]},b.collections_={},b.reporters_={},b}(),Xt=function(){function b(d){this.collection_=d,this.last_=null}return b.prototype.get=function(){var d=this.collection_.get(),y=m.__assign({},d);return this.last_&&at(this.last_,function(T,P){y[T]=y[T]-P}),this.last_=d,y},b}(),q=function(){function b(d,y){this.server_=y,this.statsToReport_={},this.statsListener_=new Xt(d);var T=1e4+2e4*Math.random();pn(this.reportStats_.bind(this),Math.floor(T))}return b.prototype.includeStat=function(d){this.statsToReport_[d]=!0},b.prototype.reportStats_=function(){var d=this,y=this.statsListener_.get(),T={},P=!1;at(y,function(V,ee){ee>0&&te.contains(d.statsToReport_,V)&&(T[V]=ee,P=!0)}),P&&this.server_.reportStats(T),pn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},b}(),se=function(){function b(){this.eventLists_=[],this.recursionDepth_=0}return b.prototype.queueEvents=function(d){for(var y=null,T=0;T<d.length;T++){var P=d[T],V=P.getPath();null!==y&&!V.equals(y.getPath())&&(this.eventLists_.push(y),y=null),null===y&&(y=new z(V)),y.add(P)}y&&this.eventLists_.push(y)},b.prototype.raiseEventsAtPath=function(d,y){this.queueEvents(y),this.raiseQueuedEventsMatchingPredicate_(function(T){return T.equals(d)})},b.prototype.raiseEventsForChangedPath=function(d,y){this.queueEvents(y),this.raiseQueuedEventsMatchingPredicate_(function(T){return T.contains(d)||d.contains(T)})},b.prototype.raiseQueuedEventsMatchingPredicate_=function(d){this.recursionDepth_++;for(var y=!0,T=0;T<this.eventLists_.length;T++){var P=this.eventLists_[T];P&&(d(P.getPath())?(this.eventLists_[T].raise(),this.eventLists_[T]=null):y=!1)}y&&(this.eventLists_=[]),this.recursionDepth_--},b}(),z=function(){function b(d){this.path_=d,this.events_=[]}return b.prototype.add=function(d){this.events_.push(d)},b.prototype.raise=function(){for(var d=0;d<this.events_.length;d++){var y=this.events_[d];if(null!==y){this.events_[d]=null;var T=y.getEventRunner();ke&&Pt("event: "+y.toString()),Ht(T)}}},b.prototype.getPath=function(){return this.path_},b}(),de=function(){function b(d){this.allowedEvents_=d,this.listeners_={},te.assert(Array.isArray(d)&&d.length>0,"Requires a non-empty array")}return b.prototype.trigger=function(d){for(var y=[],T=1;T<arguments.length;T++)y[T-1]=arguments[T];if(Array.isArray(this.listeners_[d]))for(var P=m.__spread(this.listeners_[d]),V=0;V<P.length;V++)P[V].callback.apply(P[V].context,y)},b.prototype.on=function(d,y,T){this.validateEventType_(d),this.listeners_[d]=this.listeners_[d]||[],this.listeners_[d].push({callback:y,context:T});var P=this.getInitialEvent(d);P&&y.apply(T,P)},b.prototype.off=function(d,y,T){this.validateEventType_(d);for(var P=this.listeners_[d]||[],V=0;V<P.length;V++)if(P[V].callback===y&&(!T||T===P[V].context))return void P.splice(V,1)},b.prototype.validateEventType_=function(d){te.assert(this.allowedEvents_.find(function(y){return y===d}),"Unknown event: "+d)},b}(),Fe=function(b){function d(){var T,P,y=b.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(P="visibilitychange",T="hidden"):void 0!==document.mozHidden?(P="mozvisibilitychange",T="mozHidden"):void 0!==document.msHidden?(P="msvisibilitychange",T="msHidden"):void 0!==document.webkitHidden&&(P="webkitvisibilitychange",T="webkitHidden")),y.visible_=!0,P&&document.addEventListener(P,function(){var V=!document[T];V!==y.visible_&&(y.visible_=V,y.trigger("visible",V))},!1),y}return m.__extends(d,b),d.getInstance=function(){return new d},d.prototype.getInitialEvent=function(y){return te.assert("visible"===y,"Unknown event type: "+y),[this.visible_]},d}(de),At=function(b){function d(){var y=b.call(this,["online"])||this;return y.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!te.isMobileCordova()&&(window.addEventListener("online",function(){y.online_||(y.online_=!0,y.trigger("online",!0))},!1),window.addEventListener("offline",function(){y.online_&&(y.online_=!1,y.trigger("online",!1))},!1)),y}return m.__extends(d,b),d.getInstance=function(){return new d},d.prototype.getInitialEvent=function(y){return te.assert("online"===y,"Unknown event type: "+y),[this.online_]},d.prototype.currentlyOnline=function(){return this.online_},d}(de),en=function(){function b(d){this.onMessage_=d,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return b.prototype.closeAfter=function(d,y){this.closeAfterResponse=d,this.onClose=y,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},b.prototype.handleResponse=function(d,y){var T=this;this.pendingResponses[d]=y;for(var P=function(){var le=V.pendingResponses[V.currentResponseNum];delete V.pendingResponses[V.currentResponseNum];for(var Ae=function(ct){le[ct]&&Ht(function(){T.onMessage_(le[ct])})},Ce=0;Ce<le.length;++Ce)Ae(Ce);if(V.currentResponseNum===V.closeAfterResponse)return V.onClose&&(V.onClose(),V.onClose=null),"break";V.currentResponseNum++},V=this;this.pendingResponses[this.currentResponseNum]&&"break"!==P(););},b}(),Ko=function(){function b(d,y,T,P,V){this.connId=d,this.repoInfo=y,this.applicationId=T,this.transportSessionId=P,this.lastSessionId=V,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ut(d),this.stats_=xt.getCollection(y),this.urlFn=function(ee){return y.connectionURL(Qt,ee)}}return b.prototype.open=function(d,y){var T=this;this.curSegmentNum=0,this.onDisconnect_=y,this.myPacketOrderer=new en(d),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){T.log_("Timed out trying to connect."),T.onClosed_(),T.connectTimeoutTimer_=null},Math.floor(3e4)),function(b){if(te.isNodeSdk()||"complete"===document.readyState)b();else{var d=!1,y=function(){document.body?d||(d=!0,b()):setTimeout(y,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",y,!1),window.addEventListener("load",y,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&y()}),window.attachEvent("onload",y))}}(function(){if(!T.isClosed_){T.scriptTagHolder=new va(function(){for(var ee=[],le=0;le<arguments.length;le++)ee[le]=arguments[le];var Ae=m.__read(ee,5),Ce=Ae[0],ct=Ae[1],Ot=Ae[2];if(T.incrementIncomingBytes_(ee),T.scriptTagHolder)if(T.connectTimeoutTimer_&&(clearTimeout(T.connectTimeoutTimer_),T.connectTimeoutTimer_=null),T.everConnected_=!0,"start"===Ce)T.id=ct,T.password=Ot;else{if("close"!==Ce)throw new Error("Unrecognized command received: "+Ce);ct?(T.scriptTagHolder.sendNewPolls=!1,T.myPacketOrderer.closeAfter(ct,function(){T.onClosed_()})):T.onClosed_()}},function(){for(var ee=[],le=0;le<arguments.length;le++)ee[le]=arguments[le];var Ae=m.__read(ee,2),Ce=Ae[0],ct=Ae[1];T.incrementIncomingBytes_(ee),T.myPacketOrderer.handleResponse(Ce,ct)},function(){T.onClosed_()},T.urlFn);var P={start:"t"};P.ser=Math.floor(1e8*Math.random()),T.scriptTagHolder.uniqueCallbackIdentifier&&(P.cb=T.scriptTagHolder.uniqueCallbackIdentifier),P.v="5",T.transportSessionId&&(P.s=T.transportSessionId),T.lastSessionId&&(P.ls=T.lastSessionId),T.applicationId&&(P.p=T.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(_t)&&(P.r="f");var V=T.urlFn(P);T.log_("Connecting via long-poll to "+V),T.scriptTagHolder.addTag(V,function(){})}})},b.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},b.forceAllow=function(){b.forceAllow_=!0},b.forceDisallow=function(){b.forceDisallow_=!0},b.isAvailable=function(){return!(te.isNodeSdk()||!b.forceAllow_&&(b.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},b.prototype.markConnectionHealthy=function(){},b.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},b.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},b.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},b.prototype.send=function(d){var y=te.stringify(d);this.bytesSent+=y.length,this.stats_.incrementCounter("bytes_sent",y.length);for(var T=te.base64Encode(y),P=_e(T,1840),V=0;V<P.length;V++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,P.length,P[V]),this.curSegmentNum++},b.prototype.addDisconnectPingFrame=function(d,y){if(!te.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var T={dframe:"t"};T.id=d,T.pw=y,this.myDisconnFrame.src=this.urlFn(T),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},b.prototype.incrementIncomingBytes_=function(d){var y=te.stringify(d).length;this.bytesReceived+=y,this.stats_.incrementCounter("bytes_received",y)},b}(),va=function(){function b(d,y,T,P){if(this.onDisconnect=T,this.urlFn=P,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,te.isNodeSdk())this.commandCB=d,this.onMessageCB=y;else{this.uniqueCallbackIdentifier=wt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=d,window["pRTLPCB"+this.uniqueCallbackIdentifier]=y,this.myIFrame=b.createIFrame_();var V="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(V='<script>document.domain="'+document.domain+'";<\/script>');var le="<html><body>"+V+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(le),this.myIFrame.doc.close()}catch(Ae){Pt("frame writing exception"),Ae.stack&&Pt(Ae.stack),Pt(Ae)}}}return b.createIFrame_=function(){var d=document.createElement("iframe");if(d.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(d);try{d.contentWindow.document||Pt("No IE domain setting required")}catch(P){var T=document.domain;d.src="javascript:void((function(){document.open();document.domain='"+T+"';document.close();})())"}return d.contentDocument?d.doc=d.contentDocument:d.contentWindow?d.doc=d.contentWindow.document:d.document&&(d.doc=d.document),d},b.prototype.close=function(){var d=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==d.myIFrame&&(document.body.removeChild(d.myIFrame),d.myIFrame=null)},Math.floor(0)));var y=this.onDisconnect;y&&(this.onDisconnect=null,y())},b.prototype.startLongPoll=function(d,y){for(this.myID=d,this.myPW=y,this.alive=!0;this.newRequest_(););},b.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var d={};d.id=this.myID,d.pw=this.myPW,d.ser=this.currentSerial;for(var y=this.urlFn(d),T="",P=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+T.length<=1870;){var ee=this.pendingSegs.shift();T=T+"&seg"+P+"="+ee.seg+"&ts"+P+"="+ee.ts+"&d"+P+"="+ee.d,P++}return this.addLongPollTag_(y+=T,this.currentSerial),!0}return!1},b.prototype.enqueueSegment=function(d,y,T){this.pendingSegs.push({seg:d,ts:y,d:T}),this.alive&&this.newRequest_()},b.prototype.addLongPollTag_=function(d,y){var T=this;this.outstandingRequests.add(y);var P=function(){T.outstandingRequests.delete(y),T.newRequest_()},V=setTimeout(P,Math.floor(25e3));this.addTag(d,function(){clearTimeout(V),P()})},b.prototype.addTag=function(d,y){var T=this;te.isNodeSdk()?this.doNodeLongPoll(d,y):setTimeout(function(){try{if(!T.sendNewPolls)return;var P=T.myIFrame.doc.createElement("script");P.type="text/javascript",P.async=!0,P.src=d,P.onload=P.onreadystatechange=function(){var V=P.readyState;(!V||"loaded"===V||"complete"===V)&&(P.onload=P.onreadystatechange=null,P.parentNode&&P.parentNode.removeChild(P),y())},P.onerror=function(){Pt("Long-poll script failed to load: "+d),T.sendNewPolls=!1,T.close()},T.myIFrame.doc.body.appendChild(P)}catch(V){}},Math.floor(1))},b}(),Uo="",qr=null;"undefined"!=typeof MozWebSocket?qr=MozWebSocket:"undefined"!=typeof WebSocket&&(qr=WebSocket);var Hi=function(){function b(d,y,T,P,V){this.connId=d,this.applicationId=T,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ut(this.connId),this.stats_=xt.getCollection(y),this.connURL=b.connectionURL_(y,P,V),this.nodeAdmin=y.nodeAdmin}return b.connectionURL_=function(d,y,T){var P={v:"5"};return!te.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(_t)&&(P.r="f"),y&&(P.s=y),T&&(P.ls=T),d.connectionURL(bt,P)},b.prototype.open=function(d,y){var T=this;this.onDisconnect=y,this.onMessage=d,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,De.set("previous_websocket_failure",!0);try{if(te.isNodeSdk()){var V={headers:{"User-Agent":"Firebase/5/"+Uo+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},ee=process.env,le=0===this.connURL.indexOf("wss://")?ee.HTTPS_PROXY||ee.https_proxy:ee.HTTP_PROXY||ee.http_proxy;le&&(V.proxy={origin:le}),this.mySock=new qr(this.connURL,[],V)}else this.mySock=new qr(this.connURL,[],V={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(Ce){this.log_("Error instantiating WebSocket.");var Ae=Ce.message||Ce.data;return Ae&&this.log_(Ae),void this.onClosed_()}this.mySock.onopen=function(){T.log_("Websocket connected."),T.everConnected_=!0},this.mySock.onclose=function(){T.log_("Websocket connection was disconnected."),T.mySock=null,T.onClosed_()},this.mySock.onmessage=function(Ce){T.handleIncomingFrame(Ce)},this.mySock.onerror=function(Ce){T.log_("WebSocket error.  Closing connection.");var ct=Ce.message||Ce.data;ct&&T.log_(ct),T.onClosed_()}},b.prototype.start=function(){},b.forceDisallow=function(){b.forceDisallow_=!0},b.isAvailable=function(){var d=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var T=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);T&&T.length>1&&parseFloat(T[1])<4.4&&(d=!0)}return!d&&null!==qr&&!b.forceDisallow_},b.previouslyFailed=function(){return De.isInMemoryStorage||!0===De.get("previous_websocket_failure")},b.prototype.markConnectionHealthy=function(){De.remove("previous_websocket_failure")},b.prototype.appendFrame_=function(d){if(this.frames.push(d),this.frames.length===this.totalFrames){var y=this.frames.join("");this.frames=null;var T=te.jsonEval(y);this.onMessage(T)}},b.prototype.handleNewFrameCount_=function(d){this.totalFrames=d,this.frames=[]},b.prototype.extractFrameCount_=function(d){if(te.assert(null===this.frames,"We already have a frame buffer"),d.length<=6){var y=Number(d);if(!isNaN(y))return this.handleNewFrameCount_(y),null}return this.handleNewFrameCount_(1),d},b.prototype.handleIncomingFrame=function(d){if(null!==this.mySock){var y=d.data;if(this.bytesReceived+=y.length,this.stats_.incrementCounter("bytes_received",y.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(y);else{var T=this.extractFrameCount_(y);null!==T&&this.appendFrame_(T)}}},b.prototype.send=function(d){this.resetKeepAlive();var y=te.stringify(d);this.bytesSent+=y.length,this.stats_.incrementCounter("bytes_sent",y.length);var T=_e(y,16384);T.length>1&&this.sendString_(String(T.length));for(var P=0;P<T.length;P++)this.sendString_(T[P])},b.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},b.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},b.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},b.prototype.resetKeepAlive=function(){var d=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){d.mySock&&d.sendString_("0"),d.resetKeepAlive()},Math.floor(45e3))},b.prototype.sendString_=function(d){try{this.mySock.send(d)}catch(y){this.log_("Exception thrown from WebSocket.send():",y.message||y.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},b.responsesRequiredToBeHealthy=2,b.healthyTimeout=3e4,b}(),bo=function(){function b(d){this.initTransports_(d)}return Object.defineProperty(b,"ALL_TRANSPORTS",{get:function(){return[Ko,Hi]},enumerable:!1,configurable:!0}),b.prototype.initTransports_=function(d){var y,T,P=Hi&&Hi.isAvailable(),V=P&&!Hi.previouslyFailed();if(d.webSocketOnly&&(P||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),V=!0),V)this.transports_=[Hi];else{var ee=this.transports_=[];try{for(var le=m.__values(b.ALL_TRANSPORTS),Ae=le.next();!Ae.done;Ae=le.next()){var Ce=Ae.value;Ce&&Ce.isAvailable()&&ee.push(Ce)}}catch(ct){y={error:ct}}finally{try{Ae&&!Ae.done&&(T=le.return)&&T.call(le)}finally{if(y)throw y.error}}}},b.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},b.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},b}(),wa=function(){function b(d,y,T,P,V,ee,le,Ae){this.id=d,this.repoInfo_=y,this.applicationId_=T,this.onMessage_=P,this.onReady_=V,this.onDisconnect_=ee,this.onKill_=le,this.lastSessionId=Ae,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ut("c:"+this.id+":"),this.transportManager_=new bo(y),this.log_("Connection created"),this.start_()}return b.prototype.start_=function(){var d=this,y=this.transportManager_.initialTransport();this.conn_=new y(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=y.responsesRequiredToBeHealthy||0;var T=this.connReceiver_(this.conn_),P=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){d.conn_&&d.conn_.open(T,P)},Math.floor(0));var V=y.healthyTimeout||0;V>0&&(this.healthyTimeout_=pn(function(){d.healthyTimeout_=null,d.isHealthy_||(d.conn_&&d.conn_.bytesReceived>102400?(d.log_("Connection exceeded healthy timeout but has received "+d.conn_.bytesReceived+" bytes.  Marking connection healthy."),d.isHealthy_=!0,d.conn_.markConnectionHealthy()):d.conn_&&d.conn_.bytesSent>10240?d.log_("Connection exceeded healthy timeout but has sent "+d.conn_.bytesSent+" bytes.  Leaving connection alive."):(d.log_("Closing unhealthy connection after timeout."),d.close()))},Math.floor(V)))},b.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},b.prototype.disconnReceiver_=function(d){var y=this;return function(T){d===y.conn_?y.onConnectionLost_(T):d===y.secondaryConn_?(y.log_("Secondary connection lost."),y.onSecondaryConnectionLost_()):y.log_("closing an old connection")}},b.prototype.connReceiver_=function(d){var y=this;return function(T){2!==y.state_&&(d===y.rx_?y.onPrimaryMessageReceived_(T):d===y.secondaryConn_?y.onSecondaryMessageReceived_(T):y.log_("message on old connection"))}},b.prototype.sendRequest=function(d){this.sendData_({t:"d",d})},b.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},b.prototype.onSecondaryControl_=function(d){if("t"in d){var y=d.t;"a"===y?this.upgradeIfSecondaryHealthy_():"r"===y?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===y&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},b.prototype.onSecondaryMessageReceived_=function(d){var y=fe("t",d),T=fe("d",d);if("c"===y)this.onSecondaryControl_(T);else{if("d"!==y)throw new Error("Unknown protocol layer: "+y);this.pendingDataMessages.push(T)}},b.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},b.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},b.prototype.onPrimaryMessageReceived_=function(d){var y=fe("t",d),T=fe("d",d);"c"===y?this.onControl_(T):"d"===y&&this.onDataMessage_(T)},b.prototype.onDataMessage_=function(d){this.onPrimaryResponse_(),this.onMessage_(d)},b.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},b.prototype.onControl_=function(d){var y=fe("t",d);if("d"in d){var T=d.d;if("h"===y)this.onHandshake_(T);else if("n"===y){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var P=0;P<this.pendingDataMessages.length;++P)this.onDataMessage_(this.pendingDataMessages[P]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===y?this.onConnectionShutdown_(T):"r"===y?this.onReset_(T):"e"===y?Mt("Server Error: "+T):"o"===y?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mt("Unknown control packet command: "+y)}},b.prototype.onHandshake_=function(d){var y=d.ts,T=d.v,P=d.h;this.sessionId=d.s,this.repoInfo_.updateHost(P),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,y),"5"!==T&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())},b.prototype.tryStartUpgrade_=function(){var d=this.transportManager_.upgradeTransport();d&&this.startUpgrade_(d)},b.prototype.startUpgrade_=function(d){var y=this;this.secondaryConn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;var T=this.connReceiver_(this.secondaryConn_),P=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(T,P),pn(function(){y.secondaryConn_&&(y.log_("Timed out trying to upgrade."),y.secondaryConn_.close())},Math.floor(6e4))},b.prototype.onReset_=function(d){this.log_("Reset packet received.  New host: "+d),this.repoInfo_.updateHost(d),1===this.state_?this.close():(this.closeConnections_(),this.start_())},b.prototype.onConnectionEstablished_=function(d,y){var T=this;this.log_("Realtime connection established."),this.conn_=d,this.state_=1,this.onReady_&&(this.onReady_(y,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pn(function(){T.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},b.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},b.prototype.onSecondaryConnectionLost_=function(){var d=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===d||this.rx_===d)&&this.close()},b.prototype.onConnectionLost_=function(d){this.conn_=null,d||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(De.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},b.prototype.onConnectionShutdown_=function(d){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(d),this.onKill_=null),this.onDisconnect_=null,this.close()},b.prototype.sendData_=function(d){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(d)},b.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},b.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},b}(),La=function(){function b(){}return b.prototype.put=function(d,y,T,P){},b.prototype.merge=function(d,y,T,P){},b.prototype.refreshAuthToken=function(d){},b.prototype.onDisconnectPut=function(d,y,T){},b.prototype.onDisconnectMerge=function(d,y,T){},b.prototype.onDisconnectCancel=function(d,y){},b.prototype.reportStats=function(d){},b}(),ss=1e3,Qr=function(b){function d(y,T,P,V,ee,le,Ae){var Ce=b.call(this)||this;if(Ce.repoInfo_=y,Ce.applicationId_=T,Ce.onDataUpdate_=P,Ce.onConnectStatus_=V,Ce.onServerInfoUpdate_=ee,Ce.authTokenProvider_=le,Ce.authOverride_=Ae,Ce.id=d.nextPersistentConnectionId_++,Ce.log_=Ut("p:"+Ce.id+":"),Ce.interruptReasons_={},Ce.listens=new Map,Ce.outstandingPuts_=[],Ce.outstandingPutCount_=0,Ce.onDisconnectRequestQueue_=[],Ce.connected_=!1,Ce.reconnectDelay_=ss,Ce.maxReconnectDelay_=3e5,Ce.securityDebugCallback_=null,Ce.lastSessionId=null,Ce.establishConnectionTimer_=null,Ce.visible_=!1,Ce.requestCBHash_={},Ce.requestNumber_=0,Ce.realtime_=null,Ce.authToken_=null,Ce.forceTokenRefresh_=!1,Ce.invalidAuthTokenCount_=0,Ce.firstConnection_=!0,Ce.lastConnectionAttemptTime_=null,Ce.lastConnectionEstablishedTime_=null,Ae&&!te.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ce.scheduleConnect_(0),Fe.getInstance().on("visible",Ce.onVisible_,Ce),-1===y.host.indexOf("fblocal")&&At.getInstance().on("online",Ce.onOnline_,Ce),Ce}return m.__extends(d,b),d.prototype.sendRequest=function(y,T,P){var V=++this.requestNumber_,ee={r:V,a:y,b:T};this.log_(te.stringify(ee)),te.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(ee),P&&(this.requestCBHash_[V]=P)},d.prototype.listen=function(y,T,P,V){var ee=y.queryIdentifier(),le=y.path.toString();this.log_("Listen called for "+le+" "+ee),this.listens.has(le)||this.listens.set(le,new Map),te.assert(y.getQueryParams().isDefault()||!y.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),te.assert(!this.listens.get(le).has(ee),"listen() called twice for same path/queryId.");var Ae={onComplete:V,hashFn:T,query:y,tag:P};this.listens.get(le).set(ee,Ae),this.connected_&&this.sendListen_(Ae)},d.prototype.sendListen_=function(y){var T=this,P=y.query,V=P.path.toString(),ee=P.queryIdentifier();this.log_("Listen on "+V+" for "+ee);var le={p:V};y.tag&&(le.q=P.queryObject(),le.t=y.tag),le.h=y.hashFn(),this.sendRequest("q",le,function(Ce){var ct=Ce.d,Ot=Ce.s;d.warnOnListenWarnings_(ct,P),(T.listens.get(V)&&T.listens.get(V).get(ee))===y&&(T.log_("listen response",Ce),"ok"!==Ot&&T.removeListen_(V,ee),y.onComplete&&y.onComplete(Ot,ct))})},d.warnOnListenWarnings_=function(y,T){if(y&&"object"==typeof y&&te.contains(y,"w")){var P=te.safeGet(y,"w");if(Array.isArray(P)&&~P.indexOf("no_index")){var V='".indexOn": "'+T.getQueryParams().getIndex().toString()+'"',ee=T.path.toString();Rt("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+V+" at "+ee+" to your security rules for better performance.")}}},d.prototype.refreshAuthToken=function(y){this.authToken_=y,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(y)},d.prototype.reduceReconnectDelayIfAdminCredential_=function(y){(y&&40===y.length||te.isAdmin(y))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},d.prototype.tryAuth=function(){var y=this;if(this.connected_&&this.authToken_){var T=this.authToken_,P=te.isValidFormat(T)?"auth":"gauth",V={cred:T};null===this.authOverride_?V.noauth=!0:"object"==typeof this.authOverride_&&(V.authvar=this.authOverride_),this.sendRequest(P,V,function(ee){var le=ee.s,Ae=ee.d||"error";y.authToken_===T&&("ok"===le?y.invalidAuthTokenCount_=0:y.onAuthRevoked_(le,Ae))})}},d.prototype.unlisten=function(y,T){var P=y.path.toString(),V=y.queryIdentifier();this.log_("Unlisten called for "+P+" "+V),te.assert(y.getQueryParams().isDefault()||!y.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(P,V)&&this.connected_&&this.sendUnlisten_(P,V,y.queryObject(),T)},d.prototype.sendUnlisten_=function(y,T,P,V){this.log_("Unlisten on "+y+" for "+T);var ee={p:y};V&&(ee.q=P,ee.t=V),this.sendRequest("n",ee)},d.prototype.onDisconnectPut=function(y,T,P){this.connected_?this.sendOnDisconnect_("o",y,T,P):this.onDisconnectRequestQueue_.push({pathString:y,action:"o",data:T,onComplete:P})},d.prototype.onDisconnectMerge=function(y,T,P){this.connected_?this.sendOnDisconnect_("om",y,T,P):this.onDisconnectRequestQueue_.push({pathString:y,action:"om",data:T,onComplete:P})},d.prototype.onDisconnectCancel=function(y,T){this.connected_?this.sendOnDisconnect_("oc",y,null,T):this.onDisconnectRequestQueue_.push({pathString:y,action:"oc",data:null,onComplete:T})},d.prototype.sendOnDisconnect_=function(y,T,P,V){var ee={p:T,d:P};this.log_("onDisconnect "+y,ee),this.sendRequest(y,ee,function(le){V&&setTimeout(function(){V(le.s,le.d)},Math.floor(0))})},d.prototype.put=function(y,T,P,V){this.putInternal("p",y,T,P,V)},d.prototype.merge=function(y,T,P,V){this.putInternal("m",y,T,P,V)},d.prototype.putInternal=function(y,T,P,V,ee){var le={p:T,d:P};void 0!==ee&&(le.h=ee),this.outstandingPuts_.push({action:y,request:le,onComplete:V}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+T)},d.prototype.sendPut_=function(y){var T=this,P=this.outstandingPuts_[y].action,V=this.outstandingPuts_[y].request,ee=this.outstandingPuts_[y].onComplete;this.outstandingPuts_[y].queued=this.connected_,this.sendRequest(P,V,function(le){T.log_(P+" response",le),delete T.outstandingPuts_[y],T.outstandingPutCount_--,0===T.outstandingPutCount_&&(T.outstandingPuts_=[]),ee&&ee(le.s,le.d)})},d.prototype.reportStats=function(y){var T=this;if(this.connected_){var P={c:y};this.log_("reportStats",P),this.sendRequest("s",P,function(V){"ok"!==V.s&&T.log_("reportStats","Error sending stats: "+V.d)})}},d.prototype.onDataMessage_=function(y){if("r"in y){this.log_("from server: "+te.stringify(y));var T=y.r,P=this.requestCBHash_[T];P&&(delete this.requestCBHash_[T],P(y.b))}else{if("error"in y)throw"A server-side error has occurred: "+y.error;"a"in y&&this.onDataPush_(y.a,y.b)}},d.prototype.onDataPush_=function(y,T){this.log_("handleServerMessage",y,T),"d"===y?this.onDataUpdate_(T.p,T.d,!1,T.t):"m"===y?this.onDataUpdate_(T.p,T.d,!0,T.t):"c"===y?this.onListenRevoked_(T.p,T.q):"ac"===y?this.onAuthRevoked_(T.s,T.d):"sd"===y?this.onSecurityDebugPacket_(T):Mt("Unrecognized action received from server: "+te.stringify(y)+"\nAre you using the latest client?")},d.prototype.onReady_=function(y,T){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(y),this.lastSessionId=T,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},d.prototype.scheduleConnect_=function(y){var T=this;te.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){T.establishConnectionTimer_=null,T.establishConnection_()},Math.floor(y))},d.prototype.onVisible_=function(y){y&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ss,this.realtime_||this.scheduleConnect_(0)),this.visible_=y},d.prototype.onOnline_=function(y){y?(this.log_("Browser went online."),this.reconnectDelay_=ss,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},d.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ss),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var T=(new Date).getTime()-this.lastConnectionAttemptTime_,P=Math.max(0,this.reconnectDelay_-T);P=Math.random()*P,this.log_("Trying to reconnect in "+P+"ms"),this.scheduleConnect_(P),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},d.prototype.establishConnection_=function(){var y=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var T=this.onDataMessage_.bind(this),P=this.onReady_.bind(this),V=this.onRealtimeDisconnect_.bind(this),ee=this.id+":"+d.nextConnectionId_++,le=this,Ae=this.lastSessionId,Ce=!1,ct=null,Ot=function(){ct?ct.close():(Ce=!0,V())};this.realtime_={close:Ot,sendRequest:function(On){te.assert(ct,"sendRequest call when we're not connected not allowed."),ct.sendRequest(On)}};var an=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(an).then(function(On){Ce?Pt("getToken() completed but was canceled"):(Pt("getToken() completed. Creating connection."),le.authToken_=On&&On.accessToken,ct=new wa(ee,le.repoInfo_,le.applicationId_,T,P,V,function(jn){Rt(jn+" ("+le.repoInfo_.toString()+")"),le.interrupt("server_kill")},Ae))}).then(null,function(On){le.log_("Failed to get token: "+On),Ce||(y.repoInfo_.nodeAdmin&&Rt(On),Ot())})}},d.prototype.interrupt=function(y){Pt("Interrupting connection for reason: "+y),this.interruptReasons_[y]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},d.prototype.resume=function(y){Pt("Resuming connection for reason: "+y),delete this.interruptReasons_[y],te.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=ss,this.realtime_||this.scheduleConnect_(0))},d.prototype.handleTimestamp_=function(y){var T=y-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:T})},d.prototype.cancelSentTransactions_=function(){for(var y=0;y<this.outstandingPuts_.length;y++){var T=this.outstandingPuts_[y];T&&"h"in T.request&&T.queued&&(T.onComplete&&T.onComplete("disconnect"),delete this.outstandingPuts_[y],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},d.prototype.onListenRevoked_=function(y,T){var P;P=T?T.map(function(ee){return $t(ee)}).join("$"):"default";var V=this.removeListen_(y,P);V&&V.onComplete&&V.onComplete("permission_denied")},d.prototype.removeListen_=function(y,T){var V,P=new It(y).toString();if(this.listens.has(P)){var ee=this.listens.get(P);V=ee.get(T),ee.delete(T),0===ee.size&&this.listens.delete(P)}else V=void 0;return V},d.prototype.onAuthRevoked_=function(y,T){Pt("Auth token revoked: "+y+"/"+T),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===y||"permission_denied"===y)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},d.prototype.onSecurityDebugPacket_=function(y){this.securityDebugCallback_?this.securityDebugCallback_(y):"msg"in y&&console.log("FIREBASE: "+y.msg.replace("\n","\nFIREBASE: "))},d.prototype.restoreState_=function(){var y,T,P,V;this.tryAuth();try{for(var ee=m.__values(this.listens.values()),le=ee.next();!le.done;le=ee.next()){var Ae=le.value;try{for(var Ce=(P=void 0,m.__values(Ae.values())),ct=Ce.next();!ct.done;ct=Ce.next())this.sendListen_(ct.value)}catch(On){P={error:On}}finally{try{ct&&!ct.done&&(V=Ce.return)&&V.call(Ce)}finally{if(P)throw P.error}}}}catch(On){y={error:On}}finally{try{le&&!le.done&&(T=ee.return)&&T.call(ee)}finally{if(y)throw y.error}}for(var Vt=0;Vt<this.outstandingPuts_.length;Vt++)this.outstandingPuts_[Vt]&&this.sendPut_(Vt);for(;this.onDisconnectRequestQueue_.length;){var an=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(an.action,an.pathString,an.data,an.onComplete)}},d.prototype.sendConnectStats_=function(){var y={},T="js";te.isNodeSdk()&&(T=this.repoInfo_.nodeAdmin?"admin_node":"node"),y["sdk."+T+"."+Uo.replace(/\./g,"-")]=1,te.isMobileCordova()?y["framework.cordova"]=1:te.isReactNative()&&(y["framework.reactnative"]=1),this.reportStats(y)},d.prototype.shouldReconnect_=function(){var y=At.getInstance().currentlyOnline();return te.isEmpty(this.interruptReasons_)&&y},d.nextPersistentConnectionId_=0,d.nextConnectionId_=0,d}(La),Va=function(b){function d(y,T,P){var V=b.call(this)||this;return V.repoInfo_=y,V.onDataUpdate_=T,V.authTokenProvider_=P,V.log_=Ut("p:rest:"),V.listens_={},V}return m.__extends(d,b),d.prototype.reportStats=function(y){throw new Error("Method not implemented.")},d.getListenId_=function(y,T){return void 0!==T?"tag$"+T:(te.assert(y.getQueryParams().isDefault(),"should have a tag if it's not a default query."),y.path.toString())},d.prototype.listen=function(y,T,P,V){var ee=this,le=y.path.toString();this.log_("Listen called for "+le+" "+y.queryIdentifier());var Ae=d.getListenId_(y,P),Ce={};this.listens_[Ae]=Ce;var ct=y.getQueryParams().toRestQueryStringParameters();this.restRequest_(le+".json",ct,function(Ot,Vt){var an=Vt;404===Ot&&(an=null,Ot=null),null===Ot&&ee.onDataUpdate_(le,an,!1,P),te.safeGet(ee.listens_,Ae)===Ce&&V(Ot?401===Ot?"permission_denied":"rest_error:"+Ot:"ok",null)})},d.prototype.unlisten=function(y,T){var P=d.getListenId_(y,T);delete this.listens_[P]},d.prototype.refreshAuthToken=function(y){},d.prototype.restRequest_=function(y,T,P){var V=this;void 0===T&&(T={}),T.format="export",this.authTokenProvider_.getToken(!1).then(function(ee){var le=ee&&ee.accessToken;le&&(T.auth=le);var Ae=(V.repoInfo_.secure?"https://":"http://")+V.repoInfo_.host+y+"?ns="+V.repoInfo_.namespace+te.querystring(T);V.log_("Sending REST request for "+Ae);var Ce=new XMLHttpRequest;Ce.onreadystatechange=function(){if(P&&4===Ce.readyState){V.log_("REST Response for "+Ae+" received. status:",Ce.status,"response:",Ce.responseText);var ct=null;if(Ce.status>=200&&Ce.status<300){try{ct=te.jsonEval(Ce.responseText)}catch(Ot){Rt("Failed to parse JSON response for "+Ae+": "+Ce.responseText)}P(null,ct)}else 401!==Ce.status&&404!==Ce.status&&Rt("Got unsuccessful REST response for "+Ae+" Status: "+Ce.status),P(Ce.status);P=null}},Ce.open("GET",Ae,!0),Ce.send()})},d}(La),mn="repo_interrupt",Zr=function(){function b(d,y,T,P){var V=this;if(this.repoInfo_=d,this.app=T,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new se,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Wo,this.persistentConnection_=null,this.stats_=xt.getCollection(d),y||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Va(this.repoInfo_,this.onDataUpdate_.bind(this),P),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var ee=T.options.databaseAuthVariableOverride;if(null!=ee){if("object"!=typeof ee)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{te.stringify(ee)}catch(le){throw new Error("Invalid authOverride provided: "+le)}}this.persistentConnection_=new Qr(this.repoInfo_,T.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),P,ee),this.server_=this.persistentConnection_}P.addTokenChangeListener(function(le){V.server_.refreshAuthToken(le)}),this.statsReporter_=xt.getOrCreateReporter(d,function(){return new q(V.stats_,V.server_)}),this.transactionsInit_(),this.infoData_=new Ue,this.infoSyncTree_=new Pe({startListening:function(le,Ae,Ce,ct){var Ot=[],Vt=V.infoData_.getNode(le.path);return Vt.isEmpty()||(Ot=V.infoSyncTree_.applyServerOverwrite(le.path,Vt),setTimeout(function(){ct("ok")},0)),Ot},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Pe({startListening:function(le,Ae,Ce,ct){return V.server_.listen(le,Ce,Ae,function(Ot,Vt){var an=ct(Ot,Vt);V.eventQueue_.raiseEventsForChangedPath(le.path,an)}),[]},stopListening:function(le,Ae){V.server_.unlisten(le,Ae)}})}return b.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},b.prototype.name=function(){return this.repoInfo_.namespace},b.prototype.serverTime=function(){var y=this.infoData_.getNode(new It(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+y},b.prototype.generateServerValues=function(){return function(b){return(b=b||{}).timestamp=b.timestamp||(new Date).getTime(),b}({timestamp:this.serverTime()})},b.prototype.onDataUpdate_=function(d,y,T,P){this.dataUpdateCount++;var V=new It(d);y=this.interceptServerDataCallback_?this.interceptServerDataCallback_(d,y):y;var ee=[];if(P)if(T){var le=te.map(y,function(Vt){return or(Vt)});ee=this.serverSyncTree_.applyTaggedQueryMerge(V,le,P)}else{var Ae=or(y);ee=this.serverSyncTree_.applyTaggedQueryOverwrite(V,Ae,P)}else if(T){var Ce=te.map(y,function(Vt){return or(Vt)});ee=this.serverSyncTree_.applyServerMerge(V,Ce)}else{var ct=or(y);ee=this.serverSyncTree_.applyServerOverwrite(V,ct)}var Ot=V;ee.length>0&&(Ot=this.rerunTransactions_(V)),this.eventQueue_.raiseEventsForChangedPath(Ot,ee)},b.prototype.interceptServerData_=function(d){this.interceptServerDataCallback_=d},b.prototype.onConnectStatus_=function(d){this.updateInfo_("connected",d),!1===d&&this.runOnDisconnectEvents_()},b.prototype.onServerInfoUpdate_=function(d){var y=this;at(d,function(T,P){y.updateInfo_(T,P)})},b.prototype.updateInfo_=function(d,y){var T=new It("/.info/"+d),P=or(y);this.infoData_.updateSnapshot(T,P);var V=this.infoSyncTree_.applyServerOverwrite(T,P);this.eventQueue_.raiseEventsForChangedPath(T,V)},b.prototype.getNextWriteId_=function(){return this.nextWriteId_++},b.prototype.setWithPriority=function(d,y,T,P){var V=this;this.log_("set",{path:d.toString(),value:y,priority:T});var ee=this.generateServerValues(),le=or(y,T),Ae=this.serverSyncTree_.calcCompleteEventCache(d),Ce=Qn(le,Ae,ee),ct=this.getNextWriteId_(),Ot=this.serverSyncTree_.applyUserOverwrite(d,Ce,ct,!0);this.eventQueue_.queueEvents(Ot),this.server_.put(d.toString(),le.val(!0),function(an,On){var jn="ok"===an;jn||Rt("set at "+d+" failed: "+an);var Ur=V.serverSyncTree_.ackUserWrite(ct,!jn);V.eventQueue_.raiseEventsForChangedPath(d,Ur),V.callOnCompleteCallback(P,an,On)});var Vt=this.abortTransactions_(d);this.rerunTransactions_(Vt),this.eventQueue_.raiseEventsForChangedPath(Vt,[])},b.prototype.update=function(d,y,T){var P=this;this.log_("update",{path:d.toString(),value:y});var V=!0,ee=this.generateServerValues(),le={};if(at(y,function(ct,Ot){V=!1,le[ct]=Fi(d.child(ct),or(Ot),P.serverSyncTree_,ee)}),V)Pt("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(T,"ok");else{var Ae=this.getNextWriteId_(),Ce=this.serverSyncTree_.applyUserMerge(d,le,Ae);this.eventQueue_.queueEvents(Ce),this.server_.merge(d.toString(),y,function(ct,Ot){var Vt="ok"===ct;Vt||Rt("update at "+d+" failed: "+ct);var an=P.serverSyncTree_.ackUserWrite(Ae,!Vt),On=an.length>0?P.rerunTransactions_(d):d;P.eventQueue_.raiseEventsForChangedPath(On,an),P.callOnCompleteCallback(T,ct,Ot)}),at(y,function(ct){var Ot=P.abortTransactions_(d.child(ct));P.rerunTransactions_(Ot)}),this.eventQueue_.raiseEventsForChangedPath(d,[])}},b.prototype.runOnDisconnectEvents_=function(){var d=this;this.log_("onDisconnectEvents");var y=this.generateServerValues(),T=new Wo;this.onDisconnect_.forEachTree(It.Empty,function(V,ee){var le=Fi(V,ee,d.serverSyncTree_,y);T.remember(V,le)});var P=[];T.forEachTree(It.Empty,function(V,ee){P=P.concat(d.serverSyncTree_.applyServerOverwrite(V,ee));var le=d.abortTransactions_(V);d.rerunTransactions_(le)}),this.onDisconnect_=new Wo,this.eventQueue_.raiseEventsForChangedPath(It.Empty,P)},b.prototype.onDisconnectCancel=function(d,y){var T=this;this.server_.onDisconnectCancel(d.toString(),function(P,V){"ok"===P&&T.onDisconnect_.forget(d),T.callOnCompleteCallback(y,P,V)})},b.prototype.onDisconnectSet=function(d,y,T){var P=this,V=or(y);this.server_.onDisconnectPut(d.toString(),V.val(!0),function(ee,le){"ok"===ee&&P.onDisconnect_.remember(d,V),P.callOnCompleteCallback(T,ee,le)})},b.prototype.onDisconnectSetWithPriority=function(d,y,T,P){var V=this,ee=or(y,T);this.server_.onDisconnectPut(d.toString(),ee.val(!0),function(le,Ae){"ok"===le&&V.onDisconnect_.remember(d,ee),V.callOnCompleteCallback(P,le,Ae)})},b.prototype.onDisconnectUpdate=function(d,y,T){var P=this;if(te.isEmpty(y))return Pt("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(T,"ok");this.server_.onDisconnectMerge(d.toString(),y,function(V,ee){"ok"===V&&at(y,function(le,Ae){var Ce=or(Ae);P.onDisconnect_.remember(d.child(le),Ce)}),P.callOnCompleteCallback(T,V,ee)})},b.prototype.addEventCallbackForQuery=function(d,y){var T;T=".info"===d.path.getFront()?this.infoSyncTree_.addEventRegistration(d,y):this.serverSyncTree_.addEventRegistration(d,y),this.eventQueue_.raiseEventsAtPath(d.path,T)},b.prototype.removeEventCallbackForQuery=function(d,y){var T;T=".info"===d.path.getFront()?this.infoSyncTree_.removeEventRegistration(d,y):this.serverSyncTree_.removeEventRegistration(d,y),this.eventQueue_.raiseEventsAtPath(d.path,T)},b.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(mn)},b.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(mn)},b.prototype.stats=function(d){if(void 0===d&&(d=!1),"undefined"!=typeof console){var y;d?(this.statsListener_||(this.statsListener_=new Xt(this.stats_)),y=this.statsListener_.get()):y=this.stats_.get();var T=Object.keys(y).reduce(function(P,V){return Math.max(V.length,P)},0);at(y,function(P,V){for(var ee=P,le=P.length;le<T+2;le++)ee+=" ";console.log(ee+V)})}},b.prototype.statsIncrementCounter=function(d){this.stats_.incrementCounter(d),this.statsReporter_.includeStat(d)},b.prototype.log_=function(){for(var d=[],y=0;y<arguments.length;y++)d[y]=arguments[y];var T="";this.persistentConnection_&&(T=this.persistentConnection_.id+":"),Pt.apply(void 0,m.__spread([T],d))},b.prototype.callOnCompleteCallback=function(d,y,T){d&&Ht(function(){if("ok"===y)d(null);else{var P=(y||"error").toUpperCase(),V=P;T&&(V+=": "+T);var ee=new Error(V);ee.code=P,d(ee)}})},Object.defineProperty(b.prototype,"database",{get:function(){return this.__database||(this.__database=new St(this))},enumerable:!1,configurable:!0}),b}(),Gs=function(){function b(d){this.indexedFilter_=new Ji(d.getIndex()),this.index_=d.getIndex(),this.startPost_=b.getStartPost_(d),this.endPost_=b.getEndPost_(d)}return b.prototype.getStartPost=function(){return this.startPost_},b.prototype.getEndPost=function(){return this.endPost_},b.prototype.matches=function(d){return this.index_.compare(this.getStartPost(),d)<=0&&this.index_.compare(d,this.getEndPost())<=0},b.prototype.updateChild=function(d,y,T,P,V,ee){return this.matches(new xe(y,T))||(T=vn.EMPTY_NODE),this.indexedFilter_.updateChild(d,y,T,P,V,ee)},b.prototype.updateFullNode=function(d,y,T){y.isLeafNode()&&(y=vn.EMPTY_NODE);var P=y.withIndex(this.index_);P=P.updatePriority(vn.EMPTY_NODE);var V=this;return y.forEachChild(Se,function(ee,le){V.matches(new xe(ee,le))||(P=P.updateImmediateChild(ee,vn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(d,P,T)},b.prototype.updatePriority=function(d,y){return d},b.prototype.filtersNodes=function(){return!0},b.prototype.getIndexedFilter=function(){return this.indexedFilter_},b.prototype.getIndex=function(){return this.index_},b.getStartPost_=function(d){if(d.hasStart()){var y=d.getIndexStartName();return d.getIndex().makePost(d.getIndexStartValue(),y)}return d.getIndex().minPost()},b.getEndPost_=function(d){if(d.hasEnd()){var y=d.getIndexEndName();return d.getIndex().makePost(d.getIndexEndValue(),y)}return d.getIndex().maxPost()},b}(),ba=function(){function b(d){this.rangedFilter_=new Gs(d),this.index_=d.getIndex(),this.limit_=d.getLimit(),this.reverse_=!d.isViewFromLeft()}return b.prototype.updateChild=function(d,y,T,P,V,ee){return this.rangedFilter_.matches(new xe(y,T))||(T=vn.EMPTY_NODE),d.getImmediateChild(y).equals(T)?d:d.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(d,y,T,P,V,ee):this.fullLimitUpdateChild_(d,y,T,V,ee)},b.prototype.updateFullNode=function(d,y,T){var P;if(y.isLeafNode()||y.isEmpty())P=vn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<y.numChildren()&&y.isIndexed(this.index_)){P=vn.EMPTY_NODE.withIndex(this.index_);var V=void 0;V=this.reverse_?y.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):y.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var ee=0;V.hasNext()&&ee<this.limit_;){var le=V.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),le)<=0:this.index_.compare(le,this.rangedFilter_.getEndPost())<=0))break;P=P.updateImmediateChild(le.name,le.node),ee++}}else{P=(P=y.withIndex(this.index_)).updatePriority(vn.EMPTY_NODE);var Ce=void 0,ct=void 0,Ot=void 0;if(V=void 0,this.reverse_){V=P.getReverseIterator(this.index_),Ce=this.rangedFilter_.getEndPost(),ct=this.rangedFilter_.getStartPost();var Vt=this.index_.getCompare();Ot=function(Ur,Lr){return Vt(Lr,Ur)}}else V=P.getIterator(this.index_),Ce=this.rangedFilter_.getStartPost(),ct=this.rangedFilter_.getEndPost(),Ot=this.index_.getCompare();ee=0;for(var an=!1;V.hasNext();)le=V.getNext(),!an&&Ot(Ce,le)<=0&&(an=!0),an&&ee<this.limit_&&Ot(le,ct)<=0?ee++:P=P.updateImmediateChild(le.name,vn.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(d,P,T)},b.prototype.updatePriority=function(d,y){return d},b.prototype.filtersNodes=function(){return!0},b.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},b.prototype.getIndex=function(){return this.index_},b.prototype.fullLimitUpdateChild_=function(d,y,T,P,V){var ee;if(this.reverse_){var le=this.index_.getCompare();ee=function(ho,Ro){return le(Ro,ho)}}else ee=this.index_.getCompare();var Ae=d;te.assert(Ae.numChildren()===this.limit_,"");var Ce=new xe(y,T),ct=this.reverse_?Ae.getFirstChild(this.index_):Ae.getLastChild(this.index_),Ot=this.rangedFilter_.matches(Ce);if(Ae.hasChild(y)){for(var Vt=Ae.getImmediateChild(y),an=P.getChildAfterChild(this.index_,ct,this.reverse_);null!=an&&(an.name===y||Ae.hasChild(an.name));)an=P.getChildAfterChild(this.index_,an,this.reverse_);var On=null==an?1:ee(an,Ce);if(Ot&&!T.isEmpty()&&On>=0)return null!=V&&V.trackChildChange(gr.childChangedChange(y,T,Vt)),Ae.updateImmediateChild(y,T);null!=V&&V.trackChildChange(gr.childRemovedChange(y,Vt));var Ur=Ae.updateImmediateChild(y,vn.EMPTY_NODE);return null!=an&&this.rangedFilter_.matches(an)?(null!=V&&V.trackChildChange(gr.childAddedChange(an.name,an.node)),Ur.updateImmediateChild(an.name,an.node)):Ur}return T.isEmpty()?d:Ot&&ee(ct,Ce)>=0?(null!=V&&(V.trackChildChange(gr.childRemovedChange(ct.name,ct.node)),V.trackChildChange(gr.childAddedChange(y,T))),Ae.updateImmediateChild(y,T).updateImmediateChild(ct.name,vn.EMPTY_NODE)):d},b}(),Ns=function(){function b(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Se}return b.prototype.hasStart=function(){return this.startSet_},b.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===b.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},b.prototype.getIndexStartValue=function(){return te.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},b.prototype.getIndexStartName=function(){return te.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:G},b.prototype.hasEnd=function(){return this.endSet_},b.prototype.getIndexEndValue=function(){return te.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},b.prototype.getIndexEndName=function(){return te.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Z},b.prototype.hasLimit=function(){return this.limitSet_},b.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},b.prototype.getLimit=function(){return te.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},b.prototype.getIndex=function(){return this.index_},b.prototype.copy_=function(){var d=new b;return d.limitSet_=this.limitSet_,d.limit_=this.limit_,d.startSet_=this.startSet_,d.indexStartValue_=this.indexStartValue_,d.startNameSet_=this.startNameSet_,d.indexStartName_=this.indexStartName_,d.endSet_=this.endSet_,d.indexEndValue_=this.indexEndValue_,d.endNameSet_=this.endNameSet_,d.indexEndName_=this.indexEndName_,d.index_=this.index_,d.viewFrom_=this.viewFrom_,d},b.prototype.limit=function(d){var y=this.copy_();return y.limitSet_=!0,y.limit_=d,y.viewFrom_="",y},b.prototype.limitToFirst=function(d){var y=this.copy_();return y.limitSet_=!0,y.limit_=d,y.viewFrom_=b.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,y},b.prototype.limitToLast=function(d){var y=this.copy_();return y.limitSet_=!0,y.limit_=d,y.viewFrom_=b.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,y},b.prototype.startAt=function(d,y){var T=this.copy_();return T.startSet_=!0,void 0===d&&(d=null),T.indexStartValue_=d,null!=y?(T.startNameSet_=!0,T.indexStartName_=y):(T.startNameSet_=!1,T.indexStartName_=""),T},b.prototype.endAt=function(d,y){var T=this.copy_();return T.endSet_=!0,void 0===d&&(d=null),T.indexEndValue_=d,void 0!==y?(T.endNameSet_=!0,T.indexEndName_=y):(T.endNameSet_=!1,T.indexEndName_=""),T},b.prototype.orderBy=function(d){var y=this.copy_();return y.index_=d,y},b.prototype.getQueryObject=function(){var d=b.WIRE_PROTOCOL_CONSTANTS_,y={};if(this.startSet_&&(y[d.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(y[d.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(y[d.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(y[d.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){y[d.LIMIT]=this.limit_;var T=this.viewFrom_;""===T&&(T=this.isViewFromLeft()?d.VIEW_FROM_LEFT:d.VIEW_FROM_RIGHT),y[d.VIEW_FROM]=T}return this.index_!==Se&&(y[d.INDEX]=this.index_.toString()),y},b.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},b.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Se},b.prototype.getNodeFilter=function(){return this.loadsAllData()?new Ji(this.getIndex()):this.hasLimit()?new ba(this):new Gs(this)},b.prototype.toRestQueryStringParameters=function(){var T,d=b.REST_QUERY_CONSTANTS_,y={};return this.isDefault()||(this.index_===Se?T=d.PRIORITY_INDEX:this.index_===qi?T=d.VALUE_INDEX:this.index_===Dt?T=d.KEY_INDEX:(te.assert(this.index_ instanceof ko,"Unrecognized index type!"),T=this.index_.toString()),y[d.ORDER_BY]=te.stringify(T),this.startSet_&&(y[d.START_AT]=te.stringify(this.indexStartValue_),this.startNameSet_&&(y[d.START_AT]+=","+te.stringify(this.indexStartName_))),this.endSet_&&(y[d.END_AT]=te.stringify(this.indexEndValue_),this.endNameSet_&&(y[d.END_AT]+=","+te.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?y[d.LIMIT_TO_FIRST]=this.limit_:y[d.LIMIT_TO_LAST]=this.limit_)),y},b.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},b.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},b.DEFAULT=new b,b}(),hi=function(b){function d(y,T){if(!(y instanceof Zr))throw new Error("new Reference() no longer supported - use app.database().");return b.call(this,y,T,Ns.DEFAULT,!1)||this}return m.__extends(d,b),d.prototype.getKey=function(){return te.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},d.prototype.child=function(y){return te.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof y?y=String(y):y instanceof It||(null===this.path.getFront()?li("Reference.child",1,y,!1):tr("Reference.child",1,y,!1)),new d(this.repo,this.path.child(y))},d.prototype.getParent=function(){te.validateArgCount("Reference.parent",0,0,arguments.length);var y=this.path.parent();return null===y?null:new d(this.repo,y)},d.prototype.getRoot=function(){te.validateArgCount("Reference.root",0,0,arguments.length);for(var y=this;null!==y.getParent();)y=y.getParent();return y},d.prototype.databaseProp=function(){return this.repo.database},d.prototype.set=function(y,T){te.validateArgCount("Reference.set",1,2,arguments.length),dr("Reference.set",this.path),Yt("Reference.set",1,y,this.path,!1),te.validateCallback("Reference.set",2,T,!0);var P=new te.Deferred;return this.repo.setWithPriority(this.path,y,null,P.wrapCallback(T)),P.promise},d.prototype.update=function(y,T){if(te.validateArgCount("Reference.update",1,2,arguments.length),dr("Reference.update",this.path),Array.isArray(y)){for(var P={},V=0;V<y.length;++V)P[""+V]=y[V];y=P,Rt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}In("Reference.update",1,y,this.path,!1),te.validateCallback("Reference.update",2,T,!0);var ee=new te.Deferred;return this.repo.update(this.path,y,ee.wrapCallback(T)),ee.promise},d.prototype.setWithPriority=function(y,T,P){if(te.validateArgCount("Reference.setWithPriority",2,3,arguments.length),dr("Reference.setWithPriority",this.path),Yt("Reference.setWithPriority",1,y,this.path,!1),Wn("Reference.setWithPriority",2,T,!1),te.validateCallback("Reference.setWithPriority",3,P,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var V=new te.Deferred;return this.repo.setWithPriority(this.path,y,T,V.wrapCallback(P)),V.promise},d.prototype.remove=function(y){return te.validateArgCount("Reference.remove",0,1,arguments.length),dr("Reference.remove",this.path),te.validateCallback("Reference.remove",1,y,!0),this.set(null,y)},d.prototype.transaction=function(y,T,P){if(te.validateArgCount("Reference.transaction",1,3,arguments.length),dr("Reference.transaction",this.path),te.validateCallback("Reference.transaction",1,y,!1),te.validateCallback("Reference.transaction",2,T,!0),Ni("Reference.transaction",3,P,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===P&&(P=!0);var V=new te.Deferred;"function"==typeof T&&V.promise.catch(function(){});var ee=function(le,Ae,Ce){le?V.reject(le):V.resolve(new oi(Ae,Ce)),"function"==typeof T&&T(le,Ae,Ce)};return this.repo.startTransaction(this.path,y,ee,P),V.promise},d.prototype.setPriority=function(y,T){te.validateArgCount("Reference.setPriority",1,2,arguments.length),dr("Reference.setPriority",this.path),Wn("Reference.setPriority",1,y,!1),te.validateCallback("Reference.setPriority",2,T,!0);var P=new te.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),y,null,P.wrapCallback(T)),P.promise},d.prototype.push=function(y,T){te.validateArgCount("Reference.push",0,2,arguments.length),dr("Reference.push",this.path),Yt("Reference.push",1,y,this.path,!0),te.validateCallback("Reference.push",2,T,!0);var Ae,P=this.repo.serverTime(),V=Pi(P),ee=this.child(V),le=this.child(V);return Ae=null!=y?ee.set(y,T).then(function(){return le}):Promise.resolve(le),ee.then=Ae.then.bind(Ae),ee.catch=Ae.then.bind(Ae,void 0),"function"==typeof T&&Ae.catch(function(){}),ee},d.prototype.onDisconnect=function(){return dr("Reference.onDisconnect",this.path),new ii(this.repo,this.path)},Object.defineProperty(d.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),d}(vi);vi.__referenceConstructor=hi,Bs.__referenceConstructor=hi;var Rs=function(){this.children={},this.childCount=0,this.value=null},ei=function(){function b(d,y,T){void 0===d&&(d=""),void 0===y&&(y=null),void 0===T&&(T=new Rs),this.name_=d,this.parent_=y,this.node_=T}return b.prototype.subTree=function(d){for(var y=d instanceof It?d:new It(d),T=this,P=y.getFront();null!==P;)T=new b(P,T,te.safeGet(T.node_.children,P)||new Rs),P=(y=y.popFront()).getFront();return T},b.prototype.getValue=function(){return this.node_.value},b.prototype.setValue=function(d){te.assert(void 0!==d,"Cannot set value to undefined"),this.node_.value=d,this.updateParents_()},b.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},b.prototype.hasChildren=function(){return this.node_.childCount>0},b.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},b.prototype.forEachChild=function(d){var y=this;at(this.node_.children,function(T,P){d(new b(T,y,P))})},b.prototype.forEachDescendant=function(d,y,T){y&&!T&&d(this),this.forEachChild(function(P){P.forEachDescendant(d,!0,T)}),y&&T&&d(this)},b.prototype.forEachAncestor=function(d,y){for(var T=y?this:this.parent();null!==T;){if(d(T))return!0;T=T.parent()}return!1},b.prototype.forEachImmediateDescendantWithValue=function(d){this.forEachChild(function(y){null!==y.getValue()?d(y):y.forEachImmediateDescendantWithValue(d)})},b.prototype.path=function(){return new It(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},b.prototype.name=function(){return this.name_},b.prototype.parent=function(){return this.parent_},b.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},b.prototype.updateChild_=function(d,y){var T=y.isEmpty(),P=te.contains(this.node_.children,d);T&&P?(delete this.node_.children[d],this.node_.childCount--,this.updateParents_()):!T&&!P&&(this.node_.children[d]=y.node_,this.node_.childCount++,this.updateParents_())},b}(),Ii=(()=>(function(b){b[b.RUN=0]="RUN",b[b.SENT=1]="SENT",b[b.COMPLETED=2]="COMPLETED",b[b.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",b[b.NEEDS_ABORT=4]="NEEDS_ABORT"}(Ii||(Ii={})),Ii))();Zr.MAX_TRANSACTION_RETRIES_=25,Zr.prototype.transactionsInit_=function(){this.transactionQueueTree_=new ei},Zr.prototype.startTransaction=function(b,d,y,T){this.log_("transaction on "+b);var P=function(){},V=new hi(this,b);V.on("value",P);var le={path:b,update:d,onComplete:y,status:null,order:wt(),applyLocally:T,retryCount:0,unwatcher:function(){V.off("value",P)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Ae=this.getLatestState_(b);le.currentInputSnapshot=Ae;var Ce=le.update(Ae.val());if(void 0===Ce){if(le.unwatcher(),le.currentOutputSnapshotRaw=null,le.currentOutputSnapshotResolved=null,le.onComplete){var ct=new Yi(le.currentInputSnapshot,new hi(this,le.path),Se);le.onComplete(null,!1,ct)}}else{Pn("transaction failed: Data returned ",Ce,le.path),le.status=Ii.RUN;var Ot=this.transactionQueueTree_.subTree(b),Vt=Ot.getValue()||[];Vt.push(le),Ot.setValue(Vt);var an=void 0;"object"==typeof Ce&&null!==Ce&&te.contains(Ce,".priority")?(an=te.safeGet(Ce,".priority"),te.assert(fn(an),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):an=(this.serverSyncTree_.calcCompleteEventCache(b)||vn.EMPTY_NODE).getPriority().val(),an=an;var jn=this.generateServerValues(),Ur=or(Ce,an),Lr=Qn(Ur,Ae,jn);le.currentOutputSnapshotRaw=Ur,le.currentOutputSnapshotResolved=Lr,le.currentWriteId=this.getNextWriteId_();var ho=this.serverSyncTree_.applyUserOverwrite(b,Lr,le.currentWriteId,le.applyLocally);this.eventQueue_.raiseEventsForChangedPath(b,ho),this.sendReadyTransactions_()}},Zr.prototype.getLatestState_=function(b,d){return this.serverSyncTree_.calcCompleteEventCache(b,d)||vn.EMPTY_NODE},Zr.prototype.sendReadyTransactions_=function(b){var d=this;if(void 0===b&&(b=this.transactionQueueTree_),b||this.pruneCompletedTransactionsBelowNode_(b),null!==b.getValue()){var y=this.buildTransactionQueue_(b);te.assert(y.length>0,"Sending zero length transaction queue"),y.every(function(P){return P.status===Ii.RUN})&&this.sendTransactionQueue_(b.path(),y)}else b.hasChildren()&&b.forEachChild(function(P){d.sendReadyTransactions_(P)})},Zr.prototype.sendTransactionQueue_=function(b,d){for(var y=this,T=d.map(function(Vt){return Vt.currentWriteId}),P=this.getLatestState_(b,T),V=P,ee=P.hash(),le=0;le<d.length;le++){var Ae=d[le];te.assert(Ae.status===Ii.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),Ae.status=Ii.SENT,Ae.retryCount++;var Ce=It.relativePath(b,Ae.path);V=V.updateChild(Ce,Ae.currentOutputSnapshotRaw)}var ct=V.val(!0),Ot=b;this.server_.put(Ot.toString(),ct,function(Vt){y.log_("transaction put response",{path:Ot.toString(),status:Vt});var an=[];if("ok"===Vt){for(var On=[],jn=0;jn<d.length;jn++){if(d[jn].status=Ii.COMPLETED,an=an.concat(y.serverSyncTree_.ackUserWrite(d[jn].currentWriteId)),d[jn].onComplete){var Ur=d[jn].currentOutputSnapshotResolved,Lr=new hi(y,d[jn].path),ho=new Yi(Ur,Lr,Se);On.push(d[jn].onComplete.bind(null,null,!0,ho))}d[jn].unwatcher()}for(y.pruneCompletedTransactionsBelowNode_(y.transactionQueueTree_.subTree(b)),y.sendReadyTransactions_(),y.eventQueue_.raiseEventsForChangedPath(b,an),jn=0;jn<On.length;jn++)Ht(On[jn])}else{if("datastale"===Vt)for(jn=0;jn<d.length;jn++)d[jn].status=d[jn].status===Ii.SENT_NEEDS_ABORT?Ii.NEEDS_ABORT:Ii.RUN;else for(Rt("transaction at "+Ot.toString()+" failed: "+Vt),jn=0;jn<d.length;jn++)d[jn].status=Ii.NEEDS_ABORT,d[jn].abortReason=Vt;y.rerunTransactions_(b)}},ee)},Zr.prototype.rerunTransactions_=function(b){var d=this.getAncestorTransactionNode_(b),y=d.path(),T=this.buildTransactionQueue_(d);return this.rerunTransactionQueue_(T,y),y},Zr.prototype.rerunTransactionQueue_=function(b,d){if(0!==b.length){for(var y=[],T=[],V=b.filter(function(Hn){return Hn.status===Ii.RUN}).map(function(Hn){return Hn.currentWriteId}),ee=0;ee<b.length;ee++){var le=b[ee],Ae=It.relativePath(d,le.path),Ce=!1,ct=void 0;if(te.assert(null!==Ae,"rerunTransactionsUnderNode_: relativePath should not be null."),le.status===Ii.NEEDS_ABORT)Ce=!0,ct=le.abortReason,T=T.concat(this.serverSyncTree_.ackUserWrite(le.currentWriteId,!0));else if(le.status===Ii.RUN)if(le.retryCount>=Zr.MAX_TRANSACTION_RETRIES_)Ce=!0,ct="maxretry",T=T.concat(this.serverSyncTree_.ackUserWrite(le.currentWriteId,!0));else{var Ot=this.getLatestState_(le.path,V);le.currentInputSnapshot=Ot;var Vt=b[ee].update(Ot.val());if(void 0!==Vt){Pn("transaction failed: Data returned ",Vt,le.path);var an=or(Vt);"object"==typeof Vt&&null!=Vt&&te.contains(Vt,".priority")||(an=an.updatePriority(Ot.getPriority()));var jn=le.currentWriteId,Ur=this.generateServerValues(),Lr=Qn(an,Ot,Ur);le.currentOutputSnapshotRaw=an,le.currentOutputSnapshotResolved=Lr,le.currentWriteId=this.getNextWriteId_(),V.splice(V.indexOf(jn),1),T=(T=T.concat(this.serverSyncTree_.applyUserOverwrite(le.path,Lr,le.currentWriteId,le.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(jn,!0))}else Ce=!0,ct="nodata",T=T.concat(this.serverSyncTree_.ackUserWrite(le.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(d,T),T=[],Ce&&(b[ee].status=Ii.COMPLETED,setTimeout(b[ee].unwatcher,Math.floor(0)),b[ee].onComplete))if("nodata"===ct){var ho=new hi(this,b[ee].path),ta=new Yi(b[ee].currentInputSnapshot,ho,Se);y.push(b[ee].onComplete.bind(null,null,!1,ta))}else y.push(b[ee].onComplete.bind(null,new Error(ct),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),ee=0;ee<y.length;ee++)Ht(y[ee]);this.sendReadyTransactions_()}},Zr.prototype.getAncestorTransactionNode_=function(b){var d,y=this.transactionQueueTree_;for(d=b.getFront();null!==d&&null===y.getValue();)y=y.subTree(d),d=(b=b.popFront()).getFront();return y},Zr.prototype.buildTransactionQueue_=function(b){var d=[];return this.aggregateTransactionQueuesForNode_(b,d),d.sort(function(y,T){return y.order-T.order}),d},Zr.prototype.aggregateTransactionQueuesForNode_=function(b,d){var y=this,T=b.getValue();if(null!==T)for(var P=0;P<T.length;P++)d.push(T[P]);b.forEachChild(function(V){y.aggregateTransactionQueuesForNode_(V,d)})},Zr.prototype.pruneCompletedTransactionsBelowNode_=function(b){var d=this,y=b.getValue();if(y){for(var T=0,P=0;P<y.length;P++)y[P].status!==Ii.COMPLETED&&(y[T]=y[P],T++);y.length=T,b.setValue(y.length>0?y:null)}b.forEachChild(function(V){d.pruneCompletedTransactionsBelowNode_(V)})},Zr.prototype.abortTransactions_=function(b){var d=this,y=this.getAncestorTransactionNode_(b).path(),T=this.transactionQueueTree_.subTree(b);return T.forEachAncestor(function(P){d.abortTransactionsOnNode_(P)}),this.abortTransactionsOnNode_(T),T.forEachDescendant(function(P){d.abortTransactionsOnNode_(P)}),y},Zr.prototype.abortTransactionsOnNode_=function(b){var d=b.getValue();if(null!==d){for(var y=[],T=[],P=-1,V=0;V<d.length;V++)d[V].status!==Ii.SENT_NEEDS_ABORT&&(d[V].status===Ii.SENT?(te.assert(P===V-1,"All SENT items should be at beginning of queue."),P=V,d[V].status=Ii.SENT_NEEDS_ABORT,d[V].abortReason="set"):(te.assert(d[V].status===Ii.RUN,"Unexpected transaction status in abort"),d[V].unwatcher(),T=T.concat(this.serverSyncTree_.ackUserWrite(d[V].currentWriteId,!0)),d[V].onComplete&&y.push(d[V].onComplete.bind(null,new Error("set"),!1,null))));for(-1===P?b.setValue(null):d.length=P+1,this.eventQueue_.raiseEventsForChangedPath(b.path(),T),V=0;V<y.length;V++)Ht(y[V])}};var be,C=function(){function b(d,y){var T=this;this.app_=d,this.authProvider_=y,this.auth_=null,this.auth_=y.getImmediate({optional:!0}),this.auth_||y.get().then(function(P){return T.auth_=P})}return b.prototype.getToken=function(d){return this.auth_?this.auth_.getToken(d).catch(function(y){return y&&"auth/token-not-initialized"===y.code?(Pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(y)}):Promise.resolve(null)},b.prototype.addTokenChangeListener=function(d){this.auth_?this.auth_.addAuthTokenListener(d):(setTimeout(function(){return d(null)},0),this.authProvider_.get().then(function(y){return y.addAuthTokenListener(d)}))},b.prototype.removeTokenChangeListener=function(d){this.authProvider_.get().then(function(y){return y.removeAuthTokenListener(d)})},b.prototype.notifyForInvalidToken=function(){var d='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';Rt(d+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},b}(),j=function(){function b(){}return b.prototype.getToken=function(d){return Promise.resolve({accessToken:b.EMULATOR_AUTH_TOKEN})},b.prototype.addTokenChangeListener=function(d){d(b.EMULATOR_AUTH_TOKEN)},b.prototype.removeTokenChangeListener=function(d){},b.prototype.notifyForInvalidToken=function(){},b.EMULATOR_AUTH_TOKEN="owner",b}(),rt=function(){function b(){this.repos_={},this.useRestClient_=!1}return b.getInstance=function(){return be||(be=new b),be},b.prototype.interrupt=function(){var d,y,T,P;try{for(var V=m.__values(Object.keys(this.repos_)),ee=V.next();!ee.done;ee=V.next()){var le=ee.value;try{for(var Ae=(T=void 0,m.__values(Object.keys(this.repos_[le]))),Ce=Ae.next();!Ce.done;Ce=Ae.next())this.repos_[le][Ce.value].interrupt()}catch(Ot){T={error:Ot}}finally{try{Ce&&!Ce.done&&(P=Ae.return)&&P.call(Ae)}finally{if(T)throw T.error}}}}catch(Ot){d={error:Ot}}finally{try{ee&&!ee.done&&(y=V.return)&&y.call(V)}finally{if(d)throw d.error}}},b.prototype.resume=function(){var d,y,T,P;try{for(var V=m.__values(Object.keys(this.repos_)),ee=V.next();!ee.done;ee=V.next()){var le=ee.value;try{for(var Ae=(T=void 0,m.__values(Object.keys(this.repos_[le]))),Ce=Ae.next();!Ce.done;Ce=Ae.next())this.repos_[le][Ce.value].resume()}catch(Ot){T={error:Ot}}finally{try{Ce&&!Ce.done&&(P=Ae.return)&&P.call(Ae)}finally{if(T)throw T.error}}}}catch(Ot){d={error:Ot}}finally{try{ee&&!ee.done&&(y=V.return)&&y.call(V)}finally{if(d)throw d.error}}},b.prototype.databaseFromApp=function(d,y,T,P){var V=T||d.options.databaseURL;void 0===V&&(d.options.projectId||ft("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pt("Using default host for project ",d.options.projectId),V=d.options.projectId+"-default-rtdb.firebaseio.com");var Ae,ee=Un(V,P),le=ee.repoInfo,Ce=void 0;"undefined"!=typeof process&&(Ce=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Ce?(Ae=!0,le=(ee=Un(V="http://"+Ce+"?ns="+le.namespace,P)).repoInfo):Ae=!ee.repoInfo.secure;var ct=P&&Ae?new j:new C(d,y);return pr("Invalid Firebase Database URL",1,ee),ee.path.isEmpty()||ft("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(le,d,ct).database},b.prototype.deleteRepo=function(d){var y=te.safeGet(this.repos_,d.app.name);(!y||te.safeGet(y,d.repoInfo_.toURLString())!==d)&&ft("Database "+d.app.name+"("+d.repoInfo_+") has already been deleted."),d.interrupt(),delete y[d.repoInfo_.toURLString()]},b.prototype.createRepo=function(d,y,T){var P=te.safeGet(this.repos_,y.name);P||(this.repos_[y.name]=P={});var V=te.safeGet(P,d.toURLString());return V&&ft("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),V=new Zr(d,this.useRestClient_,y,T),P[d.toURLString()]=V,V},b.prototype.forceRestClient=function(d){this.useRestClient_=d},b}(),St=function(){function b(d){this.repo_=d,d instanceof Zr||ft("Don't call new Database() directly - please use firebase.database()."),this.root_=new hi(d,It.Empty),this.INTERNAL=new kn(this)}return Object.defineProperty(b.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),b.prototype.ref=function(d){return this.checkDeleted_("ref"),te.validateArgCount("database.ref",0,1,arguments.length),d instanceof hi?this.refFromURL(d.toString()):void 0!==d?this.root_.child(d):this.root_},b.prototype.refFromURL=function(d){var y="database.refFromURL";this.checkDeleted_(y),te.validateArgCount(y,1,1,arguments.length);var T=Un(d,this.repo_.repoInfo_.nodeAdmin);pr(y,1,T);var P=T.repoInfo;return P.host!==this.repo_.repoInfo_.host&&ft(y+": Host name does not match the current database: (found "+P.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(T.path.toString())},b.prototype.checkDeleted_=function(d){null===this.repo_&&ft("Cannot call "+d+" on a deleted database.")},b.prototype.goOffline=function(){te.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},b.prototype.goOnline=function(){te.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},b.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(d){return{".sv":{increment:d}}}},b}(),kn=function(){function b(d){this.database=d}return b.prototype.delete=function(){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(d){return this.database.checkDeleted_("delete"),rt.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},b}(),ni=Object.freeze({__proto__:null,forceLongPolling:function(){Hi.forceDisallow(),Ko.forceAllow()},forceWebSockets:function(){Ko.forceDisallow()},isWebSocketsAvailable:function(){return Hi.isAvailable()},setSecurityDebugCallback:function(b,d){b.repo.persistentConnection_.securityDebugCallback_=d},stats:function(b,d){b.repo.stats(d)},statsIncrementCounter:function(b,d){b.repo.statsIncrementCounter(d)},dataUpdateCount:function(b){return b.repo.dataUpdateCount},interceptServerData:function(b,d){return b.repo.interceptServerData_(d)}}),Ua=Qr;Qr.prototype.simpleListen=function(b,d){this.sendRequest("q",{p:b},d)},Qr.prototype.echo=function(b,d){this.sendRequest("echo",{d:b},d)};var cu=Object.freeze({__proto__:null,DataConnection:Ua,RealTimeConnection:wa,hijackHash:function(b){var d=Qr.prototype.put;return Qr.prototype.put=function(y,T,P,V){void 0!==V&&(V=b()),d.call(this,y,T,P,V)},function(){Qr.prototype.put=d}},ConnectionTarget:tn,queryIdentifier:function(b){return b.queryIdentifier()},forceRestClient:function(b){rt.getInstance().forceRestClient(b)}}),ja=St.ServerValue;function as(b){!function(b){Uo=b}(b.SDK_VERSION);var d=b.INTERNAL.registerComponent(new Le.Component("database",function(y,T){var P=y.getProvider("app").getImmediate(),V=y.getProvider("auth-internal");return rt.getInstance().databaseFromApp(P,V,T)},"PUBLIC").setServiceProps({Reference:hi,Query:vi,Database:St,DataSnapshot:Yi,enableLogging:qe,INTERNAL:ni,ServerValue:ja,TEST_ACCESS:cu}).setMultipleInstances(!0));b.registerVersion("@firebase/database","0.6.13"),te.isNodeSdk()&&(Vn.exports=d)}as(tt.default),We.DataSnapshot=Yi,We.Database=St,We.OnDisconnect=ii,We.Query=vi,We.Reference=hi,We.ServerValue=ja,We.enableLogging=qe,We.registerDatabase=as},5910:(Vn,We,pe)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var l,k=pe(5704),m=pe(6279),te=pe(300),mt=pe(1704),Le=pe(2870),Ye=pe(1100),Je=(l=m)&&"object"==typeof l&&"default"in l?l:{default:l},ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=function(l){function i(u,p){var _=this;return(_=l.call(this,p)||this).code=u,_.message=p,_.name="FirebaseError",_.toString=function(){return _.name+": [code="+_.code+"]: "+_.message},_}return k.__extends(i,l),i}(Error),De=new te.Logger("@firebase/firestore");function ye(){return De.logLevel}function Te(l){for(var i=[],u=1;u<arguments.length;u++)i[u-1]=arguments[u];if(De.logLevel<=te.LogLevel.DEBUG){var p=i.map(it);De.debug.apply(De,k.__spreadArrays(["Firestore (7.24.0): "+l],p))}}function wt(l){for(var i=[],u=1;u<arguments.length;u++)i[u-1]=arguments[u];if(De.logLevel<=te.LogLevel.ERROR){var p=i.map(it);De.error.apply(De,k.__spreadArrays(["Firestore (7.24.0): "+l],p))}}function Tt(l){for(var i=[],u=1;u<arguments.length;u++)i[u-1]=arguments[u];if(De.logLevel<=te.LogLevel.WARN){var p=i.map(it);De.warn.apply(De,k.__spreadArrays(["Firestore (7.24.0): "+l],p))}}function it(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch(u){return l}}function ke(l){void 0===l&&(l="Unexpected state");var i="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+l;throw wt(i),new Error(i)}function He(l,i){l||ke()}function qe(l,i){return l}function Pt(l){var i=0;for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&i++;return i}function Ut(l,i){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&i(u,l[u])}function Mt(l){for(var i in l)if(Object.prototype.hasOwnProperty.call(l,i))return!1;return!0}var ft=function(){function l(i,u,p){void 0===u?u=0:u>i.length&&ke(),void 0===p?p=i.length-u:p>i.length-u&&ke(),this.segments=i,this.offset=u,this.t=p}return Object.defineProperty(l.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(i){return 0===l.i(this,i)},l.prototype.child=function(i){var u=this.segments.slice(this.offset,this.limit());return i instanceof l?i.forEach(function(p){u.push(p)}):u.push(i),this.o(u)},l.prototype.limit=function(){return this.offset+this.length},l.prototype.u=function(i){return this.o(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)},l.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},l.prototype.l=function(){return this.segments[this.offset]},l.prototype._=function(){return this.get(this.length-1)},l.prototype.get=function(i){return this.segments[this.offset+i]},l.prototype.m=function(){return 0===this.length},l.prototype.T=function(i){if(i.length<this.length)return!1;for(var u=0;u<this.length;u++)if(this.get(u)!==i.get(u))return!1;return!0},l.prototype.I=function(i){if(this.length+1!==i.length)return!1;for(var u=0;u<this.length;u++)if(this.get(u)!==i.get(u))return!1;return!0},l.prototype.forEach=function(i){for(var u=this.offset,p=this.limit();u<p;u++)i(this.segments[u])},l.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},l.i=function(i,u){for(var p=Math.min(i.length,u.length),_=0;_<p;_++){var I=i.get(_),R=u.get(_);if(I<R)return-1;if(I>R)return 1}return i.length<u.length?-1:i.length>u.length?1:0},l}(),Rt=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return k.__extends(i,l),i.prototype.o=function(u,p,_){return new i(u,p,_)},i.prototype.R=function(){return this.A().join("/")},i.prototype.toString=function(){return this.R()},i.g=function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];for(var _=[],I=0,R=u;I<R.length;I++){var U=R[I];if(U.indexOf("//")>=0)throw new Q(ae.INVALID_ARGUMENT,"Invalid segment ("+U+"). Paths must not contain // in them.");_.push.apply(_,U.split("/").filter(function(J){return J.length>0}))}return new i(_)},i.P=function(){return new i([])},i}(ft),O=/^[_a-zA-Z][_a-zA-Z0-9]*$/,F=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return k.__extends(i,l),i.prototype.o=function(u,p,_){return new i(u,p,_)},i.V=function(u){return O.test(u)},i.prototype.R=function(){return this.A().map(function(u){return u=u.replace("\\","\\\\").replace("`","\\`"),i.V(u)||(u="`"+u+"`"),u}).join(".")},i.prototype.toString=function(){return this.R()},i.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},i.v=function(){return new i(["__name__"])},i.S=function(u){for(var p=[],_="",I=0,R=function(){if(0===_.length)throw new Q(ae.INVALID_ARGUMENT,"Invalid field path ("+u+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");p.push(_),_=""},U=!1;I<u.length;){var J=u[I];if("\\"===J){if(I+1===u.length)throw new Q(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+u);var he=u[I+1];if("\\"!==he&&"."!==he&&"`"!==he)throw new Q(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+u);_+=he,I+=2}else"`"===J?(U=!U,I++):"."!==J||U?(_+=J,I++):(R(),I++)}if(R(),U)throw new Q(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+u);return new i(p)},i.P=function(){return new i([])},i}(ft),A=function(){function l(i){this.path=i}return l.D=function(i){return new l(Rt.g(i))},l.C=function(i){return new l(Rt.g(i).u(5))},l.prototype.N=function(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i},l.prototype.isEqual=function(i){return null!==i&&0===Rt.i(this.path,i.path)},l.prototype.toString=function(){return this.path.toString()},l.i=function(i,u){return Rt.i(i.path,u.path)},l.F=function(i){return i.length%2==0},l.$=function(i){return new l(new Rt(i.slice()))},l}();function G(l,i){if(0!==i.length)throw new Q(ae.INVALID_ARGUMENT,"Function "+l+"() does not support arguments, but was called with "+Zn(i.length,"argument")+".")}function Z(l,i,u){if(i.length!==u)throw new Q(ae.INVALID_ARGUMENT,"Function "+l+"() requires "+Zn(u,"argument")+", but was called with "+Zn(i.length,"argument")+".")}function L(l,i,u){if(i.length<u)throw new Q(ae.INVALID_ARGUMENT,"Function "+l+"() requires at least "+Zn(u,"argument")+", but was called with "+Zn(i.length,"argument")+".")}function ce(l,i,u,p){if(i.length<u||i.length>p)throw new Q(ae.INVALID_ARGUMENT,"Function "+l+"() requires between "+u+" and "+p+" arguments, but was called with "+Zn(i.length,"argument")+".")}function fe(l,i,u,p){Ge(l,i,It(u)+" argument",p)}function $t(l,i,u,p){void 0!==p&&fe(l,i,u,p)}function _e(l,i,u,p){Ge(l,i,u+" option",p)}function at(l,i,u,p){void 0!==p&&_e(l,i,u,p)}function zt(l,i,u,p,_){void 0!==p&&function(I,R,U,J,he){for(var Ne=[],Ze=0,Xe=he;Ze<Xe.length;Ze++){var yt=Xe[Ze];if(yt===J)return;Ne.push(Bt(yt))}var kt=Bt(J);throw new Q(ae.INVALID_ARGUMENT,"Invalid value "+kt+" provided to function "+I+'() for option "'+U+'". Acceptable values: '+Ne.join(", "))}(l,0,u,p,_)}function Ke(l,i,u,p){if(!i.some(function(_){return _===p}))throw new Q(ae.INVALID_ARGUMENT,"Invalid value "+Bt(p)+" provided to function "+l+"() for its "+It(u)+" argument. Acceptable values: "+i.join(", "));return p}function Ge(l,i,u,p){if(!("object"===i?vt(p):"non-empty string"===i?"string"==typeof p&&""!==p:typeof p===i)){var _=Bt(p);throw new Q(ae.INVALID_ARGUMENT,"Function "+l+"() requires its "+u+" to be of type "+i+", but it was: "+_)}}function vt(l){return"object"==typeof l&&null!==l&&(Object.getPrototypeOf(l)===Object.prototype||null===Object.getPrototypeOf(l))}function Bt(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=l.substring(0,20)+"..."),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";var i=function(u){if(u.constructor){var p=/function\s+([^\s(]+)\s*\(/.exec(u.constructor.toString());if(p&&p.length>1)return p[1]}return null}(l);return i?"a custom "+i+" object":"an object"}return"function"==typeof l?"a function":ke()}function yn(l,i,u){if(void 0===u)throw new Q(ae.INVALID_ARGUMENT,"Function "+l+"() requires a valid "+It(i)+" argument, but it was undefined.")}function Ht(l,i,u){Ut(i,function(p,_){if(u.indexOf(p)<0)throw new Q(ae.INVALID_ARGUMENT,"Unknown option '"+p+"' passed to function "+l+"(). Available options: "+u.join(", "))})}function wn(l,i,u,p){var _=Bt(p);return new Q(ae.INVALID_ARGUMENT,"Function "+l+"() requires its "+It(u)+" argument to be a "+i+", but it was: "+_)}function pn(l,i,u){if(u<=0)throw new Q(ae.INVALID_ARGUMENT,"Function "+l+"() requires its "+It(i)+" argument to be a positive number, but it was: "+u+".")}function It(l){switch(l){case 1:return"first";case 2:return"second";case 3:return"third";default:return l+"th"}}function Zn(l,i){return l+" "+i+(1===l?"":"s")}function Ir(l){var i="undefined"!=typeof self&&(self.crypto||self.msCrypto),u=new Uint8Array(l);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(u);else for(var p=0;p<l;p++)u[p]=Math.floor(256*Math.random());return u}var Mn=function(){function l(){}return l.k=function(){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=Math.floor(256/i.length)*i.length,p="";p.length<20;)for(var _=Ir(40),I=0;I<_.length;++I)p.length<20&&_[I]<u&&(p+=i.charAt(_[I]%i.length));return p},l}();function cn(l,i){return l<i?-1:l>i?1:0}function Zt(l,i,u){return l.length===i.length&&l.every(function(p,_){return u(p,i[_])})}function pt(l){return l+"\0"}var _t=function(){function l(i){this.M=i}return l.fromBase64String=function(i){return new l(atob(i))},l.fromUint8Array=function(i){return new l(function(u){for(var p="",_=0;_<u.length;++_)p+=String.fromCharCode(u[_]);return p}(i))},l.prototype.toBase64=function(){return btoa(this.M)},l.prototype.toUint8Array=function(){return function(i){for(var u=new Uint8Array(i.length),p=0;p<i.length;p++)u[p]=i.charCodeAt(p);return u}(this.M)},l.prototype.O=function(){return 2*this.M.length},l.prototype.L=function(i){return cn(this.M,i.M)},l.prototype.isEqual=function(i){return this.M===i.M},l}();_t.B=new _t("");var Ve=function(){function l(i){this.q=i}return l.fromBase64String=function(i){try{return new l(_t.fromBase64String(i))}catch(u){throw new Q(ae.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+u)}},l.fromUint8Array=function(i){return new l(_t.fromUint8Array(i))},l.prototype.toBase64=function(){return this.q.toBase64()},l.prototype.toUint8Array=function(){return this.q.toUint8Array()},l.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},l.prototype.isEqual=function(i){return this.q.isEqual(i.q)},l}();function $e(){if("undefined"==typeof Uint8Array)throw new Q(ae.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function bt(){if("undefined"==typeof atob)throw new Q(ae.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Qt=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return k.__extends(i,l),i.fromBase64String=function(u){Z("Blob.fromBase64String",arguments,1),fe("Blob.fromBase64String","string",1,u),bt();try{return new i(_t.fromBase64String(u))}catch(p){throw new Q(ae.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+p)}},i.fromUint8Array=function(u){if(Z("Blob.fromUint8Array",arguments,1),$e(),!(u instanceof Uint8Array))throw wn("Blob.fromUint8Array","Uint8Array",1,u);return new i(_t.fromUint8Array(u))},i.prototype.toBase64=function(){return Z("Blob.toBase64",arguments,0),bt(),l.prototype.toBase64.call(this)},i.prototype.toUint8Array=function(){return Z("Blob.toUint8Array",arguments,0),$e(),l.prototype.toUint8Array.call(this)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(Ve),tn=function(l,i,u,p,_,I){this.U=l,this.persistenceKey=i,this.host=u,this.ssl=p,this.forceLongPolling=_,this.W=I},_n=function(){function l(i,u){this.projectId=i,this.database=u||"(default)"}return Object.defineProperty(l.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(i){return i instanceof l&&i.projectId===this.projectId&&i.database===this.database},l.prototype.L=function(i){return cn(this.projectId,i.projectId)||cn(this.database,i.database)},l}(),Bn=function(){function l(i,u){this.K=i,this.G=u,this.H={}}return l.prototype.get=function(i){var u=this.K(i),p=this.H[u];if(void 0!==p)for(var _=0,I=p;_<I.length;_++){var R=I[_],J=R[1];if(this.G(R[0],i))return J}},l.prototype.has=function(i){return void 0!==this.get(i)},l.prototype.set=function(i,u){var p=this.K(i),_=this.H[p];if(void 0!==_){for(var I=0;I<_.length;I++)if(this.G(_[I][0],i))return void(_[I]=[i,u]);_.push([i,u])}else this.H[p]=[[i,u]]},l.prototype.delete=function(i){var u=this.K(i),p=this.H[u];if(void 0===p)return!1;for(var _=0;_<p.length;_++)if(this.G(p[_][0],i))return 1===p.length?delete this.H[u]:p.splice(_,1),!0;return!1},l.prototype.forEach=function(i){Ut(this.H,function(u,p){for(var _=0,I=p;_<I.length;_++){var R=I[_];i(R[0],R[1])}})},l.prototype.m=function(){return Mt(this.H)},l}(),Un=function(){function l(i,u){if(this.seconds=i,this.nanoseconds=u,u<0)throw new Q(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+u);if(u>=1e9)throw new Q(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+u);if(i<-62135596800)throw new Q(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Q(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}return l.now=function(){return l.fromMillis(Date.now())},l.fromDate=function(i){return l.fromMillis(i.getTime())},l.fromMillis=function(i){var u=Math.floor(i/1e3);return new l(u,1e6*(i-1e3*u))},l.prototype.toDate=function(){return new Date(this.toMillis())},l.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},l.prototype.Y=function(i){return this.seconds===i.seconds?cn(this.nanoseconds,i.nanoseconds):cn(this.seconds,i.seconds)},l.prototype.isEqual=function(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds},l.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},l.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},l.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},l}(),Sn=function(){function l(i){this.timestamp=i}return l.J=function(i){return new l(i)},l.min=function(){return new l(new Un(0,0))},l.prototype.L=function(i){return this.timestamp.Y(i.timestamp)},l.prototype.isEqual=function(i){return this.timestamp.isEqual(i.timestamp)},l.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},l.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},l.prototype.Z=function(){return this.timestamp},l}();function Yr(l){return null==l}function st(l){return 0===l&&1/l==-1/0}function ve(l){return"number"==typeof l&&Number.isInteger(l)&&!st(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}var ze=function(l,i,u,p,_,I,R){void 0===i&&(i=null),void 0===u&&(u=[]),void 0===p&&(p=[]),void 0===_&&(_=null),void 0===I&&(I=null),void 0===R&&(R=null),this.path=l,this.collectionGroup=i,this.orderBy=u,this.filters=p,this.limit=_,this.startAt=I,this.endAt=R,this.tt=null};function Ct(l,i,u,p,_,I,R){return void 0===i&&(i=null),void 0===u&&(u=[]),void 0===p&&(p=[]),void 0===_&&(_=null),void 0===I&&(I=null),void 0===R&&(R=null),new ze(l,i,u,p,_,I,R)}function lt(l){var i=qe(l);if(null===i.tt){var u=i.path.R();null!==i.collectionGroup&&(u+="|cg:"+i.collectionGroup),u+="|f:",u+=i.filters.map(function(p){return(_=p).field.R()+_.op.toString()+qn(_.value);var _}).join(","),u+="|ob:",u+=i.orderBy.map(function(p){return(_=p).field.R()+_.dir;var _}).join(","),Yr(i.limit)||(u+="|l:",u+=i.limit),i.startAt&&(u+="|lb:",u+=Yo(i.startAt)),i.endAt&&(u+="|ub:",u+=Yo(i.endAt)),i.tt=u}return i.tt}function fn(l,i){if(l.limit!==i.limit||l.orderBy.length!==i.orderBy.length)return!1;for(var u=0;u<l.orderBy.length;u++)if(!Hs(l.orderBy[u],i.orderBy[u]))return!1;if(l.filters.length!==i.filters.length)return!1;for(var p=0;p<l.filters.length;p++)if((_=l.filters[p]).op!==(I=i.filters[p]).op||!_.field.isEqual(I.field)||!Me(_.value,I.value))return!1;var _,I;return l.collectionGroup===i.collectionGroup&&!!l.path.isEqual(i.path)&&!!ys(l.startAt,i.startAt)&&ys(l.endAt,i.endAt)}function Yt(l){return A.F(l.path)&&null===l.collectionGroup&&0===l.filters.length}var Pn,Fn,In=function(){function l(i,u,p,_,I,R,U){void 0===I&&(I=Sn.min()),void 0===R&&(R=Sn.min()),void 0===U&&(U=_t.B),this.target=i,this.targetId=u,this.et=p,this.sequenceNumber=_,this.nt=I,this.lastLimboFreeSnapshotVersion=R,this.resumeToken=U}return l.prototype.st=function(i){return new l(this.target,this.targetId,this.et,i,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},l.prototype.it=function(i,u){return new l(this.target,this.targetId,this.et,this.sequenceNumber,u,this.lastLimboFreeSnapshotVersion,i)},l.prototype.rt=function(i){return new l(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,i,this.resumeToken)},l}(),Wn=function(l){this.count=l};function Ln(l){switch(l){case ae.OK:return ke();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return ke()}}function Dr(l){if(void 0===l)return wt("GRPC error has no .code"),ae.UNKNOWN;switch(l){case Pn.OK:return ae.OK;case Pn.CANCELLED:return ae.CANCELLED;case Pn.UNKNOWN:return ae.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return ae.INTERNAL;case Pn.UNAVAILABLE:return ae.UNAVAILABLE;case Pn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Pn.NOT_FOUND:return ae.NOT_FOUND;case Pn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Pn.ABORTED:return ae.ABORTED;case Pn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Pn.DATA_LOSS:return ae.DATA_LOSS;default:return ke()}}(Fn=Pn||(Pn={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";var tr=function(){function l(i,u){this.i=i,this.root=u||dr.EMPTY}return l.prototype.ot=function(i,u){return new l(this.i,this.root.ot(i,u,this.i).copy(null,null,dr.at,null,null))},l.prototype.remove=function(i){return new l(this.i,this.root.remove(i,this.i).copy(null,null,dr.at,null,null))},l.prototype.get=function(i){for(var u=this.root;!u.m();){var p=this.i(i,u.key);if(0===p)return u.value;p<0?u=u.left:p>0&&(u=u.right)}return null},l.prototype.indexOf=function(i){for(var u=0,p=this.root;!p.m();){var _=this.i(i,p.key);if(0===_)return u+p.left.size;_<0?p=p.left:(u+=p.left.size+1,p=p.right)}return-1},l.prototype.m=function(){return this.root.m()},Object.defineProperty(l.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),l.prototype.ct=function(){return this.root.ct()},l.prototype.ut=function(){return this.root.ut()},l.prototype.ht=function(i){return this.root.ht(i)},l.prototype.forEach=function(i){this.ht(function(u,p){return i(u,p),!1})},l.prototype.toString=function(){var i=[];return this.ht(function(u,p){return i.push(u+":"+p),!1}),"{"+i.join(", ")+"}"},l.prototype.lt=function(i){return this.root.lt(i)},l.prototype._t=function(){return new li(this.root,null,this.i,!1)},l.prototype.ft=function(i){return new li(this.root,i,this.i,!1)},l.prototype.dt=function(){return new li(this.root,null,this.i,!0)},l.prototype.wt=function(i){return new li(this.root,i,this.i,!0)},l}(),li=function(){function l(i,u,p,_){this.Tt=_,this.Et=[];for(var I=1;!i.m();)if(I=u?p(i.key,u):1,_&&(I*=-1),I<0)i=this.Tt?i.left:i.right;else{if(0===I){this.Et.push(i);break}this.Et.push(i),i=this.Tt?i.right:i.left}}return l.prototype.It=function(){var i=this.Et.pop(),u={key:i.key,value:i.value};if(this.Tt)for(i=i.left;!i.m();)this.Et.push(i),i=i.right;else for(i=i.right;!i.m();)this.Et.push(i),i=i.left;return u},l.prototype.At=function(){return this.Et.length>0},l.prototype.Rt=function(){if(0===this.Et.length)return null;var i=this.Et[this.Et.length-1];return{key:i.key,value:i.value}},l}(),dr=function(){function l(i,u,p,_,I){this.key=i,this.value=u,this.color=null!=p?p:l.RED,this.left=null!=_?_:l.EMPTY,this.right=null!=I?I:l.EMPTY,this.size=this.left.size+1+this.right.size}return l.prototype.copy=function(i,u,p,_,I){return new l(null!=i?i:this.key,null!=u?u:this.value,null!=p?p:this.color,null!=_?_:this.left,null!=I?I:this.right)},l.prototype.m=function(){return!1},l.prototype.ht=function(i){return this.left.ht(i)||i(this.key,this.value)||this.right.ht(i)},l.prototype.lt=function(i){return this.right.lt(i)||i(this.key,this.value)||this.left.lt(i)},l.prototype.min=function(){return this.left.m()?this:this.left.min()},l.prototype.ct=function(){return this.min().key},l.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},l.prototype.ot=function(i,u,p){var _=this,I=p(i,_.key);return(_=I<0?_.copy(null,null,null,_.left.ot(i,u,p),null):0===I?_.copy(null,u,null,null,null):_.copy(null,null,null,null,_.right.ot(i,u,p))).gt()},l.prototype.Pt=function(){if(this.left.m())return l.EMPTY;var i=this;return i.left.yt()||i.left.left.yt()||(i=i.Vt()),(i=i.copy(null,null,null,i.left.Pt(),null)).gt()},l.prototype.remove=function(i,u){var p,_=this;if(u(i,_.key)<0)_.left.m()||_.left.yt()||_.left.left.yt()||(_=_.Vt()),_=_.copy(null,null,null,_.left.remove(i,u),null);else{if(_.left.yt()&&(_=_.bt()),_.right.m()||_.right.yt()||_.right.left.yt()||(_=_.vt()),0===u(i,_.key)){if(_.right.m())return l.EMPTY;p=_.right.min(),_=_.copy(p.key,p.value,null,null,_.right.Pt())}_=_.copy(null,null,null,null,_.right.remove(i,u))}return _.gt()},l.prototype.yt=function(){return this.color},l.prototype.gt=function(){var i=this;return i.right.yt()&&!i.left.yt()&&(i=i.St()),i.left.yt()&&i.left.left.yt()&&(i=i.bt()),i.left.yt()&&i.right.yt()&&(i=i.Dt()),i},l.prototype.Vt=function(){var i=this.Dt();return i.right.left.yt()&&(i=(i=(i=i.copy(null,null,null,null,i.right.bt())).St()).Dt()),i},l.prototype.vt=function(){var i=this.Dt();return i.left.left.yt()&&(i=(i=i.bt()).Dt()),i},l.prototype.St=function(){var i=this.copy(null,null,l.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)},l.prototype.bt=function(){var i=this.copy(null,null,l.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)},l.prototype.Dt=function(){var i=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,u)},l.prototype.Ct=function(){var i=this.Nt();return Math.pow(2,i)<=this.size+1},l.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw ke();var i=this.left.Nt();if(i!==this.right.Nt())throw ke();return i+(this.yt()?0:1)},l}();dr.EMPTY=null,dr.RED=!0,dr.at=!1,dr.EMPTY=new(function(){function l(){this.size=0}return Object.defineProperty(l.prototype,"key",{get:function(){throw ke()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"value",{get:function(){throw ke()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"color",{get:function(){throw ke()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"left",{get:function(){throw ke()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"right",{get:function(){throw ke()},enumerable:!1,configurable:!0}),l.prototype.copy=function(i,u,p,_,I){return this},l.prototype.ot=function(i,u,p){return new dr(i,u)},l.prototype.remove=function(i,u){return this},l.prototype.m=function(){return!0},l.prototype.ht=function(i){return!1},l.prototype.lt=function(i){return!1},l.prototype.ct=function(){return null},l.prototype.ut=function(){return null},l.prototype.yt=function(){return!1},l.prototype.Ct=function(){return!0},l.prototype.Nt=function(){return 0},l}());var pr=function(){function l(i){this.i=i,this.data=new tr(this.i)}return l.prototype.has=function(i){return null!==this.data.get(i)},l.prototype.first=function(){return this.data.ct()},l.prototype.last=function(){return this.data.ut()},Object.defineProperty(l.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),l.prototype.indexOf=function(i){return this.data.indexOf(i)},l.prototype.forEach=function(i){this.data.ht(function(u,p){return i(u),!1})},l.prototype.Ft=function(i,u){for(var p=this.data.ft(i[0]);p.At();){var _=p.It();if(this.i(_.key,i[1])>=0)return;u(_.key)}},l.prototype.xt=function(i,u){var p;for(p=void 0!==u?this.data.ft(u):this.data._t();p.At();)if(!i(p.It().key))return},l.prototype.$t=function(i){var u=this.data.ft(i);return u.At()?u.It().key:null},l.prototype._t=function(){return new Ni(this.data._t())},l.prototype.ft=function(i){return new Ni(this.data.ft(i))},l.prototype.add=function(i){return this.copy(this.data.remove(i).ot(i,!0))},l.prototype.delete=function(i){return this.has(i)?this.copy(this.data.remove(i)):this},l.prototype.m=function(){return this.data.m()},l.prototype.kt=function(i){var u=this;return u.size<i.size&&(u=i,i=this),i.forEach(function(p){u=u.add(p)}),u},l.prototype.isEqual=function(i){if(!(i instanceof l)||this.size!==i.size)return!1;for(var u=this.data._t(),p=i.data._t();u.At();){var _=u.It().key,I=p.It().key;if(0!==this.i(_,I))return!1}return!0},l.prototype.A=function(){var i=[];return this.forEach(function(u){i.push(u)}),i},l.prototype.toString=function(){var i=[];return this.forEach(function(u){return i.push(u)}),"SortedSet("+i.toString()+")"},l.prototype.copy=function(i){var u=new l(this.i);return u.data=i,u},l}(),Ni=function(){function l(i){this.Mt=i}return l.prototype.It=function(){return this.Mt.It().key},l.prototype.At=function(){return this.Mt.At()},l}(),ii=new tr(A.i);function oi(){return ii}function Pi(){return oi()}var xe=new tr(A.i);function ht(){return xe}var Et=new tr(A.i),Lt=new pr(A.i);function Dt(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];for(var u=Lt,p=0,_=l;p<_.length;p++){var I=_[p];u=u.add(I)}return u}var Ft=new pr(cn);function sn(){return Ft}var bn=function(){function l(i){this.i=i?function(u,p){return i(u,p)||A.i(u.key,p.key)}:function(u,p){return A.i(u.key,p.key)},this.Ot=ht(),this.Lt=new tr(this.i)}return l.Bt=function(i){return new l(i.i)},l.prototype.has=function(i){return null!=this.Ot.get(i)},l.prototype.get=function(i){return this.Ot.get(i)},l.prototype.first=function(){return this.Lt.ct()},l.prototype.last=function(){return this.Lt.ut()},l.prototype.m=function(){return this.Lt.m()},l.prototype.indexOf=function(i){var u=this.Ot.get(i);return u?this.Lt.indexOf(u):-1},Object.defineProperty(l.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),l.prototype.forEach=function(i){this.Lt.ht(function(u,p){return i(u),!1})},l.prototype.add=function(i){var u=this.delete(i.key);return u.copy(u.Ot.ot(i.key,i),u.Lt.ot(i,null))},l.prototype.delete=function(i){var u=this.get(i);return u?this.copy(this.Ot.remove(i),this.Lt.remove(u)):this},l.prototype.isEqual=function(i){if(!(i instanceof l)||this.size!==i.size)return!1;for(var u=this.Lt._t(),p=i.Lt._t();u.At();){var _=u.It().key,I=p.It().key;if(!_.isEqual(I))return!1}return!0},l.prototype.toString=function(){var i=[];return this.forEach(function(u){i.push(u.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"},l.prototype.copy=function(i,u){var p=new l;return p.i=this.i,p.Ot=i,p.Lt=u,p},l}(),Dn=function(){function l(){this.qt=new tr(A.i)}return l.prototype.track=function(i){var u=i.doc.key,p=this.qt.get(u);p?0!==i.type&&3===p.type?this.qt=this.qt.ot(u,i):3===i.type&&1!==p.type?this.qt=this.qt.ot(u,{type:p.type,doc:i.doc}):2===i.type&&2===p.type?this.qt=this.qt.ot(u,{type:2,doc:i.doc}):2===i.type&&0===p.type?this.qt=this.qt.ot(u,{type:0,doc:i.doc}):1===i.type&&0===p.type?this.qt=this.qt.remove(u):1===i.type&&2===p.type?this.qt=this.qt.ot(u,{type:1,doc:p.doc}):0===i.type&&1===p.type?this.qt=this.qt.ot(u,{type:2,doc:i.doc}):ke():this.qt=this.qt.ot(u,i)},l.prototype.Ut=function(){var i=[];return this.qt.ht(function(u,p){i.push(p)}),i},l}(),Wt=function(){function l(i,u,p,_,I,R,U,J){this.query=i,this.docs=u,this.Qt=p,this.docChanges=_,this.Wt=I,this.fromCache=R,this.jt=U,this.Kt=J}return l.Gt=function(i,u,p,_){var I=[];return u.forEach(function(R){I.push({type:0,doc:R})}),new l(i,u,bn.Bt(u),I,p,_,!0,!1)},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(i){if(!(this.fromCache===i.fromCache&&this.jt===i.jt&&this.Wt.isEqual(i.Wt)&&Si(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.Qt.isEqual(i.Qt)))return!1;var u=this.docChanges,p=i.docChanges;if(u.length!==p.length)return!1;for(var _=0;_<u.length;_++)if(u[_].type!==p[_].type||!u[_].doc.isEqual(p[_].doc))return!1;return!0},l}(),Nn=function(){function l(i,u,p,_,I){this.nt=i,this.zt=u,this.Ht=p,this.Yt=_,this.Jt=I}return l.Xt=function(i,u){var p=new Map;return p.set(i,ar.Zt(i,u)),new l(Sn.min(),p,sn(),oi(),Dt())},l}(),ar=function(){function l(i,u,p,_,I){this.resumeToken=i,this.te=u,this.ee=p,this.ne=_,this.se=I}return l.Zt=function(i,u){return new l(_t.B,u,Dt(),Dt(),Dt())},l}(),hr=function(l,i,u,p){this.ie=l,this.removedTargetIds=i,this.key=u,this.re=p},Jn=function(l,i){this.targetId=l,this.oe=i},gn=function(l,i,u,p){void 0===u&&(u=_t.B),void 0===p&&(p=null),this.state=l,this.targetIds=i,this.resumeToken=u,this.cause=p},Ie=function(){function l(){this.ae=0,this.ce=nt(),this.ue=_t.B,this.he=!1,this.le=!0}return Object.defineProperty(l.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),l.prototype.de=function(i){i.O()>0&&(this.le=!0,this.ue=i)},l.prototype.we=function(){var i=Dt(),u=Dt(),p=Dt();return this.ce.forEach(function(_,I){switch(I){case 0:i=i.add(_);break;case 2:u=u.add(_);break;case 1:p=p.add(_);break;default:ke()}}),new ar(this.ue,this.he,i,u,p)},l.prototype.me=function(){this.le=!1,this.ce=nt()},l.prototype.Te=function(i,u){this.le=!0,this.ce=this.ce.ot(i,u)},l.prototype.Ee=function(i){this.le=!0,this.ce=this.ce.remove(i)},l.prototype.Ie=function(){this.ae+=1},l.prototype.Ae=function(){this.ae-=1},l.prototype.Re=function(){this.le=!0,this.he=!0},l}(),Se=function(){function l(i){this.ge=i,this.Pe=new Map,this.ye=oi(),this.Ve=je(),this.pe=new pr(cn)}return l.prototype.be=function(i){for(var u=0,p=i.ie;u<p.length;u++){var _=p[u];i.re instanceof Rn?this.ve(_,i.re):i.re instanceof Ci&&this.Se(_,i.key,i.re)}for(var I=0,R=i.removedTargetIds;I<R.length;I++)this.Se(R[I],i.key,i.re)},l.prototype.De=function(i){var u=this;this.Ce(i,function(p){var _=u.Ne(p);switch(i.state){case 0:u.Fe(p)&&_.de(i.resumeToken);break;case 1:_.Ae(),_._e||_.me(),_.de(i.resumeToken);break;case 2:_.Ae(),_._e||u.removeTarget(p);break;case 3:u.Fe(p)&&(_.Re(),_.de(i.resumeToken));break;case 4:u.Fe(p)&&(u.xe(p),_.de(i.resumeToken));break;default:ke()}})},l.prototype.Ce=function(i,u){var p=this;i.targetIds.length>0?i.targetIds.forEach(u):this.Pe.forEach(function(_,I){p.Fe(I)&&u(I)})},l.prototype.$e=function(i){var u=i.targetId,p=i.oe.count,_=this.ke(u);if(_){var I=_.target;if(Yt(I))if(0===p){var R=new A(I.path);this.Se(u,R,new Ci(R,Sn.min()))}else He(1===p);else this.Me(u)!==p&&(this.xe(u),this.pe=this.pe.add(u))}},l.prototype.Oe=function(i){var u=this,p=new Map;this.Pe.forEach(function(R,U){var J=u.ke(U);if(J){if(R.te&&Yt(J.target)){var he=new A(J.target.path);null!==u.ye.get(he)||u.Le(U,he)||u.Se(U,he,new Ci(he,i))}R.fe&&(p.set(U,R.we()),R.me())}});var _=Dt();this.Ve.forEach(function(R,U){var J=!0;U.xt(function(he){var Ne=u.ke(he);return!Ne||2===Ne.et||(J=!1,!1)}),J&&(_=_.add(R))});var I=new Nn(i,p,this.pe,this.ye,_);return this.ye=oi(),this.Ve=je(),this.pe=new pr(cn),I},l.prototype.ve=function(i,u){if(this.Fe(i)){var p=this.Le(i,u.key)?2:0;this.Ne(i).Te(u.key,p),this.ye=this.ye.ot(u.key,u),this.Ve=this.Ve.ot(u.key,this.Be(u.key).add(i))}},l.prototype.Se=function(i,u,p){if(this.Fe(i)){var _=this.Ne(i);this.Le(i,u)?_.Te(u,1):_.Ee(u),this.Ve=this.Ve.ot(u,this.Be(u).delete(i)),p&&(this.ye=this.ye.ot(u,p))}},l.prototype.removeTarget=function(i){this.Pe.delete(i)},l.prototype.Me=function(i){var u=this.Ne(i).we();return this.ge.qe(i).size+u.ee.size-u.se.size},l.prototype.Ie=function(i){this.Ne(i).Ie()},l.prototype.Ne=function(i){var u=this.Pe.get(i);return u||(u=new Ie,this.Pe.set(i,u)),u},l.prototype.Be=function(i){var u=this.Ve.get(i);return u||(u=new pr(cn),this.Ve=this.Ve.ot(i,u)),u},l.prototype.Fe=function(i){var u=null!==this.ke(i);return u||Te("WatchChangeAggregator","Detected inactive target",i),u},l.prototype.ke=function(i){var u=this.Pe.get(i);return u&&u._e?null:this.ge.Ue(i)},l.prototype.xe=function(i){var u=this;this.Pe.set(i,new Ie),this.ge.qe(i).forEach(function(p){u.Se(i,p,null)})},l.prototype.Le=function(i,u){return this.ge.qe(i).has(u)},l}();function je(){return new tr(A.i)}function nt(){return new tr(A.i)}function ue(l){var i,u;return"server_timestamp"===(null===(u=((null===(i=null==l?void 0:l.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===u?void 0:u.stringValue)}function H(l){var i=l.mapValue.fields.__previous_value__;return ue(i)?H(i):i}function oe(l){var i=vn(l.mapValue.fields.__local_write_time__.timestampValue);return new Un(i.seconds,i.nanos)}var Ee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Be(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?ue(l)?4:10:ke()}function Me(l,i){var _,u=Be(l);if(u!==Be(i))return!1;switch(u){case 0:return!0;case 1:return l.booleanValue===i.booleanValue;case 4:return oe(l).isEqual(oe(i));case 3:return function(p,_){if("string"==typeof p.timestampValue&&"string"==typeof _.timestampValue&&p.timestampValue.length===_.timestampValue.length)return p.timestampValue===_.timestampValue;var I=vn(p.timestampValue),R=vn(_.timestampValue);return I.seconds===R.seconds&&I.nanos===R.nanos}(l,i);case 5:return l.stringValue===i.stringValue;case 6:return _=i,nr(l.bytesValue).isEqual(nr(_.bytesValue));case 7:return l.referenceValue===i.referenceValue;case 8:return function(p,_){return br(p.geoPointValue.latitude)===br(_.geoPointValue.latitude)&&br(p.geoPointValue.longitude)===br(_.geoPointValue.longitude)}(l,i);case 2:return function(p,_){if("integerValue"in p&&"integerValue"in _)return br(p.integerValue)===br(_.integerValue);if("doubleValue"in p&&"doubleValue"in _){var I=br(p.doubleValue),R=br(_.doubleValue);return I===R?st(I)===st(R):isNaN(I)&&isNaN(R)}return!1}(l,i);case 9:return Zt(l.arrayValue.values||[],i.arrayValue.values||[],Me);case 10:return function(p,_){var I=p.mapValue.fields||{},R=_.mapValue.fields||{};if(Pt(I)!==Pt(R))return!1;for(var U in I)if(I.hasOwnProperty(U)&&(void 0===R[U]||!Me(I[U],R[U])))return!1;return!0}(l,i);default:return ke()}}function ut(l,i){return void 0!==(l.values||[]).find(function(u){return Me(u,i)})}function Jt(l,i){var _,I,R,U,u=Be(l),p=Be(i);if(u!==p)return cn(u,p);switch(u){case 0:return 0;case 1:return cn(l.booleanValue,i.booleanValue);case 2:return I=i,(R=br((_=l).integerValue||_.doubleValue))<(U=br(I.integerValue||I.doubleValue))?-1:R>U?1:R===U?0:isNaN(R)?isNaN(U)?0:-1:1;case 3:return ln(l.timestampValue,i.timestampValue);case 4:return ln(oe(l),oe(i));case 5:return cn(l.stringValue,i.stringValue);case 6:return function(_,I){var R=nr(_),U=nr(I);return R.L(U)}(l.bytesValue,i.bytesValue);case 7:return function(_,I){for(var R=_.split("/"),U=I.split("/"),J=0;J<R.length&&J<U.length;J++){var he=cn(R[J],U[J]);if(0!==he)return he}return cn(R.length,U.length)}(l.referenceValue,i.referenceValue);case 8:return function(_,I){var R=cn(br(_.latitude),br(I.latitude));return 0!==R?R:cn(br(_.longitude),br(I.longitude))}(l.geoPointValue,i.geoPointValue);case 9:return function(_,I){for(var R=_.values||[],U=I.values||[],J=0;J<R.length&&J<U.length;++J){var he=Jt(R[J],U[J]);if(he)return he}return cn(R.length,U.length)}(l.arrayValue,i.arrayValue);case 10:return function(_,I){var R=_.fields||{},U=Object.keys(R),J=I.fields||{},he=Object.keys(J);U.sort(),he.sort();for(var Ne=0;Ne<U.length&&Ne<he.length;++Ne){var Ze=cn(U[Ne],he[Ne]);if(0!==Ze)return Ze;var Xe=Jt(R[U[Ne]],J[he[Ne]]);if(0!==Xe)return Xe}return cn(U.length,he.length)}(l.mapValue,i.mapValue);default:throw ke()}}function ln(l,i){if("string"==typeof l&&"string"==typeof i&&l.length===i.length)return cn(l,i);var u=vn(l),p=vn(i),_=cn(u.seconds,p.seconds);return 0!==_?_:cn(u.nanos,p.nanos)}function qn(l){return An(l)}function An(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?"time("+(_=vn(l.timestampValue)).seconds+","+_.nanos+")":"stringValue"in l?l.stringValue:"bytesValue"in l?nr(l.bytesValue).toBase64():"referenceValue"in l?A.C(l.referenceValue).toString():"geoPointValue"in l?"geo("+(i=l.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in l?function(p){for(var _="[",I=!0,R=0,U=p.values||[];R<U.length;R++)I?I=!1:_+=",",_+=An(U[R]);return _+"]"}(l.arrayValue):"mapValue"in l?function(p){for(var _="{",I=!0,R=0,U=Object.keys(p.fields||{}).sort();R<U.length;R++){var J=U[R];I?I=!1:_+=",",_+=J+":"+An(p.fields[J])}return _+"}"}(l.mapValue):ke();var _,i}function vn(l){if(He(!!l),"string"==typeof l){var i=0,u=Ee.exec(l);if(He(!!u),u[1]){var p=u[1];p=(p+"000000000").substr(0,9),i=Number(p)}var _=new Date(l);return{seconds:Math.floor(_.getTime()/1e3),nanos:i}}return{seconds:br(l.seconds),nanos:br(l.nanos)}}function br(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function nr(l){return"string"==typeof l?_t.fromBase64String(l):_t.fromUint8Array(l)}function vr(l,i){return{referenceValue:"projects/"+l.projectId+"/databases/"+l.database+"/documents/"+i.path.R()}}function or(l){return!!l&&"integerValue"in l}function Vs(l){return!!l&&"arrayValue"in l}function qi(l){return!!l&&"nullValue"in l}function ko(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Yi(l){return!!l&&"mapValue"in l}var ps={asc:"ASCENDING",desc:"DESCENDING"},Ao={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mi=function(l,i){this.U=l,this.Qe=i};function Zi(l){return{integerValue:""+l}}function xi(l,i){if(l.Qe){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:st(i)?"-0":i}}function vi(l,i){return ve(i)?Zi(i):xi(l,i)}function rs(l,i){return l.Qe?new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+i.nanoseconds).slice(-9)+"Z":{seconds:""+i.seconds,nanos:i.nanoseconds}}function yo(l,i){return l.Qe?i.toBase64():i.toUint8Array()}function Mi(l,i){return rs(l,i.Z())}function yi(l){return He(!!l),Sn.J((u=vn(l),new Un(u.seconds,u.nanos)));var u}function ki(l,i){return(u=l,new Rt(["projects",u.projectId,"databases",u.database])).child("documents").child(i).R();var u}function si(l){var i=Rt.g(l);return He(js(i)),i}function Fi(l,i){return ki(l.U,i.path)}function Qn(l,i){var u=si(i);return He(u.get(1)===l.U.projectId),He(!u.get(3)&&!l.U.database||u.get(3)===l.U.database),new A(lo(u))}function ji(l,i){return ki(l.U,i)}function Wo(l){var i=si(l);return 4===i.length?Rt.P():lo(i)}function $r(l){return new Rt(["projects",l.U.projectId,"databases",l.U.database]).R()}function lo(l){return He(l.length>4&&"documents"===l.get(4)),l.u(5)}function Us(l,i,u){return{name:Fi(l,i),fields:u.proto.mapValue.fields}}function co(l,i){var u,_;if(i instanceof Cn)u={update:Us(l,i.key,i.value)};else if(i instanceof Er)u={delete:Fi(l,i.key)};else if(i instanceof xn)u={update:Us(l,i.key,i.data),updateMask:_o(i.We)};else if(i instanceof wr)u={transform:{document:Fi(l,i.key),fieldTransforms:i.fieldTransforms.map(function(p){return function(_,I){var R=I.transform;if(R instanceof ao)return{fieldPath:I.field.R(),setToServerValue:"REQUEST_TIME"};if(R instanceof Y)return{fieldPath:I.field.R(),appendMissingElements:{values:R.elements}};if(R instanceof ge)return{fieldPath:I.field.R(),removeAllFromArray:{values:R.elements}};if(R instanceof Ue)return{fieldPath:I.field.R(),increment:R.je};throw ke()}(0,p)})}};else{if(!(i instanceof ci))return ke();u={verify:Fi(l,i.key)}}return i.Ge.Ke||(u.currentDocument=void 0!==(_=i.Ge).updateTime?{updateTime:Mi(l,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:ke()),u}function zn(l,i){var Ne,u=i.currentDocument?void 0!==(Ne=i.currentDocument).updateTime?En.updateTime(yi(Ne.updateTime)):void 0!==Ne.exists?En.exists(Ne.exists):En.ze():En.ze();if(i.update){var p=Qn(l,i.update.name),_=new fi({mapValue:{fields:i.update.fields}});if(i.updateMask){var I=function(Ne){return new Xt((Ne.fieldPaths||[]).map(function(Xe){return F.S(Xe)}))}(i.updateMask);return new xn(p,_,I,u)}return new Cn(p,_,u)}if(i.delete){var R=Qn(l,i.delete);return new Er(R,u)}if(i.transform){var U=Qn(l,i.transform.document),J=i.transform.fieldTransforms.map(function(Ne){return function(Ze,Xe){var yt=null;"setToServerValue"in Xe?(He("REQUEST_TIME"===Xe.setToServerValue),yt=new ao):"appendMissingElements"in Xe?yt=new Y(Xe.appendMissingElements.values||[]):"removeAllFromArray"in Xe?yt=new ge(Xe.removeAllFromArray.values||[]):"increment"in Xe?yt=new Ue(Ze,Xe.increment):ke();var Kn=F.S(Xe.fieldPath);return new qt(Kn,yt)}(l,Ne)});return He(!0===u.exists),new wr(U,J)}if(i.verify){var he=Qn(l,i.verify);return new ci(he,u)}return ke()}function fr(l,i){return{documents:[ji(l,i.path)]}}function Xs(l,i){var u={structuredQuery:{}},p=i.path;null!==i.collectionGroup?(u.parent=ji(l,p),u.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(u.parent=ji(l,p.h()),u.structuredQuery.from=[{collectionId:p._()}]);var _=function(U){if(0!==U.length){var J=U.map(function(he){return function(Ne){if("=="===Ne.op){if(ko(Ne.value))return{unaryFilter:{field:Bi(Ne.field),op:"IS_NAN"}};if(qi(Ne.value))return{unaryFilter:{field:Bi(Ne.field),op:"IS_NULL"}}}else if("!="===Ne.op){if(ko(Ne.value))return{unaryFilter:{field:Bi(Ne.field),op:"IS_NOT_NAN"}};if(qi(Ne.value))return{unaryFilter:{field:Bi(Ne.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bi(Ne.field),op:Ji(Ne.op),value:Ne.value}}}(he)});return 1===J.length?J[0]:{compositeFilter:{op:"AND",filters:J}}}}(i.filters);_&&(u.structuredQuery.where=_);var I=function(U){if(0!==U.length)return U.map(function(J){return{field:Bi((he=J).field),direction:gr(he.dir)};var he})}(i.orderBy);I&&(u.structuredQuery.orderBy=I);var J,R=(J=i.limit,l.Qe||Yr(J)?J:{value:J});return null!==R&&(u.structuredQuery.limit=R),i.startAt&&(u.structuredQuery.startAt=oo(i.startAt)),i.endAt&&(u.structuredQuery.endAt=oo(i.endAt)),u}function io(l){var i=Wo(l.parent),u=l.structuredQuery,p=u.from?u.from.length:0,_=null;if(p>0){He(1===p);var I=u.from[0];I.allDescendants?_=I.collectionId:i=i.child(I.collectionId)}var R=[];u.where&&(R=Fo(u.where));var U=[];u.orderBy&&(U=u.orderBy.map(function(Ze){return new As(so((Xe=Ze).field),function(yt){switch(yt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Xe.direction));var Xe}));var Ze,Xe,J=null;u.limit&&(J=Yr(Xe="object"==typeof(Ze=u.limit)?Ze.value:Ze)?null:Xe);var he=null;u.startAt&&(he=Lo(u.startAt));var Ne=null;return u.endAt&&(Ne=Lo(u.endAt)),Hi(au(i,_,U,R,J,"F",he,Ne))}function Fo(l){return l?void 0!==l.unaryFilter?[Vo(l)]:void 0!==l.fieldFilter?[is(l)]:void 0!==l.compositeFilter?l.compositeFilter.filters.map(function(i){return Fo(i)}).reduce(function(i,u){return i.concat(u)}):ke():[]}function oo(l){return{before:l.before,values:l.position}}function Lo(l){return new ss(l.values||[],!!l.before)}function gr(l){return ps[l]}function Ji(l){return Ao[l]}function Bi(l){return{fieldPath:l.R()}}function so(l){return F.S(l.fieldPath)}function is(l){return Ar.create(so(l.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ke()}}(l.fieldFilter.op),l.fieldFilter.value)}function Vo(l){switch(l.unaryFilter.op){case"IS_NAN":var i=so(l.unaryFilter.field);return Ar.create(i,"==",{doubleValue:NaN});case"IS_NULL":var u=so(l.unaryFilter.field);return Ar.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var p=so(l.unaryFilter.field);return Ar.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var _=so(l.unaryFilter.field);return Ar.create(_,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ke()}}function _o(l){var i=[];return l.fields.forEach(function(u){return i.push(u.R())}),{fieldPaths:i}}function js(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}var Hr=function(){this.He=void 0};function $o(l,i,u){return l instanceof ao?(I={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(p=u).seconds,nanos:p.nanoseconds}}}},(_=i)&&(I.fields.__previous_value__=_),{mapValue:I}):l instanceof Y?$(l,i):l instanceof ge?Pe(l,i):function(p,_){var I=Bs(p,_),R=ot(I)+ot(p.je);return or(I)&&or(p.je)?Zi(R):xi(p.serializer,R)}(l,i);var p,_,I}function wo(l,i,u){return l instanceof Y?$(l,i):l instanceof ge?Pe(l,i):u}function Bs(l,i){return l instanceof Ue?or(u=i)||(p=u)&&"doubleValue"in p?i:{integerValue:0}:null;var p,u}var ao=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return k.__extends(i,l),i}(Hr),Y=function(l){function i(u){var p=this;return(p=l.call(this)||this).elements=u,p}return k.__extends(i,l),i}(Hr);function $(l,i){for(var u=xt(i),p=function(R){u.some(function(U){return Me(U,R)})||u.push(R)},_=0,I=l.elements;_<I.length;_++)p(I[_]);return{arrayValue:{values:u}}}var ge=function(l){function i(u){var p=this;return(p=l.call(this)||this).elements=u,p}return k.__extends(i,l),i}(Hr);function Pe(l,i){for(var u=xt(i),p=function(R){u=u.filter(function(U){return!Me(U,R)})},_=0,I=l.elements;_<I.length;_++)p(I[_]);return{arrayValue:{values:u}}}var Ue=function(l){function i(u,p){var _=this;return(_=l.call(this)||this).serializer=u,_.je=p,_}return k.__extends(i,l),i}(Hr);function ot(l){return br(l.integerValue||l.doubleValue)}function xt(l){return Vs(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}var Xt=function(){function l(i){this.fields=i,i.sort(F.i)}return l.prototype.Ye=function(i){for(var u=0,p=this.fields;u<p.length;u++)if(p[u].T(i))return!0;return!1},l.prototype.isEqual=function(i){return Zt(this.fields,i.fields,function(u,p){return u.isEqual(p)})},l}(),qt=function(l,i){this.field=l,this.transform=i},dn=function(l,i){this.version=l,this.transformResults=i},En=function(){function l(i,u){this.updateTime=i,this.exists=u}return l.ze=function(){return new l},l.exists=function(i){return new l(void 0,i)},l.updateTime=function(i){return new l(i)},Object.defineProperty(l.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)},l}();function q(l,i){return void 0!==l.updateTime?i instanceof Rn&&i.version.isEqual(l.updateTime):void 0===l.exists||l.exists===i instanceof Rn}var se=function(){};function z(l,i,u){return l instanceof Cn?new Rn((p=l).key,u.version,p.value,{hasCommittedMutations:!0}):l instanceof xn?function(p,_,I){if(!q(p.Ge,_))return new Ti(p.key,I.version);var R=yr(p,_);return new Rn(p.key,I.version,R,{hasCommittedMutations:!0})}(l,i,u):l instanceof wr?function(p,_,I){if(He(null!=I.transformResults),!q(p.Ge,_))return new Ti(p.key,I.version);var R=ur(0,_),U=function(Ne,Ze,Xe){var yt=[];He(Ne.length===Xe.length);for(var kt=0;kt<Xe.length;kt++){var Kt=Ne[kt],Kn=Kt.transform,Gn=null;Ze instanceof Rn&&(Gn=Ze.field(Kt.field)),yt.push(wo(Kn,Gn,Xe[kt]))}return yt}(p.fieldTransforms,_,I.transformResults),J=I.version,he=sr(p,R.data(),U);return new Rn(p.key,J,he,{hasCommittedMutations:!0})}(l,i,u):function(p,_,I){return new Ci(p.key,I.version,{hasCommittedMutations:!0})}(l,0,u);var p}function de(l,i,u,p){return l instanceof Cn?function(_,I){if(!q(_.Ge,I))return I;var R=en(I);return new Rn(_.key,R,_.value,{Je:!0})}(l,i):l instanceof xn?function(_,I){if(!q(_.Ge,I))return I;var R=en(I),U=yr(_,I);return new Rn(_.key,R,U,{Je:!0})}(l,i):l instanceof wr?function(_,I,R,U){if(!q(_.Ge,I))return I;var J=ur(0,I),he=function(Ze,Xe,yt,kt){for(var Kt=[],Kn=0,Gn=Ze;Kn<Gn.length;Kn++){var lr=Gn[Kn],Cr=lr.transform,Rr=null;yt instanceof Rn&&(Rr=yt.field(lr.field)),null===Rr&&kt instanceof Rn&&(Rr=kt.field(lr.field)),Kt.push($o(Cr,Rr,Xe))}return Kt}(_.fieldTransforms,R,I,U),Ne=sr(_,J.data(),he);return new Rn(_.key,J.version,Ne,{Je:!0})}(l,i,p,u):q((_=l).Ge,I=i)?new Ci(_.key,Sn.min()):I;var _,I}function Fe(l,i){return l instanceof wr?function(u,p){for(var _=null,I=0,R=u.fieldTransforms;I<R.length;I++){var U=R[I],J=p instanceof Rn?p.field(U.field):void 0,he=Bs(U.transform,J||null);null!=he&&(_=null==_?(new _i).set(U.field,he):_.set(U.field,he))}return _?_.Xe():null}(l,i):null}function At(l,i){return l.type===i.type&&!!l.key.isEqual(i.key)&&!!l.Ge.isEqual(i.Ge)&&(0===l.type?l.value.isEqual(i.value):1===l.type?l.data.isEqual(i.data)&&l.We.isEqual(i.We):2!==l.type||Zt(l.fieldTransforms,l.fieldTransforms,function(u,p){return(_=u).field.isEqual((I=p).field)&&(U=I.transform,(R=_.transform)instanceof Y&&U instanceof Y||R instanceof ge&&U instanceof ge?Zt(R.elements,U.elements,Me):R instanceof Ue&&U instanceof Ue?Me(R.je,U.je):R instanceof ao&&U instanceof ao);var _,I,R,U}))}function en(l){return l instanceof Rn?l.version:Sn.min()}var Cn=function(l){function i(u,p,_){var I=this;return(I=l.call(this)||this).key=u,I.value=p,I.Ge=_,I.type=0,I}return k.__extends(i,l),i}(se),xn=function(l){function i(u,p,_,I){var R=this;return(R=l.call(this)||this).key=u,R.data=p,R.We=_,R.Ge=I,R.type=1,R}return k.__extends(i,l),i}(se);function yr(l,i){return u=l,p=i instanceof Rn?i.data():fi.empty(),_=new _i(p),u.We.fields.forEach(function(I){if(!I.m()){var R=u.data.field(I);null!==R?_.set(I,R):_.delete(I)}}),_.Xe();var u,p,_}var wr=function(l){function i(u,p){var _=this;return(_=l.call(this)||this).key=u,_.fieldTransforms=p,_.type=2,_.Ge=En.exists(!0),_}return k.__extends(i,l),i}(se);function ur(l,i){return i}function sr(l,i,u){for(var p=new _i(i),_=0;_<l.fieldTransforms.length;_++)p.set(l.fieldTransforms[_].field,u[_]);return p.Xe()}var Er=function(l){function i(u,p){var _=this;return(_=l.call(this)||this).key=u,_.Ge=p,_.type=3,_}return k.__extends(i,l),i}(se),ci=function(l){function i(u,p){var _=this;return(_=l.call(this)||this).key=u,_.Ge=p,_.type=4,_}return k.__extends(i,l),i}(se),fi=function(){function l(i){this.proto=i}return l.empty=function(){return new l({mapValue:{}})},l.prototype.field=function(i){if(i.m())return this.proto;for(var u=this.proto,p=0;p<i.length-1;++p)if(!u.mapValue.fields||!Yi(u=u.mapValue.fields[i.get(p)]))return null;return(u=(u.mapValue.fields||{})[i._()])||null},l.prototype.isEqual=function(i){return Me(this.proto,i.proto)},l}(),_i=function(){function l(i){void 0===i&&(i=fi.empty()),this.Ze=i,this.tn=new Map}return l.prototype.set=function(i,u){return this.en(i,u),this},l.prototype.delete=function(i){return this.en(i,null),this},l.prototype.en=function(i,u){for(var p=this.tn,_=0;_<i.length-1;++_){var I=i.get(_),R=p.get(I);R instanceof Map?p=R:R&&10===Be(R)?(R=new Map(Object.entries(R.mapValue.fields||{})),p.set(I,R),p=R):(R=new Map,p.set(I,R),p=R)}p.set(i._(),u)},l.prototype.Xe=function(){var i=this.nn(F.P(),this.tn);return null!=i?new fi(i):this.Ze},l.prototype.nn=function(i,u){var p=this,_=!1,I=this.Ze.field(i),R=Yi(I)?Object.assign({},I.mapValue.fields):{};return u.forEach(function(U,J){if(U instanceof Map){var he=p.nn(i.child(J),U);null!=he&&(R[J]=he,_=!0)}else null!==U?(R[J]=U,_=!0):R.hasOwnProperty(J)&&(delete R[J],_=!0)}),_?{mapValue:{fields:R}}:null},l}();function gs(l){var i=[];return Ut(l.fields||{},function(u,p){var _=new F([u]);if(Yi(p)){var I=gs(p.mapValue).fields;if(0===I.length)i.push(_);else for(var R=0,U=I;R<U.length;R++)i.push(_.child(U[R]))}else i.push(_)}),new Xt(i)}var Gr=function(l,i){this.key=l,this.version=i},Rn=function(l){function i(u,p,_,I){var R=this;return(R=l.call(this,u,p)||this).sn=_,R.Je=!!I.Je,R.hasCommittedMutations=!!I.hasCommittedMutations,R}return k.__extends(i,l),i.prototype.field=function(u){return this.sn.field(u)},i.prototype.data=function(){return this.sn},i.prototype.rn=function(){return this.sn.proto},i.prototype.isEqual=function(u){return u instanceof i&&this.key.isEqual(u.key)&&this.version.isEqual(u.version)&&this.Je===u.Je&&this.hasCommittedMutations===u.hasCommittedMutations&&this.sn.isEqual(u.sn)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i}(Gr),Ci=function(l){function i(u,p,_){var I=this;return(I=l.call(this,u,p)||this).hasCommittedMutations=!(!_||!_.hasCommittedMutations),I}return k.__extends(i,l),i.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(u){return u instanceof i&&u.hasCommittedMutations===this.hasCommittedMutations&&u.version.isEqual(this.version)&&u.key.isEqual(this.key)},i}(Gr),Ti=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return k.__extends(i,l),i.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(u){return u instanceof i&&u.version.isEqual(this.version)&&u.key.isEqual(this.key)},i}(Gr),zo=function(l,i,u,p,_,I,R,U){void 0===i&&(i=null),void 0===u&&(u=[]),void 0===p&&(p=[]),void 0===_&&(_=null),void 0===I&&(I="F"),void 0===R&&(R=null),void 0===U&&(U=null),this.path=l,this.collectionGroup=i,this.on=u,this.filters=p,this.limit=_,this.an=I,this.startAt=R,this.endAt=U,this.cn=null,this.un=null};function au(l,i,u,p,_,I,R,U){return new zo(l,i,u,p,_,I,R,U)}function Ko(l){return new zo(l)}function va(l){return!Yr(l.limit)&&"F"===l.an}function Uo(l){return!Yr(l.limit)&&"L"===l.an}function on(l){return l.on.length>0?l.on[0].field:null}function Mr(l){for(var i=0,u=l.filters;i<u.length;i++){var p=u[i];if(p.hn())return p.field}return null}function ms(l){return null!==l.collectionGroup}function qr(l){var i=qe(l);if(null===i.cn){i.cn=[];var u=Mr(i),p=on(i);if(null!==u&&null===p)u.p()||i.cn.push(new As(u)),i.cn.push(new As(F.v(),"asc"));else{for(var _=!1,I=0,R=i.on;I<R.length;I++){var U=R[I];i.cn.push(U),U.field.p()&&(_=!0)}if(!_){var J=i.on.length>0?i.on[i.on.length-1].dir:"asc";i.cn.push(new As(F.v(),J))}}}return i.cn}function Hi(l){var i=qe(l);if(!i.un)if("F"===i.an)i.un=Ct(i.path,i.collectionGroup,qr(i),i.filters,i.limit,i.startAt,i.endAt);else{for(var u=[],p=0,_=qr(i);p<_.length;p++){var I=_[p];u.push(new As(I.field,"desc"===I.dir?"asc":"desc"))}var U=i.endAt?new ss(i.endAt.position,!i.endAt.before):null,J=i.startAt?new ss(i.startAt.position,!i.startAt.before):null;i.un=Ct(i.path,i.collectionGroup,u,i.filters,i.limit,U,J)}return i.un}function bo(l,i,u){return new zo(l.path,l.collectionGroup,l.on.slice(),l.filters.slice(),i,u,l.startAt,l.endAt)}function Eo(l,i){return new zo(l.path,l.collectionGroup,l.on.slice(),l.filters.slice(),l.limit,l.an,i,l.endAt)}function Fa(l,i){return new zo(l.path,l.collectionGroup,l.on.slice(),l.filters.slice(),l.limit,l.an,l.startAt,i)}function Si(l,i){return fn(Hi(l),Hi(i))&&l.an===i.an}function ea(l){return lt(Hi(l))+"|lt:"+l.an}function Qo(l){return"Query(target="+(u=(i=Hi(l)).path.R(),null!==i.collectionGroup&&(u+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(u+=", filters: ["+i.filters.map(function(p){return(_=p).field.R()+" "+_.op+" "+qn(_.value);var _}).join(", ")+"]"),Yr(i.limit)||(u+=", limit: "+i.limit),i.orderBy.length>0&&(u+=", orderBy: ["+i.orderBy.map(function(p){return(_=p).field.R()+" ("+_.dir+")";var _}).join(", ")+"]"),i.startAt&&(u+=", startAt: "+Yo(i.startAt)),i.endAt&&(u+=", endAt: "+Yo(i.endAt)),"Target("+u+"); limitType=")+l.an+")";var i,u}function fo(l,i){return _=(p=i).key.path,(null!==(u=l).collectionGroup?p.key.N(u.collectionGroup)&&u.path.T(_):A.F(u.path)?u.path.isEqual(_):u.path.I(_))&&function(u,p){for(var _=0,I=u.on;_<I.length;_++){var R=I[_];if(!R.field.p()&&null===p.field(R.field))return!1}return!0}(l,i)&&function(u,p){for(var _=0,I=u.filters;_<I.length;_++)if(!I[_].matches(p))return!1;return!0}(l,i)&&function(u,p){return!(u.startAt&&!vs(u.startAt,qr(u),p)||u.endAt&&vs(u.endAt,qr(u),p))}(l,i);var u,p,_}function bi(l){return function(i,u){for(var p=!1,_=0,I=qr(l);_<I.length;_++){var R=I[_],U=_s(R,i,u);if(0!==U)return U;p=p||R.field.p()}return 0}}var Ar=function(l){function i(u,p,_){var I=this;return(I=l.call(this)||this).field=u,I.op=p,I.value=_,I}return k.__extends(i,l),i.create=function(u,p,_){if(u.p())return"in"===p||"not-in"===p?this.ln(u,p,_):new wi(u,p,_);if(qi(_)){if("=="!==p&&"!="!==p)throw new Q(ae.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new i(u,p,_)}if(ko(_)){if("=="!==p&&"!="!==p)throw new Q(ae.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new i(u,p,_)}return"array-contains"===p?new Uu(u,_):"in"===p?new _a(u,_):"not-in"===p?new wa(u,_):"array-contains-any"===p?new La(u,_):new i(u,p,_)},i.ln=function(u,p,_){return"in"===p?new ya(u,_):new os(u,_)},i.prototype.matches=function(u){var p=u.field(this.field);return"!="===this.op?null!==p&&this._n(Jt(p,this.value)):null!==p&&Be(this.value)===Be(p)&&this._n(Jt(p,this.value))},i.prototype._n=function(u){switch(this.op){case"<":return u<0;case"<=":return u<=0;case"==":return 0===u;case"!=":return 0!==u;case">":return u>0;case">=":return u>=0;default:return ke()}},i.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},i}(function(){}),wi=function(l){function i(u,p,_){var I=this;return(I=l.call(this,u,p,_)||this).key=A.C(_.referenceValue),I}return k.__extends(i,l),i.prototype.matches=function(u){var p=A.i(u.key,this.key);return this._n(p)},i}(Ar),ya=function(l){function i(u,p){var _=this;return(_=l.call(this,u,"in",p)||this).keys=Xi(0,p),_}return k.__extends(i,l),i.prototype.matches=function(u){return this.keys.some(function(p){return p.isEqual(u.key)})},i}(Ar),os=function(l){function i(u,p){var _=this;return(_=l.call(this,u,"not-in",p)||this).keys=Xi(0,p),_}return k.__extends(i,l),i.prototype.matches=function(u){return!this.keys.some(function(p){return p.isEqual(u.key)})},i}(Ar);function Xi(l,i){var u;return((null===(u=i.arrayValue)||void 0===u?void 0:u.values)||[]).map(function(p){return A.C(p.referenceValue)})}var Uu=function(l){function i(u,p){return l.call(this,u,"array-contains",p)||this}return k.__extends(i,l),i.prototype.matches=function(u){var p=u.field(this.field);return Vs(p)&&ut(p.arrayValue,this.value)},i}(Ar),_a=function(l){function i(u,p){return l.call(this,u,"in",p)||this}return k.__extends(i,l),i.prototype.matches=function(u){var p=u.field(this.field);return null!==p&&ut(this.value.arrayValue,p)},i}(Ar),wa=function(l){function i(u,p){return l.call(this,u,"not-in",p)||this}return k.__extends(i,l),i.prototype.matches=function(u){if(ut(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var p=u.field(this.field);return null!==p&&!ut(this.value.arrayValue,p)},i}(Ar),La=function(l){function i(u,p){return l.call(this,u,"array-contains-any",p)||this}return k.__extends(i,l),i.prototype.matches=function(u){var p=this,_=u.field(this.field);return!(!Vs(_)||!_.arrayValue.values)&&_.arrayValue.values.some(function(I){return ut(p.value.arrayValue,I)})},i}(Ar),ss=function(l,i){this.position=l,this.before=i};function Yo(l){return(l.before?"b":"a")+":"+l.position.map(function(i){return qn(i)}).join(",")}function vs(l,i,u){for(var p=0,_=0;_<l.position.length;_++){var I=i[_],R=l.position[_];if(p=I.field.p()?A.i(A.C(R.referenceValue),u.key):Jt(R,u.field(I.field)),"desc"===I.dir&&(p*=-1),0!==p)break}return l.before?p<=0:p<0}function ys(l,i){if(null===l)return null===i;if(null===i||l.before!==i.before||l.position.length!==i.position.length)return!1;for(var u=0;u<l.position.length;u++)if(!Me(l.position[u],i.position[u]))return!1;return!0}var As=function(l,i){void 0===i&&(i="asc"),this.field=l,this.dir=i};function _s(l,i,u){var _,R,U,J,p=l.field.p()?A.i(i.key,u.key):(R=u,U=i.field(_=l.field),J=R.field(_),null!==U&&null!==J?Jt(U,J):ke());switch(l.dir){case"asc":return p;case"desc":return-1*p;default:return ke()}}function Hs(l,i){return l.dir===i.dir&&l.field.isEqual(i.field)}var Qr=function(){var l=this;this.promise=new Promise(function(i,u){l.resolve=i,l.reject=u})},Va=function(){function l(i,u,p,_,I){void 0===p&&(p=1e3),void 0===_&&(_=1.5),void 0===I&&(I=6e4),this.fn=i,this.dn=u,this.wn=p,this.mn=_,this.Tn=I,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return l.prototype.reset=function(){this.En=0},l.prototype.Rn=function(){this.En=this.Tn},l.prototype.gn=function(i){var u=this;this.cancel();var p=Math.floor(this.En+this.Pn()),_=Math.max(0,Date.now()-this.An),I=Math.max(0,p-_);I>0&&Te("ExponentialBackoff","Backing off for "+I+" ms (base delay: "+this.En+" ms, delay with jitter: "+p+" ms, last attempt: "+_+" ms ago)"),this.In=this.fn.yn(this.dn,I,function(){return u.An=Date.now(),i()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},l.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},l.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},l.prototype.Pn=function(){return(Math.random()-.5)*this.En},l}(),mn=function(){function l(i){var u=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,i(function(p){u.Sn=!0,u.result=p,u.bn&&u.bn(p)},function(p){u.Sn=!0,u.error=p,u.vn&&u.vn(p)})}return l.prototype.catch=function(i){return this.next(void 0,i)},l.prototype.next=function(i,u){var p=this;return this.Dn&&ke(),this.Dn=!0,this.Sn?this.error?this.Cn(u,this.error):this.Nn(i,this.result):new l(function(_,I){p.bn=function(R){p.Nn(i,R).next(_,I)},p.vn=function(R){p.Cn(u,R).next(_,I)}})},l.prototype.Fn=function(){var i=this;return new Promise(function(u,p){i.next(u,p)})},l.prototype.xn=function(i){try{var u=i();return u instanceof l?u:l.resolve(u)}catch(p){return l.reject(p)}},l.prototype.Nn=function(i,u){return i?this.xn(function(){return i(u)}):l.resolve(u)},l.prototype.Cn=function(i,u){return i?this.xn(function(){return i(u)}):l.reject(u)},l.resolve=function(i){return new l(function(u,p){u(i)})},l.reject=function(i){return new l(function(u,p){p(i)})},l.$n=function(i){return new l(function(u,p){var _=0,I=0,R=!1;i.forEach(function(U){++_,U.next(function(){++I,R&&I===_&&u()},function(J){return p(J)})}),R=!0,I===_&&u()})},l.kn=function(i){for(var u=l.resolve(!1),p=function(R){u=u.next(function(U){return U?l.resolve(U):R()})},_=0,I=i;_<I.length;_++)p(I[_]);return u},l.forEach=function(i,u){var p=this,_=[];return i.forEach(function(I,R){_.push(u.call(p,I,R))}),this.$n(_)},l}(),Zr=function(){function l(i,u,p){this.name=i,this.version=u,this.Mn=p,12.2===l.On(mt.getUA())&&wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return l.delete=function(i){return Te("SimpleDb","Removing database:",i),ei(window.indexedDB.deleteDatabase(i)).Fn()},l.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(l.Bn())return!0;var i=mt.getUA(),u=l.On(i),p=0<u&&u<10,_=l.qn(i),I=0<_&&_<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||p||I)},l.Bn=function(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Un)},l.Qn=function(i,u){return i.store(u)},l.On=function(i){var u=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),p=u?u[1].split("_").slice(0,2).join("."):"-1";return Number(p)},l.qn=function(i){var u=i.match(/Android ([\d.]+)/i),p=u?u[1].split(".").slice(0,2).join("."):"-1";return Number(p)},l.prototype.Wn=function(i){return k.__awaiter(this,void 0,void 0,function(){var u,p=this;return k.__generator(this,function(_){switch(_.label){case 0:return this.db?[3,2]:(Te("SimpleDb","Opening database:",this.name),u=this,[4,new Promise(function(I,R){var U=indexedDB.open(p.name,p.version);U.onsuccess=function(J){I(J.target.result)},U.onblocked=function(){R(new ba(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},U.onerror=function(J){var he=J.target.error;R("VersionError"===he.name?new Q(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ba(i,he))},U.onupgradeneeded=function(J){Te("SimpleDb",'Database "'+p.name+'" requires upgrade from version:',J.oldVersion),p.Mn.createOrUpgrade(J.target.result,U.transaction,J.oldVersion,p.version).next(function(){Te("SimpleDb","Database upgrade to version "+p.version+" complete")})}})]);case 1:u.db=_.sent(),_.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(I){return p.jn(I)}),this.db)]}})})},l.prototype.Kn=function(i){this.jn=i,this.db&&(this.db.onversionchange=function(u){return i(u)})},l.prototype.runTransaction=function(i,u,p,_){return k.__awaiter(this,void 0,void 0,function(){var I,R,U,J,he;return k.__generator(this,function(Ne){switch(Ne.label){case 0:I="readonly"===u,R=0,U=function(){var Ze,Xe,yt,kt,Kt;return k.__generator(this,function(Kn){switch(Kn.label){case 0:++R,Kn.label=1;case 1:return Kn.trys.push([1,4,,5]),[4,J.Wn(i)];case 2:return J.db=Kn.sent(),Ze=hi.open(J.db,i,I?"readonly":"readwrite",p),Xe=_(Ze).catch(function(Gn){return Ze.abort(Gn),mn.reject(Gn)}).Fn(),yt={},Xe.catch(function(){}),[4,Ze.Gn];case 3:return[2,(yt.value=(Kn.sent(),Xe),yt)];case 4:return Te("SimpleDb","Transaction failed with error:",(kt=Kn.sent()).message,"Retrying:",Kt="FirebaseError"!==kt.name&&R<3),J.close(),Kt?[3,5]:[2,{value:Promise.reject(kt)}];case 5:return[2]}})},J=this,Ne.label=1;case 1:return[5,U()];case 2:if("object"==typeof(he=Ne.sent()))return[2,he.value];Ne.label=3;case 3:return[3,1];case 4:return[2]}})})},l.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},l}(),Gs=function(){function l(i){this.zn=i,this.Hn=!1,this.Yn=null}return Object.defineProperty(l.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cursor",{set:function(i){this.zn=i},enumerable:!1,configurable:!0}),l.prototype.done=function(){this.Hn=!0},l.prototype.Xn=function(i){this.Yn=i},l.prototype.delete=function(){return ei(this.zn.delete())},l}(),ba=function(l){function i(u,p){var _=this;return(_=l.call(this,ae.UNAVAILABLE,"IndexedDB transaction '"+u+"' failed: "+p)||this).name="IndexedDbTransactionError",_}return k.__extends(i,l),i}(Q);function Ns(l){return"IndexedDbTransactionError"===l.name}var hi=function(){function l(i,u){var p=this;this.action=i,this.transaction=u,this.aborted=!1,this.Zn=new Qr,this.transaction.oncomplete=function(){p.Zn.resolve()},this.transaction.onabort=function(){u.error?p.Zn.reject(new ba(i,u.error)):p.Zn.resolve()},this.transaction.onerror=function(_){var I=C(_.target.error);p.Zn.reject(new ba(i,I))}}return l.open=function(i,u,p,_){try{return new l(u,i.transaction(_,p))}catch(I){throw new ba(u,I)}},Object.defineProperty(l.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),l.prototype.abort=function(i){i&&this.Zn.reject(i),this.aborted||(Te("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},l.prototype.store=function(i){var u=this.transaction.objectStore(i);return new Rs(u)},l}(),Rs=function(){function l(i){this.store=i}return l.prototype.put=function(i,u){var p;return void 0!==u?(Te("SimpleDb","PUT",this.store.name,i,u),p=this.store.put(u,i)):(Te("SimpleDb","PUT",this.store.name,"<auto-key>",i),p=this.store.put(i)),ei(p)},l.prototype.add=function(i){return Te("SimpleDb","ADD",this.store.name,i,i),ei(this.store.add(i))},l.prototype.get=function(i){var u=this;return ei(this.store.get(i)).next(function(p){return void 0===p&&(p=null),Te("SimpleDb","GET",u.store.name,i,p),p})},l.prototype.delete=function(i){return Te("SimpleDb","DELETE",this.store.name,i),ei(this.store.delete(i))},l.prototype.count=function(){return Te("SimpleDb","COUNT",this.store.name),ei(this.store.count())},l.prototype.ts=function(i,u){var p=this.cursor(this.options(i,u)),_=[];return this.es(p,function(I,R){_.push(R)}).next(function(){return _})},l.prototype.ns=function(i,u){Te("SimpleDb","DELETE ALL",this.store.name);var p=this.options(i,u);p.ss=!1;var _=this.cursor(p);return this.es(_,function(I,R,U){return U.delete()})},l.prototype.rs=function(i,u){var p;u?p=i:(p={},u=i);var _=this.cursor(p);return this.es(_,u)},l.prototype.os=function(i){var u=this.cursor({});return new mn(function(p,_){u.onerror=function(I){var R=C(I.target.error);_(R)},u.onsuccess=function(I){var R=I.target.result;R?i(R.primaryKey,R.value).next(function(U){U?R.continue():p()}):p()}})},l.prototype.es=function(i,u){var p=[];return new mn(function(_,I){i.onerror=function(R){I(R.target.error)},i.onsuccess=function(R){var U=R.target.result;if(U){var J=new Gs(U),he=u(U.primaryKey,U.value,J);if(he instanceof mn){var Ne=he.catch(function(Ze){return J.done(),mn.reject(Ze)});p.push(Ne)}J.Sn?_():null===J.Jn?U.continue():U.continue(J.Jn)}else _()}}).next(function(){return mn.$n(p)})},l.prototype.options=function(i,u){var p=void 0;return void 0!==i&&("string"==typeof i?p=i:u=i),{index:p,range:u}},l.prototype.cursor=function(i){var u="next";if(i.reverse&&(u="prev"),i.index){var p=this.store.index(i.index);return i.ss?p.openKeyCursor(i.range,u):p.openCursor(i.range,u)}return this.store.openCursor(i.range,u)},l}();function ei(l){return new mn(function(i,u){l.onsuccess=function(p){i(p.target.result)},l.onerror=function(p){var _=C(p.target.error);u(_)}})}var Ii=!1;function C(l){var i=Zr.On(mt.getUA());if(i>=12.2&&i<13){var u="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(u)>=0){var p=new Q("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+u+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ii||(Ii=!0,setTimeout(function(){throw p},0)),p}}return l}function j(){return"undefined"!=typeof window?window:null}function X(){return"undefined"!=typeof document?document:null}var be=function(){function l(i,u,p,_,I){this.cs=i,this.dn=u,this.us=p,this.op=_,this.hs=I,this.ls=new Qr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(R){})}return l._s=function(i,u,p,_,I){var R=new l(i,u,Date.now()+p,_,I);return R.start(p),R},l.prototype.start=function(i){var u=this;this.fs=setTimeout(function(){return u.ds()},i)},l.prototype.pn=function(){return this.ds()},l.prototype.cancel=function(i){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new Q(ae.CANCELLED,"Operation cancelled"+(i?": "+i:""))))},l.prototype.ds=function(){var i=this;this.cs.ws(function(){return null!==i.fs?(i.clearTimeout(),i.op().then(function(u){return i.ls.resolve(u)})):Promise.resolve()})},l.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},l}(),rt=function(){function l(){var i=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new Va(this,"async_queue_retry"),this.Vs=function(){var p=X();p&&Te("AsyncQueue","Visibility state changed to  ",p.visibilityState),i.ys.Vn()};var u=X();u&&"function"==typeof u.addEventListener&&u.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(l.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),l.prototype.ws=function(i){this.enqueue(i)},l.prototype.bs=function(i){this.vs(),this.Ss(i)},l.prototype.Ds=function(){if(!this.Is){this.Is=!0;var i=X();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vs)}},l.prototype.enqueue=function(i){return this.vs(),this.Is?new Promise(function(u){}):this.Ss(i)},l.prototype.Cs=function(i){var u=this;this.ws(function(){return u.Es.push(i),u.Ns()})},l.prototype.Ns=function(){return k.__awaiter(this,void 0,void 0,function(){var i,u=this;return k.__generator(this,function(p){switch(p.label){case 0:if(0===this.Es.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return p.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Ns(i=p.sent()))throw i;return Te("AsyncQueue","Operation failed with retryable error: "+i),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return u.Ns()}),p.label=5;case 5:return[2]}})})},l.prototype.Ss=function(i){var u=this,p=this.Ts.then(function(){return u.gs=!0,i().catch(function(_){throw u.Rs=_,u.gs=!1,wt("INTERNAL UNHANDLED ERROR: ",(R=(I=_).message||"",I.stack&&(R=I.stack.includes(I.message)?I.stack:I.message+"\n"+I.stack),R)),_;var I,R}).then(function(_){return u.gs=!1,_})});return this.Ts=p,p},l.prototype.yn=function(i,u,p){var _=this;this.vs(),this.Ps.indexOf(i)>-1&&(u=0);var I=be._s(this,i,u,p,function(R){return _.Fs(R)});return this.As.push(I),I},l.prototype.vs=function(){this.Rs&&ke()},l.prototype.xs=function(){},l.prototype.$s=function(){return k.__awaiter(this,void 0,void 0,function(){var i;return k.__generator(this,function(u){switch(u.label){case 0:return[4,i=this.Ts];case 1:u.sent(),u.label=2;case 2:if(i!==this.Ts)return[3,0];u.label=3;case 3:return[2]}})})},l.prototype.ks=function(i){for(var u=0,p=this.As;u<p.length;u++)if(p[u].dn===i)return!0;return!1},l.prototype.Ms=function(i){var u=this;return this.$s().then(function(){u.As.sort(function(R,U){return R.us-U.us});for(var p=0,_=u.As;p<_.length;p++){var I=_[p];if(I.pn(),"all"!==i&&I.dn===i)break}return u.$s()})},l.prototype.Os=function(i){this.Ps.push(i)},l.prototype.Fs=function(i){var u=this.As.indexOf(i);this.As.splice(u,1)},l}();function St(l,i){if(wt("AsyncQueue",i+": "+l),Ns(l))return new Q(ae.UNAVAILABLE,i+": "+l);throw l}var kn=function(){this.Ls=void 0,this.listeners=[]},kr=function(){this.Bs=new Bn(function(l){return ea(l)},Si),this.onlineState="Unknown",this.qs=new Set};function Nr(l,i){return k.__awaiter(this,void 0,void 0,function(){var u,p,_,I,R,U,J;return k.__generator(this,function(he){switch(he.label){case 0:if(u=qe(l),_=!1,(I=u.Bs.get(p=i.query))||(_=!0,I=new kn),!_)return[3,4];he.label=1;case 1:return he.trys.push([1,3,,4]),R=I,[4,u.Us(p)];case 2:return R.Ls=he.sent(),[3,4];case 3:return U=he.sent(),J=St(U,"Initialization of query '"+Qo(i.query)+"' failed"),[2,void i.onError(J)];case 4:return u.Bs.set(p,I),I.listeners.push(i),i.Qs(u.onlineState),I.Ls&&i.Ws(I.Ls)&&Li(u),[2]}})})}function eo(l,i){return k.__awaiter(this,void 0,void 0,function(){var u,p,_,I,R;return k.__generator(this,function(U){return u=qe(l),_=!1,(I=u.Bs.get(p=i.query))&&(R=I.listeners.indexOf(i))>=0&&(I.listeners.splice(R,1),_=0===I.listeners.length),_?[2,(u.Bs.delete(p),u.js(p))]:[2]})})}function No(l,i){for(var u=qe(l),p=!1,_=0,I=i;_<I.length;_++){var R=I[_],J=u.Bs.get(R.query);if(J){for(var he=0,Ne=J.listeners;he<Ne.length;he++)Ne[he].Ws(R)&&(p=!0);J.Ls=R}}p&&Li(u)}function to(l,i,u){var p=qe(l),_=p.Bs.get(i);if(_)for(var I=0,R=_.listeners;I<R.length;I++)R[I].onError(u);p.Bs.delete(i)}function Li(l){l.qs.forEach(function(i){i.next()})}var Os=function(){function l(i,u,p){this.query=i,this.Ks=u,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=p||{}}return l.prototype.Ws=function(i){if(!this.options.includeMetadataChanges){for(var u=[],p=0,_=i.docChanges;p<_.length;p++){var I=_[p];3!==I.type&&u.push(I)}i=new Wt(i.query,i.docs,i.Qt,u,i.Wt,i.fromCache,i.jt,!0)}var R=!1;return this.Gs?this.Hs(i)&&(this.Ks.next(i),R=!0):this.Ys(i,this.onlineState)&&(this.Js(i),R=!0),this.zs=i,R},l.prototype.onError=function(i){this.Ks.error(i)},l.prototype.Qs=function(i){this.onlineState=i;var u=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,i)&&(this.Js(this.zs),u=!0),u},l.prototype.Ys=function(i,u){return!i.fromCache||!(this.options.Xs&&"Offline"!==u||i.docs.m()&&"Offline"!==u)},l.prototype.Hs=function(i){return i.docChanges.length>0||!!(i.jt||this.zs&&this.zs.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges},l.prototype.Js=function(i){i=Wt.Gt(i.query,i.docs,i.Wt,i.fromCache),this.Gs=!0,this.Ks.next(i)},l}(),ti=function(){function l(i){this.uid=i}return l.prototype.Zs=function(){return null!=this.uid},l.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},l.prototype.isEqual=function(i){return i.uid===this.uid},l}();ti.UNAUTHENTICATED=new ti(null),ti.ei=new ti("google-credentials-uid"),ti.ni=new ti("first-party-uid");var ni=function(){function l(i,u){var p=this;this.previousValue=i,u&&(u.si=function(_){return p.ii(_)},this.ri=function(_){return u.oi(_)})}return l.prototype.ii=function(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue},l.prototype.next=function(){var i=++this.previousValue;return this.ri&&this.ri(i),i},l}();function Ua(l,i){return"firestore_clients_"+l+"_"+i}function yf(l,i,u){var p="firestore_mutations_"+l+"_"+u;return i.Zs()&&(p+="_"+i.uid),p}function uu(l,i){return"firestore_targets_"+l+"_"+i}ni.ai=-1;var _f=function(){function l(i,u,p,_){this.user=i,this.batchId=u,this.state=p,this.error=_}return l.ci=function(i,u,p){var _=JSON.parse(p),I="object"==typeof _&&-1!==["pending","acknowledged","rejected"].indexOf(_.state)&&(void 0===_.error||"object"==typeof _.error),R=void 0;return I&&_.error&&(I="string"==typeof _.error.message&&"string"==typeof _.error.code)&&(R=new Q(_.error.code,_.error.message)),I?new l(i,u,_.state,R):(wt("SharedClientState","Failed to parse mutation state for ID '"+u+"': "+p),null)},l.prototype.ui=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},l}(),lu=function(){function l(i,u,p){this.targetId=i,this.state=u,this.error=p}return l.ci=function(i,u){var p=JSON.parse(u),_="object"==typeof p&&-1!==["not-current","current","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error),I=void 0;return _&&p.error&&(_="string"==typeof p.error.message&&"string"==typeof p.error.code)&&(I=new Q(p.error.code,p.error.message)),_?new l(i,p.state,I):(wt("SharedClientState","Failed to parse target state for ID '"+i+"': "+u),null)},l.prototype.ui=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},l}(),Ea=function(){function l(i,u){this.clientId=i,this.activeTargetIds=u}return l.ci=function(i,u){for(var p=JSON.parse(u),_="object"==typeof p&&p.activeTargetIds instanceof Array,I=sn(),R=0;_&&R<p.activeTargetIds.length;++R)_=ve(p.activeTargetIds[R]),I=I.add(p.activeTargetIds[R]);return _?new l(i,I):(wt("SharedClientState","Failed to parse client data for instance '"+i+"': "+u),null)},l}(),cu=function(){function l(i,u){this.clientId=i,this.onlineState=u}return l.ci=function(i){var u=JSON.parse(i);return"object"==typeof u&&-1!==["Unknown","Online","Offline"].indexOf(u.onlineState)&&"string"==typeof u.clientId?new l(u.clientId,u.onlineState):(wt("SharedClientState","Failed to parse online state: "+i),null)},l}(),Wi=function(){function l(){this.activeTargetIds=sn()}return l.prototype.hi=function(i){this.activeTargetIds=this.activeTargetIds.add(i)},l.prototype.li=function(i){this.activeTargetIds=this.activeTargetIds.delete(i)},l.prototype.ui=function(){var i={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(i)},l}(),ai=function(){function l(i,u,p,_,I){this.window=i,this.fn=u,this.persistenceKey=p,this._i=_,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new tr(cn),this.Ei=!1,this.Ii=[];var R=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=I,this.Ai=Ua(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new Wi),this.gi=new RegExp("^firestore_clients_"+R+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+R+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+R+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return l.Ln=function(i){return!(!i||!i.localStorage)},l.prototype.start=function(){return k.__awaiter(this,void 0,void 0,function(){var i,u,p,_,I,R,U,J,he,Ne,Xe=this;return k.__generator(this,function(yt){switch(yt.label){case 0:return[4,this.fi.pi()];case 1:for(i=yt.sent(),u=0,p=i;u<p.length;u++)(_=p[u])!==this._i&&(I=this.getItem(Ua(this.persistenceKey,_)))&&(R=Ea.ci(_,I))&&(this.Ti=this.Ti.ot(R.clientId,R));for(this.bi(),(U=this.storage.getItem(this.Vi))&&(J=this.vi(U))&&this.Si(J),he=0,Ne=this.Ii;he<Ne.length;he++)this.mi(Ne[he]);return this.Ii=[],this.window.addEventListener("unload",function(){return Xe.Di()}),this.Ei=!0,[2]}})})},l.prototype.oi=function(i){this.setItem(this.Ri,JSON.stringify(i))},l.prototype.Ci=function(){return this.Ni(this.Ti)},l.prototype.Fi=function(i){var u=!1;return this.Ti.forEach(function(p,_){_.activeTargetIds.has(i)&&(u=!0)}),u},l.prototype.xi=function(i){this.$i(i,"pending")},l.prototype.ki=function(i,u,p){this.$i(i,u,p),this.Mi(i)},l.prototype.Oi=function(i){var u="not-current";if(this.Fi(i)){var p=this.storage.getItem(uu(this.persistenceKey,i));if(p){var _=lu.ci(i,p);_&&(u=_.state)}}return this.Li.hi(i),this.bi(),u},l.prototype.Bi=function(i){this.Li.li(i),this.bi()},l.prototype.qi=function(i){return this.Li.activeTargetIds.has(i)},l.prototype.Ui=function(i){this.removeItem(uu(this.persistenceKey,i))},l.prototype.Qi=function(i,u,p){this.Wi(i,u,p)},l.prototype.ji=function(i,u,p){var _=this;u.forEach(function(I){_.Mi(I)}),this.currentUser=i,p.forEach(function(I){_.xi(I)})},l.prototype.Ki=function(i){this.Gi(i)},l.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},l.prototype.getItem=function(i){var u=this.storage.getItem(i);return Te("SharedClientState","READ",i,u),u},l.prototype.setItem=function(i,u){Te("SharedClientState","SET",i,u),this.storage.setItem(i,u)},l.prototype.removeItem=function(i){Te("SharedClientState","REMOVE",i),this.storage.removeItem(i)},l.prototype.mi=function(i){var u=this,p=i;if(p.storageArea===this.storage){if(Te("SharedClientState","EVENT",p.key,p.newValue),p.key===this.Ai)return void wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return k.__awaiter(u,void 0,void 0,function(){var _,I,R,U,J,he;return k.__generator(this,function(Ne){if(this.Ei){if(null!==p.key)if(this.gi.test(p.key)){if(null==p.newValue)return _=this.zi(p.key),[2,this.Hi(_,null)];if(I=this.Yi(p.key,p.newValue))return[2,this.Hi(I.clientId,I)]}else if(this.Pi.test(p.key)){if(null!==p.newValue&&(R=this.Ji(p.key,p.newValue)))return[2,this.Xi(R)]}else if(this.yi.test(p.key)){if(null!==p.newValue&&(U=this.Zi(p.key,p.newValue)))return[2,this.tr(U)]}else if(p.key===this.Vi){if(null!==p.newValue&&(J=this.vi(p.newValue)))return[2,this.Si(J)]}else p.key===this.Ri&&(he=function(Ze){var Xe=ni.ai;if(null!=Ze)try{var yt=JSON.parse(Ze);He("number"==typeof yt),Xe=yt}catch(kt){wt("SharedClientState","Failed to read sequence number from WebStorage",kt)}return Xe}(p.newValue))!==ni.ai&&this.si(he)}else this.Ii.push(p);return[2]})})})}},Object.defineProperty(l.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),l.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},l.prototype.$i=function(i,u,p){var _=new _f(this.currentUser,i,u,p),I=yf(this.persistenceKey,this.currentUser,i);this.setItem(I,_.ui())},l.prototype.Mi=function(i){var u=yf(this.persistenceKey,this.currentUser,i);this.removeItem(u)},l.prototype.Gi=function(i){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:i}))},l.prototype.Wi=function(i,u,p){var _=uu(this.persistenceKey,i),I=new lu(i,u,p);this.setItem(_,I.ui())},l.prototype.zi=function(i){var u=this.gi.exec(i);return u?u[1]:null},l.prototype.Yi=function(i,u){var p=this.zi(i);return Ea.ci(p,u)},l.prototype.Ji=function(i,u){var p=this.Pi.exec(i),_=Number(p[1]);return _f.ci(new ti(void 0!==p[2]?p[2]:null),_,u)},l.prototype.Zi=function(i,u){var p=this.yi.exec(i),_=Number(p[1]);return lu.ci(_,u)},l.prototype.vi=function(i){return cu.ci(i)},l.prototype.Xi=function(i){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(u){return i.user.uid===this.currentUser.uid?[2,this.fi.er(i.batchId,i.state,i.error)]:(Te("SharedClientState","Ignoring mutation for non-active user "+i.user.uid),[2])})})},l.prototype.tr=function(i){return this.fi.nr(i.targetId,i.state,i.error)},l.prototype.Hi=function(i,u){var p=this,_=u?this.Ti.ot(i,u):this.Ti.remove(i),I=this.Ni(this.Ti),R=this.Ni(_),U=[],J=[];return R.forEach(function(he){I.has(he)||U.push(he)}),I.forEach(function(he){R.has(he)||J.push(he)}),this.fi.sr(U,J).then(function(){p.Ti=_})},l.prototype.Si=function(i){this.Ti.get(i.clientId)&&this.di(i.onlineState)},l.prototype.Ni=function(i){var u=sn();return i.forEach(function(p,_){u=u.kt(_.activeTargetIds)}),u},l}(),ja=function(){function l(){this.ir=new Wi,this.rr={},this.di=null,this.si=null}return l.prototype.xi=function(i){},l.prototype.ki=function(i,u,p){},l.prototype.Oi=function(i){return this.ir.hi(i),this.rr[i]||"not-current"},l.prototype.Qi=function(i,u,p){this.rr[i]=u},l.prototype.Bi=function(i){this.ir.li(i)},l.prototype.qi=function(i){return this.ir.activeTargetIds.has(i)},l.prototype.Ui=function(i){delete this.rr[i]},l.prototype.Ci=function(){return this.ir.activeTargetIds},l.prototype.Fi=function(i){return this.ir.activeTargetIds.has(i)},l.prototype.start=function(){return this.ir=new Wi,Promise.resolve()},l.prototype.ji=function(i,u,p){},l.prototype.Ki=function(i){},l.prototype.Di=function(){},l.prototype.oi=function(i){},l}(),as=function(){function l(i,u,p,_){this.batchId=i,this.ar=u,this.baseMutations=p,this.mutations=_}return l.prototype.cr=function(i,u,p){for(var _=p.ur,I=0;I<this.mutations.length;I++){var R=this.mutations[I];R.key.isEqual(i)&&(u=z(R,u,_[I]))}return u},l.prototype.hr=function(i,u){for(var p=0,_=this.baseMutations;p<_.length;p++){var I=_[p];I.key.isEqual(i)&&(u=de(I,u,u,this.ar))}for(var R=u,U=0,J=this.mutations;U<J.length;U++){var he=J[U];he.key.isEqual(i)&&(u=de(he,u,R,this.ar))}return u},l.prototype.lr=function(i){var u=this,p=i;return this.mutations.forEach(function(_){var I=u.hr(_.key,i.get(_.key));I&&(p=p.ot(_.key,I))}),p},l.prototype.keys=function(){return this.mutations.reduce(function(i,u){return i.add(u.key)},Dt())},l.prototype.isEqual=function(i){return this.batchId===i.batchId&&Zt(this.mutations,i.mutations,function(u,p){return At(u,p)})&&Zt(this.baseMutations,i.baseMutations,function(u,p){return At(u,p)})},l}(),b=function(){function l(i,u,p,_){this.batch=i,this._r=u,this.ur=p,this.dr=_}return l.from=function(i,u,p){He(i.mutations.length===p.length);for(var _=Et,I=i.mutations,R=0;R<I.length;R++)_=_.ot(I[R].key,p[R].version);return new l(i,u,p,_)},l}(),d=function(){function l(){this.wr=new Bn(function(i){return i.toString()},function(i,u){return i.isEqual(u)}),this.mr=!1}return Object.defineProperty(l.prototype,"readTime",{get:function(){return this.Tr},set:function(i){this.Tr=i},enumerable:!1,configurable:!0}),l.prototype.Er=function(i,u){this.Ir(),this.readTime=u,this.wr.set(i.key,i)},l.prototype.Ar=function(i,u){this.Ir(),u&&(this.readTime=u),this.wr.set(i,null)},l.prototype.Rr=function(i,u){this.Ir();var p=this.wr.get(u);return void 0!==p?mn.resolve(p):this.gr(i,u)},l.prototype.getEntries=function(i,u){return this.Pr(i,u)},l.prototype.apply=function(i){return this.Ir(),this.mr=!0,this.yr(i)},l.prototype.Ir=function(){},l}(),y="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",T=function(){function l(){this.Vr=[]}return l.prototype.pr=function(i){this.Vr.push(i)},l.prototype.br=function(){this.Vr.forEach(function(i){return i()})},l}(),P=function(){function l(i,u,p){this.vr=i,this.Sr=u,this.Dr=p}return l.prototype.Cr=function(i,u){var p=this;return this.Sr.Nr(i,u).next(function(_){return p.Fr(i,u,_)})},l.prototype.Fr=function(i,u,p){return this.vr.Rr(i,u).next(function(_){for(var I=0,R=p;I<R.length;I++)_=R[I].hr(u,_);return _})},l.prototype.$r=function(i,u,p){var _=Pi();return u.forEach(function(I,R){for(var U=0,J=p;U<J.length;U++)R=J[U].hr(I,R);_=_.ot(I,R)}),_},l.prototype.kr=function(i,u){var p=this;return this.vr.getEntries(i,u).next(function(_){return p.Mr(i,_)})},l.prototype.Mr=function(i,u){var p=this;return this.Sr.Or(i,u).next(function(_){var I=p.$r(i,u,_),R=oi();return I.forEach(function(U,J){J||(J=new Ci(U,Sn.min())),R=R.ot(U,J)}),R})},l.prototype.Lr=function(i,u,p){return A.F((_=u).path)&&null===_.collectionGroup&&0===_.filters.length?this.Br(i,u.path):ms(u)?this.qr(i,u,p):this.Ur(i,u,p);var _},l.prototype.Br=function(i,u){return this.Cr(i,new A(u)).next(function(p){var _=ht();return p instanceof Rn&&(_=_.ot(p.key,p)),_})},l.prototype.qr=function(i,u,p){var _=this,I=u.collectionGroup,R=ht();return this.Dr.Qr(i,I).next(function(U){return mn.forEach(U,function(J){var Ne,Ze,he=(Ne=u,Ze=J.child(I),new zo(Ze,null,Ne.on.slice(),Ne.filters.slice(),Ne.limit,Ne.an,Ne.startAt,Ne.endAt));return _.Ur(i,he,p).next(function(Ne){Ne.forEach(function(Ze,Xe){R=R.ot(Ze,Xe)})})}).next(function(){return R})})},l.prototype.Ur=function(i,u,p){var _,I,R=this;return this.vr.Lr(i,u,p).next(function(U){return _=U,R.Sr.Wr(i,u)}).next(function(U){return R.jr(i,I=U,_).next(function(J){_=J;for(var he=0,Ne=I;he<Ne.length;he++)for(var Ze=Ne[he],Xe=0,yt=Ze.mutations;Xe<yt.length;Xe++){var kt=yt[Xe],Kt=kt.key,Kn=_.get(Kt),Gn=de(kt,Kn,Kn,Ze.ar);_=Gn instanceof Rn?_.ot(Kt,Gn):_.remove(Kt)}})}).next(function(){return _.forEach(function(U,J){fo(u,J)||(_=_.remove(U))}),_})},l.prototype.jr=function(i,u,p){for(var _=Dt(),I=0,R=u;I<R.length;I++)for(var U=0,J=R[I].mutations;U<J.length;U++){var he=J[U];he instanceof xn&&null===p.get(he.key)&&(_=_.add(he.key))}var Ne=p;return this.vr.getEntries(i,_).next(function(Ze){return Ze.forEach(function(Xe,yt){null!==yt&&yt instanceof Rn&&(Ne=Ne.ot(Xe,yt))}),Ne})},l}(),V=function(){function l(i,u,p,_){this.targetId=i,this.fromCache=u,this.Kr=p,this.Gr=_}return l.zr=function(i,u){for(var p=Dt(),_=Dt(),I=0,R=u.docChanges;I<R.length;I++){var U=R[I];switch(U.type){case 0:p=p.add(U.doc.key);break;case 1:_=_.add(U.doc.key)}}return new l(i,u.fromCache,p,_)},l}();function ee(l,i){var p=l[1],I=i[1],R=cn(l[0],i[0]);return 0===R?cn(p,I):R}var le=function(){function l(i){this.Hr=i,this.buffer=new pr(ee),this.Yr=0}return l.prototype.Jr=function(){return++this.Yr},l.prototype.Xr=function(i){var u=[i,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(u);else{var p=this.buffer.last();ee(u,p)<0&&(this.buffer=this.buffer.delete(p).add(u))}},Object.defineProperty(l.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),l}(),Ae={Zr:!1,eo:0,no:0,so:0},Ce=function(){function l(i,u,p){this.io=i,this.ro=u,this.oo=p}return l.ao=function(i){return new l(i,l.co,l.uo)},l}();Ce.ho=-1,Ce.lo=1048576,Ce._o=41943040,Ce.co=10,Ce.uo=1e3,Ce.fo=new Ce(Ce._o,Ce.co,Ce.uo),Ce.do=new Ce(Ce.ho,0,0);var ct=function(){function l(i,u){this.wo=i,this.cs=u,this.mo=!1,this.To=null}return l.prototype.start=function(i){this.wo.params.io!==Ce.ho&&this.Eo(i)},l.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(l.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),l.prototype.Eo=function(i){var u=this,p=this.mo?3e5:6e4;Te("LruGarbageCollector","Garbage collection scheduled in "+p+"ms"),this.To=this.cs.yn("lru_garbage_collection",p,function(){return k.__awaiter(u,void 0,void 0,function(){var _;return k.__generator(this,function(I){switch(I.label){case 0:this.To=null,this.mo=!0,I.label=1;case 1:return I.trys.push([1,3,,7]),[4,i.Io(this.wo)];case 2:return I.sent(),[3,7];case 3:return Ns(_=I.sent())?(Te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",_),[3,6]):[3,4];case 4:return[4,jo(_)];case 5:I.sent(),I.label=6;case 6:return[3,7];case 7:return[4,this.Eo(i)];case 8:return I.sent(),[2]}})})})},l}(),Ot=function(){function l(i,u){this.Ao=i,this.params=u}return l.prototype.Ro=function(i,u){return this.Ao.Po(i).next(function(p){return Math.floor(u/100*p)})},l.prototype.yo=function(i,u){var p=this;if(0===u)return mn.resolve(ni.ai);var _=new le(u);return this.Ao.Ce(i,function(I){return _.Xr(I.sequenceNumber)}).next(function(){return p.Ao.Vo(i,function(I){return _.Xr(I)})}).next(function(){return _.maxValue})},l.prototype.po=function(i,u,p){return this.Ao.po(i,u,p)},l.prototype.bo=function(i,u){return this.Ao.bo(i,u)},l.prototype.vo=function(i,u){var p=this;return this.params.io===Ce.ho?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),mn.resolve(Ae)):this.So(i).next(function(_){return _<p.params.io?(Te("LruGarbageCollector","Garbage collection skipped; Cache size "+_+" is lower than threshold "+p.params.io),Ae):p.Do(i,u)})},l.prototype.So=function(i){return this.Ao.So(i)},l.prototype.Do=function(i,u){var p,_,I,R,U,J,he,Ne=this,Ze=Date.now();return this.Ro(i,this.params.ro).next(function(Xe){return Xe>Ne.params.oo?(Te("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+Ne.params.oo+" from "+Xe),_=Ne.params.oo):_=Xe,R=Date.now(),Ne.yo(i,_)}).next(function(Xe){return p=Xe,U=Date.now(),Ne.po(i,p,u)}).next(function(Xe){return I=Xe,J=Date.now(),Ne.bo(i,p)}).next(function(Xe){return he=Date.now(),ye()<=te.LogLevel.DEBUG&&Te("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(R-Ze)+"ms\n\tDetermined least recently used "+_+" in "+(U-R)+"ms\n\tRemoved "+I+" targets in "+(J-U)+"ms\n\tRemoved "+Xe+" documents in "+(he-J)+"ms\nTotal Duration: "+(he-Ze)+"ms"),mn.resolve({Zr:!0,eo:_,no:I,so:Xe})})},l}();function Vt(l){for(var i="",u=0;u<l.length;u++)i.length>0&&(i=On(i)),i=an(l.get(u),i);return On(i)}function an(l,i){for(var u=i,p=l.length,_=0;_<p;_++){var I=l.charAt(_);switch(I){case"\0":u+="\x01\x10";break;case"\x01":u+="\x01\x11";break;default:u+=I}}return u}function On(l){return l+"\x01\x01"}function jn(l){var i=l.length;if(He(i>=2),2===i)return He("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Rt.P();for(var u=i-2,p=[],_="",I=0;I<i;){var R=l.indexOf("\x01",I);switch((R<0||R>u)&&ke(),l.charAt(R+1)){case"\x01":var U=l.substring(I,R),J=void 0;0===_.length?J=U:(J=_+=U,_=""),p.push(J);break;case"\x10":_+=l.substring(I,R),_+="\0";break;case"\x11":_+=l.substring(I,R+1);break;default:ke()}I=R+2}return new Rt(p)}var Ur=function(l){this.Co=l};function Lr(l,i){if(i.document)return J=!!i.hasCommittedMutations,he=Qn(l.Co,(U=i.document).name),Ne=yi(U.updateTime),Ze=new fi({mapValue:{fields:U.fields}}),new Rn(he,Ne,Ze,{hasCommittedMutations:!!J});var U,J,he,Ne,Ze;if(i.noDocument){var u=A.$(i.noDocument.path),p=Ri(i.noDocument.readTime);return new Ci(u,p,{hasCommittedMutations:!!i.hasCommittedMutations})}if(i.unknownDocument){var _=A.$(i.unknownDocument.path),I=Ri(i.unknownDocument.version);return new Ti(_,I)}return ke()}function ho(l,i,u){var Xe,yt,p=Ro(u),_=i.key.path.h().A();if(i instanceof Rn){var I={name:Fi(Xe=l.Co,(yt=i).key),fields:yt.rn().mapValue.fields,updateTime:rs(Xe,yt.version.Z())};return new $i(null,null,I,i.hasCommittedMutations,p,_)}if(i instanceof Ci){var U=i.key.path.A(),J=Hn(i.version),he=i.hasCommittedMutations;return new $i(null,new sp(U,J),null,he,p,_)}if(i instanceof Ti){var Ne=i.key.path.A(),Ze=Hn(i.version);return new $i(new gh(Ne,Ze),null,null,!0,p,_)}return ke()}function Ro(l){var i=l.Z();return[i.seconds,i.nanoseconds]}function ta(l){var i=new Un(l[0],l[1]);return Sn.J(i)}function Hn(l){var i=l.Z();return new op(i.seconds,i.nanoseconds)}function Ri(l){var i=new Un(l.seconds,l.nanoseconds);return Sn.J(i)}function Co(l,i){var u=(i.baseMutations||[]).map(function(I){return zn(l.Co,I)}),p=i.mutations.map(function(I){return zn(l.Co,I)}),_=Un.fromMillis(i.localWriteTimeMs);return new as(i.batchId,_,u,p)}function ju(l){var i,u,p=Ri(l.readTime),_=void 0!==l.lastLimboFreeSnapshotVersion?Ri(l.lastLimboFreeSnapshotVersion):Sn.min();return void 0!==l.query.documents?(He(1===(u=l.query).documents.length),i=Hi(Ko(Wo(u.documents[0])))):i=io(l.query),new In(i,l.targetId,0,l.lastListenSequenceNumber,p,_,_t.fromBase64String(l.resumeToken))}function Ac(l,i){var u,p=Hn(i.nt),_=Hn(i.lastLimboFreeSnapshotVersion);u=Yt(i.target)?fr(l.Co,i.target):Xs(l.Co,i.target);var I=i.resumeToken.toBase64();return new ws(i.targetId,lt(i.target),p,I,i.sequenceNumber,_,u)}var wf=function(){function l(i,u,p,_){this.userId=i,this.serializer=u,this.Dr=p,this.No=_,this.Fo={}}return l.xo=function(i,u,p,_){return He(""!==i.uid),new l(i.Zs()?i.uid:"",u,p,_)},l.prototype.$o=function(i){var u=!0,p=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return na(i).rs({index:Vi.userMutationsIndex,range:p},function(_,I,R){u=!1,R.done()}).next(function(){return u})},l.prototype.ko=function(i,u,p,_){var I=this,R=Ba(i),U=na(i);return U.add({}).next(function(J){He("number"==typeof J);for(var he=new as(J,u,p,_),Ne=function(Gn,lr,Cr){var Rr=Cr.baseMutations.map(function(Ai){return co(Gn.Co,Ai)}),di=Cr.mutations.map(function(Ai){return co(Gn.Co,Ai)});return new Vi(lr,Cr.batchId,Cr.ar.toMillis(),Rr,di)}(I.serializer,I.userId,he),Ze=[],Xe=new pr(function(Gn,lr){return cn(Gn.R(),lr.R())}),yt=0,kt=_;yt<kt.length;yt++){var Kt=kt[yt],Kn=us.key(I.userId,Kt.key.path,J);Xe=Xe.add(Kt.key.path.h()),Ze.push(U.put(Ne)),Ze.push(R.put(Kn,us.PLACEHOLDER))}return Xe.forEach(function(Gn){Ze.push(I.Dr.Mo(i,Gn))}),i.pr(function(){I.Fo[J]=he.keys()}),mn.$n(Ze).next(function(){return he})})},l.prototype.Oo=function(i,u){var p=this;return na(i).get(u).next(function(_){return _?(He(_.userId===p.userId),Co(p.serializer,_)):null})},l.prototype.Lo=function(i,u){var p=this;return this.Fo[u]?mn.resolve(this.Fo[u]):this.Oo(i,u).next(function(_){if(_){var I=_.keys();return p.Fo[u]=I,I}return null})},l.prototype.Bo=function(i,u){var p=this,_=u+1,I=IDBKeyRange.lowerBound([this.userId,_]),R=null;return na(i).rs({index:Vi.userMutationsIndex,range:I},function(U,J,he){J.userId===p.userId&&(He(J.batchId>=_),R=Co(p.serializer,J)),he.done()}).next(function(){return R})},l.prototype.qo=function(i){var u=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),p=-1;return na(i).rs({index:Vi.userMutationsIndex,range:u,reverse:!0},function(_,I,R){p=I.batchId,R.done()}).next(function(){return p})},l.prototype.Uo=function(i){var u=this,p=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return na(i).ts(Vi.userMutationsIndex,p).next(function(_){return _.map(function(I){return Co(u.serializer,I)})})},l.prototype.Nr=function(i,u){var p=this,_=us.prefixForPath(this.userId,u.path),I=IDBKeyRange.lowerBound(_),R=[];return Ba(i).rs({range:I},function(U,J,he){var Ne=U[0],Xe=U[2],yt=jn(U[1]);if(Ne===p.userId&&u.path.isEqual(yt))return na(i).get(Xe).next(function(kt){if(!kt)throw ke();He(kt.userId===p.userId),R.push(Co(p.serializer,kt))});he.done()}).next(function(){return R})},l.prototype.Or=function(i,u){var p=this,_=new pr(cn),I=[];return u.forEach(function(R){var U=us.prefixForPath(p.userId,R.path),J=IDBKeyRange.lowerBound(U),he=Ba(i).rs({range:J},function(Ne,Ze,Xe){var yt=Ne[0],Kt=Ne[2],Kn=jn(Ne[1]);yt===p.userId&&R.path.isEqual(Kn)?_=_.add(Kt):Xe.done()});I.push(he)}),mn.$n(I).next(function(){return p.Qo(i,_)})},l.prototype.Wr=function(i,u){var p=this,_=u.path,I=_.length+1,R=us.prefixForPath(this.userId,_),U=IDBKeyRange.lowerBound(R),J=new pr(cn);return Ba(i).rs({range:U},function(he,Ne,Ze){var Xe=he[0],kt=he[2],Kt=jn(he[1]);Xe===p.userId&&_.T(Kt)?Kt.length===I&&(J=J.add(kt)):Ze.done()}).next(function(){return p.Qo(i,J)})},l.prototype.Qo=function(i,u){var p=this,_=[],I=[];return u.forEach(function(R){I.push(na(i).get(R).next(function(U){if(null===U)throw ke();He(U.userId===p.userId),_.push(Co(p.serializer,U))}))}),mn.$n(I).next(function(){return _})},l.prototype.Wo=function(i,u){var p=this;return Nc(i.jo,this.userId,u).next(function(_){return i.pr(function(){p.Ko(u.batchId)}),mn.forEach(_,function(I){return p.No.Go(i,I)})})},l.prototype.Ko=function(i){delete this.Fo[i]},l.prototype.zo=function(i){var u=this;return this.$o(i).next(function(p){if(!p)return mn.resolve();var _=IDBKeyRange.lowerBound(us.prefixForUser(u.userId)),I=[];return Ba(i).rs({range:_},function(R,U,J){if(R[0]===u.userId){var he=jn(R[1]);I.push(he)}else J.done()}).next(function(){He(0===I.length)})})},l.prototype.Ho=function(i,u){return fu(i,this.userId,u)},l.prototype.Yo=function(i){var u=this;return hu(i).get(this.userId).next(function(p){return p||new pu(u.userId,-1,"")})},l}();function fu(l,i,u){var p=us.prefixForPath(i,u.path),_=p[1],I=IDBKeyRange.lowerBound(p),R=!1;return Ba(l).rs({range:I,ss:!0},function(U,J,he){U[0]===i&&U[1]===_&&(R=!0),he.done()}).next(function(){return R})}function Nc(l,i,u){var p=l.store(Vi.store),_=l.store(us.store),I=[],R=IDBKeyRange.only(u.batchId),U=0,J=p.rs({range:R},function(kt,Kt,Kn){return U++,Kn.delete()});I.push(J.next(function(){He(1===U)}));for(var he=[],Ne=0,Ze=u.mutations;Ne<Ze.length;Ne++){var Xe=Ze[Ne],yt=us.key(i,Xe.key.path,u.batchId);I.push(_.delete(yt)),he.push(Xe.key)}return mn.$n(I).next(function(){return he})}function na(l){return cs.Qn(l,Vi.store)}function Ba(l){return cs.Qn(l,us.store)}function hu(l){return cs.Qn(l,pu.store)}var du=function(){function l(i,u){this.serializer=i,this.Dr=u}return l.prototype.Er=function(i,u,p){return ra(i).put(qs(u),p)},l.prototype.Ar=function(i,u){var p=ra(i),_=qs(u);return p.delete(_)},l.prototype.updateMetadata=function(i,u){var p=this;return this.getMetadata(i).next(function(_){return _.byteSize+=u,p.Jo(i,_)})},l.prototype.Rr=function(i,u){var p=this;return ra(i).get(qs(u)).next(function(_){return p.Xo(_)})},l.prototype.Zo=function(i,u){var p=this;return ra(i).get(qs(u)).next(function(_){var I=p.Xo(_);return I?{ta:I,size:Bu(_)}:null})},l.prototype.getEntries=function(i,u){var p=this,_=Pi();return this.ea(i,u,function(I,R){var U=p.Xo(R);_=_.ot(I,U)}).next(function(){return _})},l.prototype.na=function(i,u){var p=this,_=Pi(),I=new tr(A.i);return this.ea(i,u,function(R,U){var J=p.Xo(U);J?(_=_.ot(R,J),I=I.ot(R,Bu(U))):(_=_.ot(R,null),I=I.ot(R,0))}).next(function(){return{sa:_,ia:I}})},l.prototype.ea=function(i,u,p){if(u.m())return mn.resolve();var _=IDBKeyRange.bound(u.first().path.A(),u.last().path.A()),I=u._t(),R=I.It();return ra(i).rs({range:_},function(U,J,he){for(var Ne=A.$(U);R&&A.i(R,Ne)<0;)p(R,null),R=I.It();R&&R.isEqual(Ne)&&(p(R,J),R=I.At()?I.It():null),R?he.Xn(R.path.A()):he.done()}).next(function(){for(;R;)p(R,null),R=I.At()?I.It():null})},l.prototype.Lr=function(i,u,p){var _=this,I=ht(),R=u.path.length+1,U={};if(p.isEqual(Sn.min())){var J=u.path.A();U.range=IDBKeyRange.lowerBound(J)}else{var he=u.path.A(),Ne=Ro(p);U.range=IDBKeyRange.lowerBound([he,Ne],!0),U.index=$i.collectionReadTimeIndex}return ra(i).rs(U,function(Ze,Xe,yt){if(Ze.length===R){var kt=Lr(_.serializer,Xe);u.path.T(kt.key.path)?kt instanceof Rn&&fo(u,kt)&&(I=I.ot(kt.key,kt)):yt.done()}}).next(function(){return I})},l.prototype.ra=function(i){return new Ca(this,!!i&&i.oa)},l.prototype.aa=function(i){return this.getMetadata(i).next(function(u){return u.byteSize})},l.prototype.getMetadata=function(i){return jl(i).get(Ha.key).next(function(u){return He(!!u),u})},l.prototype.Jo=function(i,u){return jl(i).put(Ha.key,u)},l.prototype.Xo=function(i){if(i){var u=Lr(this.serializer,i);return u instanceof Ci&&u.version.isEqual(Sn.min())?null:u}return null},l}(),Ca=function(l){function i(u,p){var _=this;return(_=l.call(this)||this).ca=u,_.oa=p,_.ua=new Bn(function(I){return I.toString()},function(I,R){return I.isEqual(R)}),_}return k.__extends(i,l),i.prototype.yr=function(u){var p=this,_=[],I=0,R=new pr(function(U,J){return cn(U.R(),J.R())});return this.wr.forEach(function(U,J){var he=p.ua.get(U);if(J){var Ne=ho(p.ca.serializer,J,p.readTime);R=R.add(U.path.h());var Ze=Bu(Ne);I+=Ze-he,_.push(p.ca.Er(u,U,Ne))}else if(I-=he,p.oa){var Xe=ho(p.ca.serializer,new Ci(U,Sn.min()),p.readTime);_.push(p.ca.Er(u,U,Xe))}else _.push(p.ca.Ar(u,U))}),R.forEach(function(U){_.push(p.ca.Dr.Mo(u,U))}),_.push(this.ca.updateMetadata(u,I)),mn.$n(_)},i.prototype.gr=function(u,p){var _=this;return this.ca.Zo(u,p).next(function(I){return null===I?(_.ua.set(p,0),null):(_.ua.set(p,I.size),I.ta)})},i.prototype.Pr=function(u,p){var _=this;return this.ca.na(u,p).next(function(I){var R=I.sa;return I.ia.forEach(function(U,J){_.ua.set(U,J)}),R})},i}(d);function jl(l){return cs.Qn(l,Ha.store)}function ra(l){return cs.Qn(l,$i.store)}function qs(l){return l.path.A()}function Bu(l){var i;if(l.document)i=l.document;else if(l.unknownDocument)i=l.unknownDocument;else{if(!l.noDocument)throw ke();i=l.noDocument}return JSON.stringify(i).length}var gm=function(){function l(){this.ha=new bf}return l.prototype.Mo=function(i,u){return this.ha.add(u),mn.resolve()},l.prototype.Qr=function(i,u){return mn.resolve(this.ha.getEntries(u))},l}(),bf=function(){function l(){this.index={}}return l.prototype.add=function(i){var u=i._(),p=i.h(),_=this.index[u]||new pr(Rt.i),I=!_.has(p);return this.index[u]=_.add(p),I},l.prototype.has=function(i){var u=i._(),p=i.h(),_=this.index[u];return _&&_.has(p)},l.prototype.getEntries=function(i){return(this.index[i]||new pr(Rt.i)).A()},l}(),ug=function(){function l(i){this.serializer=i}return l.prototype.createOrUpgrade=function(i,u,p,_){var I=this;He(p<_&&p>=0&&_<=10);var J,R=new hi("createOrUpgrade",u);p<1&&_>=1&&(i.createObjectStore(zr.store),(J=i).createObjectStore(pu.store,{keyPath:pu.keyPath}),J.createObjectStore(Vi.store,{keyPath:Vi.keyPath,autoIncrement:!0}).createIndex(Vi.userMutationsIndex,Vi.userMutationsKeyPath,{unique:!0}),J.createObjectStore(us.store),Bl(i),function(J){J.createObjectStore($i.store)}(i));var U=mn.resolve();return p<3&&_>=3&&(0!==p&&(function(J){J.deleteObjectStore(ls.store),J.deleteObjectStore(ws.store),J.deleteObjectStore(ia.store)}(i),Bl(i)),U=U.next(function(){return function(J){var he=J.store(ia.store),Ne=new ia(0,0,Sn.min().Z(),0);return he.put(ia.key,Ne)}(R)})),p<4&&_>=4&&(0!==p&&(U=U.next(function(){return function(J,he){return he.store(Vi.store).ts().next(function(Ne){J.deleteObjectStore(Vi.store),J.createObjectStore(Vi.store,{keyPath:Vi.keyPath,autoIncrement:!0}).createIndex(Vi.userMutationsIndex,Vi.userMutationsKeyPath,{unique:!0});var Ze=he.store(Vi.store),Xe=Ne.map(function(yt){return Ze.put(yt)});return mn.$n(Xe)})}(i,R)})),U=U.next(function(){!function(J){J.createObjectStore(Hu.store,{keyPath:Hu.keyPath})}(i)})),p<5&&_>=5&&(U=U.next(function(){return I.removeAcknowledgedMutations(R)})),p<6&&_>=6&&(U=U.next(function(){return function(J){J.createObjectStore(Ha.store)}(i),I.addDocumentGlobal(R)})),p<7&&_>=7&&(U=U.next(function(){return I.ensureSequenceNumbers(R)})),p<8&&_>=8&&(U=U.next(function(){return I.createCollectionParentIndex(i,R)})),p<9&&_>=9&&(U=U.next(function(){(function(J){J.objectStoreNames.contains("remoteDocumentChanges")&&J.deleteObjectStore("remoteDocumentChanges")})(i),function(J){var he=J.objectStore($i.store);he.createIndex($i.readTimeIndex,$i.readTimeIndexPath,{unique:!1}),he.createIndex($i.collectionReadTimeIndex,$i.collectionReadTimeIndexPath,{unique:!1})}(u)})),p<10&&_>=10&&(U=U.next(function(){return I.rewriteCanonicalIds(R)})),U},l.prototype.addDocumentGlobal=function(i){var u=0;return i.store($i.store).rs(function(p,_){u+=Bu(_)}).next(function(){var p=new Ha(u);return i.store(Ha.store).put(Ha.key,p)})},l.prototype.removeAcknowledgedMutations=function(i){var u=this,p=i.store(pu.store),_=i.store(Vi.store);return p.ts().next(function(I){return mn.forEach(I,function(R){var U=IDBKeyRange.bound([R.userId,-1],[R.userId,R.lastAcknowledgedBatchId]);return _.ts(Vi.userMutationsIndex,U).next(function(J){return mn.forEach(J,function(he){He(he.userId===R.userId);var Ne=Co(u.serializer,he);return Nc(i,R.userId,Ne).next(function(){})})})})})},l.prototype.ensureSequenceNumbers=function(i){var u=i.store(ls.store),p=i.store($i.store);return i.store(ia.store).get(ia.key).next(function(_){var I=[];return p.rs(function(R,U){var J=new Rt(R),he=[0,Vt(J)];I.push(u.get(he).next(function(Ne){return Ne?mn.resolve():u.put(new ls(0,Vt(J),_.highestListenSequenceNumber))}))}).next(function(){return mn.$n(I)})})},l.prototype.createCollectionParentIndex=function(i,u){i.createObjectStore(ol.store,{keyPath:ol.keyPath});var p=u.store(ol.store),_=new bf,I=function(R){if(_.add(R)){var U=R._(),J=R.h();return p.put({collectionId:U,parent:Vt(J)})}};return u.store($i.store).rs({ss:!0},function(R,U){var J=new Rt(R);return I(J.h())}).next(function(){return u.store(us.store).rs({ss:!0},function(R,U){var he=jn(R[1]);return I(he.h())})})},l.prototype.rewriteCanonicalIds=function(i){var u=this,p=i.store(ws.store);return p.rs(function(_,I){var R=ju(I),U=Ac(u.serializer,R);return p.put(U)})},l}(),op=function(l,i){this.seconds=l,this.nanoseconds=i},zr=function(l,i,u){this.ownerId=l,this.allowTabSynchronization=i,this.leaseTimestampMs=u};zr.store="owner",zr.key="owner";var pu=function(l,i,u){this.userId=l,this.lastAcknowledgedBatchId=i,this.lastStreamToken=u};pu.store="mutationQueues",pu.keyPath="userId";var Vi=function(l,i,u,p,_){this.userId=l,this.batchId=i,this.localWriteTimeMs=u,this.baseMutations=p,this.mutations=_};Vi.store="mutations",Vi.keyPath="batchId",Vi.userMutationsIndex="userMutationsIndex",Vi.userMutationsKeyPath=["userId","batchId"];var us=function(){function l(){}return l.prefixForUser=function(i){return[i]},l.prefixForPath=function(i,u){return[i,Vt(u)]},l.key=function(i,u,p){return[i,Vt(u),p]},l}();us.store="documentMutations",us.PLACEHOLDER=new us;var sp=function(l,i){this.path=l,this.readTime=i},gh=function(l,i){this.path=l,this.version=i},$i=function(l,i,u,p,_,I){this.unknownDocument=l,this.noDocument=i,this.document=u,this.hasCommittedMutations=p,this.readTime=_,this.parentPath=I};$i.store="remoteDocuments",$i.readTimeIndex="readTimeIndex",$i.readTimeIndexPath="readTime",$i.collectionReadTimeIndex="collectionReadTimeIndex",$i.collectionReadTimeIndexPath=["parentPath","readTime"];var Ha=function(l){this.byteSize=l};Ha.store="remoteDocumentGlobal",Ha.key="remoteDocumentGlobalKey";var ws=function(l,i,u,p,_,I,R){this.targetId=l,this.canonicalId=i,this.readTime=u,this.resumeToken=p,this.lastListenSequenceNumber=_,this.lastLimboFreeSnapshotVersion=I,this.query=R};ws.store="targets",ws.keyPath="targetId",ws.queryTargetsIndexName="queryTargetsIndex",ws.queryTargetsKeyPath=["canonicalId","targetId"];var ls=function(l,i,u){this.targetId=l,this.path=i,this.sequenceNumber=u};ls.store="targetDocuments",ls.keyPath=["targetId","path"],ls.documentTargetsIndex="documentTargetsIndex",ls.documentTargetsKeyPath=["path","targetId"];var ia=function(l,i,u,p){this.highestTargetId=l,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=u,this.targetCount=p};ia.key="targetGlobalKey",ia.store="targetGlobal";var ol=function(l,i){this.collectionId=l,this.parent=i};function Bl(l){l.createObjectStore(ls.store,{keyPath:ls.keyPath}).createIndex(ls.documentTargetsIndex,ls.documentTargetsKeyPath,{unique:!0}),l.createObjectStore(ws.store,{keyPath:ws.keyPath}).createIndex(ws.queryTargetsIndexName,ws.queryTargetsKeyPath,{unique:!0}),l.createObjectStore(ia.store)}ol.store="collectionParents",ol.keyPath=["collectionId","parent"];var Hu=function(l,i,u,p){this.clientId=l,this.updateTimeMs=i,this.networkEnabled=u,this.inForeground=p};Hu.store="clientMetadata",Hu.keyPath="clientId";var To=k.__spreadArrays(k.__spreadArrays(k.__spreadArrays([pu.store,Vi.store,us.store,$i.store,ws.store,zr.store,ia.store,ls.store],[Hu.store]),[Ha.store]),[ol.store]),sl=function(){function l(){this.la=new bf}return l.prototype.Mo=function(i,u){var p=this;if(!this.la.has(u)){var _=u._(),I=u.h();i.pr(function(){p.la.add(u)});var R={collectionId:_,parent:Vt(I)};return al(i).put(R)}return mn.resolve()},l.prototype.Qr=function(i,u){var p=[],_=IDBKeyRange.bound([u,""],[pt(u),""],!1,!0);return al(i).ts(_).next(function(I){for(var R=0,U=I;R<U.length;R++){var J=U[R];if(J.collectionId!==u)break;p.push(jn(J.parent))}return p})},l}();function al(l){return cs.Qn(l,ol.store)}var Rc=function(){function l(i){this._a=i}return l.prototype.next=function(){return this._a+=2,this._a},l.fa=function(){return new l(0)},l.da=function(){return new l(-1)},l}(),Ef=function(){function l(i,u){this.No=i,this.serializer=u}return l.prototype.wa=function(i){var u=this;return this.ma(i).next(function(p){var _=new Rc(p.highestTargetId);return p.highestTargetId=_.next(),u.Ta(i,p).next(function(){return p.highestTargetId})})},l.prototype.Ea=function(i){return this.ma(i).next(function(u){return Sn.J(new Un(u.lastRemoteSnapshotVersion.seconds,u.lastRemoteSnapshotVersion.nanoseconds))})},l.prototype.Ia=function(i){return this.ma(i).next(function(u){return u.highestListenSequenceNumber})},l.prototype.Aa=function(i,u,p){var _=this;return this.ma(i).next(function(I){return I.highestListenSequenceNumber=u,p&&(I.lastRemoteSnapshotVersion=p.Z()),u>I.highestListenSequenceNumber&&(I.highestListenSequenceNumber=u),_.Ta(i,I)})},l.prototype.Ra=function(i,u){var p=this;return this.ga(i,u).next(function(){return p.ma(i).next(function(_){return _.targetCount+=1,p.Pa(u,_),p.Ta(i,_)})})},l.prototype.ya=function(i,u){return this.ga(i,u)},l.prototype.Va=function(i,u){var p=this;return this.pa(i,u.targetId).next(function(){return Oo(i).delete(u.targetId)}).next(function(){return p.ma(i)}).next(function(_){return He(_.targetCount>0),_.targetCount-=1,p.Ta(i,_)})},l.prototype.po=function(i,u,p){var _=this,I=0,R=[];return Oo(i).rs(function(U,J){var he=ju(J);he.sequenceNumber<=u&&null===p.get(he.targetId)&&(I++,R.push(_.Va(i,he)))}).next(function(){return mn.$n(R)}).next(function(){return I})},l.prototype.Ce=function(i,u){return Oo(i).rs(function(p,_){var I=ju(_);u(I)})},l.prototype.ma=function(i){return Ta(i).get(ia.key).next(function(u){return He(null!==u),u})},l.prototype.Ta=function(i,u){return Ta(i).put(ia.key,u)},l.prototype.ga=function(i,u){return Oo(i).put(Ac(this.serializer,u))},l.prototype.Pa=function(i,u){var p=!1;return i.targetId>u.highestTargetId&&(u.highestTargetId=i.targetId,p=!0),i.sequenceNumber>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i.sequenceNumber,p=!0),p},l.prototype.ba=function(i){return this.ma(i).next(function(u){return u.targetCount})},l.prototype.va=function(i,u){var p=lt(u),_=IDBKeyRange.bound([p,Number.NEGATIVE_INFINITY],[p,Number.POSITIVE_INFINITY]),I=null;return Oo(i).rs({range:_,index:ws.queryTargetsIndexName},function(R,U,J){var he=ju(U);fn(u,he.target)&&(I=he,J.done())}).next(function(){return I})},l.prototype.Sa=function(i,u,p){var _=this,I=[],R=Sa(i);return u.forEach(function(U){var J=Vt(U.path);I.push(R.put(new ls(p,J))),I.push(_.No.Da(i,p,U))}),mn.$n(I)},l.prototype.Ca=function(i,u,p){var _=this,I=Sa(i);return mn.forEach(u,function(R){var U=Vt(R.path);return mn.$n([I.delete([p,U]),_.No.Na(i,p,R)])})},l.prototype.pa=function(i,u){var p=Sa(i),_=IDBKeyRange.bound([u],[u+1],!1,!0);return p.delete(_)},l.prototype.Fa=function(i,u){var p=IDBKeyRange.bound([u],[u+1],!1,!0),_=Sa(i),I=Dt();return _.rs({range:p,ss:!0},function(R,U,J){var he=jn(R[1]),Ne=new A(he);I=I.add(Ne)}).next(function(){return I})},l.prototype.Ho=function(i,u){var p=Vt(u.path),_=IDBKeyRange.bound([p],[pt(p)],!1,!0),I=0;return Sa(i).rs({index:ls.documentTargetsIndex,ss:!0,range:_},function(R,U,J){0!==R[0]&&(I++,J.done())}).next(function(){return I>0})},l.prototype.Ue=function(i,u){return Oo(i).get(u).next(function(p){return p?ju(p):null})},l}();function Oo(l){return cs.Qn(l,ws.store)}function Ta(l){return cs.Qn(l,ia.store)}function Sa(l){return cs.Qn(l,ls.store)}var zi="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Zo=function(l){function i(u,p){var _=this;return(_=l.call(this)||this).jo=u,_.xa=p,_}return k.__extends(i,l),i}(T),cs=function(){function l(i,u,p,_,I,R,U,J,he,Ne){if(this.allowTabSynchronization=i,this.persistenceKey=u,this.clientId=p,this.fn=I,this.window=R,this.document=U,this.$a=he,this.ka=Ne,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(Ze){return Promise.resolve()},!l.Ln())throw new Q(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new Tf(this,_),this.Wa=u+"main",this.serializer=new Ur(J),this.ja=new Zr(this.Wa,10,new ug(this.serializer)),this.Ka=new Ef(this.No,this.serializer),this.Dr=new sl,this.vr=new du(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===Ne&&wt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return l.Qn=function(i,u){if(i instanceof Zo)return Zr.Qn(i.jo,u);throw ke()},l.prototype.start=function(){var i=this;return this.za().then(function(){if(!i.isPrimary&&!i.allowTabSynchronization)throw new Q(ae.FAILED_PRECONDITION,zi);return i.Ha(),i.Ya(),i.Ja(),i.runTransaction("getHighestListenSequenceNumber","readonly",function(u){return i.Ka.Ia(u)})}).then(function(u){i.Ma=new ni(u,i.$a)}).then(function(){i.Oa=!0}).catch(function(u){return i.ja&&i.ja.close(),Promise.reject(u)})},l.prototype.Xa=function(i){var u=this;return this.Qa=function(p){return k.__awaiter(u,void 0,void 0,function(){return k.__generator(this,function(_){return this.Ei?[2,i(p)]:[2]})})},i(this.isPrimary)},l.prototype.Za=function(i){var u=this;this.ja.Kn(function(p){return k.__awaiter(u,void 0,void 0,function(){return k.__generator(this,function(_){switch(_.label){case 0:return null===p.newVersion?[4,i()]:[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})})})},l.prototype.tc=function(i){var u=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.fn.ws(function(){return k.__awaiter(u,void 0,void 0,function(){return k.__generator(this,function(p){switch(p.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})}))},l.prototype.za=function(){var i=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(u){return Cf(u).put(new Hu(i.clientId,Date.now(),i.networkEnabled,i.inForeground)).next(function(){if(i.isPrimary)return i.ec(u).next(function(p){p||(i.isPrimary=!1,i.fn.Cs(function(){return i.Qa(!1)}))})}).next(function(){return i.nc(u)}).next(function(p){return i.isPrimary&&!p?i.sc(u).next(function(){return!1}):!!p&&i.ic(u).next(function(){return!0})})}).catch(function(u){if(Ns(u))return Te("IndexedDbPersistence","Failed to extend owner lease: ",u),i.isPrimary;if(!i.allowTabSynchronization)throw u;return Te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",u),!1}).then(function(u){i.isPrimary!==u&&i.fn.Cs(function(){return i.Qa(u)}),i.isPrimary=u})},l.prototype.ec=function(i){var u=this;return ui(i).get(zr.key).next(function(p){return mn.resolve(u.rc(p))})},l.prototype.oc=function(i){return Cf(i).delete(this.clientId)},l.prototype.ac=function(){return k.__awaiter(this,void 0,void 0,function(){var i,u,p,I=this;return k.__generator(this,function(R){switch(R.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(U){var J=l.Qn(U,Hu.store);return J.ts().next(function(he){var Ne=I.uc(he,18e5),Ze=he.filter(function(Xe){return-1===Ne.indexOf(Xe)});return mn.forEach(Ze,function(Xe){return J.delete(Xe.clientId)}).next(function(){return Ze})})}).catch(function(){return[]})]);case 1:if(i=R.sent(),this.Ga)for(u=0,p=i;u<p.length;u++)this.Ga.removeItem(this.hc(p[u].clientId));R.label=2;case 2:return[2]}})})},l.prototype.Ja=function(){var i=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return i.za().then(function(){return i.ac()}).then(function(){return i.Ja()})})},l.prototype.rc=function(i){return!!i&&i.ownerId===this.clientId},l.prototype.nc=function(i){var u=this;return this.ka?mn.resolve(!0):ui(i).get(zr.key).next(function(p){if(null!==p&&u.cc(p.leaseTimestampMs,5e3)&&!u.lc(p.ownerId)){if(u.rc(p)&&u.networkEnabled)return!0;if(!u.rc(p)){if(!p.allowTabSynchronization)throw new Q(ae.FAILED_PRECONDITION,zi);return!1}}return!(!u.networkEnabled||!u.inForeground)||Cf(i).ts().next(function(_){return void 0===u.uc(_,5e3).find(function(I){return!(u.clientId===I.clientId||!(!u.networkEnabled&&I.networkEnabled||!u.inForeground&&I.inForeground&&u.networkEnabled===I.networkEnabled))})})}).next(function(p){return u.isPrimary!==p&&Te("IndexedDbPersistence","Client "+(p?"is":"is not")+" eligible for a primary lease."),p})},l.prototype.Di=function(){return k.__awaiter(this,void 0,void 0,function(){var i=this;return k.__generator(this,function(u){switch(u.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[zr.store,Hu.store],function(p){var _=new Zo(p,ni.ai);return i.sc(_).next(function(){return i.oc(_)})})];case 1:return u.sent(),this.ja.close(),this.wc(),[2]}})})},l.prototype.uc=function(i,u){var p=this;return i.filter(function(_){return p.cc(_.updateTimeMs,u)&&!p.lc(_.clientId)})},l.prototype.pi=function(){var i=this;return this.runTransaction("getActiveClients","readonly",function(u){return Cf(u).ts().next(function(p){return i.uc(p,18e5).map(function(_){return _.clientId})})})},Object.defineProperty(l.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),l.prototype.mc=function(i){return wf.xo(i,this.serializer,this.Dr,this.No)},l.prototype.Tc=function(){return this.Ka},l.prototype.Ec=function(){return this.vr},l.prototype.Ic=function(){return this.Dr},l.prototype.runTransaction=function(i,u,p){var I,_=this;return Te("IndexedDbPersistence","Starting transaction:",i),this.ja.runTransaction(i,"readonly"===u?"readonly":"readwrite",To,function(U){return I=new Zo(U,_.Ma?_.Ma.next():ni.ai),"readwrite-primary"===u?_.ec(I).next(function(J){return!!J||_.nc(I)}).next(function(J){if(!J)throw wt("Failed to obtain primary lease for action '"+i+"'."),_.isPrimary=!1,_.fn.Cs(function(){return _.Qa(!1)}),new Q(ae.FAILED_PRECONDITION,y);return p(I)}).next(function(J){return _.ic(I).next(function(){return J})}):_.Ac(I).next(function(){return p(I)})}).then(function(U){return I.br(),U})},l.prototype.Ac=function(i){var u=this;return ui(i).get(zr.key).next(function(p){if(null!==p&&u.cc(p.leaseTimestampMs,5e3)&&!u.lc(p.ownerId)&&!u.rc(p)&&!(u.ka||u.allowTabSynchronization&&p.allowTabSynchronization))throw new Q(ae.FAILED_PRECONDITION,zi)})},l.prototype.ic=function(i){var u=new zr(this.clientId,this.allowTabSynchronization,Date.now());return ui(i).put(zr.key,u)},l.Ln=function(){return Zr.Ln()},l.prototype.sc=function(i){var u=this,p=ui(i);return p.get(zr.key).next(function(_){return u.rc(_)?(Te("IndexedDbPersistence","Releasing primary lease."),p.delete(zr.key)):mn.resolve()})},l.prototype.cc=function(i,u){var p=Date.now();return!(i<p-u||i>p&&(wt("Detected an update time that is in the future: "+i+" > "+p),1))},l.prototype.Ha=function(){var i=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){i.fn.ws(function(){return i.inForeground="visible"===i.document.visibilityState,i.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},l.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},l.prototype.Ya=function(){var i,u=this;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.La=function(){u._c(),u.fn.ws(function(){return u.Di()})},this.window.addEventListener("unload",this.La))},l.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},l.prototype.lc=function(i){var u;try{var p=null!==(null===(u=this.Ga)||void 0===u?void 0:u.getItem(this.hc(i)));return Te("IndexedDbPersistence","Client '"+i+"' "+(p?"is":"is not")+" zombied in LocalStorage"),p}catch(_){return wt("IndexedDbPersistence","Failed to get zombied client id.",_),!1}},l.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(i){wt("Failed to set zombie client id.",i)}},l.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(i){}},l.prototype.hc=function(i){return"firestore_zombie_"+this.persistenceKey+"_"+i},l}();function ui(l){return cs.Qn(l,zr.store)}function Cf(l){return cs.Qn(l,Hu.store)}var Tf=function(){function l(i,u){this.db=i,this.wo=new Ot(this,u)}return l.prototype.Po=function(i){var u=this.Rc(i);return this.db.Tc().ba(i).next(function(p){return u.next(function(_){return p+_})})},l.prototype.Rc=function(i){var u=0;return this.Vo(i,function(p){u++}).next(function(){return u})},l.prototype.Ce=function(i,u){return this.db.Tc().Ce(i,u)},l.prototype.Vo=function(i,u){return this.gc(i,function(p,_){return u(_)})},l.prototype.Da=function(i,u,p){return Hl(i,p)},l.prototype.Na=function(i,u,p){return Hl(i,p)},l.prototype.po=function(i,u,p){return this.db.Tc().po(i,u,p)},l.prototype.Go=function(i,u){return Hl(i,u)},l.prototype.Pc=function(i,u){return _=u,I=!1,hu(p=i).os(function(R){return fu(p,R,_).next(function(U){return U&&(I=!0),mn.resolve(!U)})}).next(function(){return I});var p,_,I},l.prototype.bo=function(i,u){var p=this,_=this.db.Ec().ra(),I=[],R=0;return this.gc(i,function(U,J){if(J<=u){var he=p.Pc(i,U).next(function(Ne){if(!Ne)return R++,_.Rr(i,U).next(function(){return _.Ar(U),Sa(i).delete([0,Vt(U.path)])})});I.push(he)}}).next(function(){return mn.$n(I)}).next(function(){return _.apply(i)}).next(function(){return R})},l.prototype.removeTarget=function(i,u){var p=u.st(i.xa);return this.db.Tc().ya(i,p)},l.prototype.yc=function(i,u){return Hl(i,u)},l.prototype.gc=function(i,u){var p,_=Sa(i),I=ni.ai;return _.rs({index:ls.documentTargetsIndex},function(R,U){var he=U.path,Ne=U.sequenceNumber;0===R[0]?(I!==ni.ai&&u(new A(jn(p)),I),I=Ne,p=he):I=ni.ai}).next(function(){I!==ni.ai&&u(new A(jn(p)),I)})},l.prototype.So=function(i){return this.db.Ec().aa(i)},l}();function Hl(l,i){return Sa(l).put((p=l.xa,new ls(0,Vt(i.path),p)));var p}function Oc(l,i){var u=l.projectId;return l.j||(u+="."+l.database),"firestore/"+i+"/"+u+"/"}var Po=function(){function l(i,u,p){this.persistence=i,this.Vc=u,this.bc=new tr(cn),this.vc=new Bn(function(_){return lt(_)},fn),this.Sc=Sn.min(),this.Sr=i.mc(p),this.Dc=i.Ec(),this.Ka=i.Tc(),this.Cc=new P(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return l.prototype.Io=function(i){var u=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(p){return i.vo(p,u.bc)})},l}();function bs(l,i){var u=qe(l);return u.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(p){var R,U,J,he,Ne,Ze,Xe,_=i.batch.keys(),I=u.Dc.ra({oa:!0});return(R=u,U=p,J=i,he=I,Ne=J.batch,Ze=Ne.keys(),Xe=mn.resolve(),Ze.forEach(function(yt){Xe=Xe.next(function(){return he.Rr(U,yt)}).next(function(kt){var Kt=kt,Kn=J.dr.get(yt);He(null!==Kn),(!Kt||Kt.version.L(Kn)<0)&&(Kt=Ne.cr(yt,Kt,J))&&he.Er(Kt,J._r)})}),Xe.next(function(){return R.Sr.Wo(U,Ne)})).next(function(){return I.apply(p)}).next(function(){return u.Sr.zo(p)}).next(function(){return u.Cc.kr(p,_)})})}function Ga(l){var i=qe(l);return i.persistence.runTransaction("Get last remote snapshot version","readonly",function(u){return i.Ka.Ea(u)})}function Jh(l,i){var u=qe(l),p=i.nt,_=u.bc;return u.persistence.runTransaction("Apply remote event","readwrite-primary",function(I){var R=u.Dc.ra({oa:!0});_=u.bc;var U=[];i.zt.forEach(function(Ze,Xe){var Kn,Gn,lr,yt=_.get(Xe);if(yt){U.push(u.Ka.Ca(I,Ze.se,Xe).next(function(){return u.Ka.Sa(I,Ze.ee,Xe)}));var kt=Ze.resumeToken;if(kt.O()>0){var Kt=yt.it(kt,p).st(I.xa);_=_.ot(Xe,Kt),Kn=yt,lr=Ze,He((Gn=Kt).resumeToken.O()>0),(0===Kn.resumeToken.O()||Gn.nt.X()-Kn.nt.X()>=3e8||lr.ee.size+lr.ne.size+lr.se.size>0)&&U.push(u.Ka.ya(I,Kt))}}});var J=oi(),he=Dt();if(i.Yt.forEach(function(Ze,Xe){he=he.add(Ze)}),U.push(R.getEntries(I,he).next(function(Ze){i.Yt.forEach(function(Xe,yt){var kt=Ze.get(Xe);yt instanceof Ci&&yt.version.isEqual(Sn.min())?(R.Ar(Xe,p),J=J.ot(Xe,yt)):null==kt||yt.version.L(kt.version)>0||0===yt.version.L(kt.version)&&kt.hasPendingWrites?(R.Er(yt,p),J=J.ot(Xe,yt)):Te("LocalStore","Ignoring outdated watch update for ",Xe,". Current version:",kt.version," Watch version:",yt.version),i.Jt.has(Xe)&&U.push(u.persistence.No.yc(I,Xe))})})),!p.isEqual(Sn.min())){var Ne=u.Ka.Ea(I).next(function(Ze){return u.Ka.Aa(I,I.xa,p)});U.push(Ne)}return mn.$n(U).next(function(){return R.apply(I)}).next(function(){return u.Cc.Mr(I,J)})}).then(function(I){return u.bc=_,I})}function mh(l,i){var u=qe(l);return u.persistence.runTransaction("Get next mutation batch","readonly",function(p){return void 0===i&&(i=-1),u.Sr.Bo(p,i)})}function ul(l,i){var u=qe(l);return u.persistence.runTransaction("Allocate target","readwrite",function(p){var _;return u.Ka.va(p,i).next(function(I){return I?mn.resolve(_=I):u.Ka.wa(p).next(function(R){return _=new In(i,R,0,p.xa),u.Ka.Ra(p,_).next(function(){return _})})})}).then(function(p){var _=u.bc.get(p.targetId);return(null===_||p.nt.L(_.nt)>0)&&(u.bc=u.bc.ot(p.targetId,p),u.vc.set(i,p.targetId)),p})}function Gu(l,i,u){return k.__awaiter(this,void 0,void 0,function(){var p,_,I,R;return k.__generator(this,function(U){switch(U.label){case 0:p=qe(l),_=p.bc.get(i),I=u?"readwrite":"readwrite-primary",U.label=1;case 1:return U.trys.push([1,4,,5]),u?[3,3]:[4,p.persistence.runTransaction("Release target",I,function(J){return p.persistence.No.removeTarget(J,_)})];case 2:U.sent(),U.label=3;case 3:return[3,5];case 4:if(!Ns(R=U.sent()))throw R;return Te("LocalStore","Failed to update sequence numbers for target "+i+": "+R),[3,5];case 5:return p.bc=p.bc.remove(i),p.vc.delete(_.target),[2]}})})}function gu(l,i,u){var p=qe(l),_=Sn.min(),I=Dt();return p.persistence.runTransaction("Execute query","readonly",function(R){return(U=p,J=R,he=Hi(i),Ne=qe(U),Ze=Ne.vc.get(he),void 0!==Ze?mn.resolve(Ne.bc.get(Ze)):Ne.Ka.va(J,he)).next(function(U){if(U)return _=U.lastLimboFreeSnapshotVersion,p.Ka.Fa(R,U.targetId).next(function(J){I=J})}).next(function(){return p.Vc.Lr(R,i,u?_:Sn.min(),u?I:Dt())}).next(function(U){return{documents:U,Fc:I}});var U,J,he,Ne,Ze})}function qa(l,i){var u=qe(l),p=qe(u.Ka),_=u.bc.get(i);return _?Promise.resolve(_.target):u.persistence.runTransaction("Get target data","readonly",function(I){return p.Ue(I,i).next(function(R){return R?R.target:null})})}function Sf(l){var i=qe(l);return i.persistence.runTransaction("Get new document changes","readonly",function(u){return _=u,I=i.Sc,R=qe(i.Dc),U=oi(),J=Ro(I),he=ra(_),Ne=IDBKeyRange.lowerBound(J,!0),he.rs({index:$i.readTimeIndex,range:Ne},function(Ze,Xe){var yt=Lr(R.serializer,Xe);U=U.ot(yt.key,yt),J=Xe.readTime}).next(function(){return{xc:U,readTime:ta(J)}});var _,I,R,U,J,he,Ne}).then(function(u){var p=u.xc;return i.Sc=u.readTime,p})}function po(l){return k.__awaiter(this,void 0,void 0,function(){var i;return k.__generator(this,function(u){return[2,(i=qe(l)).persistence.runTransaction("Synchronize last document change read time","readonly",function(p){return I=ra(p),R=Sn.min(),I.rs({index:$i.readTimeIndex,reverse:!0},function(U,J,he){J.readTime&&(R=ta(J.readTime)),he.done()}).next(function(){return R});var I,R}).then(function(p){i.Sc=p})]})})}function jo(l){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(i){if(l.code!==ae.FAILED_PRECONDITION||l.message!==y)throw l;return Te("LocalStore","Unexpectedly lost primary lease"),[2]})})}var Es=function(){function l(){this.$c=new pr(Di.kc),this.Mc=new pr(Di.Oc)}return l.prototype.m=function(){return this.$c.m()},l.prototype.Da=function(i,u){var p=new Di(i,u);this.$c=this.$c.add(p),this.Mc=this.Mc.add(p)},l.prototype.Lc=function(i,u){var p=this;i.forEach(function(_){return p.Da(_,u)})},l.prototype.Na=function(i,u){this.Bc(new Di(i,u))},l.prototype.qc=function(i,u){var p=this;i.forEach(function(_){return p.Na(_,u)})},l.prototype.Uc=function(i){var u=this,p=new A(new Rt([])),_=new Di(p,i),I=new Di(p,i+1),R=[];return this.Mc.Ft([_,I],function(U){u.Bc(U),R.push(U.key)}),R},l.prototype.Qc=function(){var i=this;this.$c.forEach(function(u){return i.Bc(u)})},l.prototype.Bc=function(i){this.$c=this.$c.delete(i),this.Mc=this.Mc.delete(i)},l.prototype.Wc=function(i){var u=new A(new Rt([])),p=new Di(u,i),_=new Di(u,i+1),I=Dt();return this.Mc.Ft([p,_],function(R){I=I.add(R.key)}),I},l.prototype.Ho=function(i){var u=new Di(i,0),p=this.$c.$t(u);return null!==p&&i.isEqual(p.key)},l}(),Di=function(){function l(i,u){this.key=i,this.jc=u}return l.kc=function(i,u){return A.i(i.key,u.key)||cn(i.jc,u.jc)},l.Oc=function(i,u){return cn(i.jc,u.jc)||A.i(i.key,u.key)},l}(),ll=function(l,i){this.user=i,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+l},Gl=function(){function l(){this.Gc=null}return l.prototype.getToken=function(){return Promise.resolve(null)},l.prototype.zc=function(){},l.prototype.Hc=function(i){this.Gc=i,i(ti.UNAUTHENTICATED)},l.prototype.Yc=function(){this.Gc=null},l}(),qu=function(){function l(i){var u=this;this.Jc=null,this.currentUser=ti.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){u.Zc++,u.currentUser=u.tu(),u.Xc=!0,u.Gc&&u.Gc(u.currentUser)},this.Zc=0,this.auth=i.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),i.get().then(function(p){u.auth=p,u.Jc&&u.auth.addAuthTokenListener(u.Jc)},function(){}))}return l.prototype.getToken=function(){var i=this,u=this.Zc,p=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(p).then(function(_){return i.Zc!==u?(Te("FirebaseCredentialsProvider","getToken aborted due to token change."),i.getToken()):_?(He("string"==typeof _.accessToken),new ll(_.accessToken,i.currentUser)):null}):Promise.resolve(null)},l.prototype.zc=function(){this.forceRefresh=!0},l.prototype.Hc=function(i){this.Gc=i,this.Xc&&i(this.currentUser)},l.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},l.prototype.tu=function(){var i=this.auth&&this.auth.getUid();return He(null===i||"string"==typeof i),new ti(i)},l}(),vh=function(){function l(i,u){this.eu=i,this.nu=u,this.type="FirstParty",this.user=ti.ni}return Object.defineProperty(l.prototype,"Kc",{get:function(){var i={"X-Goog-AuthUser":this.nu},u=this.eu.auth.getAuthHeaderValueForFirstParty([]);return u&&(i.Authorization=u),i},enumerable:!1,configurable:!0}),l}(),Pc=function(){function l(i,u){this.eu=i,this.nu=u}return l.prototype.getToken=function(){return Promise.resolve(new vh(this.eu,this.nu))},l.prototype.Hc=function(i){i(ti.ni)},l.prototype.Yc=function(){},l.prototype.zc=function(){},l}(),cl=function(){function l(i,u,p,_,I,R){this.fn=i,this.su=p,this.iu=_,this.ru=I,this.listener=R,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new Va(i,u)}return l.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},l.prototype.uu=function(){return 2===this.state},l.prototype.start=function(){3!==this.state?this.auth():this.hu()},l.prototype.stop=function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(i){switch(i.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},l.prototype.lu=function(){this.state=0,this.ys.reset()},l.prototype._u=function(){var i=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return i.fu()}))},l.prototype.du=function(i){this.wu(),this.stream.send(i)},l.prototype.fu=function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(i){return this.uu()?[2,this.close(0)]:[2]})})},l.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},l.prototype.close=function(i,u){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(p){switch(p.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==i?this.ys.reset():u&&u.code===ae.RESOURCE_EXHAUSTED?(wt(u.toString()),wt("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):u&&u.code===ae.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=i,[4,this.listener.Tu(u)];case 1:return p.sent(),[2]}})})},l.prototype.mu=function(){},l.prototype.auth=function(){var i=this;this.state=1;var u=this.Eu(this.ou),p=this.ou;this.ru.getToken().then(function(_){i.ou===p&&i.Iu(_)},function(_){u(function(){var I=new Q(ae.UNKNOWN,"Fetching auth token failed: "+_.message);return i.Au(I)})})},l.prototype.Iu=function(i){var u=this,p=this.Eu(this.ou);this.stream=this.Ru(i),this.stream.gu(function(){p(function(){return u.state=2,u.listener.gu()})}),this.stream.Tu(function(_){p(function(){return u.Au(_)})}),this.stream.onMessage(function(_){p(function(){return u.onMessage(_)})})},l.prototype.hu=function(){var i=this;this.state=4,this.ys.gn(function(){return k.__awaiter(i,void 0,void 0,function(){return k.__generator(this,function(u){return this.state=0,this.start(),[2]})})})},l.prototype.Au=function(i){return Te("PersistentStream","close with error: "+i),this.stream=null,this.close(3,i)},l.prototype.Eu=function(i){var u=this;return function(p){u.fn.ws(function(){return u.ou===i?p():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},l}(),fl=function(l){function i(u,p,_,I,R){var U=this;return(U=l.call(this,u,"listen_stream_connection_backoff","listen_stream_idle",p,_,R)||this).serializer=I,U}return k.__extends(i,l),i.prototype.Ru=function(u){return this.iu.Pu("Listen",u)},i.prototype.onMessage=function(u){this.ys.reset();var p=function(I,R){var U,Ks;if("targetChange"in R){var J="NO_CHANGE"===(Ks=R.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ks?1:"REMOVE"===Ks?2:"CURRENT"===Ks?3:"RESET"===Ks?4:ke(),he=R.targetChange.targetIds||[],Ne=function(Ks,Au){return Ks.Qe?(He(void 0===Au||"string"==typeof Au),_t.fromBase64String(Au||"")):(He(void 0===Au||Au instanceof Uint8Array),_t.fromUint8Array(Au||new Uint8Array))}(I,R.targetChange.resumeToken),Ze=R.targetChange.cause,Xe=Ze&&function(Ks){var Au=void 0===Ks.code?ae.UNKNOWN:Dr(Ks.code);return new Q(Au,Ks.message||"")}(Ze);U=new gn(J,he,Ne,Xe||null)}else if("documentChange"in R){var yt=R.documentChange,kt=Qn(I,yt.document.name),Kt=yi(yt.document.updateTime),Kn=new fi({mapValue:{fields:yt.document.fields}}),Gn=new Rn(kt,Kt,Kn,{});U=new hr(yt.targetIds||[],yt.removedTargetIds||[],Gn.key,Gn)}else if("documentDelete"in R){var Rr=R.documentDelete,di=Qn(I,Rr.document),Ai=Rr.readTime?yi(Rr.readTime):Sn.min(),es=new Ci(di,Ai);U=new hr([],Rr.removedTargetIds||[],es.key,es)}else if("documentRemove"in R){var Il=R.documentRemove,la=Qn(I,Il.document);U=new hr([],Il.removedTargetIds||[],la,null)}else{if(!("filter"in R))return ke();var qc=R.filter,Wc=new Wn(qc.count||0);U=new Jn(qc.targetId,Wc)}return U}(this.serializer,u),_=function(I){if(!("targetChange"in I))return Sn.min();var R=I.targetChange;return R.targetIds&&R.targetIds.length?Sn.min():R.readTime?yi(R.readTime):Sn.min()}(u);return this.listener.yu(p,_)},i.prototype.Vu=function(u){var I,R,U,J,p={};p.database=$r(this.serializer),p.addTarget=(I=this.serializer,(U=Yt(J=(R=u).target)?{documents:fr(I,J)}:{query:Xs(I,J)}).targetId=R.targetId,R.resumeToken.O()>0&&(U.resumeToken=yo(I,R.resumeToken)),U);var _=function(I,R){var U=function(J,he){switch(he){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ke()}}(0,R.et);return null==U?null:{"goog-listen-tags":U}}(0,u);_&&(p.labels=_),this.du(p)},i.prototype.pu=function(u){var p={};p.database=$r(this.serializer),p.removeTarget=u,this.du(p)},i}(cl),ql=function(l){function i(u,p,_,I,R){var U=this;return(U=l.call(this,u,"write_stream_connection_backoff","write_stream_idle",p,_,R)||this).serializer=I,U.bu=!1,U}return k.__extends(i,l),Object.defineProperty(i.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,l.prototype.start.call(this)},i.prototype.mu=function(){this.bu&&this.Su([])},i.prototype.Ru=function(u){return this.iu.Pu("Write",u)},i.prototype.onMessage=function(u){if(He(!!u.streamToken),this.lastStreamToken=u.streamToken,this.bu){this.ys.reset();var p=(R=u.commitTime,(I=u.writeResults)&&I.length>0?(He(void 0!==R),I.map(function(U){return function(J,he){var Ne=yi(J.updateTime?J.updateTime:he);Ne.isEqual(Sn.min())&&(Ne=yi(he));var Ze=null;return J.transformResults&&J.transformResults.length>0&&(Ze=J.transformResults),new dn(Ne,Ze)}(U,R)})):[]),_=yi(u.commitTime);return this.listener.Du(_,p)}var I,R;return He(!u.writeResults||0===u.writeResults.length),this.bu=!0,this.listener.Cu()},i.prototype.Nu=function(){var u={};u.database=$r(this.serializer),this.du(u)},i.prototype.Su=function(u){var p=this,_={streamToken:this.lastStreamToken,writes:u.map(function(I){return co(p.serializer,I)})};this.du(_)},i}(cl),Cs=function(l){function i(u,p,_){var I=this;return(I=l.call(this)||this).credentials=u,I.iu=p,I.serializer=_,I.Fu=!1,I}return k.__extends(i,l),i.prototype.xu=function(){if(this.Fu)throw new Q(ae.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.$u=function(u,p,_){var I=this;return this.xu(),this.credentials.getToken().then(function(R){return I.iu.$u(u,p,_,R)}).catch(function(R){throw R.code===ae.UNAUTHENTICATED&&I.credentials.zc(),R})},i.prototype.ku=function(u,p,_){var I=this;return this.xu(),this.credentials.getToken().then(function(R){return I.iu.ku(u,p,_,R)}).catch(function(R){throw R.code===ae.UNAUTHENTICATED&&I.credentials.zc(),R})},i.prototype.terminate=function(){this.Fu=!1},i}(function(){}),oa=function(){function l(i,u){this.cs=i,this.di=u,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return l.prototype.Bu=function(){var i=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return i.Ou=null,i.Uu("Backend didn't respond within 10 seconds."),i.qu("Offline"),Promise.resolve()}))},l.prototype.Qu=function(i){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+i.toString()),this.qu("Offline")))},l.prototype.set=function(i){this.Wu(),this.Mu=0,"Online"===i&&(this.Lu=!1),this.qu(i)},l.prototype.qu=function(i){i!==this.state&&(this.state=i,this.di(i))},l.prototype.Uu=function(i){var u="Could not reach Cloud Firestore backend. "+i+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(wt(u),this.Lu=!1):Te("OnlineStateTracker",u)},l.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},l}(),mu=function(l,i,u,p,_){var I=this;this.ju=l,this.Ku=i,this.cs=u,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=_,this.Xu.Zu(function(R){u.ws(function(){return k.__awaiter(I,void 0,void 0,function(){return k.__generator(this,function(U){switch(U.label){case 0:return Ps(this)?(Te("RemoteStore","Restarting streams for network reachability change."),[4,function(J){return k.__awaiter(this,void 0,void 0,function(){var he;return k.__generator(this,function(Ne){switch(Ne.label){case 0:return(he=qe(J)).Yu.add(4),[4,Jr(he)];case 1:return Ne.sent(),he.th.set("Unknown"),he.Yu.delete(4),[4,Wl(he)];case 2:return Ne.sent(),[2]}})})}(this)]):[3,2];case 1:U.sent(),U.label=2;case 2:return[2]}})})})}),this.th=new oa(u,p)};function Wl(l){return k.__awaiter(this,void 0,void 0,function(){var i,u;return k.__generator(this,function(p){switch(p.label){case 0:if(!Ps(l))return[3,4];i=0,u=l.Ju,p.label=1;case 1:return i<u.length?[4,(0,u[i])(!0)]:[3,4];case 2:p.sent(),p.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function Jr(l){return k.__awaiter(this,void 0,void 0,function(){var i,u;return k.__generator(this,function(p){switch(p.label){case 0:i=0,u=l.Ju,p.label=1;case 1:return i<u.length?[4,(0,u[i])(!1)]:[3,4];case 2:p.sent(),p.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function xc(l){return k.__awaiter(this,void 0,void 0,function(){var i;return k.__generator(this,function(u){switch(u.label){case 0:return i=qe(l),Te("RemoteStore","RemoteStore shutting down."),i.Yu.add(5),[4,Jr(i)];case 1:return u.sent(),i.Xu.Di(),i.th.set("Unknown"),[2]}})})}function If(l,i){var u=qe(l);u.Hu.has(i.targetId)||(u.Hu.set(i.targetId,i),$l(u)?sa(u):yu(u).uu()&&Wa(u,i))}function Bo(l,i){var u=qe(l),p=yu(u);u.Hu.delete(i),p.uu()&&Ts(u,i),0===u.Hu.size&&(p.uu()?p._u():Ps(u)&&u.th.set("Unknown"))}function Wa(l,i){l.eh.Ie(i.targetId),yu(l).Vu(i)}function Ts(l,i){l.eh.Ie(i),yu(l).pu(i)}function sa(l){l.eh=new Se({qe:function(i){return l.Gu.qe(i)},Ue:function(i){return l.Hu.get(i)||null}}),yu(l).start(),l.th.Bu()}function $l(l){return Ps(l)&&!yu(l).cu()&&l.Hu.size>0}function Ps(l){return 0===qe(l).Yu.size}function vu(l){l.eh=void 0}function Jo(l){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(i){return l.Hu.forEach(function(u,p){Wa(l,u)}),[2]})})}function Wu(l,i){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(u){return vu(l),$l(l)?(l.th.Qu(i),sa(l)):l.th.set("Unknown"),[2]})})}function xs(l,i,u){return k.__awaiter(this,void 0,void 0,function(){var p,_,I;return k.__generator(this,function(R){switch(R.label){case 0:if(l.th.set("Online"),!(i instanceof gn&&2===i.state&&i.cause))return[3,6];R.label=1;case 1:return R.trys.push([1,3,,5]),[4,function(U,J){return k.__awaiter(this,void 0,void 0,function(){var he,Ne,Ze,Xe;return k.__generator(this,function(yt){switch(yt.label){case 0:he=J.cause,Ne=0,Ze=J.targetIds,yt.label=1;case 1:return Ne<Ze.length?U.Hu.has(Xe=Ze[Ne])?[4,U.Gu.nh(Xe,he)]:[3,3]:[3,5];case 2:yt.sent(),U.Hu.delete(Xe),U.eh.removeTarget(Xe),yt.label=3;case 3:yt.label=4;case 4:return Ne++,[3,1];case 5:return[2]}})})}(l,i)];case 2:return R.sent(),[3,5];case 3:return p=R.sent(),Te("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),p),[4,zl(l,p)];case 4:return R.sent(),[3,5];case 5:return[3,13];case 6:if(i instanceof hr?l.eh.be(i):i instanceof Jn?l.eh.$e(i):l.eh.De(i),u.isEqual(Sn.min()))return[3,13];R.label=7;case 7:return R.trys.push([7,11,,13]),[4,Ga(l.ju)];case 8:return _=R.sent(),u.L(_)>=0?[4,(U=l,J=u,he=U.eh.Oe(J),he.zt.forEach(function(Ne,Ze){if(Ne.resumeToken.O()>0){var Xe=U.Hu.get(Ze);Xe&&U.Hu.set(Ze,Xe.it(Ne.resumeToken,J))}}),he.Ht.forEach(function(Ne){var Ze=U.Hu.get(Ne);if(Ze){U.Hu.set(Ne,Ze.it(_t.B,Ze.nt)),Ts(U,Ne);var Xe=new In(Ze.target,Ne,1,Ze.sequenceNumber);Wa(U,Xe)}}),U.Gu.sh(he))]:[3,10];case 9:R.sent(),R.label=10;case 10:return[3,13];case 11:return Te("RemoteStore","Failed to raise snapshot:",I=R.sent()),[4,zl(l,I)];case 12:return R.sent(),[3,13];case 13:return[2]}var U,J,he})})}function zl(l,i,u){return k.__awaiter(this,void 0,void 0,function(){var p=this;return k.__generator(this,function(_){switch(_.label){case 0:if(!Ns(i))throw i;return l.Yu.add(1),[4,Jr(l)];case 1:return _.sent(),l.th.set("Offline"),u||(u=function(){return Ga(l.ju)}),l.cs.Cs(function(){return k.__awaiter(p,void 0,void 0,function(){return k.__generator(this,function(I){switch(I.label){case 0:return Te("RemoteStore","Retrying IndexedDB access"),[4,u()];case 1:return I.sent(),l.Yu.delete(1),[4,Wl(l)];case 2:return I.sent(),[2]}})})}),[2]}})})}function Ia(l,i){return i().catch(function(u){return zl(l,u,i)})}function uo(l){return k.__awaiter(this,void 0,void 0,function(){var i,u,p,_,I;return k.__generator(this,function(R){switch(R.label){case 0:i=qe(l),u=Aa(i),p=i.zu.length>0?i.zu[i.zu.length-1].batchId:-1,R.label=1;case 1:if(!(Ps(U=i)&&U.zu.length<10))return[3,7];R.label=2;case 2:return R.trys.push([2,4,,6]),[4,mh(i.ju,p)];case 3:return null===(_=R.sent())?(0===i.zu.length&&u._u(),[3,7]):(p=_.batchId,function(U,J){U.zu.push(J);var he=Aa(U);he.uu()&&he.vu&&he.Su(J.mutations)}(i,_),[3,6]);case 4:return I=R.sent(),[4,zl(i,I)];case 5:return R.sent(),[3,6];case 6:return[3,1];case 7:return no(i)&&Mc(i),[2]}var U})})}function no(l){return Ps(l)&&!Aa(l).cu()&&l.zu.length>0}function Mc(l){Aa(l).start()}function Xh(l){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(i){return Aa(l).Nu(),[2]})})}function hl(l){return k.__awaiter(this,void 0,void 0,function(){var i,u,p;return k.__generator(this,function(I){for(i=Aa(l),u=0,p=l.zu;u<p.length;u++)i.Su(p[u].mutations);return[2]})})}function dl(l,i,u){return k.__awaiter(this,void 0,void 0,function(){var p,_;return k.__generator(this,function(I){switch(I.label){case 0:return p=l.zu.shift(),_=b.from(p,i,u),[4,Ia(l,function(){return l.Gu.ih(_)})];case 1:return I.sent(),[4,uo(l)];case 2:return I.sent(),[2]}})})}function Da(l,i){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(u){switch(u.label){case 0:return i&&Aa(l).vu?[4,function(p,_){return k.__awaiter(this,void 0,void 0,function(){var I,R;return k.__generator(this,function(U){switch(U.label){case 0:return Ln(R=_.code)&&R!==ae.ABORTED?(I=p.zu.shift(),Aa(p).lu(),[4,Ia(p,function(){return p.Gu.rh(I.batchId,_)})]):[3,3];case 1:return U.sent(),[4,uo(p)];case 2:U.sent(),U.label=3;case 3:return[2]}})})}(l,i)]:[3,2];case 1:u.sent(),u.label=2;case 2:return no(l)&&Mc(l),[2]}})})}function Ws(l,i){return k.__awaiter(this,void 0,void 0,function(){var u;return k.__generator(this,function(_){switch(_.label){case 0:return u=qe(l),i?(u.Yu.delete(2),[4,Wl(u)]):[3,2];case 1:return _.sent(),[3,5];case 2:return i?[3,4]:(u.Yu.add(2),[4,Jr(u)]);case 3:_.sent(),u.th.set("Unknown"),_.label=4;case 4:_.label=5;case 5:return[2]}})})}function yu(l){var u,p,_,I,i=this;return l.oh||(l.oh=(u=l.Ku,p=l.cs,_={gu:Jo.bind(null,l),Tu:Wu.bind(null,l),yu:xs.bind(null,l)},(I=qe(u)).xu(),new fl(p,I.iu,I.credentials,I.serializer,_)),l.Ju.push(function(u){return k.__awaiter(i,void 0,void 0,function(){return k.__generator(this,function(p){switch(p.label){case 0:return u?(l.oh.lu(),$l(l)?sa(l):l.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,l.oh.stop()];case 2:p.sent(),vu(l),p.label=3;case 3:return[2]}})})})),l.oh}function Aa(l){var u,p,_,I,i=this;return l.ah||(l.ah=(u=l.Ku,p=l.cs,_={gu:Xh.bind(null,l),Tu:Da.bind(null,l),Cu:hl.bind(null,l),Du:dl.bind(null,l)},(I=qe(u)).xu(),new ql(p,I.iu,I.credentials,I.serializer,_)),l.Ju.push(function(u){return k.__awaiter(i,void 0,void 0,function(){return k.__generator(this,function(p){switch(p.label){case 0:return u?(l.ah.lu(),[4,uo(l)]):[3,2];case 1:return p.sent(),[3,4];case 2:return[4,l.ah.stop()];case 3:p.sent(),l.zu.length>0&&(Te("RemoteStore","Stopping write stream with "+l.zu.length+" pending writes"),l.zu=[]),p.label=4;case 4:return[2]}})})})),l.ah}var Kl=function(l){this.key=l},Na=function(l){this.key=l},ed=function(){function l(i,u){this.query=i,this.uh=u,this.hh=null,this.te=!1,this.lh=Dt(),this.Wt=Dt(),this._h=bi(i),this.fh=new bn(this._h)}return Object.defineProperty(l.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),l.prototype.wh=function(i,u){var p=this,_=u?u.mh:new Dn,I=u?u.fh:this.fh,R=u?u.Wt:this.Wt,U=I,J=!1,he=va(this.query)&&I.size===this.query.limit?I.last():null,Ne=Uo(this.query)&&I.size===this.query.limit?I.first():null;if(i.ht(function(Xe,yt){var kt=I.get(Xe),Kt=yt instanceof Rn?yt:null;Kt&&(Kt=fo(p.query,Kt)?Kt:null);var Kn=!!kt&&p.Wt.has(kt.key),Gn=!!Kt&&(Kt.Je||p.Wt.has(Kt.key)&&Kt.hasCommittedMutations),lr=!1;kt&&Kt?kt.data().isEqual(Kt.data())?Kn!==Gn&&(_.track({type:3,doc:Kt}),lr=!0):p.Th(kt,Kt)||(_.track({type:2,doc:Kt}),lr=!0,(he&&p._h(Kt,he)>0||Ne&&p._h(Kt,Ne)<0)&&(J=!0)):!kt&&Kt?(_.track({type:0,doc:Kt}),lr=!0):kt&&!Kt&&(_.track({type:1,doc:kt}),lr=!0,(he||Ne)&&(J=!0)),lr&&(Kt?(U=U.add(Kt),R=Gn?R.add(Xe):R.delete(Xe)):(U=U.delete(Xe),R=R.delete(Xe)))}),va(this.query)||Uo(this.query))for(;U.size>this.query.limit;){var Ze=va(this.query)?U.last():U.first();U=U.delete(Ze.key),R=R.delete(Ze.key),_.track({type:1,doc:Ze})}return{fh:U,mh:_,Eh:J,Wt:R}},l.prototype.Th=function(i,u){return i.Je&&u.hasCommittedMutations&&!u.Je},l.prototype.yr=function(i,u,p){var _=this,I=this.fh;this.fh=i.fh,this.Wt=i.Wt;var R=i.mh.Ut();R.sort(function(Ne,Ze){return yt=Ze.type,(kt=function(Kt){switch(Kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}})(Ne.type)-kt(yt)||_._h(Ne.doc,Ze.doc);var yt,kt}),this.Ih(p);var U=u?this.Ah():[],J=0===this.lh.size&&this.te?1:0,he=J!==this.hh;return this.hh=J,0!==R.length||he?{snapshot:new Wt(this.query,i.fh,I,R,i.Wt,0===J,he,!1),Rh:U}:{Rh:U}},l.prototype.Qs=function(i){return this.te&&"Offline"===i?(this.te=!1,this.yr({fh:this.fh,mh:new Dn,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},l.prototype.gh=function(i){return!this.uh.has(i)&&!!this.fh.has(i)&&!this.fh.get(i).Je},l.prototype.Ih=function(i){var u=this;i&&(i.ee.forEach(function(p){return u.uh=u.uh.add(p)}),i.ne.forEach(function(p){}),i.se.forEach(function(p){return u.uh=u.uh.delete(p)}),this.te=i.te)},l.prototype.Ah=function(){var i=this;if(!this.te)return[];var u=this.lh;this.lh=Dt(),this.fh.forEach(function(_){i.gh(_.key)&&(i.lh=i.lh.add(_.key))});var p=[];return u.forEach(function(_){i.lh.has(_)||p.push(new Na(_))}),this.lh.forEach(function(_){u.has(_)||p.push(new Kl(_))}),p},l.prototype.Ph=function(i){this.uh=i.Fc,this.lh=Dt();var u=this.wh(i.documents);return this.yr(u,!0)},l.prototype.yh=function(){return Wt.Gt(this.query,this.fh,this.Wt,0===this.hh)},l}(),lg=function(l,i,u){this.query=l,this.targetId=i,this.view=u},td=function(l){this.key=l,this.Vh=!1},yh=function(){function l(i,u,p,_,I,R){this.ju=i,this.ph=u,this.bh=p,this.Sh=_,this.currentUser=I,this.Dh=R,this.Ch={},this.Nh=new Bn(function(U){return ea(U)},Si),this.Fh=new Map,this.xh=[],this.$h=new tr(A.i),this.kh=new Map,this.Mh=new Es,this.Oh={},this.Lh=new Map,this.Bh=Rc.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(l.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),l}();function Df(l,i){return k.__awaiter(this,void 0,void 0,function(){var u,_,I,R,U;return k.__generator(this,function(J){switch(J.label){case 0:return u=za(l),(I=u.Nh.get(i))?(u.Sh.Oi(I.targetId),_=I.view.yh(),[3,4]):[3,1];case 1:return[4,ul(u.ju,Hi(i))];case 2:return R=J.sent(),U=u.Sh.Oi(R.targetId),[4,Ra(u,i,R.targetId,"current"===U)];case 3:_=J.sent(),u.Uh&&If(u.ph,R),J.label=4;case 4:return[2,_]}})})}function Ra(l,i,u,p){return k.__awaiter(this,void 0,void 0,function(){var _,I,R,U,J,he;return k.__generator(this,function(Ne){switch(Ne.label){case 0:return l.Qh=function(Ze,Xe,yt){return function(kt,Kt,Kn,Gn){return k.__awaiter(this,void 0,void 0,function(){var lr,Cr,Rr;return k.__generator(this,function(di){switch(di.label){case 0:return(lr=Kt.view.wh(Kn)).Eh?[4,gu(kt.ju,Kt.query,!1).then(function(Ai){return Kt.view.wh(Ai.documents,lr)})]:[3,2];case 1:lr=di.sent(),di.label=2;case 2:return Cr=Gn&&Gn.zt.get(Kt.targetId),Rr=Kt.view.yr(lr,kt.Uh,Cr),[2,(Rf(kt,Kt.targetId,Rr.Rh),Rr.snapshot)]}})})}(l,Ze,Xe,yt)},[4,gu(l.ju,i,!0)];case 1:return _=Ne.sent(),I=new ed(i,_.Fc),R=I.wh(_.documents),U=ar.Zt(u,p&&"Offline"!==l.onlineState),J=I.yr(R,l.Uh,U),Rf(l,u,J.Rh),he=new lg(i,u,I),[2,(l.Nh.set(i,he),l.Fh.has(u)?l.Fh.get(u).push(i):l.Fh.set(u,[i]),J.snapshot)]}})})}function Af(l,i){return k.__awaiter(this,void 0,void 0,function(){var u,p,_;return k.__generator(this,function(I){switch(I.label){case 0:return u=qe(l),p=u.Nh.get(i),(_=u.Fh.get(p.targetId)).length>1?[2,(u.Fh.set(p.targetId,_.filter(function(R){return!Si(R,i)})),void u.Nh.delete(i))]:u.Uh?(u.Sh.Bi(p.targetId),u.Sh.Fi(p.targetId)?[3,2]:[4,Gu(u.ju,p.targetId,!1).then(function(){u.Sh.Ui(p.targetId),Bo(u.ph,p.targetId),Ms(u,p.targetId)}).catch(jo)]):[3,3];case 1:I.sent(),I.label=2;case 2:return[3,5];case 3:return Ms(u,p.targetId),[4,Gu(u.ju,p.targetId,!0)];case 4:I.sent(),I.label=5;case 5:return[2]}})})}function _u(l,i){return k.__awaiter(this,void 0,void 0,function(){var u,p;return k.__generator(this,function(_){switch(_.label){case 0:u=qe(l),_.label=1;case 1:return _.trys.push([1,4,,6]),[4,Jh(u.ju,i)];case 2:return p=_.sent(),i.zt.forEach(function(I,R){var U=u.kh.get(R);U&&(He(I.ee.size+I.ne.size+I.se.size<=1),I.ee.size>0?U.Vh=!0:I.ne.size>0?He(U.Vh):I.se.size>0&&(He(U.Vh),U.Vh=!1))}),[4,Ku(u,p,i)];case 3:return _.sent(),[3,6];case 4:return[4,jo(_.sent())];case 5:return _.sent(),[3,6];case 6:return[2]}})})}function Ql(l,i,u){var p=qe(l);if(p.Uh&&0===u||!p.Uh&&1===u){var _=[];p.Nh.forEach(function(I,R){var U=R.view.Qs(i);U.snapshot&&_.push(U.snapshot)}),function(I,R){var U=qe(I);U.onlineState=R;var J=!1;U.Bs.forEach(function(he,Ne){for(var Ze=0,Xe=Ne.listeners;Ze<Xe.length;Ze++)Xe[Ze].Qs(R)&&(J=!0)}),J&&Li(U)}(p.bh,i),_.length&&p.Ch.yu(_),p.onlineState=i,p.Uh&&p.Sh.Ki(i)}}function wu(l,i,u){return k.__awaiter(this,void 0,void 0,function(){var p,_,I,R,U,J;return k.__generator(this,function(he){switch(he.label){case 0:return(p=qe(l)).Sh.Qi(i,"rejected",u),_=p.kh.get(i),(I=_&&_.key)?(R=(R=new tr(A.i)).ot(I,new Ci(I,Sn.min())),U=Dt().add(I),J=new Nn(Sn.min(),new Map,new pr(cn),R,U),[4,_u(p,J)]):[3,2];case 1:return he.sent(),p.$h=p.$h.remove(I),p.kh.delete(i),zu(p),[3,4];case 2:return[4,Gu(p.ju,i,!1).then(function(){return Ms(p,i,u)}).catch(jo)];case 3:he.sent(),he.label=4;case 4:return[2]}})})}function bu(l,i){return k.__awaiter(this,void 0,void 0,function(){var u,p,_;return k.__generator(this,function(I){switch(I.label){case 0:u=qe(l),p=i.batch.batchId,I.label=1;case 1:return I.trys.push([1,4,,6]),[4,bs(u.ju,i)];case 2:return _=I.sent(),$u(u,p,null),Eu(u,p),u.Sh.ki(p,"acknowledged"),[4,Ku(u,_)];case 3:return I.sent(),[3,6];case 4:return[4,jo(I.sent())];case 5:return I.sent(),[3,6];case 6:return[2]}})})}function _h(l,i,u){return k.__awaiter(this,void 0,void 0,function(){var p,_;return k.__generator(this,function(I){switch(I.label){case 0:p=qe(l),I.label=1;case 1:return I.trys.push([1,4,,6]),[4,(R=p.ju,U=i,J=qe(R),J.persistence.runTransaction("Reject batch","readwrite-primary",function(he){var Ne;return J.Sr.Oo(he,U).next(function(Ze){return He(null!==Ze),Ne=Ze.keys(),J.Sr.Wo(he,Ze)}).next(function(){return J.Sr.zo(he)}).next(function(){return J.Cc.kr(he,Ne)})}))];case 2:return _=I.sent(),$u(p,i,u),Eu(p,i),p.Sh.ki(i,"rejected",u),[4,Ku(p,_)];case 3:return I.sent(),[3,6];case 4:return[4,jo(I.sent())];case 5:return I.sent(),[3,6];case 6:return[2]}var R,U,J})})}function Eu(l,i){(l.Lh.get(i)||[]).forEach(function(u){u.resolve()}),l.Lh.delete(i)}function $u(l,i,u){var p=qe(l),_=p.Oh[p.currentUser.ti()];if(_){var I=_.get(i);I&&(u?I.reject(u):I.resolve(),_=_.remove(i)),p.Oh[p.currentUser.ti()]=_}}function Ms(l,i,u){void 0===u&&(u=null),l.Sh.Bi(i);for(var p=0,_=l.Fh.get(i);p<_.length;p++){var I=_[p];l.Nh.delete(I),u&&l.Ch.Wh(I,u)}l.Fh.delete(i),l.Uh&&l.Mh.Uc(i).forEach(function(R){l.Mh.Ho(R)||Nf(l,R)})}function Nf(l,i){var u=l.$h.get(i);null!==u&&(Bo(l.ph,u),l.$h=l.$h.remove(i),l.kh.delete(u),zu(l))}function Rf(l,i,u){for(var p=0,_=u;p<_.length;p++){var I=_[p];I instanceof Kl?(l.Mh.Da(I.key,i),wh(l,I)):I instanceof Na?(Te("SyncEngine","Document no longer in limbo: "+I.key),l.Mh.Na(I.key,i),l.Mh.Ho(I.key)||Nf(l,I.key)):ke()}}function wh(l,i){var u=i.key;l.$h.get(u)||(Te("SyncEngine","New document in limbo: "+u),l.xh.push(u),zu(l))}function zu(l){for(;l.xh.length>0&&l.$h.size<l.Dh;){var i=l.xh.shift(),u=l.Bh.next();l.kh.set(u,new td(i)),l.$h=l.$h.ot(i,u),If(l.ph,new In(Hi(Ko(i.path)),u,2,ni.ai))}}function Ku(l,i,u){return k.__awaiter(this,void 0,void 0,function(){var p,_,I,R;return k.__generator(this,function(U){switch(U.label){case 0:return p=qe(l),_=[],I=[],R=[],p.Nh.m()?[3,3]:(p.Nh.forEach(function(J,he){R.push(p.Qh(he,i,u).then(function(Ne){if(Ne){p.Uh&&p.Sh.Qi(he.targetId,Ne.fromCache?"not-current":"current"),_.push(Ne);var Ze=V.zr(he.targetId,Ne);I.push(Ze)}}))}),[4,Promise.all(R)]);case 1:return U.sent(),p.Ch.yu(_),[4,function(J,he){return k.__awaiter(this,void 0,void 0,function(){var Ne,Ze,Xe,yt,kt,Kt,Kn,lr;return k.__generator(this,function(Cr){switch(Cr.label){case 0:Ne=qe(J),Cr.label=1;case 1:return Cr.trys.push([1,3,,4]),[4,Ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Rr){return mn.forEach(he,function(di){return mn.forEach(di.Kr,function(Ai){return Ne.persistence.No.Da(Rr,di.targetId,Ai)}).next(function(){return mn.forEach(di.Gr,function(Ai){return Ne.persistence.No.Na(Rr,di.targetId,Ai)})})})})];case 2:return Cr.sent(),[3,4];case 3:if(!Ns(Ze=Cr.sent()))throw Ze;return Te("LocalStore","Failed to update sequence numbers: "+Ze),[3,4];case 4:for(Xe=0,yt=he;Xe<yt.length;Xe++)Kt=(kt=yt[Xe]).targetId,kt.fromCache||(Kn=Ne.bc.get(Kt),lr=Kn.rt(Kn.nt),Ne.bc=Ne.bc.ot(Kt,lr));return[2]}})})}(p.ju,I)];case 2:U.sent(),U.label=3;case 3:return[2]}})})}function $a(l,i){return k.__awaiter(this,void 0,void 0,function(){var u,p;return k.__generator(this,function(_){switch(_.label){case 0:return(u=qe(l)).currentUser.isEqual(i)?[3,3]:(Te("SyncEngine","User change. New user:",i.ti()),[4,function(I,R){return k.__awaiter(this,void 0,void 0,function(){var U,J,he,Ne;return k.__generator(this,function(Ze){switch(Ze.label){case 0:return U=qe(I),J=U.Sr,he=U.Cc,[4,U.persistence.runTransaction("Handle user change","readonly",function(Xe){var yt;return U.Sr.Uo(Xe).next(function(kt){return yt=kt,J=U.persistence.mc(R),he=new P(U.Dc,J,U.persistence.Ic()),J.Uo(Xe)}).next(function(kt){for(var Kt=[],Kn=[],Gn=Dt(),lr=0,Cr=yt;lr<Cr.length;lr++){var Rr=Cr[lr];Kt.push(Rr.batchId);for(var di=0,Ai=Rr.mutations;di<Ai.length;di++)Gn=Gn.add(Ai[di].key)}for(var Tr=0,Il=kt;Tr<Il.length;Tr++){var la=Il[Tr];Kn.push(la.batchId);for(var Xa=0,qc=la.mutations;Xa<qc.length;Xa++)Gn=Gn.add(qc[Xa].key)}return he.kr(Xe,Gn).next(function(Wc){return{jh:Wc,Kh:Kt,Gh:Kn}})})})];case 1:return Ne=Ze.sent(),[2,(U.Sr=J,U.Cc=he,U.Vc.Nc(U.Cc),Ne)]}})})}(u.ju,i)]);case 1:return p=_.sent(),u.currentUser=i,(I=u).Lh.forEach(function(U){U.forEach(function(J){J.reject(new Q(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),I.Lh.clear(),u.Sh.ji(i,p.Kh,p.Gh),[4,Ku(u,p.jh)];case 2:_.sent(),_.label=3;case 3:return[2]}var I})})}function Yl(l,i){var u=qe(l),p=u.kh.get(i);if(p&&p.Vh)return Dt().add(p.key);var _=Dt(),I=u.Fh.get(i);if(!I)return _;for(var R=0,U=I;R<U.length;R++){var he=u.Nh.get(U[R]);_=_.kt(he.view.dh)}return _}function Of(l,i){return k.__awaiter(this,void 0,void 0,function(){var u,p,_;return k.__generator(this,function(I){switch(I.label){case 0:return[4,gu((u=qe(l)).ju,i.query,!0)];case 1:return p=I.sent(),_=i.view.Ph(p),[2,(u.Uh&&Rf(u,i.targetId,_.Rh),_)]}})})}function nd(l,i,u,p){return k.__awaiter(this,void 0,void 0,function(){var _,I;return k.__generator(this,function(R){switch(R.label){case 0:return[4,(U=(_=qe(l)).ju,J=i,he=qe(U),Ne=qe(he.Sr),he.persistence.runTransaction("Lookup mutation documents","readonly",function(Ze){return Ne.Lo(Ze,J).next(function(Xe){return Xe?he.Cc.kr(Ze,Xe):mn.resolve(null)})}))];case 1:return null===(I=R.sent())?[3,6]:"pending"!==u?[3,3]:[4,uo(_.ph)];case 2:return R.sent(),[3,4];case 3:"acknowledged"===u||"rejected"===u?($u(_,i,p||null),Eu(_,i),function(U,J){qe(qe(U).Sr).Ko(J)}(_.ju,i)):ke(),R.label=4;case 4:return[4,Ku(_,I)];case 5:return R.sent(),[3,7];case 6:Te("SyncEngine","Cannot apply mutation batch with id: "+i),R.label=7;case 7:return[2]}var U,J,he,Ne})})}function Pf(l,i){return k.__awaiter(this,void 0,void 0,function(){var u,p,_,I,R,J,he;return k.__generator(this,function(Ne){switch(Ne.label){case 0:return za(u=qe(l)),Qu(u),!0!==i||!0===u.qh?[3,3]:(p=u.Sh.Ci(),[4,pl(u,p.A())]);case 1:return _=Ne.sent(),u.qh=!0,[4,Ws(u.ph,!0)];case 2:for(Ne.sent(),I=0,R=_;I<R.length;I++)If(u.ph,R[I]);return[3,7];case 3:return!1!==i||!1===u.qh?[3,7]:(J=[],he=Promise.resolve(),u.Fh.forEach(function(Ze,Xe){u.Sh.qi(Xe)?J.push(Xe):he=he.then(function(){return Ms(u,Xe),Gu(u.ju,Xe,!0)}),Bo(u.ph,Xe)}),[4,he]);case 4:return Ne.sent(),[4,pl(u,J)];case 5:return Ne.sent(),(Xe=qe(u)).kh.forEach(function(yt,kt){Bo(Xe.ph,kt)}),Xe.Mh.Qc(),Xe.kh=new Map,Xe.$h=new tr(A.i),u.qh=!1,[4,Ws(u.ph,!1)];case 6:Ne.sent(),Ne.label=7;case 7:return[2]}var Xe})})}function pl(l,i,u){return k.__awaiter(this,void 0,void 0,function(){var p,_,I,R,U,J,he,Ne,Ze,Xe,kt,Kt,Kn;return k.__generator(this,function(Gn){switch(Gn.label){case 0:p=qe(l),_=[],I=[],R=0,U=i,Gn.label=1;case 1:return R<U.length?(he=void 0,(Ne=p.Fh.get(J=U[R]))&&0!==Ne.length?[4,ul(p.ju,Hi(Ne[0]))]:[3,7]):[3,13];case 2:he=Gn.sent(),Ze=0,Xe=Ne,Gn.label=3;case 3:return Ze<Xe.length?(kt=p.Nh.get(Xe[Ze]),[4,Of(p,kt)]):[3,6];case 4:(Kt=Gn.sent()).snapshot&&I.push(Kt.snapshot),Gn.label=5;case 5:return Ze++,[3,3];case 6:return[3,11];case 7:return[4,qa(p.ju,J)];case 8:return Kn=Gn.sent(),[4,ul(p.ju,Kn)];case 9:return he=Gn.sent(),[4,Ra(p,gl(Kn),J,!1)];case 10:Gn.sent(),Gn.label=11;case 11:_.push(he),Gn.label=12;case 12:return R++,[3,1];case 13:return[2,(p.Ch.yu(I),_)]}})})}function gl(l){return au(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function Oa(l){var i=qe(l);return qe(qe(i.ju).persistence).pi()}function Cu(l,i,u,p){return k.__awaiter(this,void 0,void 0,function(){var _,I,R;return k.__generator(this,function(U){switch(U.label){case 0:return(_=qe(l)).qh?(Te("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!_.Fh.has(i))return[3,8];switch(u){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Sf(_.ju)];case 3:return I=U.sent(),R=Nn.Xt(i,"current"===u),[4,Ku(_,I,R)];case 4:return U.sent(),[3,8];case 5:return[4,Gu(_.ju,i,!0)];case 6:return U.sent(),Ms(_,i,p),[3,8];case 7:ke(),U.label=8;case 8:return[2]}})})}function Zl(l,i,u){return k.__awaiter(this,void 0,void 0,function(){var p,_,I,R,U,J,he,Ne,Ze;return k.__generator(this,function(yt){switch(yt.label){case 0:if(!(p=za(l)).qh)return[3,10];_=0,I=i,yt.label=1;case 1:return _<I.length?p.Fh.has(R=I[_])?(Te("SyncEngine","Adding an already active target "+R),[3,5]):[4,qa(p.ju,R)]:[3,6];case 2:return U=yt.sent(),[4,ul(p.ju,U)];case 3:return J=yt.sent(),[4,Ra(p,gl(U),J.targetId,!1)];case 4:yt.sent(),If(p.ph,J),yt.label=5;case 5:return _++,[3,1];case 6:he=function(kt){return k.__generator(this,function(Kt){switch(Kt.label){case 0:return p.Fh.has(kt)?[4,Gu(p.ju,kt,!1).then(function(){Bo(p.ph,kt),Ms(p,kt)}).catch(jo)]:[3,2];case 1:Kt.sent(),Kt.label=2;case 2:return[2]}})},Ne=0,Ze=u,yt.label=7;case 7:return Ne<Ze.length?[5,he(Ze[Ne])]:[3,10];case 8:yt.sent(),yt.label=9;case 9:return Ne++,[3,7];case 10:return[2]}})})}function za(l){var i=qe(l);return i.ph.Gu.sh=_u.bind(null,i),i.ph.Gu.qe=Yl.bind(null,i),i.ph.Gu.nh=wu.bind(null,i),i.Ch.yu=No.bind(null,i.bh),i.Ch.Wh=to.bind(null,i.bh),i}function Qu(l){var i=qe(l);return i.ph.Gu.ih=bu.bind(null,i),i.ph.Gu.rh=_h.bind(null,i),i}var kc=function(){function l(){}return l.prototype.Nc=function(i){this.zh=i},l.prototype.Lr=function(i,u,p,_){var R,I=this;return 0===(R=u).filters.length&&null===R.limit&&null==R.startAt&&null==R.endAt&&(0===R.on.length||1===R.on.length&&R.on[0].field.p())||p.isEqual(Sn.min())?this.Hh(i,u):this.zh.kr(i,_).next(function(R){var U=I.Yh(u,R);return(va(u)||Uo(u))&&I.Eh(u.an,U,_,p)?I.Hh(i,u):(ye()<=te.LogLevel.DEBUG&&Te("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",p.toString(),Qo(u)),I.zh.Lr(i,u,p).next(function(J){return U.forEach(function(he){J=J.ot(he.key,he)}),J}))})},l.prototype.Yh=function(i,u){var p=new pr(bi(i));return u.forEach(function(_,I){I instanceof Rn&&fo(i,I)&&(p=p.add(I))}),p},l.prototype.Eh=function(i,u,p,_){if(p.size!==u.size)return!0;var I="F"===i?u.last():u.first();return!!I&&(I.hasPendingWrites||I.version.L(_)>0)},l.prototype.Hh=function(i,u){return ye()<=te.LogLevel.DEBUG&&Te("IndexFreeQueryEngine","Using full collection scan to execute query:",Qo(u)),this.zh.Lr(i,u,Sn.min())},l}(),Jl=function(){function l(i,u){this.Dr=i,this.No=u,this.Sr=[],this.Jh=1,this.Xh=new pr(Di.kc)}return l.prototype.$o=function(i){return mn.resolve(0===this.Sr.length)},l.prototype.ko=function(i,u,p,_){var I=this.Jh;this.Jh++;var R=new as(I,u,p,_);this.Sr.push(R);for(var U=0,J=_;U<J.length;U++){var he=J[U];this.Xh=this.Xh.add(new Di(he.key,I)),this.Dr.Mo(i,he.key.path.h())}return mn.resolve(R)},l.prototype.Oo=function(i,u){return mn.resolve(this.Zh(u))},l.prototype.Bo=function(i,u){var _=this.tl(u+1),I=_<0?0:_;return mn.resolve(this.Sr.length>I?this.Sr[I]:null)},l.prototype.qo=function(){return mn.resolve(0===this.Sr.length?-1:this.Jh-1)},l.prototype.Uo=function(i){return mn.resolve(this.Sr.slice())},l.prototype.Nr=function(i,u){var p=this,_=new Di(u,0),I=new Di(u,Number.POSITIVE_INFINITY),R=[];return this.Xh.Ft([_,I],function(U){var J=p.Zh(U.jc);R.push(J)}),mn.resolve(R)},l.prototype.Or=function(i,u){var p=this,_=new pr(cn);return u.forEach(function(I){var R=new Di(I,0),U=new Di(I,Number.POSITIVE_INFINITY);p.Xh.Ft([R,U],function(J){_=_.add(J.jc)})}),mn.resolve(this.el(_))},l.prototype.Wr=function(i,u){var p=u.path,_=p.length+1,I=p;A.F(I)||(I=I.child(""));var R=new Di(new A(I),0),U=new pr(cn);return this.Xh.xt(function(J){var he=J.key.path;return!!p.T(he)&&(he.length===_&&(U=U.add(J.jc)),!0)},R),mn.resolve(this.el(U))},l.prototype.el=function(i){var u=this,p=[];return i.forEach(function(_){var I=u.Zh(_);null!==I&&p.push(I)}),p},l.prototype.Wo=function(i,u){var p=this;He(0===this.nl(u.batchId,"removed")),this.Sr.shift();var _=this.Xh;return mn.forEach(u.mutations,function(I){var R=new Di(I.key,u.batchId);return _=_.delete(R),p.No.Go(i,I.key)}).next(function(){p.Xh=_})},l.prototype.Ko=function(i){},l.prototype.Ho=function(i,u){var p=new Di(u,0),_=this.Xh.$t(p);return mn.resolve(u.isEqual(_&&_.key))},l.prototype.zo=function(i){return mn.resolve()},l.prototype.nl=function(i,u){return this.tl(i)},l.prototype.tl=function(i){return 0===this.Sr.length?0:i-this.Sr[0].batchId},l.prototype.Zh=function(i){var u=this.tl(i);return u<0||u>=this.Sr.length?null:this.Sr[u]},l}(),Xl=function(){function l(i,u){this.Dr=i,this.sl=u,this.docs=new tr(A.i),this.size=0}return l.prototype.Er=function(i,u,p){var _=u.key,I=this.docs.get(_),R=I?I.size:0,U=this.sl(u);return this.docs=this.docs.ot(_,{ta:u,size:U,readTime:p}),this.size+=U-R,this.Dr.Mo(i,_.path.h())},l.prototype.Ar=function(i){var u=this.docs.get(i);u&&(this.docs=this.docs.remove(i),this.size-=u.size)},l.prototype.Rr=function(i,u){var p=this.docs.get(u);return mn.resolve(p?p.ta:null)},l.prototype.getEntries=function(i,u){var p=this,_=Pi();return u.forEach(function(I){var R=p.docs.get(I);_=_.ot(I,R?R.ta:null)}),mn.resolve(_)},l.prototype.Lr=function(i,u,p){for(var _=ht(),I=new A(u.path.child("")),R=this.docs.ft(I);R.At();){var U=R.It(),he=U.value,Ne=he.ta,Ze=he.readTime;if(!u.path.T(U.key.path))break;Ze.L(p)<=0||Ne instanceof Rn&&fo(u,Ne)&&(_=_.ot(Ne.key,Ne))}return mn.resolve(_)},l.prototype.il=function(i,u){return mn.forEach(this.docs,function(p){return u(p)})},l.prototype.ra=function(i){return new Yu(this)},l.prototype.aa=function(i){return mn.resolve(this.size)},l}(),Yu=function(l){function i(u){var p=this;return(p=l.call(this)||this).ca=u,p}return k.__extends(i,l),i.prototype.yr=function(u){var p=this,_=[];return this.wr.forEach(function(I,R){R?_.push(p.ca.Er(u,R,p.readTime)):p.ca.Ar(I)}),mn.$n(_)},i.prototype.gr=function(u,p){return this.ca.Rr(u,p)},i.prototype.Pr=function(u,p){return this.ca.getEntries(u,p)},i}(d),bh=function(){function l(i){this.persistence=i,this.rl=new Bn(function(u){return lt(u)},fn),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.ol=0,this.al=new Es,this.targetCount=0,this.cl=Rc.fa()}return l.prototype.Ce=function(i,u){return this.rl.forEach(function(p,_){return u(_)}),mn.resolve()},l.prototype.Ea=function(i){return mn.resolve(this.lastRemoteSnapshotVersion)},l.prototype.Ia=function(i){return mn.resolve(this.ol)},l.prototype.wa=function(i){return this.highestTargetId=this.cl.next(),mn.resolve(this.highestTargetId)},l.prototype.Aa=function(i,u,p){return p&&(this.lastRemoteSnapshotVersion=p),u>this.ol&&(this.ol=u),mn.resolve()},l.prototype.ga=function(i){this.rl.set(i.target,i);var u=i.targetId;u>this.highestTargetId&&(this.cl=new Rc(u),this.highestTargetId=u),i.sequenceNumber>this.ol&&(this.ol=i.sequenceNumber)},l.prototype.Ra=function(i,u){return this.ga(u),this.targetCount+=1,mn.resolve()},l.prototype.ya=function(i,u){return this.ga(u),mn.resolve()},l.prototype.Va=function(i,u){return this.rl.delete(u.target),this.al.Uc(u.targetId),this.targetCount-=1,mn.resolve()},l.prototype.po=function(i,u,p){var _=this,I=0,R=[];return this.rl.forEach(function(U,J){J.sequenceNumber<=u&&null===p.get(J.targetId)&&(_.rl.delete(U),R.push(_.pa(i,J.targetId)),I++)}),mn.$n(R).next(function(){return I})},l.prototype.ba=function(i){return mn.resolve(this.targetCount)},l.prototype.va=function(i,u){var p=this.rl.get(u)||null;return mn.resolve(p)},l.prototype.Sa=function(i,u,p){return this.al.Lc(u,p),mn.resolve()},l.prototype.Ca=function(i,u,p){this.al.qc(u,p);var _=this.persistence.No,I=[];return _&&u.forEach(function(R){I.push(_.Go(i,R))}),mn.$n(I)},l.prototype.pa=function(i,u){return this.al.Uc(u),mn.resolve()},l.prototype.Fa=function(i,u){var p=this.al.Wc(u);return mn.resolve(p)},l.prototype.Ho=function(i,u){return mn.resolve(this.al.Ho(u))},l}(),aa=function(){function l(i){var u=this;this.ul={},this.Ma=new ni(0),this.Oa=!1,this.Oa=!0,this.No=i(this),this.Ka=new bh(this),this.Dr=new gm,this.vr=new Xl(this.Dr,function(I){return u.No.hl(I)})}return l.prototype.start=function(){return Promise.resolve()},l.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(l.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),l.prototype.Za=function(){},l.prototype.tc=function(){},l.prototype.Ic=function(){return this.Dr},l.prototype.mc=function(i){var u=this.ul[i.ti()];return u||(u=new Jl(this.Dr,this.No),this.ul[i.ti()]=u),u},l.prototype.Tc=function(){return this.Ka},l.prototype.Ec=function(){return this.vr},l.prototype.runTransaction=function(i,u,p){var _=this;Te("MemoryPersistence","Starting transaction:",i);var I=new ml(this.Ma.next());return this.No.ll(),p(I).next(function(R){return _.No._l(I).next(function(){return R})}).Fn().then(function(R){return I.br(),R})},l.prototype.fl=function(i,u){return mn.kn(Object.values(this.ul).map(function(p){return function(){return p.Ho(i,u)}}))},l}(),ml=function(l){function i(u){var p=this;return(p=l.call(this)||this).xa=u,p}return k.__extends(i,l),i}(T),Ka=function(){function l(i){this.persistence=i,this.dl=new Es,this.wl=null}return l.ml=function(i){return new l(i)},Object.defineProperty(l.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw ke()},enumerable:!1,configurable:!0}),l.prototype.Da=function(i,u,p){return this.dl.Da(p,u),this.Tl.delete(p.toString()),mn.resolve()},l.prototype.Na=function(i,u,p){return this.dl.Na(p,u),this.Tl.add(p.toString()),mn.resolve()},l.prototype.Go=function(i,u){return this.Tl.add(u.toString()),mn.resolve()},l.prototype.removeTarget=function(i,u){var p=this;this.dl.Uc(u.targetId).forEach(function(I){return p.Tl.add(I.toString())});var _=this.persistence.Tc();return _.Fa(i,u.targetId).next(function(I){I.forEach(function(R){return p.Tl.add(R.toString())})}).next(function(){return _.Va(i,u)})},l.prototype.ll=function(){this.wl=new Set},l.prototype._l=function(i){var u=this,p=this.persistence.Ec().ra();return mn.forEach(this.Tl,function(_){var I=A.D(_);return u.El(i,I).next(function(R){R||p.Ar(I)})}).next(function(){return u.wl=null,p.apply(i)})},l.prototype.yc=function(i,u){var p=this;return this.El(i,u).next(function(_){_?p.Tl.delete(u.toString()):p.Tl.add(u.toString())})},l.prototype.hl=function(i){return 0},l.prototype.El=function(i,u){var p=this;return mn.kn([function(){return mn.resolve(p.dl.Ho(u))},function(){return p.persistence.Tc().Ho(i,u)},function(){return p.persistence.fl(i,u)}])},l}(),ec=function(){function l(i){this.Il=i.Il,this.Al=i.Al}return l.prototype.gu=function(i){this.Rl=i},l.prototype.Tu=function(i){this.gl=i},l.prototype.onMessage=function(i){this.Pl=i},l.prototype.close=function(){this.Al()},l.prototype.send=function(i){this.Il(i)},l.prototype.yl=function(){this.Rl()},l.prototype.Vl=function(i){this.gl(i)},l.prototype.pl=function(i){this.Pl(i)},l}(),Eh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ap=function(l){function i(u){var p=this;return(p=l.call(this,u)||this).forceLongPolling=u.forceLongPolling,p.W=u.W,p}return k.__extends(i,l),i.prototype.Nl=function(u,p,_,I){return new Promise(function(R,U){var J=new Le.XhrIo;J.listenOnce(Le.EventType.COMPLETE,function(){try{switch(J.getLastErrorCode()){case Le.ErrorCode.NO_ERROR:var Ne=J.getResponseJson();Te("Connection","XHR received:",JSON.stringify(Ne)),R(Ne);break;case Le.ErrorCode.TIMEOUT:Te("Connection",'RPC "'+u+'" timed out'),U(new Q(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Le.ErrorCode.HTTP_ERROR:var Ze=J.getStatus();if(Te("Connection",'RPC "'+u+'" failed with status:',Ze,"response text:",J.getResponseText()),Ze>0){var Xe=J.getResponseJson().error;if(Xe&&Xe.status&&Xe.message){var yt=(Kt=Xe.status.toLowerCase().replace("_","-"),Object.values(ae).indexOf(Kt)>=0?Kt:ae.UNKNOWN);U(new Q(yt,Xe.message))}else U(new Q(ae.UNKNOWN,"Server responded with status "+J.getStatus()))}else U(new Q(ae.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{Te("Connection",'RPC "'+u+'" completed.')}var Kt});var he=JSON.stringify(I);J.send(p,"POST",he,_,15)})},i.prototype.Pu=function(u,p){var _=[this.vl,"/","google.firestore.v1.Firestore","/",u,"/channel"],I=Le.createWebChannelTransport(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(R.initMessageHeaders,p),mt.isMobileCordova()||mt.isReactNative()||mt.isElectron()||mt.isIE()||mt.isUWP()||mt.isBrowserExtension()||(R.httpHeadersOverwriteParam="$httpHeaders");var U=_.join("");Te("Connection","Creating WebChannel: "+U,R);var J=I.createWebChannel(U,R),he=!1,Ne=!1,Ze=new ec({Il:function(yt){Ne?Te("Connection","Not sending because WebChannel is closed:",yt):(he||(Te("Connection","Opening WebChannel transport."),J.open(),he=!0),Te("Connection","WebChannel sending:",yt),J.send(yt))},Al:function(){return J.close()}}),Xe=function(yt,kt){J.listen(yt,function(Kt){try{kt(Kt)}catch(Kn){setTimeout(function(){throw Kn},0)}})};return Xe(Le.WebChannel.EventType.OPEN,function(){Ne||Te("Connection","WebChannel transport opened.")}),Xe(Le.WebChannel.EventType.CLOSE,function(){Ne||(Ne=!0,Te("Connection","WebChannel transport closed"),Ze.Vl())}),Xe(Le.WebChannel.EventType.ERROR,function(yt){Ne||(Ne=!0,Tt("Connection","WebChannel transport errored:",yt),Ze.Vl(new Q(ae.UNAVAILABLE,"The operation could not be completed")))}),Xe(Le.WebChannel.EventType.MESSAGE,function(yt){var kt;if(!Ne){var Kt=yt.data[0];He(!!Kt);var Gn=Kt.error||(null===(kt=Kt[0])||void 0===kt?void 0:kt.error);if(Gn){Te("Connection","WebChannel received error:",Gn);var lr=Gn.status,Cr=function(di){var Ai=Pn[di];if(void 0!==Ai)return Dr(Ai)}(lr),Rr=Gn.message;void 0===Cr&&(Cr=ae.INTERNAL,Rr="Unknown error status: "+lr+" with message "+Gn.message),Ne=!0,Ze.Vl(new Q(Cr,Rr)),J.close()}else Te("Connection","WebChannel received:",Kt),Ze.pl(Kt)}}),setTimeout(function(){Ze.yl()},0),Ze},i}(function(){function l(i){this.bl=i,this.U=i.U,this.vl=(i.ssl?"https":"http")+"://"+i.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return l.prototype.$u=function(i,u,p,_){var I=this.Dl(i,u);Te("RestConnection","Sending: ",I,p);var R={};return this.Cl(R,_),this.Nl(i,I,R,p).then(function(U){return Te("RestConnection","Received: ",U),U},function(U){throw Tt("RestConnection",i+" failed with error: ",U,"url: ",I,"request:",p),U})},l.prototype.ku=function(i,u,p,_){return this.$u(i,u,p,_)},l.prototype.Cl=function(i,u){if(i["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",i["Content-Type"]="text/plain",u)for(var p in u.Kc)u.Kc.hasOwnProperty(p)&&(i[p]=u.Kc[p])},l.prototype.Dl=function(i,u){return this.vl+"/v1/"+u+":"+Eh[i]},l}()),up=function(){function l(){var i=this;this.Fl=function(){return i.xl()},this.$l=function(){return i.kl()},this.Ml=[],this.Ol()}return l.prototype.Zu=function(i){this.Ml.push(i)},l.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},l.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},l.prototype.xl=function(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var i=0,u=this.Ml;i<u.length;i++)(0,u[i])(0)},l.prototype.kl=function(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var i=0,u=this.Ml;i<u.length;i++)(0,u[i])(1)},l.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},l}(),vl=function(){function l(){}return l.prototype.Zu=function(i){},l.prototype.Di=function(){},l}();function Zu(l){return new mi(l,!0)}var Tu="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Ju=function(){function l(){}return l.prototype.initialize=function(i){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(u){switch(u.label){case 0:return this.Sh=this.Ll(i),this.persistence=this.Bl(i),[4,this.persistence.start()];case 1:return u.sent(),this.ql=this.Ul(i),this.ju=this.Ql(i),[2]}})})},l.prototype.Ul=function(i){return null},l.prototype.Ql=function(i){return u=this.persistence,p=new kc,new Po(u,p,i.Wl);var u,p},l.prototype.Bl=function(i){if(i.persistenceSettings.jl)throw new Q(ae.FAILED_PRECONDITION,Tu);return new aa(Ka.ml)},l.prototype.Ll=function(i){return new ja},l.prototype.terminate=function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(i){switch(i.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return i.sent(),[4,this.persistence.Di()];case 2:return i.sent(),[2]}})})},l.prototype.clearPersistence=function(i,u){throw new Q(ae.FAILED_PRECONDITION,Tu)},l}(),mm=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return k.__extends(i,l),i.prototype.initialize=function(u){return k.__awaiter(this,void 0,void 0,function(){var p,_=this;return k.__generator(this,function(I){switch(I.label){case 0:return[4,l.prototype.initialize.call(this,u)];case 1:return I.sent(),p=this.Kl.fi,this.Sh instanceof ai?(this.Sh.fi={er:nd.bind(null,p),nr:Cu.bind(null,p),sr:Zl.bind(null,p),pi:Oa.bind(null,p)},[4,this.Sh.start()]):[3,3];case 2:I.sent(),I.label=3;case 3:return[4,this.persistence.Xa(function(R){return k.__awaiter(_,void 0,void 0,function(){return k.__generator(this,function(U){switch(U.label){case 0:return[4,Pf(this.Kl.fi,R)];case 1:return U.sent(),this.ql&&(R&&!this.ql.Ei?this.ql.start(this.ju):R||this.ql.stop()),[2]}})})})];case 4:return I.sent(),[2]}})})},i.prototype.Ll=function(u){if(u.persistenceSettings.jl&&u.persistenceSettings.synchronizeTabs){var p=j();if(!ai.Ln(p))throw new Q(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var _=Oc(u.bl.U,u.bl.persistenceKey);return new ai(p,u.cs,_,u.clientId,u.Wl)}return new ja},i}(function(l){function i(u){var p=this;return(p=l.call(this)||this).Kl=u,p}return k.__extends(i,l),i.prototype.initialize=function(u){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(p){switch(p.label){case 0:return[4,l.prototype.initialize.call(this,u)];case 1:return p.sent(),[4,po(this.ju)];case 2:return p.sent(),[4,this.Kl.initialize(this,u)];case 3:return p.sent(),[4,Qu(this.Kl.fi)];case 4:return p.sent(),[4,uo(this.Kl.ph)];case 5:return p.sent(),[2]}})})},i.prototype.Ul=function(u){return new ct(this.persistence.No.wo,u.cs)},i.prototype.Bl=function(u){var p=Oc(u.bl.U,u.bl.persistenceKey),_=Zu(u.bl.U);return new cs(u.persistenceSettings.synchronizeTabs,p,u.clientId,Ce.ao(u.persistenceSettings.cacheSizeBytes),u.cs,j(),X(),_,this.Sh,u.persistenceSettings.ka)},i.prototype.Ll=function(u){return new ja},i.prototype.clearPersistence=function(u,p){return function(_){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(R){switch(R.label){case 0:return Zr.Ln()?[4,Zr.delete(_+"main")]:[2,Promise.resolve()];case 1:return R.sent(),[2]}})})}(Oc(u,p))},i}(Ju)),Qa=function(){function l(){}return l.prototype.initialize=function(i,u){return k.__awaiter(this,void 0,void 0,function(){var p=this;return k.__generator(this,function(_){switch(_.label){case 0:return this.ju?[3,2]:(this.ju=i.ju,this.Sh=i.Sh,this.Ku=this.Gl(u),this.ph=this.zl(u),this.bh=this.Hl(u),this.fi=this.Yl(u),this.Sh.di=function(I){return Ql(p.fi,I,1)},this.ph.Gu.Jl=$a.bind(null,this.fi),[4,Ws(this.ph,this.fi.Uh)]);case 1:_.sent(),_.label=2;case 2:return[2]}})})},l.prototype.Hl=function(i){return new kr},l.prototype.Gl=function(i){var p=Zu(i.bl.U),_=new ap(i.bl);return new Cs(i.credentials,_,p)},l.prototype.zl=function(i){var u,p,_,I,R,U=this;return u=this.ju,p=this.Ku,_=i.cs,I=function(J){return Ql(U.fi,J,0)},R=up.Ln()?new up:new vl,new mu(u,p,_,I,R)},l.prototype.Yl=function(i){return J=!i.persistenceSettings.jl||!i.persistenceSettings.synchronizeTabs,he=new yh(this.ju,this.ph,this.bh,this.Sh,i.Wl,i.Dh),J&&(he.qh=!0),he;var J,he},l.prototype.terminate=function(){return xc(this.ph)},l}(),Ya=function(){function l(i){this.observer=i,this.muted=!1}return l.prototype.next=function(i){this.observer.next&&this.Xl(this.observer.next,i)},l.prototype.error=function(i){this.observer.error?this.Xl(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)},l.prototype.Zl=function(){this.muted=!0},l.prototype.Xl=function(i,u){var p=this;this.muted||setTimeout(function(){p.muted||i(u)},0)},l}(),yl=function(l){!function(u,p,_,I){if(!(p instanceof Array)||p.length<1)throw new Q(ae.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Zn(1,"element")+".")}(0,l);for(var i=0;i<l.length;++i)if(fe("FieldPath","string",i,l[i]),0===l[i].length)throw new Q(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new F(l)},Pa=function(l){function i(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];return l.call(this,u)||this}return k.__extends(i,l),i.documentId=function(){return new i(F.v().R())},i.prototype.isEqual=function(u){if(!(u instanceof i))throw wn("isEqual","FieldPath",1,u);return this.t_.isEqual(u.t_)},i}(yl),lp=new RegExp("[~\\*/\\[\\]]"),Xu=function(l){this.e_=l},el=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return k.__extends(i,l),i.prototype.n_=function(u){if(2!==u.s_)throw u.i_(1===u.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return u.We.push(u.path),null},i.prototype.isEqual=function(u){return u instanceof i},i}(Xu);function _l(l,i,u){return new Vc({s_:3,r_:i.settings.r_,methodName:l.e_,o_:u},i.U,i.serializer,i.ignoreUndefinedProperties)}var wl=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return k.__extends(i,l),i.prototype.n_=function(u){return new qt(u.path,new ao)},i.prototype.isEqual=function(u){return u instanceof i},i}(Xu),bl=function(l){function i(u,p){var _=this;return(_=l.call(this,u)||this).a_=p,_}return k.__extends(i,l),i.prototype.n_=function(u){var p=_l(this,u,!0),_=this.a_.map(function(R){return Su(R,p)}),I=new Y(_);return new qt(u.path,I)},i.prototype.isEqual=function(u){return this===u},i}(Xu),Ch=function(l){function i(u,p){var _=this;return(_=l.call(this,u)||this).a_=p,_}return k.__extends(i,l),i.prototype.n_=function(u){var p=_l(this,u,!0),_=this.a_.map(function(R){return Su(R,p)}),I=new ge(_);return new qt(u.path,I)},i.prototype.isEqual=function(u){return this===u},i}(Xu),Gi=function(l){function i(u,p){var _=this;return(_=l.call(this,u)||this).c_=p,_}return k.__extends(i,l),i.prototype.n_=function(u){var p=new Ue(u.serializer,vi(u.serializer,this.c_));return new qt(u.path,p)},i.prototype.isEqual=function(u){return this===u},i}(Xu),Fc=function(){function l(i,u){if(Z("GeoPoint",arguments,2),fe("GeoPoint","number",1,i),fe("GeoPoint","number",2,u),!isFinite(i)||i<-90||i>90)throw new Q(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(u)||u<-180||u>180)throw new Q(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+u);this.u_=i,this.h_=u}return Object.defineProperty(l.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(i){return this.u_===i.u_&&this.h_===i.h_},l.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},l.prototype.Y=function(i){return cn(this.u_,i.u_)||cn(this.h_,i.h_)},l}(),Lc=function(l){this.l_=l},Th=/^__.*__$/,Za=function(l,i,u){this.__=l,this.f_=i,this.d_=u},cp=function(){function l(i,u,p){this.data=i,this.We=u,this.fieldTransforms=p}return l.prototype.w_=function(i,u){var p=[];return p.push(null!==this.We?new xn(i,this.data,this.We,u):new Cn(i,this.data,u)),this.fieldTransforms.length>0&&p.push(new wr(i,this.fieldTransforms)),p},l}(),Sh=function(){function l(i,u,p){this.data=i,this.We=u,this.fieldTransforms=p}return l.prototype.w_=function(i,u){var p=[new xn(i,this.data,this.We,u)];return this.fieldTransforms.length>0&&p.push(new wr(i,this.fieldTransforms)),p},l}();function tc(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}var Vc=function(){function l(i,u,p,_,I,R){this.settings=i,this.U=u,this.serializer=p,this.ignoreUndefinedProperties=_,void 0===I&&this.m_(),this.fieldTransforms=I||[],this.We=R||[]}return Object.defineProperty(l.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),l.prototype.T_=function(i){return new l(Object.assign(Object.assign({},this.settings),i),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},l.prototype.E_=function(i){var u,p=null===(u=this.path)||void 0===u?void 0:u.child(i),_=this.T_({path:p,o_:!1});return _.I_(i),_},l.prototype.A_=function(i){var u,p=null===(u=this.path)||void 0===u?void 0:u.child(i),_=this.T_({path:p,o_:!1});return _.m_(),_},l.prototype.R_=function(i){return this.T_({path:void 0,o_:!0})},l.prototype.i_=function(i){return Bc(i,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},l.prototype.contains=function(i){return void 0!==this.We.find(function(u){return i.T(u)})||void 0!==this.fieldTransforms.find(function(u){return i.T(u.field)})},l.prototype.m_=function(){if(this.path)for(var i=0;i<this.path.length;i++)this.I_(this.path.get(i))},l.prototype.I_=function(i){if(0===i.length)throw this.i_("Document fields must not be empty");if(tc(this.s_)&&Th.test(i))throw this.i_('Document fields cannot begin and end with "__"')},l}(),ua=function(){function l(i,u,p){this.U=i,this.ignoreUndefinedProperties=u,this.serializer=p||Zu(i)}return l.prototype.P_=function(i,u,p,_){return void 0===_&&(_=!1),new Vc({s_:i,methodName:u,r_:p,path:F.P(),o_:!1,g_:_},this.U,this.serializer,this.ignoreUndefinedProperties)},l}();function xf(l,i,u,p,_,I){void 0===I&&(I={});var R=l.P_(I.merge||I.mergeFields?2:0,i,u,_);ro("Data must be an object, but it was:",R,p);var U,J,he=Uc(p,R);if(I.merge)U=new Xt(R.We),J=R.fieldTransforms;else if(I.mergeFields){for(var Ne=[],Ze=0,Xe=I.mergeFields;Ze<Xe.length;Ze++){var yt=Xe[Ze],kt=void 0;if(yt instanceof yl)kt=yt.t_;else{if("string"!=typeof yt)throw ke();kt=nc(i,yt,u)}if(!R.contains(kt))throw new Q(ae.INVALID_ARGUMENT,"Field '"+kt+"' is specified in your field mask but missing from your input data.");rd(Ne,kt)||Ne.push(kt)}U=new Xt(Ne),J=R.fieldTransforms.filter(function(Kt){return U.Ye(Kt.field)})}else U=null,J=R.fieldTransforms;return new cp(new fi(he),U,J)}function Ss(l,i,u,p){var _=l.P_(1,i,u);ro("Data must be an object, but it was:",_,p);var I=[],R=new _i;Ut(p,function(J,he){var Ne=nc(i,J,u),Ze=_.A_(Ne);if(he instanceof el||he instanceof Lc&&he.l_ instanceof el)I.push(Ne);else{var Xe=Su(he,Ze);null!=Xe&&(I.push(Ne),R.set(Ne,Xe))}});var U=new Xt(I);return new Sh(R.Xe(),U,_.fieldTransforms)}function El(l,i,u,p,_,I){var R=l.P_(1,i,u),U=[$s(i,p,u)],J=[_];if(I.length%2!=0)throw new Q(ae.INVALID_ARGUMENT,"Function "+i+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var he=0;he<I.length;he+=2)U.push($s(i,I[he])),J.push(I[he+1]);for(var Ne=[],Ze=new _i,Xe=U.length-1;Xe>=0;--Xe)if(!rd(Ne,U[Xe])){var yt=U[Xe],kt=J[Xe],Kt=R.A_(yt);if(kt instanceof el||kt instanceof Lc&&kt.l_ instanceof el)Ne.push(yt);else{var Kn=Su(kt,Kt);null!=Kn&&(Ne.push(yt),Ze.set(yt,Kn))}}var Gn=new Xt(Ne);return new Sh(Ze.Xe(),Gn,R.fieldTransforms)}function Ho(l,i,u,p){return void 0===p&&(p=!1),Su(u,l.P_(p?4:3,i))}function Su(l,i){if(l instanceof Lc&&(l=l.l_),jc(l))return ro("Unsupported field value:",i,l),Uc(l,i);if(l instanceof Xu)return function(u,p){if(!tc(p.s_))throw p.i_(u.e_+"() can only be used with update() and set()");if(!p.path)throw p.i_(u.e_+"() is not currently supported inside arrays");var _=u.n_(p);_&&p.fieldTransforms.push(_)}(l,i),null;if(i.path&&i.We.push(i.path),l instanceof Array){if(i.settings.o_&&4!==i.s_)throw i.i_("Nested arrays are not supported");return function(u,p){for(var _=[],I=0,R=0,U=u;R<U.length;R++){var J=Su(U[R],p.R_(I));null==J&&(J={nullValue:"NULL_VALUE"}),_.push(J),I++}return{arrayValue:{values:_}}}(l,i)}return function(u,p){if(null===u)return{nullValue:"NULL_VALUE"};if("number"==typeof u)return vi(p.serializer,u);if("boolean"==typeof u)return{booleanValue:u};if("string"==typeof u)return{stringValue:u};if(u instanceof Date){var _=Un.fromDate(u);return{timestampValue:rs(p.serializer,_)}}if(u instanceof Un){var I=new Un(u.seconds,1e3*Math.floor(u.nanoseconds/1e3));return{timestampValue:rs(p.serializer,I)}}if(u instanceof Fc)return{geoPointValue:{latitude:u.latitude,longitude:u.longitude}};if(u instanceof Ve)return{bytesValue:yo(p.serializer,u.q)};if(u instanceof Za){var R=p.U,U=u.__;if(!U.isEqual(R))throw p.i_("Document reference is for database "+U.projectId+"/"+U.database+" but should be for database "+R.projectId+"/"+R.database);return{referenceValue:ki(u.__||p.U,u.f_.path)}}if(void 0===u&&p.ignoreUndefinedProperties)return null;throw p.i_("Unsupported field value: "+Bt(u))}(l,i)}function Uc(l,i){var u={};return Mt(l)?i.path&&i.path.length>0&&i.We.push(i.path):Ut(l,function(p,_){var I=Su(_,i.E_(p));null!=I&&(u[p]=I)}),{mapValue:{fields:u}}}function jc(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Un||l instanceof Fc||l instanceof Ve||l instanceof Za||l instanceof Xu)}function ro(l,i,u){if(!jc(u)||!vt(u)){var p=Bt(u);throw i.i_("an object"===p?l+" a custom object":l+" "+p)}}function $s(l,i,u){if(i instanceof yl)return i.t_;if("string"==typeof i)return nc(l,i);throw Bc("Field path arguments must be of type string or FieldPath.",l,!1,void 0,u)}function nc(l,i,u){try{return function(_){if(_.search(lp)>=0)throw new Q(ae.INVALID_ARGUMENT,"Invalid field path ("+_+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Pa.bind.apply(Pa,k.__spreadArrays([void 0],_.split("."))))}catch(I){throw new Q(ae.INVALID_ARGUMENT,"Invalid field path ("+_+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(i).t_}catch(_){throw Bc((p=_)instanceof Error?p.message:p.toString(),l,!1,void 0,u)}var p}function Bc(l,i,u,p,_){var I=p&&!p.m(),R=void 0!==_,U="Function "+i+"() called with invalid data";u&&(U+=" (via `toFirestore()`)");var J="";return(I||R)&&(J+=" (found",I&&(J+=" in field "+p),R&&(J+=" in document "+_),J+=")"),new Q(ae.INVALID_ARGUMENT,(U+=". ")+l+J)}function rd(l,i){return l.some(function(u){return u.isEqual(i)})}var Hc=function(){function l(i){this.Ku=i,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return l.prototype.v_=function(i){return k.__awaiter(this,void 0,void 0,function(){var u,p=this;return k.__generator(this,function(_){switch(_.label){case 0:if(this.S_(),this.mutations.length>0)throw new Q(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(I,R){return k.__awaiter(this,void 0,void 0,function(){var U,J,he,Ne,Ze,Xe;return k.__generator(this,function(yt){switch(yt.label){case 0:return U=qe(I),J=$r(U.serializer)+"/documents",he={documents:R.map(function(kt){return Fi(U.serializer,kt)})},[4,U.ku("BatchGetDocuments",J,he)];case 1:return Ne=yt.sent(),Ze=new Map,Ne.forEach(function(kt){var Kn,Gn,Kt=(Kn=U.serializer,"found"in(Gn=kt)?function(lr,Cr){He(!!Cr.found);var Rr=Qn(lr,Cr.found.name),di=yi(Cr.found.updateTime),Ai=new fi({mapValue:{fields:Cr.found.fields}});return new Rn(Rr,di,Ai,{})}(Kn,Gn):"missing"in Gn?function(lr,Cr){He(!!Cr.missing),He(!!Cr.readTime);var Rr=Qn(lr,Cr.missing),di=yi(Cr.readTime);return new Ci(Rr,di)}(Kn,Gn):ke());Ze.set(Kt.key.toString(),Kt)}),Xe=[],[2,(R.forEach(function(kt){var Kt=Ze.get(kt.toString());He(!!Kt),Xe.push(Kt)}),Xe)]}})})}(this.Ku,i)];case 1:return[2,((u=_.sent()).forEach(function(I){I instanceof Ci||I instanceof Rn?p.D_(I):ke()}),u)]}})})},l.prototype.set=function(i,u){this.write(u.w_(i,this.Ge(i))),this.b_.add(i.toString())},l.prototype.update=function(i,u){try{this.write(u.w_(i,this.C_(i)))}catch(p){this.p_=p}this.b_.add(i.toString())},l.prototype.delete=function(i){this.write([new Er(i,this.Ge(i))]),this.b_.add(i.toString())},l.prototype.commit=function(){return k.__awaiter(this,void 0,void 0,function(){var i,u=this;return k.__generator(this,function(p){switch(p.label){case 0:if(this.S_(),this.p_)throw this.p_;return i=this.y_,this.mutations.forEach(function(_){i.delete(_.key.toString())}),i.forEach(function(_,I){var R=A.D(I);u.mutations.push(new ci(R,u.Ge(R)))}),[4,function(_,I){return k.__awaiter(this,void 0,void 0,function(){var R,U,J;return k.__generator(this,function(he){switch(he.label){case 0:return R=qe(_),U=$r(R.serializer)+"/documents",J={writes:I.map(function(Ne){return co(R.serializer,Ne)})},[4,R.$u("Commit",U,J)];case 1:return he.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return p.sent(),this.V_=!0,[2]}})})},l.prototype.D_=function(i){var u;if(i instanceof Rn)u=i.version;else{if(!(i instanceof Ci))throw ke();u=Sn.min()}var p=this.y_.get(i.key.toString());if(p){if(!u.isEqual(p))throw new Q(ae.ABORTED,"Document version changed between two reads.")}else this.y_.set(i.key.toString(),u)},l.prototype.Ge=function(i){var u=this.y_.get(i.toString());return!this.b_.has(i.toString())&&u?En.updateTime(u):En.ze()},l.prototype.C_=function(i){var u=this.y_.get(i.toString());if(!this.b_.has(i.toString())&&u){if(u.isEqual(Sn.min()))throw new Q(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return En.updateTime(u)}return En.exists(!0)},l.prototype.write=function(i){this.S_(),this.mutations=this.mutations.concat(i)},l.prototype.S_=function(){},l}(),id=function(){function l(i,u,p,_){this.cs=i,this.Ku=u,this.updateFunction=p,this.ls=_,this.N_=5,this.ys=new Va(this.cs,"transaction_retry")}return l.prototype.run=function(){this.F_()},l.prototype.F_=function(){var i=this;this.ys.gn(function(){return k.__awaiter(i,void 0,void 0,function(){var u,p,_=this;return k.__generator(this,function(I){return u=new Hc(this.Ku),(p=this.x_(u))&&p.then(function(R){_.cs.ws(function(){return u.commit().then(function(){_.ls.resolve(R)}).catch(function(U){_.k_(U)})})}).catch(function(R){_.k_(R)}),[2]})})})},l.prototype.x_=function(i){try{var u=this.updateFunction(i);return!Yr(u)&&u.catch&&u.then?u:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(p){return this.ls.reject(p),null}},l.prototype.k_=function(i){var u=this;this.N_>0&&this.M_(i)?(this.N_-=1,this.cs.ws(function(){return u.F_(),Promise.resolve()})):this.ls.reject(i)},l.prototype.M_=function(i){if("FirebaseError"===i.name){var u=i.code;return"aborted"===u||"failed-precondition"===u||!Ln(u)}return!1},l}(),od=function(){function l(i,u){this.credentials=i,this.cs=u,this.clientId=Mn.k(),this.O_=new Qr}return l.prototype.start=function(i,u,p,_){var I=this;this.L_(),this.bl=i;var R=new Qr,U=!1;return this.credentials.Hc(function(J){if(!U)return U=!0,Te("FirestoreClient","Initializing. user=",J.uid),I.B_(u,p,_,J,R).then(I.O_.resolve,I.O_.reject);I.cs.Cs(function(){return function(he,Ne){return k.__awaiter(this,void 0,void 0,function(){var Ze,Xe;return k.__generator(this,function(yt){switch(yt.label){case 0:return(Ze=qe(he)).cs.xs(),Te("RemoteStore","RemoteStore received new credentials"),Xe=Ps(Ze),Ze.Yu.add(3),[4,Jr(Ze)];case 1:return yt.sent(),Xe&&Ze.th.set("Unknown"),[4,Ze.Gu.Jl(Ne)];case 2:return yt.sent(),Ze.Yu.delete(3),[4,Wl(Ze)];case 3:return yt.sent(),[2]}})})}(I.ph,J)})}),this.cs.ws(function(){return I.O_.promise}),R.promise},l.prototype.enableNetwork=function(){var i=this;return this.L_(),this.cs.enqueue(function(){return i.persistence.tc(!0),(p=qe(i.ph)).Yu.delete(0),Wl(p);var p})},l.prototype.B_=function(i,u,p,_,I){return k.__awaiter(this,void 0,void 0,function(){var R,U,J=this;return k.__generator(this,function(he){switch(he.label){case 0:return he.trys.push([0,3,,4]),[4,i.initialize(R={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:_,Dh:100,persistenceSettings:p})];case 1:return he.sent(),[4,u.initialize(i,R)];case 2:return he.sent(),this.persistence=i.persistence,this.Sh=i.Sh,this.ju=i.ju,this.ql=i.ql,this.Ku=u.Ku,this.ph=u.ph,this.fi=u.fi,this.q_=u.bh,this.q_.Us=Df.bind(null,this.fi),this.q_.js=Af.bind(null,this.fi),this.persistence.Za(function(){return k.__awaiter(J,void 0,void 0,function(){return k.__generator(this,function(Ne){switch(Ne.label){case 0:return[4,this.terminate()];case 1:return Ne.sent(),[2]}})})}),I.resolve(),[3,4];case 3:if(U=he.sent(),I.reject(U),!this.U_(U))throw U;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+U),this.B_(new Ju,new Qa,{jl:!1},_,I))];case 4:return[2]}})})},l.prototype.U_=function(i){return"FirebaseError"===i.name?i.code===ae.FAILED_PRECONDITION||i.code===ae.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code},l.prototype.L_=function(){if(this.cs.ps)throw new Q(ae.FAILED_PRECONDITION,"The client has already been terminated.")},l.prototype.disableNetwork=function(){var i=this;return this.L_(),this.cs.enqueue(function(){return i.persistence.tc(!1),function(u){return k.__awaiter(this,void 0,void 0,function(){var p;return k.__generator(this,function(_){switch(_.label){case 0:return(p=qe(u)).Yu.add(0),[4,Jr(p)];case 1:return _.sent(),p.th.set("Offline"),[2]}})})}(i.ph)})},l.prototype.terminate=function(){var i=this;this.cs.Ds();var u=new Qr;return this.cs.bs(function(){return k.__awaiter(i,void 0,void 0,function(){var p,_;return k.__generator(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,xc(this.ph)];case 1:return I.sent(),[4,this.Sh.Di()];case 2:return I.sent(),[4,this.persistence.Di()];case 3:return I.sent(),this.credentials.Yc(),u.resolve(),[3,5];case 4:return p=I.sent(),_=St(p,"Failed to shutdown persistence"),u.reject(_),[3,5];case 5:return[2]}})})}),u.promise},l.prototype.waitForPendingWrites=function(){var i=this;this.L_();var u=new Qr;return this.cs.ws(function(){return function(p,_){return k.__awaiter(this,void 0,void 0,function(){var I,R,U,J,he;return k.__generator(this,function(Ne){switch(Ne.label){case 0:Ps((I=qe(p)).ph)||Te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),Ne.label=1;case 1:return Ne.trys.push([1,3,,4]),[4,(Ze=I.ju,Xe=qe(Ze),Xe.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(yt){return Xe.Sr.qo(yt)}))];case 2:return-1===(R=Ne.sent())?[2,void _.resolve()]:((U=I.Lh.get(R)||[]).push(_),I.Lh.set(R,U),[3,4]);case 3:return J=Ne.sent(),he=St(J,"Initialization of waitForPendingWrites() operation failed"),_.reject(he),[3,4];case 4:return[2]}var Ze,Xe})})}(i.fi,u)}),u.promise},l.prototype.listen=function(i,u,p){var _=this;this.L_();var I=new Ya(p),R=new Os(i,I,u);return this.cs.ws(function(){return Nr(_.q_,R)}),function(){I.Zl(),_.cs.ws(function(){return eo(_.q_,R)})}},l.prototype.Q_=function(i){return k.__awaiter(this,void 0,void 0,function(){var u,p=this;return k.__generator(this,function(_){switch(_.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return _.sent(),u=new Qr,[2,(this.cs.ws(function(){return function(I,R,U){return k.__awaiter(this,void 0,void 0,function(){var J,he,Ne;return k.__generator(this,function(Ze){switch(Ze.label){case 0:return Ze.trys.push([0,2,,3]),[4,(Xe=I,yt=R,kt=qe(Xe),kt.persistence.runTransaction("read document","readonly",function(Kt){return kt.Cc.Cr(Kt,yt)}))];case 1:return(J=Ze.sent())instanceof Rn?U.resolve(J):J instanceof Ci?U.resolve(null):U.reject(new Q(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return he=Ze.sent(),Ne=St(he,"Failed to get document '"+R+" from cache"),U.reject(Ne),[3,3];case 3:return[2]}var Xe,yt,kt})})}(p.ju,i,u)}),u.promise)]}})})},l.prototype.W_=function(i,u){return void 0===u&&(u={}),k.__awaiter(this,void 0,void 0,function(){var p,_=this;return k.__generator(this,function(I){switch(I.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return I.sent(),p=new Qr,[2,(this.cs.ws(function(){return R=_.q_,U=_.cs,J=i,he=u,Ne=p,Ze=new Ya({next:function(yt){U.ws(function(){return eo(R,Xe)});var kt=yt.docs.has(J);!kt&&yt.fromCache?Ne.reject(new Q(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):kt&&yt.fromCache&&he&&"server"===he.source?Ne.reject(new Q(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Ne.resolve(yt)},error:function(yt){return Ne.reject(yt)}}),Xe=new Os(Ko(J.path),Ze,{includeMetadataChanges:!0,Xs:!0}),Nr(R,Xe);var R,U,J,he,Ne,Ze,Xe}),p.promise)]}})})},l.prototype.j_=function(i){return k.__awaiter(this,void 0,void 0,function(){var u,p=this;return k.__generator(this,function(_){switch(_.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return _.sent(),u=new Qr,[2,(this.cs.ws(function(){return function(I,R,U){return k.__awaiter(this,void 0,void 0,function(){var J,he,Ne,Ze,Xe,yt;return k.__generator(this,function(kt){switch(kt.label){case 0:return kt.trys.push([0,2,,3]),[4,gu(I,R,!0)];case 1:return J=kt.sent(),he=new ed(R,J.Fc),Ne=he.wh(J.documents),Ze=he.yr(Ne,!1),U.resolve(Ze.snapshot),[3,3];case 2:return Xe=kt.sent(),yt=St(Xe,"Failed to execute query '"+R+" against cache"),U.reject(yt),[3,3];case 3:return[2]}})})}(p.ju,i,u)}),u.promise)]}})})},l.prototype.K_=function(i,u){return void 0===u&&(u={}),k.__awaiter(this,void 0,void 0,function(){var p,_=this;return k.__generator(this,function(I){switch(I.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return I.sent(),p=new Qr,[2,(this.cs.ws(function(){return R=_.q_,U=_.cs,J=i,he=u,Ne=p,Ze=new Ya({next:function(yt){U.ws(function(){return eo(R,Xe)}),yt.fromCache&&"server"===he.source?Ne.reject(new Q(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Ne.resolve(yt)},error:function(yt){return Ne.reject(yt)}}),Xe=new Os(J,Ze,{includeMetadataChanges:!0,Xs:!0}),Nr(R,Xe);var R,U,J,he,Ne,Ze,Xe}),p.promise)]}})})},l.prototype.write=function(i){var u=this;this.L_();var p=new Qr;return this.cs.ws(function(){return function(_,I,R){return k.__awaiter(this,void 0,void 0,function(){var U,J,he,Ne;return k.__generator(this,function(Ze){switch(Ze.label){case 0:U=Qu(_),Ze.label=1;case 1:return Ze.trys.push([1,5,,6]),[4,(Xe=U.ju,yt=I,Kt=qe(Xe),Kn=Un.now(),Gn=yt.reduce(function(lr,Cr){return lr.add(Cr.key)},Dt()),Kt.persistence.runTransaction("Locally write mutations","readwrite",function(lr){return Kt.Cc.kr(lr,Gn).next(function(Cr){kt=Cr;for(var Rr=[],di=0,Ai=yt;di<Ai.length;di++){var es=Ai[di],Tr=Fe(es,kt.get(es.key));null!=Tr&&Rr.push(new xn(es.key,Tr,gs(Tr.proto.mapValue),En.exists(!0)))}return Kt.Sr.ko(lr,Kn,Rr,yt)})}).then(function(lr){var Cr=lr.lr(kt);return{batchId:lr.batchId,wr:Cr}}))];case 2:return J=Ze.sent(),U.Sh.xi(J.batchId),function(Xe,yt,kt){var Kt=Xe.Oh[Xe.currentUser.ti()];Kt||(Kt=new tr(cn)),Kt=Kt.ot(yt,kt),Xe.Oh[Xe.currentUser.ti()]=Kt}(U,J.batchId,R),[4,Ku(U,J.wr)];case 3:return Ze.sent(),[4,uo(U.ph)];case 4:return Ze.sent(),[3,6];case 5:return he=Ze.sent(),Ne=St(he,"Failed to persist write"),R.reject(Ne),[3,6];case 6:return[2]}var Xe,yt,kt,Kt,Kn,Gn})})}(u.fi,i,p)}),p.promise},l.prototype.U=function(){return this.bl.U},l.prototype.G_=function(i){var u=this;this.L_();var p=new Ya(i);return this.cs.ws(function(){return k.__awaiter(u,void 0,void 0,function(){return k.__generator(this,function(_){return[2,(I=this.q_,R=p,qe(I).qs.add(R),void R.next())];var I,R})})}),function(){p.Zl(),u.cs.ws(function(){return k.__awaiter(u,void 0,void 0,function(){return k.__generator(this,function(_){return[2,(I=this.q_,R=p,void qe(I).qs.delete(R))];var I,R})})})}},Object.defineProperty(l.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),l.prototype.transaction=function(i){var u=this;this.L_();var p=new Qr;return this.cs.ws(function(){return new id(u.cs,u.Ku,i,p).run(),Promise.resolve()}),p.promise},l}();function Cl(l){return function(i,u){if("object"!=typeof i||null===i)return!1;for(var p=i,_=0,I=["next","error","complete"];_<I.length;_++){var R=I[_];if(R in p&&"function"==typeof p[R])return!0}return!1}(l)}var Iu=function(){function l(i,u,p,_,I){this.U=i,this.timestampsInSnapshots=u,this.H_=p,this.Y_=_,this.J_=I}return l.prototype.X_=function(i){switch(Be(i)){case 0:return null;case 1:return i.booleanValue;case 2:return br(i.integerValue||i.doubleValue);case 3:return this.Z_(i.timestampValue);case 4:return this.tf(i);case 5:return i.stringValue;case 6:return this.J_(nr(i.bytesValue));case 7:return this.ef(i.referenceValue);case 8:return this.nf(i.geoPointValue);case 9:return this.sf(i.arrayValue);case 10:return this.if(i.mapValue);default:throw ke()}},l.prototype.if=function(i){var u=this,p={};return Ut(i.fields||{},function(_,I){p[_]=u.X_(I)}),p},l.prototype.nf=function(i){return new Fc(br(i.latitude),br(i.longitude))},l.prototype.sf=function(i){var u=this;return(i.values||[]).map(function(p){return u.X_(p)})},l.prototype.tf=function(i){switch(this.H_){case"previous":var u=H(i);return null==u?null:this.X_(u);case"estimate":return this.Z_(oe(i));default:return null}},l.prototype.Z_=function(i){var u=vn(i),p=new Un(u.seconds,u.nanos);return this.timestampsInSnapshots?p:p.toDate()},l.prototype.ef=function(i){var u=Rt.g(i);He(js(u));var p=new _n(u.get(1),u.get(3)),_=new A(u.u(5));return p.isEqual(this.U)||wt("Document "+_+" contains a document reference within a different database ("+p.projectId+"/"+p.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(_)},l}(),sd=Ce.ho,Mf=function(){function l(i){var u,p,_,I,R;if(void 0===i.host){if(void 0!==i.ssl)throw new Q(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else _e("settings","non-empty string","host",i.host),this.host=i.host,at("settings","boolean","ssl",i.ssl),this.ssl=null===(u=i.ssl)||void 0===u||u;if(Ht("settings",i,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),at("settings","object","credentials",i.credentials),this.credentials=i.credentials,at("settings","boolean","timestampsInSnapshots",i.timestampsInSnapshots),at("settings","boolean","ignoreUndefinedProperties",i.ignoreUndefinedProperties),!0===i.timestampsInSnapshots?wt("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===i.timestampsInSnapshots&&wt("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(p=i.timestampsInSnapshots)||void 0===p||p,this.ignoreUndefinedProperties=null!==(_=i.ignoreUndefinedProperties)&&void 0!==_&&_,at("settings","number","cacheSizeBytes",i.cacheSizeBytes),void 0===i.cacheSizeBytes)this.cacheSizeBytes=Ce._o;else{if(i.cacheSizeBytes!==sd&&i.cacheSizeBytes<Ce.lo)throw new Q(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Ce.lo);this.cacheSizeBytes=i.cacheSizeBytes}at("settings","boolean","experimentalForceLongPolling",i.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(I=i.experimentalForceLongPolling)&&void 0!==I&&I,at("settings","boolean","experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(R=i.experimentalAutoDetectLongPolling)&&void 0!==R&&R,function(U,J,he,Ne){if(!0===J&&!0===Ne)throw new Q(ae.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,i.experimentalForceLongPolling,0,i.experimentalAutoDetectLongPolling)}return l.prototype.isEqual=function(i){return this.host===i.host&&this.ssl===i.ssl&&this.timestampsInSnapshots===i.timestampsInSnapshots&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties},l}(),kf=function(){function l(i,u,p,_){var I=this;if(void 0===p&&(p=new Ju),void 0===_&&(_=new Qa),this.rf=p,this.af=_,this.cf=null,this.uf=new rt,this.INTERNAL={delete:function(){return k.__awaiter(I,void 0,void 0,function(){return k.__generator(this,function(J){switch(J.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return J.sent(),[2]}})})}},"object"==typeof i.options){var R=i;this.cf=R,this.__=l._f(R),this.ff=R.name,this.df=new qu(u)}else{var U=i;if(!U.projectId)throw new Q(ae.INVALID_ARGUMENT,"Must provide projectId");this.__=new _n(U.projectId,U.database),this.ff="[DEFAULT]",this.df=new Gl}this.wf=new Mf({})}return Object.defineProperty(l.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new ua(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),l.prototype.settings=function(i){Z("Firestore.settings",arguments,1),fe("Firestore.settings","object",1,i),i.merge&&delete(i=Object.assign(Object.assign({},this.wf),i)).merge;var u=new Mf(i);if(this.lf&&!this.wf.isEqual(u))throw new Q(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=u,void 0!==u.credentials&&(this.df=function(p){if(!p)return new Gl;switch(p.type){case"gapi":var _=p.client;return He(!("object"!=typeof _||null===_||!_.auth||!_.auth.getAuthHeaderValueForFirstParty)),new Pc(_,p.sessionIndex||"0");case"provider":return p.client;default:throw new Q(ae.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(u.credentials))},l.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},l.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},l.prototype.enablePersistence=function(i){var u,p;if(this.lf)throw new Q(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var _=!1,I=!1;if(i&&(void 0!==i.experimentalTabSynchronization&&wt("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),_=null!==(p=null!==(u=i.synchronizeTabs)&&void 0!==u?u:i.experimentalTabSynchronization)&&void 0!==p&&p,I=!!i.experimentalForceOwningTab&&i.experimentalForceOwningTab,_&&I))throw new Q(ae.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:_,ka:I})},l.prototype.clearPersistence=function(){return k.__awaiter(this,void 0,void 0,function(){var i,u=this;return k.__generator(this,function(p){if(void 0!==this.lf&&!this.lf.z_)throw new Q(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return i=new Qr,[2,(this.uf.bs(function(){return k.__awaiter(u,void 0,void 0,function(){var _;return k.__generator(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return I.sent(),i.resolve(),[3,3];case 2:return _=I.sent(),i.reject(_),[3,3];case 3:return[2]}})})}),i.promise)]})})},l.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(l.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),l.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},l.prototype.onSnapshotsInSync=function(i){return this.hf(),Cl(i)?this.lf.G_(i):(fe("Firestore.onSnapshotsInSync","function",1,i),this.lf.G_({next:i}))},l.prototype.hf=function(){return this.lf||this.Ef(new Ju,new Qa,{jl:!1}),this.lf},l.prototype.Af=function(){return new tn(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},l.prototype.Ef=function(i,u,p){var _=this.Af();return this.lf=new od(this.df,this.uf),this.lf.start(_,i,u,p)},l._f=function(i){if(!Object.prototype.hasOwnProperty.call(i.options,"projectId"))throw new Q(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var p=i.options.projectId;if(!p||"string"!=typeof p)throw new Q(ae.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new _n(p)},Object.defineProperty(l.prototype,"app",{get:function(){if(!this.cf)throw new Q(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),l.prototype.collection=function(i){return Z("Firestore.collection",arguments,1),fe("Firestore.collection","non-empty string",1,i),this.hf(),new uc(Rt.g(i),this,null)},l.prototype.doc=function(i){return Z("Firestore.doc",arguments,1),fe("Firestore.doc","non-empty string",1,i),this.hf(),Du.Rf(Rt.g(i),this,null)},l.prototype.collectionGroup=function(i){if(Z("Firestore.collectionGroup",arguments,1),fe("Firestore.collectionGroup","non-empty string",1,i),i.indexOf("/")>=0)throw new Q(ae.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new sc((u=i,new zo(Rt.P(),u)),this,null);var u},l.prototype.runTransaction=function(i){var u=this;return Z("Firestore.runTransaction",arguments,1),fe("Firestore.runTransaction","function",1,i),this.hf().transaction(function(p){return i(new Xo(u,p))})},l.prototype.batch=function(){return this.hf(),new Tl(this)},Object.defineProperty(l,"logLevel",{get:function(){switch(ye()){case te.LogLevel.DEBUG:return"debug";case te.LogLevel.ERROR:return"error";case te.LogLevel.SILENT:return"silent";case te.LogLevel.WARN:return"warn";case te.LogLevel.INFO:return"info";case te.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),l.setLogLevel=function(i){Z("Firestore.setLogLevel",arguments,1),Ke("setLogLevel",["debug","error","silent","warn","info","verbose"],1,i),De.setLogLevel(i)},l.prototype.gf=function(){return this.wf.timestampsInSnapshots},l.prototype.Pf=function(){return this.wf},l}(),Xo=function(){function l(i,u){this.yf=i,this.Vf=u}return l.prototype.get=function(i){var u=this;Z("Transaction.get",arguments,1);var p=tl("Transaction.get",i,this.yf);return this.Vf.v_([p.f_]).then(function(_){if(!_||1!==_.length)return ke();var I=_[0];if(I instanceof Ci)return new rc(u.yf,p.f_,null,!1,!1,p.d_);if(I instanceof Rn)return new rc(u.yf,p.f_,I,!1,!1,p.d_);throw ke()})},l.prototype.set=function(i,u,p){ce("Transaction.set",arguments,2,3);var _=tl("Transaction.set",i,this.yf);p=Sl("Transaction.set",p);var I=Ah(_.d_,u,p),R=xf(this.yf.mf,"Transaction.set",_.f_,I,null!==_.d_,p);return this.Vf.set(_.f_,R),this},l.prototype.update=function(i,u,p){for(var _,I,R=[],U=3;U<arguments.length;U++)R[U-3]=arguments[U];return"string"==typeof u||u instanceof Pa?(L("Transaction.update",arguments,3),_=tl("Transaction.update",i,this.yf),I=El(this.yf.mf,"Transaction.update",_.f_,u,p,R)):(Z("Transaction.update",arguments,2),_=tl("Transaction.update",i,this.yf),I=Ss(this.yf.mf,"Transaction.update",_.f_,u)),this.Vf.update(_.f_,I),this},l.prototype.delete=function(i){Z("Transaction.delete",arguments,1);var u=tl("Transaction.delete",i,this.yf);return this.Vf.delete(u.f_),this},l}(),Tl=function(){function l(i){this.yf=i,this.pf=[],this.bf=!1}return l.prototype.set=function(i,u,p){ce("WriteBatch.set",arguments,2,3),this.vf();var _=tl("WriteBatch.set",i,this.yf);p=Sl("WriteBatch.set",p);var I=Ah(_.d_,u,p),R=xf(this.yf.mf,"WriteBatch.set",_.f_,I,null!==_.d_,p);return this.pf=this.pf.concat(R.w_(_.f_,En.ze())),this},l.prototype.update=function(i,u,p){for(var _,I,R=[],U=3;U<arguments.length;U++)R[U-3]=arguments[U];return this.vf(),"string"==typeof u||u instanceof Pa?(L("WriteBatch.update",arguments,3),_=tl("WriteBatch.update",i,this.yf),I=El(this.yf.mf,"WriteBatch.update",_.f_,u,p,R)):(Z("WriteBatch.update",arguments,2),_=tl("WriteBatch.update",i,this.yf),I=Ss(this.yf.mf,"WriteBatch.update",_.f_,u)),this.pf=this.pf.concat(I.w_(_.f_,En.exists(!0))),this},l.prototype.delete=function(i){Z("WriteBatch.delete",arguments,1),this.vf();var u=tl("WriteBatch.delete",i,this.yf);return this.pf=this.pf.concat(new Er(u.f_,En.ze())),this},l.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},l.prototype.vf=function(){if(this.bf)throw new Q(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},l}(),Du=function(l){function i(u,p,_){var I=this;return(I=l.call(this,p.__,u,_)||this).f_=u,I.firestore=p,I.d_=_,I.lf=I.firestore.hf(),I}return k.__extends(i,l),i.Rf=function(u,p,_){if(u.length%2!=0)throw new Q(ae.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+u.R()+" has "+u.length);return new i(new A(u),p,_)},Object.defineProperty(i.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new uc(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),i.prototype.collection=function(u){if(Z("DocumentReference.collection",arguments,1),fe("DocumentReference.collection","non-empty string",1,u),!u)throw new Q(ae.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var p=Rt.g(u);return new uc(this.f_.path.child(p),this.firestore,null)},i.prototype.isEqual=function(u){if(!(u instanceof i))throw wn("isEqual","DocumentReference",1,u);return this.firestore===u.firestore&&this.f_.isEqual(u.f_)&&this.d_===u.d_},i.prototype.set=function(u,p){ce("DocumentReference.set",arguments,1,2),p=Sl("DocumentReference.set",p);var _=Ah(this.d_,u,p),I=xf(this.firestore.mf,"DocumentReference.set",this.f_,_,null!==this.d_,p);return this.lf.write(I.w_(this.f_,En.ze()))},i.prototype.update=function(u,p){for(var _,I=[],R=2;R<arguments.length;R++)I[R-2]=arguments[R];return"string"==typeof u||u instanceof Pa?(L("DocumentReference.update",arguments,2),_=El(this.firestore.mf,"DocumentReference.update",this.f_,u,p,I)):(Z("DocumentReference.update",arguments,1),_=Ss(this.firestore.mf,"DocumentReference.update",this.f_,u)),this.lf.write(_.w_(this.f_,En.exists(!0)))},i.prototype.delete=function(){return Z("DocumentReference.delete",arguments,0),this.lf.write([new Er(this.f_,En.ze())])},i.prototype.onSnapshot=function(){for(var u,p,_,I=this,R=[],U=0;U<arguments.length;U++)R[U]=arguments[U];ce("DocumentReference.onSnapshot",arguments,1,4);var J={includeMetadataChanges:!1},he=0;"object"!=typeof R[he]||Cl(R[he])||(Ht("DocumentReference.onSnapshot",J=R[he],["includeMetadataChanges"]),at("DocumentReference.onSnapshot","boolean","includeMetadataChanges",J.includeMetadataChanges),he++);var Ne={includeMetadataChanges:J.includeMetadataChanges};if(Cl(R[he])){var Ze=R[he];R[he]=null===(u=Ze.next)||void 0===u?void 0:u.bind(Ze),R[he+1]=null===(p=Ze.error)||void 0===p?void 0:p.bind(Ze),R[he+2]=null===(_=Ze.complete)||void 0===_?void 0:_.bind(Ze)}else fe("DocumentReference.onSnapshot","function",he,R[he]),$t("DocumentReference.onSnapshot","function",he+1,R[he+1]),$t("DocumentReference.onSnapshot","function",he+2,R[he+2]);var Xe={next:function(yt){R[he]&&R[he](I.Sf(yt))},error:R[he+1],complete:R[he+2]};return this.lf.listen(Ko(this.f_.path),Ne,Xe)},i.prototype.get=function(u){var p=this;ce("DocumentReference.get",arguments,0,1),Lf("DocumentReference.get",u);var _=this.firestore.hf();return u&&"cache"===u.source?_.Q_(this.f_).then(function(I){return new rc(p.firestore,p.f_,I,!0,I instanceof Rn&&I.Je,p.d_)}):_.W_(this.f_,u).then(function(I){return p.Sf(I)})},i.prototype.withConverter=function(u){return new i(this.f_,this.firestore,u)},i.prototype.Sf=function(u){var p=u.docs.get(this.f_);return new rc(this.firestore,this.f_,p,u.fromCache,u.hasPendingWrites,this.d_)},i}(Za),Ih=function(){function l(i,u){this.hasPendingWrites=i,this.fromCache=u}return l.prototype.isEqual=function(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache},l}(),rc=function(){function l(i,u,p,_,I,R){this.yf=i,this.f_=u,this.Df=p,this.Cf=_,this.Nf=I,this.d_=R}return l.prototype.data=function(i){var u=this;if(ce("DocumentSnapshot.data",arguments,0,1),i=zs("DocumentSnapshot.data",i),this.Df){if(this.d_){var p=new ic(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(p,i)}return new Iu(this.yf.__,this.yf.gf(),i.serverTimestamps||"none",function(_){return new Du(_,u.yf,null)},function(_){return new Qt(_)}).X_(this.Df.rn())}},l.prototype.get=function(i,u){var p=this;if(ce("DocumentSnapshot.get",arguments,1,2),u=zs("DocumentSnapshot.get",u),this.Df){var _=this.Df.data().field($s("DocumentSnapshot.get",i,this.f_));if(null!==_)return new Iu(this.yf.__,this.yf.gf(),u.serverTimestamps||"none",function(I){return new Du(I,p.yf,p.d_)},function(I){return new Qt(I)}).X_(_)}},Object.defineProperty(l.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"ref",{get:function(){return new Du(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"metadata",{get:function(){return new Ih(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(i){if(!(i instanceof l))throw wn("isEqual","DocumentSnapshot",1,i);return this.yf===i.yf&&this.Cf===i.Cf&&this.f_.isEqual(i.f_)&&(null===this.Df?null===i.Df:this.Df.isEqual(i.Df))&&this.d_===i.d_},l}(),ic=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return k.__extends(i,l),i.prototype.data=function(u){return l.prototype.data.call(this,u)},i}(rc);function Ff(l,i,u,p,_,I,R){var U;if(_.p()){if("array-contains"===I||"array-contains-any"===I)throw new Q(ae.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+I+"' queries on FieldPath.documentId().");if("in"===I||"not-in"===I){Ja(R,I);for(var J=[],he=0,Ne=R;he<Ne.length;he++)J.push(oc(p,l,Ne[he]));U={arrayValue:{values:J}}}else U=oc(p,l,R)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||Ja(R,I),U=Ho(u,i,R,"in"===I||"not-in"===I);var Xe=Ar.create(_,I,U);return function(yt,kt){if(kt.hn()){var Kt=Mr(yt);if(null!==Kt&&!Kt.isEqual(kt.field))throw new Q(ae.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+Kt.toString()+"' and '"+kt.field.toString()+"'");var Kn=on(yt);null!==Kn&&Dh(0,kt.field,Kn)}var Gn=function(lr,Cr){for(var Rr=0,di=lr.filters;Rr<di.length;Rr++){var Ai=di[Rr];if(Cr.indexOf(Ai.op)>=0)return Ai.op}return null}(yt,function(lr){switch(lr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(kt.op));if(null!==Gn)throw new Q(ae.INVALID_ARGUMENT,Gn===kt.op?"Invalid query. You cannot use more than one '"+kt.op.toString()+"' filter.":"Invalid query. You cannot use '"+kt.op.toString()+"' filters with '"+Gn.toString()+"' filters.")}(l,Xe),Xe}function fp(l,i,u){if(null!==l.startAt)throw new Q(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Q(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var p=new As(i,u);return function(_,I){if(null===on(_)){var R=Mr(_);null!==R&&Dh(0,R,I.field)}}(l,p),p}function oc(l,i,u){if("string"==typeof u){if(""===u)throw new Q(ae.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ms(i)&&-1!==u.indexOf("/"))throw new Q(ae.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+u+"' contains a '/' character.");var p=i.path.child(Rt.g(u));if(!A.F(p))throw new Q(ae.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+p+"' is not because it has an odd number of segments ("+p.length+").");return vr(l,new A(p))}if(u instanceof Za)return vr(l,u.f_);throw new Q(ae.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Bt(u)+".")}function Ja(l,i){if(!Array.isArray(l)||0===l.length)throw new Q(ae.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+i.toString()+"' filters.");if(l.length>10)throw new Q(ae.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===i||"array-contains-any"===i){if(l.indexOf(null)>=0)throw new Q(ae.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters cannot contain 'null' in the value array.");if(l.filter(function(u){return Number.isNaN(u)}).length>0)throw new Q(ae.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters cannot contain 'NaN' in the value array.")}}function Dh(l,i,u){if(!u.isEqual(i))throw new Q(ae.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+i.toString()+"' and so you must also use '"+i.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+u.toString()+"' instead.")}function Gc(l){if(Uo(l)&&0===l.on.length)throw new Q(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sc=function(){function l(i,u,p){this.Ff=i,this.firestore=u,this.d_=p}return l.prototype.where=function(i,u,p){Z("Query.where",arguments,3),yn("Query.where",3,p);var U,he,_=Ke("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,u),I=$s("Query.where",i),R=Ff(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,I,_,p);return new l((he=(U=this.Ff).filters.concat([R]),new zo(U.path,U.collectionGroup,U.on.slice(),he,U.limit,U.an,U.startAt,U.endAt)),this.firestore,this.d_)},l.prototype.orderBy=function(i,u){var p;if(ce("Query.orderBy",arguments,1,2),$t("Query.orderBy","non-empty string",2,u),void 0===u||"asc"===u)p="asc";else{if("desc"!==u)throw new Q(ae.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+u+"', expected 'asc' or 'desc'.");p="desc"}var R,J,_=$s("Query.orderBy",i),I=fp(this.Ff,_,p);return new l((J=(R=this.Ff).on.concat([I]),new zo(R.path,R.collectionGroup,J,R.filters.slice(),R.limit,R.an,R.startAt,R.endAt)),this.firestore,this.d_)},l.prototype.limit=function(i){return Z("Query.limit",arguments,1),fe("Query.limit","number",1,i),pn("Query.limit",1,i),new l(bo(this.Ff,i,"F"),this.firestore,this.d_)},l.prototype.limitToLast=function(i){return Z("Query.limitToLast",arguments,1),fe("Query.limitToLast","number",1,i),pn("Query.limitToLast",1,i),new l(bo(this.Ff,i,"L"),this.firestore,this.d_)},l.prototype.startAt=function(i){for(var u=[],p=1;p<arguments.length;p++)u[p-1]=arguments[p];L("Query.startAt",arguments,1);var _=this.xf("Query.startAt",i,u,!0);return new l(Eo(this.Ff,_),this.firestore,this.d_)},l.prototype.startAfter=function(i){for(var u=[],p=1;p<arguments.length;p++)u[p-1]=arguments[p];L("Query.startAfter",arguments,1);var _=this.xf("Query.startAfter",i,u,!1);return new l(Eo(this.Ff,_),this.firestore,this.d_)},l.prototype.endBefore=function(i){for(var u=[],p=1;p<arguments.length;p++)u[p-1]=arguments[p];L("Query.endBefore",arguments,1);var _=this.xf("Query.endBefore",i,u,!0);return new l(Fa(this.Ff,_),this.firestore,this.d_)},l.prototype.endAt=function(i){for(var u=[],p=1;p<arguments.length;p++)u[p-1]=arguments[p];L("Query.endAt",arguments,1);var _=this.xf("Query.endAt",i,u,!1);return new l(Fa(this.Ff,_),this.firestore,this.d_)},l.prototype.isEqual=function(i){if(!(i instanceof l))throw wn("isEqual","Query",1,i);return this.firestore===i.firestore&&Si(this.Ff,i.Ff)&&this.d_===i.d_},l.prototype.withConverter=function(i){return new l(this.Ff,this.firestore,i)},l.prototype.xf=function(i,u,p,_){if(yn(i,1,u),u instanceof rc)return Z(i,k.__spreadArrays([u],p),1),function(R,U,J,he,Ne){if(!he)throw new Q(ae.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+J+"().");for(var Ze=[],Xe=0,yt=qr(R);Xe<yt.length;Xe++){var kt=yt[Xe];if(kt.field.p())Ze.push(vr(U,he.key));else{var Kt=he.field(kt.field);if(ue(Kt))throw new Q(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+kt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Kt){var Kn=kt.field.R();throw new Q(ae.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Kn+"' (used as the orderBy) does not exist.")}Ze.push(Kt)}}return new ss(Ze,Ne)}(this.Ff,this.firestore.__,i,u.Df,_);var I=[u].concat(p);return function(R,U,J,he,Ne,Ze){var Xe=R.on;if(Ne.length>Xe.length)throw new Q(ae.INVALID_ARGUMENT,"Too many arguments provided to "+he+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var yt=[],kt=0;kt<Ne.length;kt++){var Kt=Ne[kt];if(Xe[kt].field.p()){if("string"!=typeof Kt)throw new Q(ae.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+he+"(), but got a "+typeof Kt);if(!ms(R)&&-1!==Kt.indexOf("/"))throw new Q(ae.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+he+"() must be a plain document ID, but '"+Kt+"' contains a slash.");var Kn=R.path.child(Rt.g(Kt));if(!A.F(Kn))throw new Q(ae.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+he+"() must result in a valid document path, but '"+Kn+"' is not because it contains an odd number of segments.");var Gn=new A(Kn);yt.push(vr(U,Gn))}else{var lr=Ho(J,he,Kt);yt.push(lr)}}return new ss(yt,Ze)}(this.Ff,this.firestore.__,this.firestore.mf,i,I,_)},l.prototype.onSnapshot=function(){for(var i,u,p,_=this,I=[],R=0;R<arguments.length;R++)I[R]=arguments[R];ce("Query.onSnapshot",arguments,1,4);var U={},J=0;if("object"!=typeof I[J]||Cl(I[J])||(Ht("Query.onSnapshot",U=I[J],["includeMetadataChanges"]),at("Query.onSnapshot","boolean","includeMetadataChanges",U.includeMetadataChanges),J++),Cl(I[J])){var he=I[J];I[J]=null===(i=he.next)||void 0===i?void 0:i.bind(he),I[J+1]=null===(u=he.error)||void 0===u?void 0:u.bind(he),I[J+2]=null===(p=he.complete)||void 0===p?void 0:p.bind(he)}else fe("Query.onSnapshot","function",J,I[J]),$t("Query.onSnapshot","function",J+1,I[J+1]),$t("Query.onSnapshot","function",J+2,I[J+2]);var Ne={next:function(Ze){I[J]&&I[J](new ac(_.firestore,_.Ff,Ze,_.d_))},error:I[J+1],complete:I[J+2]};return Gc(this.Ff),this.firestore.hf().listen(this.Ff,U,Ne)},l.prototype.get=function(i){var u=this;ce("Query.get",arguments,0,1),Lf("Query.get",i),Gc(this.Ff);var p=this.firestore.hf();return(i&&"cache"===i.source?p.j_(this.Ff):p.K_(this.Ff,i)).then(function(_){return new ac(u.firestore,u.Ff,_,u.d_)})},l}(),ac=function(){function l(i,u,p,_){this.yf=i,this.$f=u,this.kf=p,this.d_=_,this.Mf=null,this.Of=null,this.metadata=new Ih(p.hasPendingWrites,p.fromCache)}return Object.defineProperty(l.prototype,"docs",{get:function(){var i=[];return this.forEach(function(u){return i.push(u)}),i},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),l.prototype.forEach=function(i,u){var p=this;ce("QuerySnapshot.forEach",arguments,1,2),fe("QuerySnapshot.forEach","function",1,i),this.kf.docs.forEach(function(_){i.call(u,p.Lf(_,p.metadata.fromCache,p.kf.Wt.has(_.key)))})},Object.defineProperty(l.prototype,"query",{get:function(){return new sc(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),l.prototype.docChanges=function(i){i&&(Ht("QuerySnapshot.docChanges",i,["includeMetadataChanges"]),at("QuerySnapshot.docChanges","boolean","includeMetadataChanges",i.includeMetadataChanges));var u=!(!i||!i.includeMetadataChanges);if(u&&this.kf.Kt)throw new Q(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===u||(this.Mf=function(p,_,I){if(p.Qt.m()){var R=0;return p.docChanges.map(function(J){return{type:"added",doc:I(J.doc,p.fromCache,p.Wt.has(J.doc.key)),oldIndex:-1,newIndex:R++}})}var U=p.Qt;return p.docChanges.filter(function(J){return _||3!==J.type}).map(function(J){var he=I(J.doc,p.fromCache,p.Wt.has(J.doc.key)),Ne=-1,Ze=-1;return 0!==J.type&&(Ne=U.indexOf(J.doc.key),U=U.delete(J.doc.key)),1!==J.type&&(Ze=(U=U.add(J.doc)).indexOf(J.doc.key)),{type:cg(J.type),doc:he,oldIndex:Ne,newIndex:Ze}})}(this.kf,u,this.Lf.bind(this)),this.Of=u),this.Mf},l.prototype.isEqual=function(i){if(!(i instanceof l))throw wn("isEqual","QuerySnapshot",1,i);return this.yf===i.yf&&Si(this.$f,i.$f)&&this.kf.isEqual(i.kf)&&this.d_===i.d_},l.prototype.Lf=function(i,u,p){return new ic(this.yf,i.key,i,u,p,this.d_)},l}(),uc=function(l){function i(u,p,_){var I=this;if((I=l.call(this,Ko(u),p,_)||this).Bf=u,u.length%2!=1)throw new Q(ae.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+u.R()+" has "+u.length);return I}return k.__extends(i,l),Object.defineProperty(i.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var u=this.Ff.path.h();return u.m()?null:new Du(new A(u),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),i.prototype.doc=function(u){ce("CollectionReference.doc",arguments,0,1),0===arguments.length&&(u=Mn.k()),fe("CollectionReference.doc","non-empty string",1,u);var p=Rt.g(u);return Du.Rf(this.Ff.path.child(p),this.firestore,this.d_)},i.prototype.add=function(u){Z("CollectionReference.add",arguments,1);var p=this.d_?this.d_.toFirestore(u):u;fe("CollectionReference.add","object",1,p);var _=this.doc();return new Du(_.f_,this.firestore,null).set(p).then(function(){return _})},i.prototype.withConverter=function(u){return new i(this.Bf,this.firestore,u)},i}(sc);function Sl(l,i){if(void 0===i)return{merge:!1};if(Ht(l,i,["merge","mergeFields"]),at(l,"boolean","merge",i.merge),void 0!==(I=i.mergeFields)&&function(U,J,he,Ne,Ze){if(!(Ne instanceof Array))throw new Q(ae.INVALID_ARGUMENT,"Function "+U+"() requires its "+J+" option to be an array, but it was: "+Bt(Ne));for(var Xe=0;Xe<Ne.length;++Xe)if(!Ze(Ne[Xe]))throw new Q(ae.INVALID_ARGUMENT,"Function "+U+"() requires all "+J+" elements to be a string or a FieldPath, but the value at index "+Xe+" was: "+Bt(Ne[Xe]))}(l,"mergeFields",0,I,function(u){return"string"==typeof u||u instanceof Pa}),void 0!==i.mergeFields&&void 0!==i.merge)throw new Q(ae.INVALID_ARGUMENT,"Invalid options passed to function "+l+'(): You cannot specify both "merge" and "mergeFields".');var I;return i}function zs(l,i){return void 0===i?{}:(Ht(l,i,["serverTimestamps"]),zt(l,0,"serverTimestamps",i.serverTimestamps,["estimate","previous","none"]),i)}function Lf(l,i){$t(l,"object",1,i),i&&(Ht(l,i,["source"]),zt(l,0,"source",i.source,["default","server","cache"]))}function tl(l,i,u){if(i instanceof Za){if(i.firestore!==u)throw new Q(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}throw wn(l,"DocumentReference",1,i)}function cg(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}function Ah(l,i,u){return l?u&&(u.merge||u.mergeFields)?l.toFirestore(i,u):l.toFirestore(i):i}var hp=function(l){function i(){return null!==l&&l.apply(this,arguments)||this}return k.__extends(i,l),i.serverTimestamp=function(){G("FieldValue.serverTimestamp",arguments);var u=new wl("serverTimestamp");return u.e_="FieldValue.serverTimestamp",new i(u)},i.delete=function(){G("FieldValue.delete",arguments);var u=new el("deleteField");return u.e_="FieldValue.delete",new i(u)},i.arrayUnion=function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];L("FieldValue.arrayUnion",arguments,1);var _=function(){for(var I=[],R=0;R<arguments.length;R++)I[R]=arguments[R];return L("arrayUnion()",arguments,1),new bl("arrayUnion",I)}.apply(void 0,u);return _.e_="FieldValue.arrayUnion",new i(_)},i.arrayRemove=function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];L("FieldValue.arrayRemove",arguments,1);var _=function(){for(var I=[],R=0;R<arguments.length;R++)I[R]=arguments[R];return L("arrayRemove()",arguments,1),new Ch("arrayRemove",I)}.apply(void 0,u);return _.e_="FieldValue.arrayRemove",new i(_)},i.increment=function(u){fe("FieldValue.increment","number",1,u),Z("FieldValue.increment",arguments,1);var p=new Gi("increment",u);return p.e_="FieldValue.increment",new i(p)},i.prototype.isEqual=function(u){return this.l_.isEqual(u.l_)},i}(Lc),dp={Firestore:kf,GeoPoint:Fc,Timestamp:Un,Blob:Qt,Transaction:Xo,WriteBatch:Tl,DocumentReference:Du,DocumentSnapshot:rc,Query:sc,QueryDocumentSnapshot:ic,QuerySnapshot:ac,CollectionReference:uc,FieldPath:Pa,FieldValue:hp,setLogLevel:kf.setLogLevel,CACHE_SIZE_UNLIMITED:sd};function ad(l){l.INTERNAL.registerComponent(new Ye.Component("firestore",function(p){return _=p.getProvider("app").getImmediate(),I=p.getProvider("auth-internal"),R=new Qa,U=new mm(R),new kf(_,I,U,R);var _,I,R,U},"PUBLIC").setServiceProps(Object.assign({},dp))),l.registerVersion("@firebase/firestore","1.18.0")}ad(Je.default),We.__PRIVATE_registerFirestore=ad},9800:(Vn,We,pe)=>{"use strict";var k=pe(6279),m=pe(2483),te=pe(1100);function mt(Mt){return Mt&&"object"==typeof Mt&&"default"in Mt?Mt:{default:Mt}}var Le=mt(k),Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tt=function(Mt){function ft(Rt,O,F){var A=Mt.call(this,O)||this;return Object.setPrototypeOf(A,ft.prototype),A.code=Rt,A.details=F,A}return m.__extends(ft,Mt),ft}(Error),Q=function(){function Mt(ft,Rt){var O=this;this.auth=null,this.messaging=null,this.auth=ft.getImmediate({optional:!0}),this.messaging=Rt.getImmediate({optional:!0}),this.auth||ft.get().then(function(F){return O.auth=F},function(){}),this.messaging||Rt.get().then(function(F){return O.messaging=F},function(){})}return Mt.prototype.getAuthToken=function(){return m.__awaiter(this,void 0,void 0,function(){var ft;return m.__generator(this,function(O){switch(O.label){case 0:if(!this.auth)return[2,void 0];O.label=1;case 1:return O.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(ft=O.sent())?[2,ft.accessToken]:[2,void 0];case 3:return O.sent(),[2,void 0];case 4:return[2]}})})},Mt.prototype.getInstanceIdToken=function(){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(ft){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(Rt){return[2,void 0]}return[2]})})},Mt.prototype.getContext=function(){return m.__awaiter(this,void 0,void 0,function(){var ft,Rt;return m.__generator(this,function(O){switch(O.label){case 0:return[4,this.getAuthToken()];case 1:return ft=O.sent(),[4,this.getInstanceIdToken()];case 2:return Rt=O.sent(),[2,{authToken:ft,instanceIdToken:Rt}]}})})},Mt}();function Te(Mt,ft){var Rt={};for(var O in Mt)Mt.hasOwnProperty(O)&&(Rt[O]=ft(Mt[O]));return Rt}var Mt,ft,Rt,wt=function(){function Mt(){}return Mt.prototype.encode=function(ft){var Rt=this;if(null==ft)return null;if(ft instanceof Number&&(ft=ft.valueOf()),"number"==typeof ft&&isFinite(ft)||!0===ft||!1===ft||"[object String]"===Object.prototype.toString.call(ft))return ft;if(Array.isArray(ft))return ft.map(function(O){return Rt.encode(O)});if("function"==typeof ft||"object"==typeof ft)return Te(ft,function(O){return Rt.encode(O)});throw new Error("Data cannot be encoded in JSON: "+ft)},Mt.prototype.decode=function(ft){var Rt=this;if(null==ft)return ft;if(ft["@type"])switch(ft["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var O=Number(ft.value);if(isNaN(O))throw new Error("Data cannot be decoded from JSON: "+ft);return O;default:throw new Error("Data cannot be decoded from JSON: "+ft)}return Array.isArray(ft)?ft.map(function(F){return Rt.decode(F)}):"function"==typeof ft||"object"==typeof ft?Te(ft,function(F){return Rt.decode(F)}):ft},Mt}(),it=function(){function Mt(ft,Rt,O,F,A){var G=this;void 0===F&&(F="us-central1"),this.app_=ft,this.fetchImpl=A,this.serializer=new wt,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(G.deleteService())}},this.contextProvider=new Q(Rt,O),this.cancelAllRequests=new Promise(function(L){G.deleteService=function(){return L()}});try{var Z=new URL(F);this.customDomain=Z.origin,this.region="us-central1"}catch(L){this.customDomain=null,this.region=F}}return Object.defineProperty(Mt.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Mt.prototype._url=function(ft){var Rt=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+Rt+"/"+this.region+"/"+ft:null!==this.customDomain?this.customDomain+"/"+ft:"https://"+this.region+"-"+Rt+".cloudfunctions.net/"+ft},Mt.prototype.useFunctionsEmulator=function(ft){this.emulatorOrigin=ft},Mt.prototype.httpsCallable=function(ft,Rt){var O=this;return function(F){return O.call(ft,F,Rt||{})}},Mt.prototype.postJSON=function(ft,Rt,O){return m.__awaiter(this,void 0,void 0,function(){var F,G;return m.__generator(this,function(L){switch(L.label){case 0:O["Content-Type"]="application/json",L.label=1;case 1:return L.trys.push([1,3,,4]),[4,this.fetchImpl(ft,{method:"POST",body:JSON.stringify(Rt),headers:O})];case 2:return F=L.sent(),[3,4];case 3:return L.sent(),[2,{status:0,json:null}];case 4:G=null,L.label=5;case 5:return L.trys.push([5,7,,8]),[4,F.json()];case 6:return G=L.sent(),[3,8];case 7:return L.sent(),[3,8];case 8:return[2,{status:F.status,json:G}]}})})},Mt.prototype.call=function(ft,Rt,O){return m.__awaiter(this,void 0,void 0,function(){var F,A,G,Z,ce,fe,$t,_e,at,zt;return m.__generator(this,function(Ge){switch(Ge.label){case 0:return F=this._url(ft),Rt=this.serializer.encode(Rt),A={data:Rt},G={},[4,this.contextProvider.getContext()];case 1:return(Z=Ge.sent()).authToken&&(G.Authorization="Bearer "+Z.authToken),Z.instanceIdToken&&(G["Firebase-Instance-ID-Token"]=Z.instanceIdToken),ce=function(Mt){var ft,Rt=new Promise(function(O,F){ft=setTimeout(function(){F(new tt("deadline-exceeded","deadline-exceeded"))},Mt)});return{timer:ft,promise:Rt}}(O.timeout||7e4),fe=ce.timer,$t=ce.promise,[4,Promise.race([ke(fe,this.postJSON(F,A,G)),$t,ke(fe,this.cancelAllRequests)])];case 2:if(!(_e=Ge.sent()))throw new tt("cancelled","Firebase Functions instance was deleted.");if(at=function(Mt,ft,Rt){var O=function(Mt){if(Mt>=200&&Mt<300)return"ok";switch(Mt){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(Mt),F=O,A=void 0;try{var G=ft&&ft.error;if(G){var Z=G.status;if("string"==typeof Z){if(!Ye[Z])return new tt("internal","internal");O=Ye[Z],F=Z}var L=G.message;"string"==typeof L&&(F=L),void 0!==(A=G.details)&&(A=Rt.decode(A))}}catch(ce){}return"ok"===O?null:new tt(O,F,A)}(_e.status,_e.json,this.serializer))throw at;if(!_e.json)throw new tt("internal","Response is not valid JSON object.");if(void 0===(zt=_e.json.data)&&(zt=_e.json.result),void 0===zt)throw new tt("internal","Response is missing data field.");return[2,{data:this.serializer.decode(zt)}]}})})},Mt}();function ke(Mt,ft){return m.__awaiter(this,void 0,void 0,function(){var Rt;return m.__generator(this,function(O){switch(O.label){case 0:return[4,ft];case 1:return Rt=O.sent(),clearTimeout(Mt),[2,Rt]}})})}Mt=Le.default,ft=fetch.bind(self),Rt={Functions:it},Mt.INTERNAL.registerComponent(new te.Component("functions",function(F,A){var G=F.getProvider("app").getImmediate(),Z=F.getProvider("auth-internal"),L=F.getProvider("messaging");return new it(G,Z,L,A,ft)},"PUBLIC").setServiceProps(Rt).setMultipleInstances(!0)),Le.default.registerVersion("@firebase/functions","0.5.1")},7918:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{registerInstallations:()=>ue});var k=pe(6279),m=pe(1100),Le=function(){return(Le=Object.assign||function(oe){for(var Ee,Be=1,Me=arguments.length;Be<Me;Be++)for(var ut in Ee=arguments[Be])Object.prototype.hasOwnProperty.call(Ee,ut)&&(oe[ut]=Ee[ut]);return oe}).apply(this,arguments)};function Q(H,oe,Ee,Be){return new(Ee||(Ee=Promise))(function(ut,Jt){function ln(vn){try{An(Be.next(vn))}catch(br){Jt(br)}}function qn(vn){try{An(Be.throw(vn))}catch(br){Jt(br)}}function An(vn){vn.done?ut(vn.value):function(ut){return ut instanceof Ee?ut:new Ee(function(Jt){Jt(ut)})}(vn.value).then(ln,qn)}An((Be=Be.apply(H,oe||[])).next())})}function De(H,oe){var Be,Me,ut,Jt,Ee={label:0,sent:function(){if(1&ut[0])throw ut[1];return ut[1]},trys:[],ops:[]};return Jt={next:ln(0),throw:ln(1),return:ln(2)},"function"==typeof Symbol&&(Jt[Symbol.iterator]=function(){return this}),Jt;function ln(An){return function(vn){return function(An){if(Be)throw new TypeError("Generator is already executing.");for(;Ee;)try{if(Be=1,Me&&(ut=2&An[0]?Me.return:An[0]?Me.throw||((ut=Me.return)&&ut.call(Me),0):Me.next)&&!(ut=ut.call(Me,An[1])).done)return ut;switch(Me=0,ut&&(An=[2&An[0],ut.value]),An[0]){case 0:case 1:ut=An;break;case 4:return Ee.label++,{value:An[1],done:!1};case 5:Ee.label++,Me=An[1],An=[0];continue;case 7:An=Ee.ops.pop(),Ee.trys.pop();continue;default:if(!(ut=(ut=Ee.trys).length>0&&ut[ut.length-1])&&(6===An[0]||2===An[0])){Ee=0;continue}if(3===An[0]&&(!ut||An[1]>ut[0]&&An[1]<ut[3])){Ee.label=An[1];break}if(6===An[0]&&Ee.label<ut[1]){Ee.label=ut[1],ut=An;break}if(ut&&Ee.label<ut[2]){Ee.label=ut[2],Ee.ops.push(An);break}ut[2]&&Ee.ops.pop(),Ee.trys.pop();continue}An=oe.call(H,Ee)}catch(vn){An=[6,vn],Me=0}finally{Be=ut=0}if(5&An[0])throw An[1];return{value:An[0]?An[1]:void 0,done:!0}}([An,vn])}}}function wt(H){var oe="function"==typeof Symbol&&Symbol.iterator,Ee=oe&&H[oe],Be=0;if(Ee)return Ee.call(H);if(H&&"number"==typeof H.length)return{next:function(){return H&&Be>=H.length&&(H=void 0),{value:H&&H[Be++],done:!H}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tt(H,oe){var Ee="function"==typeof Symbol&&H[Symbol.iterator];if(!Ee)return H;var Me,Jt,Be=Ee.call(H),ut=[];try{for(;(void 0===oe||oe-- >0)&&!(Me=Be.next()).done;)ut.push(Me.value)}catch(ln){Jt={error:ln}}finally{try{Me&&!Me.done&&(Ee=Be.return)&&Ee.call(Be)}finally{if(Jt)throw Jt.error}}return ut}var Ge,A=pe(1704),G=pe(6676),L="0.4.17",fe="w:"+L,vt=((Ge={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Ge["not-registered"]="Firebase Installation is not registered.",Ge["installation-not-found"]="Firebase Installation not found.",Ge["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Ge["app-offline"]="Could not process request. Application offline.",Ge["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Ge),Bt=new A.ErrorFactory("installations","Installations",vt);function yn(H){return H instanceof A.FirebaseError&&H.code.includes("request-failed")}function Ht(H){return"https://firebaseinstallations.googleapis.com/v1/projects/"+H.projectId+"/installations"}function wn(H){return{token:H.token,requestStatus:2,expiresIn:Mn(H.expiresIn),creationTime:Date.now()}}function pn(H,oe){return Q(this,void 0,void 0,function(){var Ee,Be;return De(this,function(Me){switch(Me.label){case 0:return[4,oe.json()];case 1:return Ee=Me.sent(),[2,Bt.create("request-failed",{requestName:H,serverCode:(Be=Ee.error).code,serverMessage:Be.message,serverStatus:Be.status})]}})})}function It(H){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H.apiKey})}function Zn(H,oe){var Ee=oe.refreshToken,Be=It(H);return Be.append("Authorization",function(H){return"FIS_v2 "+H}(Ee)),Be}function Ir(H){return Q(this,void 0,void 0,function(){var oe;return De(this,function(Ee){switch(Ee.label){case 0:return[4,H()];case 1:return(oe=Ee.sent()).status>=500&&oe.status<600?[2,H()]:[2,oe]}})})}function Mn(H){return Number(H.replace("s","000"))}function Zt(H,oe){var Ee=oe.fid;return Q(this,void 0,void 0,function(){var Be,Me,Jt,ln,qn;return De(this,function(vn){switch(vn.label){case 0:return Be=Ht(H),Me=It(H),Jt={method:"POST",headers:Me,body:JSON.stringify({fid:Ee,authVersion:"FIS_v2",appId:H.appId,sdkVersion:fe})},[4,Ir(function(){return fetch(Be,Jt)})];case 1:return(ln=vn.sent()).ok?[4,ln.json()]:[3,3];case 2:return[2,{fid:(qn=vn.sent()).fid||Ee,registrationStatus:2,refreshToken:qn.refreshToken,authToken:wn(qn.authToken)}];case 3:return[4,pn("Create Installation",ln)];case 4:throw vn.sent()}})})}function pt(H){return new Promise(function(oe){setTimeout(oe,H)})}var Ve=/^[cdef][\w-]{21}$/;function bt(){try{var H=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(H),H[0]=112+H[0]%16;var Ee=function(H){return function(H){return btoa(String.fromCharCode.apply(String,function(){for(var H=[],oe=0;oe<arguments.length;oe++)H=H.concat(Tt(arguments[oe]));return H}(H))).replace(/\+/g,"-").replace(/\//g,"_")}(H).substr(0,22)}(H);return Ve.test(Ee)?Ee:""}catch(Be){return""}}function tn(H){return H.appName+"!"+H.appId}var _n=new Map;function Bn(H,oe){var Ee=tn(H);Yr(Ee,oe),function(H,oe){var Ee=ze();Ee&&Ee.postMessage({key:H,fid:oe}),Ct()}(Ee,oe)}function Yr(H,oe){var Ee,Be,Me=_n.get(H);if(Me)try{for(var ut=wt(Me),Jt=ut.next();!Jt.done;Jt=ut.next())(0,Jt.value)(oe)}catch(qn){Ee={error:qn}}finally{try{Jt&&!Jt.done&&(Be=ut.return)&&Be.call(ut)}finally{if(Ee)throw Ee.error}}}var ve=null;function ze(){return!ve&&"BroadcastChannel"in self&&((ve=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(H){Yr(H.data.key,H.data.fid)}),ve}function Ct(){0===_n.size&&ve&&(ve.close(),ve=null)}var Yt="firebase-installations-store",Pn=null;function Fn(){return Pn||(Pn=(0,G.openDb)("firebase-installations-database",1,function(H){switch(H.oldVersion){case 0:H.createObjectStore(Yt)}})),Pn}function In(H,oe){return Q(this,void 0,void 0,function(){var Ee,Be,Me,ut,Jt;return De(this,function(ln){switch(ln.label){case 0:return Ee=tn(H),[4,Fn()];case 1:return Be=ln.sent(),Me=Be.transaction(Yt,"readwrite"),[4,(ut=Me.objectStore(Yt)).get(Ee)];case 2:return Jt=ln.sent(),[4,ut.put(oe,Ee)];case 3:return ln.sent(),[4,Me.complete];case 4:return ln.sent(),(!Jt||Jt.fid!==oe.fid)&&Bn(H,oe.fid),[2,oe]}})})}function Wn(H){return Q(this,void 0,void 0,function(){var oe,Ee,Be;return De(this,function(Me){switch(Me.label){case 0:return oe=tn(H),[4,Fn()];case 1:return Ee=Me.sent(),[4,(Be=Ee.transaction(Yt,"readwrite")).objectStore(Yt).delete(oe)];case 2:return Me.sent(),[4,Be.complete];case 3:return Me.sent(),[2]}})})}function Ln(H,oe){return Q(this,void 0,void 0,function(){var Ee,Be,Me,ut,Jt,ln;return De(this,function(qn){switch(qn.label){case 0:return Ee=tn(H),[4,Fn()];case 1:return Be=qn.sent(),Me=Be.transaction(Yt,"readwrite"),[4,(ut=Me.objectStore(Yt)).get(Ee)];case 2:return Jt=qn.sent(),void 0!==(ln=oe(Jt))?[3,4]:[4,ut.delete(Ee)];case 3:return qn.sent(),[3,6];case 4:return[4,ut.put(ln,Ee)];case 5:qn.sent(),qn.label=6;case 6:return[4,Me.complete];case 7:return qn.sent(),ln&&(!Jt||Jt.fid!==ln.fid)&&Bn(H,ln.fid),[2,ln]}})})}function Dr(H){return Q(this,void 0,void 0,function(){var oe,Ee,Be;return De(this,function(Me){switch(Me.label){case 0:return[4,Ln(H,function(ut){var Jt=function(H){return ii(H||{fid:bt(),registrationStatus:0})}(ut),ln=function(H,oe){if(0===oe.registrationStatus){if(!navigator.onLine)return{installationEntry:oe,registrationPromise:Promise.reject(Bt.create("app-offline"))};var Be={fid:oe.fid,registrationStatus:1,registrationTime:Date.now()},Me=function(H,oe){return Q(this,void 0,void 0,function(){var Ee,Be;return De(this,function(Me){switch(Me.label){case 0:return Me.trys.push([0,2,,7]),[4,Zt(H,oe)];case 1:return Ee=Me.sent(),[2,In(H,Ee)];case 2:return yn(Be=Me.sent())&&409===Be.serverCode?[4,Wn(H)]:[3,4];case 3:return Me.sent(),[3,6];case 4:return[4,In(H,{fid:oe.fid,registrationStatus:0})];case 5:Me.sent(),Me.label=6;case 6:throw Be;case 7:return[2]}})})}(H,Be);return{installationEntry:Be,registrationPromise:Me}}return 1===oe.registrationStatus?{installationEntry:oe,registrationPromise:pr(H)}:{installationEntry:oe}}(H,Jt);return oe=ln.registrationPromise,ln.installationEntry})];case 1:return""!==(Ee=Me.sent()).fid?[3,3]:(Be={},[4,oe]);case 2:return[2,(Be.installationEntry=Me.sent(),Be)];case 3:return[2,{installationEntry:Ee,registrationPromise:oe}]}})})}function pr(H){return Q(this,void 0,void 0,function(){var oe,Ee,Be,Me;return De(this,function(ut){switch(ut.label){case 0:return[4,Ni(H)];case 1:oe=ut.sent(),ut.label=2;case 2:return 1!==oe.registrationStatus?[3,5]:[4,pt(100)];case 3:return ut.sent(),[4,Ni(H)];case 4:return oe=ut.sent(),[3,2];case 5:return 0!==oe.registrationStatus?[3,7]:[4,Dr(H)];case 6:return Ee=ut.sent(),Be=Ee.installationEntry,(Me=Ee.registrationPromise)?[2,Me]:[2,Be];case 7:return[2,oe]}})})}function Ni(H){return Ln(H,function(oe){if(!oe)throw Bt.create("installation-not-found");return ii(oe)})}function ii(H){return function(H){return 1===H.registrationStatus&&H.registrationTime+1e4<Date.now()}(H)?{fid:H.fid,registrationStatus:0}:H}function Pi(H,oe){var Ee=H.appConfig,Be=H.platformLoggerProvider;return Q(this,void 0,void 0,function(){var Me,ut,Jt,qn,An;return De(this,function(nr){switch(nr.label){case 0:return Me=function(H,oe){var Ee=oe.fid;return Ht(H)+"/"+Ee+"/authTokens:generate"}(Ee,oe),ut=Zn(Ee,oe),(Jt=Be.getImmediate({optional:!0}))&&ut.append("x-firebase-client",Jt.getPlatformInfoString()),qn={method:"POST",headers:ut,body:JSON.stringify({installation:{sdkVersion:fe}})},[4,Ir(function(){return fetch(Me,qn)})];case 1:return(An=nr.sent()).ok?[4,An.json()]:[3,3];case 2:return[2,wn(nr.sent())];case 3:return[4,pn("Generate Auth Token",An)];case 4:throw nr.sent()}})})}function ht(H,oe){return void 0===oe&&(oe=!1),Q(this,void 0,void 0,function(){var Ee,Be,ut;return De(this,function(Jt){switch(Jt.label){case 0:return[4,Ln(H.appConfig,function(ln){if(!Ft(ln))throw Bt.create("not-registered");var qn=ln.authToken;if(!oe&&function(H){return 2===H.requestStatus&&!function(H){var oe=Date.now();return oe<H.creationTime||H.creationTime+H.expiresIn<oe+36e5}(H)}(qn))return ln;if(1===qn.requestStatus)return Ee=function(H,oe){return Q(this,void 0,void 0,function(){var Ee,Be;return De(this,function(Me){switch(Me.label){case 0:return[4,Lt(H.appConfig)];case 1:Ee=Me.sent(),Me.label=2;case 2:return 1!==Ee.authToken.requestStatus?[3,5]:[4,pt(100)];case 3:return Me.sent(),[4,Lt(H.appConfig)];case 4:return Ee=Me.sent(),[3,2];case 5:return 0===(Be=Ee.authToken).requestStatus?[2,ht(H,oe)]:[2,Be]}})})}(H,oe),ln;if(!navigator.onLine)throw Bt.create("app-offline");var An=function(H){var oe={requestStatus:1,requestTime:Date.now()};return Le(Le({},H),{authToken:oe})}(ln);return Ee=function(H,oe){return Q(this,void 0,void 0,function(){var Ee,Me,Be;return De(this,function(ut){switch(ut.label){case 0:return ut.trys.push([0,3,,8]),[4,Pi(H,oe)];case 1:return Ee=ut.sent(),Be=Le(Le({},oe),{authToken:Ee}),[4,In(H.appConfig,Be)];case 2:return ut.sent(),[2,Ee];case 3:return!yn(Me=ut.sent())||401!==Me.serverCode&&404!==Me.serverCode?[3,5]:[4,Wn(H.appConfig)];case 4:return ut.sent(),[3,7];case 5:return Be=Le(Le({},oe),{authToken:{requestStatus:0}}),[4,In(H.appConfig,Be)];case 6:ut.sent(),ut.label=7;case 7:throw Me;case 8:return[2]}})})}(H,An),An})];case 1:return Be=Jt.sent(),Ee?[4,Ee]:[3,3];case 2:return ut=Jt.sent(),[3,4];case 3:ut=Be.authToken,Jt.label=4;case 4:return[2,ut]}})})}function Lt(H){return Ln(H,function(oe){if(!Ft(oe))throw Bt.create("not-registered");return function(H){return 1===H.requestStatus&&H.requestTime+1e4<Date.now()}(oe.authToken)?Le(Le({},oe),{authToken:{requestStatus:0}}):oe})}function Ft(H){return void 0!==H&&2===H.registrationStatus}function hr(H){return Q(this,void 0,void 0,function(){var oe;return De(this,function(Ee){switch(Ee.label){case 0:return[4,Dr(H)];case 1:return(oe=Ee.sent().registrationPromise)?[4,oe]:[3,3];case 2:Ee.sent(),Ee.label=3;case 3:return[2]}})})}function Jn(H,oe){return Q(this,void 0,void 0,function(){var Ee,Be,Me,ut;return De(this,function(Jt){switch(Jt.label){case 0:return Ee=function(H,oe){var Ee=oe.fid;return Ht(H)+"/"+Ee}(H,oe),Be=Zn(H,oe),Me={method:"DELETE",headers:Be},[4,Ir(function(){return fetch(Ee,Me)})];case 1:return(ut=Jt.sent()).ok?[3,3]:[4,pn("Delete Installation",ut)];case 2:throw Jt.sent();case 3:return[2]}})})}function nt(H){return Bt.create("missing-app-config-values",{valueName:H})}function ue(H){H.INTERNAL.registerComponent(new m.Component("installations",function(Ee){var Be=Ee.getProvider("app").getImmediate(),Jt={appConfig:function(H){var oe,Ee;if(!H||!H.options)throw nt("App Configuration");if(!H.name)throw nt("App Name");try{for(var Me=wt(["projectId","apiKey","appId"]),ut=Me.next();!ut.done;ut=Me.next()){var Jt=ut.value;if(!H.options[Jt])throw nt(Jt)}}catch(ln){oe={error:ln}}finally{try{ut&&!ut.done&&(Ee=Me.return)&&Ee.call(Me)}finally{if(oe)throw oe.error}}return{appName:H.name,projectId:H.options.projectId,apiKey:H.options.apiKey,appId:H.options.appId}}(Be),platformLoggerProvider:Ee.getProvider("platform-logger")};return{app:Be,getId:function(){return function(H){return Q(this,void 0,void 0,function(){var oe,Ee,Be;return De(this,function(Me){switch(Me.label){case 0:return[4,Dr(H.appConfig)];case 1:return oe=Me.sent(),Ee=oe.installationEntry,(Be=oe.registrationPromise)?Be.catch(console.error):ht(H).catch(console.error),[2,Ee.fid]}})})}(Jt)},getToken:function(qn){return function(H,oe){return void 0===oe&&(oe=!1),Q(this,void 0,void 0,function(){return De(this,function(Be){switch(Be.label){case 0:return[4,hr(H.appConfig)];case 1:return Be.sent(),[4,ht(H,oe)];case 2:return[2,Be.sent().token]}})})}(Jt,qn)},delete:function(){return function(H){return Q(this,void 0,void 0,function(){var oe,Ee;return De(this,function(Be){switch(Be.label){case 0:return[4,Ln(oe=H.appConfig,function(Me){if(!Me||0!==Me.registrationStatus)return Me})];case 1:if(!(Ee=Be.sent()))return[3,6];if(1!==Ee.registrationStatus)return[3,2];throw Bt.create("delete-pending-registration");case 2:if(2!==Ee.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Bt.create("app-offline");case 3:return[4,Jn(oe,Ee)];case 4:return Be.sent(),[4,Wn(oe)];case 5:Be.sent(),Be.label=6;case 6:return[2]}})})}(Jt)},onIdChange:function(qn){return function(H,oe){var Ee=H.appConfig;return function(H,oe){ze();var Ee=tn(H),Be=_n.get(Ee);Be||(Be=new Set,_n.set(Ee,Be)),Be.add(oe)}(Ee,oe),function(){!function(H,oe){var Ee=tn(H),Be=_n.get(Ee);!Be||(Be.delete(oe),0===Be.size&&_n.delete(Ee),Ct())}(Ee,oe)}}(Jt,qn)}}},"PUBLIC")),H.registerVersion("@firebase/installations",L)}ue(k.default)},300:(Vn,We,pe)=>{"use strict";function k(){for(var ye=0,Te=0,wt=arguments.length;Te<wt;Te++)ye+=arguments[Te].length;var Tt=Array(ye),it=0;for(Te=0;Te<wt;Te++)for(var ke=arguments[Te],He=0,qe=ke.length;He<qe;He++,it++)Tt[it]=ke[He];return Tt}pe.r(We),pe.d(We,{LogLevel:()=>mt,Logger:()=>ae,setLogLevel:()=>Q,setUserLogHandler:()=>De});var m,te=[],mt=(()=>{return(ye=mt||(mt={}))[ye.DEBUG=0]="DEBUG",ye[ye.VERBOSE=1]="VERBOSE",ye[ye.INFO=2]="INFO",ye[ye.WARN=3]="WARN",ye[ye.ERROR=4]="ERROR",ye[ye.SILENT=5]="SILENT",mt;var ye})(),Le={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},Ye=mt.INFO,tt=((m={})[mt.DEBUG]="log",m[mt.VERBOSE]="log",m[mt.INFO]="info",m[mt.WARN]="warn",m[mt.ERROR]="error",m),Je=function(ye,Te){for(var wt=[],Tt=2;Tt<arguments.length;Tt++)wt[Tt-2]=arguments[Tt];if(!(Te<ye.logLevel)){var it=(new Date).toISOString(),ke=tt[Te];if(!ke)throw new Error("Attempted to log a message with an invalid logType (value: "+Te+")");console[ke].apply(console,k(["["+it+"]  "+ye.name+":"],wt))}},ae=function(){function ye(Te){this.name=Te,this._logLevel=Ye,this._logHandler=Je,this._userLogHandler=null,te.push(this)}return Object.defineProperty(ye.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Te){if(!(Te in mt))throw new TypeError('Invalid value "'+Te+'" assigned to `logLevel`');this._logLevel=Te},enumerable:!1,configurable:!0}),ye.prototype.setLogLevel=function(Te){this._logLevel="string"==typeof Te?Le[Te]:Te},Object.defineProperty(ye.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te},enumerable:!1,configurable:!0}),Object.defineProperty(ye.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Te){this._userLogHandler=Te},enumerable:!1,configurable:!0}),ye.prototype.debug=function(){for(var Te=[],wt=0;wt<arguments.length;wt++)Te[wt]=arguments[wt];this._userLogHandler&&this._userLogHandler.apply(this,k([this,mt.DEBUG],Te)),this._logHandler.apply(this,k([this,mt.DEBUG],Te))},ye.prototype.log=function(){for(var Te=[],wt=0;wt<arguments.length;wt++)Te[wt]=arguments[wt];this._userLogHandler&&this._userLogHandler.apply(this,k([this,mt.VERBOSE],Te)),this._logHandler.apply(this,k([this,mt.VERBOSE],Te))},ye.prototype.info=function(){for(var Te=[],wt=0;wt<arguments.length;wt++)Te[wt]=arguments[wt];this._userLogHandler&&this._userLogHandler.apply(this,k([this,mt.INFO],Te)),this._logHandler.apply(this,k([this,mt.INFO],Te))},ye.prototype.warn=function(){for(var Te=[],wt=0;wt<arguments.length;wt++)Te[wt]=arguments[wt];this._userLogHandler&&this._userLogHandler.apply(this,k([this,mt.WARN],Te)),this._logHandler.apply(this,k([this,mt.WARN],Te))},ye.prototype.error=function(){for(var Te=[],wt=0;wt<arguments.length;wt++)Te[wt]=arguments[wt];this._userLogHandler&&this._userLogHandler.apply(this,k([this,mt.ERROR],Te)),this._logHandler.apply(this,k([this,mt.ERROR],Te))},ye}();function Q(ye){te.forEach(function(Te){Te.setLogLevel(ye)})}function De(ye,Te){for(var wt=function(He){var qe=null;Te&&Te.level&&(qe=Le[Te.level]),He.userLogHandler=null===ye?null:function(Pt,Ut){for(var Mt=[],ft=2;ft<arguments.length;ft++)Mt[ft-2]=arguments[ft];var Rt=Mt.map(function(O){if(null==O)return null;if("string"==typeof O)return O;if("number"==typeof O||"boolean"==typeof O)return O.toString();if(O instanceof Error)return O.message;try{return JSON.stringify(O)}catch(F){return null}}).filter(function(O){return O}).join(" ");Ut>=(null!=qe?qe:Pt.logLevel)&&ye({level:mt[Ut].toLowerCase(),message:Rt,args:Mt,type:Pt.name})}},Tt=0,it=te;Tt<it.length;Tt++)wt(it[Tt])}},7450:(Vn,We,pe)=>{"use strict";pe.r(We),pe(7918);var m=pe(1100),te=pe(1704),Ye=function(){return(Ye=Object.assign||function(Se){for(var je,nt=1,ue=arguments.length;nt<ue;nt++)for(var H in je=arguments[nt])Object.prototype.hasOwnProperty.call(je,H)&&(Se[H]=je[H]);return Se}).apply(this,arguments)};function De(Ie,Se,je,nt){return new(je||(je=Promise))(function(H,oe){function Ee(ut){try{Me(nt.next(ut))}catch(Jt){oe(Jt)}}function Be(ut){try{Me(nt.throw(ut))}catch(Jt){oe(Jt)}}function Me(ut){ut.done?H(ut.value):function(H){return H instanceof je?H:new je(function(oe){oe(H)})}(ut.value).then(Ee,Be)}Me((nt=nt.apply(Ie,Se||[])).next())})}function ye(Ie,Se){var nt,ue,H,oe,je={label:0,sent:function(){if(1&H[0])throw H[1];return H[1]},trys:[],ops:[]};return oe={next:Ee(0),throw:Ee(1),return:Ee(2)},"function"==typeof Symbol&&(oe[Symbol.iterator]=function(){return this}),oe;function Ee(Me){return function(ut){return function(Me){if(nt)throw new TypeError("Generator is already executing.");for(;je;)try{if(nt=1,ue&&(H=2&Me[0]?ue.return:Me[0]?ue.throw||((H=ue.return)&&H.call(ue),0):ue.next)&&!(H=H.call(ue,Me[1])).done)return H;switch(ue=0,H&&(Me=[2&Me[0],H.value]),Me[0]){case 0:case 1:H=Me;break;case 4:return je.label++,{value:Me[1],done:!1};case 5:je.label++,ue=Me[1],Me=[0];continue;case 7:Me=je.ops.pop(),je.trys.pop();continue;default:if(!(H=(H=je.trys).length>0&&H[H.length-1])&&(6===Me[0]||2===Me[0])){je=0;continue}if(3===Me[0]&&(!H||Me[1]>H[0]&&Me[1]<H[3])){je.label=Me[1];break}if(6===Me[0]&&je.label<H[1]){je.label=H[1],H=Me;break}if(H&&je.label<H[2]){je.label=H[2],je.ops.push(Me);break}H[2]&&je.ops.pop(),je.trys.pop();continue}Me=Se.call(Ie,je)}catch(ut){Me=[6,ut],ue=0}finally{nt=H=0}if(5&Me[0])throw Me[1];return{value:Me[0]?Me[1]:void 0,done:!0}}([Me,ut])}}}function Tt(Ie){var Se="function"==typeof Symbol&&Symbol.iterator,je=Se&&Ie[Se],nt=0;if(je)return je.call(Ie);if(Ie&&"number"==typeof Ie.length)return{next:function(){return Ie&&nt>=Ie.length&&(Ie=void 0),{value:Ie&&Ie[nt++],done:!Ie}}};throw new TypeError(Se?"Object is not iterable.":"Symbol.iterator is not defined.")}function it(Ie,Se){var je="function"==typeof Symbol&&Ie[Symbol.iterator];if(!je)return Ie;var ue,oe,nt=je.call(Ie),H=[];try{for(;(void 0===Se||Se-- >0)&&!(ue=nt.next()).done;)H.push(ue.value)}catch(Ee){oe={error:Ee}}finally{try{ue&&!ue.done&&(je=nt.return)&&je.call(nt)}finally{if(oe)throw oe.error}}return H}var L,G=pe(6676),Z=pe(6279),ce=((L={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',L["only-available-in-window"]="This method is available in a Window context.",L["only-available-in-sw"]="This method is available in a service worker context.",L["permission-default"]="The notification permission was not granted and dismissed instead.",L["permission-blocked"]="The notification permission was not granted and blocked instead.",L["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",L["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",L["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",L["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",L["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",L["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",L["token-update-no-token"]="FCM returned no token when updating the user to push.",L["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",L["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",L["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",L["invalid-vapid-key"]="The public VAPID key must be a string.",L["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",L),fe=new te.ErrorFactory("messaging","Messaging",ce),at="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ke="FCM_MSG",Ge="google.c.a.c_id",wn=(()=>{return(Ie=wn||(wn={})).PUSH_RECEIVED="push-received",Ie.NOTIFICATION_CLICKED="notification-clicked",wn;var Ie})();function pn(Ie){var Se=new Uint8Array(Ie);return btoa(String.fromCharCode.apply(String,function(){for(var Ie=[],Se=0;Se<arguments.length;Se++)Ie=Ie.concat(it(arguments[Se]));return Ie}(Se))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function It(Ie){for(var je=(Ie+"=".repeat((4-Ie.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),nt=atob(je),ue=new Uint8Array(nt.length),H=0;H<nt.length;++H)ue[H]=nt.charCodeAt(H);return ue}var Zn="fcm_token_details_db",Mn="fcm_token_object_Store";function cn(Ie){return De(this,void 0,void 0,function(){var nt,H=this;return ye(this,function(oe){switch(oe.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!oe.sent().map(function(Ee){return Ee.name}).includes(Zn))return[2,null];oe.label=2;case 2:return nt=null,[4,(0,G.openDb)(Zn,5,function(Ee){return De(H,void 0,void 0,function(){var Be,Me,ut,Jt;return ye(this,function(ln){switch(ln.label){case 0:return Ee.oldVersion<2?[2]:Ee.objectStoreNames.contains(Mn)?[4,(Be=Ee.transaction.objectStore(Mn)).index("fcmSenderId").get(Ie)]:[2];case 1:return Me=ln.sent(),[4,Be.clear()];case 2:if(ln.sent(),!Me)return[2];if(2===Ee.oldVersion){if(!(ut=Me).auth||!ut.p256dh||!ut.endpoint)return[2];nt={token:ut.fcmToken,createTime:null!==(Jt=ut.createTime)&&void 0!==Jt?Jt:Date.now(),subscriptionOptions:{auth:ut.auth,p256dh:ut.p256dh,endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:"string"==typeof ut.vapidKey?ut.vapidKey:pn(ut.vapidKey)}}}else(3===Ee.oldVersion||4===Ee.oldVersion)&&(nt={token:(ut=Me).fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:pn(ut.auth),p256dh:pn(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:pn(ut.vapidKey)}});return[2]}})})})];case 3:return oe.sent().close(),[4,(0,G.deleteDb)(Zn)];case 4:return oe.sent(),[4,(0,G.deleteDb)("fcm_vapid_details_db")];case 5:return oe.sent(),[4,(0,G.deleteDb)("undefined")];case 6:return oe.sent(),[2,Zt(nt)?nt:null]}})})}function Zt(Ie){if(!Ie||!Ie.subscriptionOptions)return!1;var Se=Ie.subscriptionOptions;return"number"==typeof Ie.createTime&&Ie.createTime>0&&"string"==typeof Ie.token&&Ie.token.length>0&&"string"==typeof Se.auth&&Se.auth.length>0&&"string"==typeof Se.p256dh&&Se.p256dh.length>0&&"string"==typeof Se.endpoint&&Se.endpoint.length>0&&"string"==typeof Se.swScope&&Se.swScope.length>0&&"string"==typeof Se.vapidKey&&Se.vapidKey.length>0}var Ve="firebase-messaging-store",$e=null;function bt(){return $e||($e=(0,G.openDb)("firebase-messaging-database",1,function(Ie){switch(Ie.oldVersion){case 0:Ie.createObjectStore(Ve)}})),$e}function Qt(Ie){return De(this,void 0,void 0,function(){var Se,nt,ue;return ye(this,function(H){switch(H.label){case 0:return Se=Bn(Ie),[4,bt()];case 1:return[4,H.sent().transaction(Ve).objectStore(Ve).get(Se)];case 2:return(nt=H.sent())?[2,nt]:[3,3];case 3:return[4,cn(Ie.appConfig.senderId)];case 4:return(ue=H.sent())?[4,tn(Ie,ue)]:[3,6];case 5:return H.sent(),[2,ue];case 6:return[2]}})})}function tn(Ie,Se){return De(this,void 0,void 0,function(){var je,nt,ue;return ye(this,function(H){switch(H.label){case 0:return je=Bn(Ie),[4,bt()];case 1:return nt=H.sent(),[4,(ue=nt.transaction(Ve,"readwrite")).objectStore(Ve).put(Se,je)];case 2:return H.sent(),[4,ue.complete];case 3:return H.sent(),[2,Se]}})})}function _n(Ie){return De(this,void 0,void 0,function(){var Se,je,nt;return ye(this,function(ue){switch(ue.label){case 0:return Se=Bn(Ie),[4,bt()];case 1:return je=ue.sent(),[4,(nt=je.transaction(Ve,"readwrite")).objectStore(Ve).delete(Se)];case 2:return ue.sent(),[4,nt.complete];case 3:return ue.sent(),[2]}})})}function Bn(Ie){return Ie.appConfig.appId}function Un(Ie,Se){return De(this,void 0,void 0,function(){var je,nt,ue,H,Ee;return ye(this,function(Me){switch(Me.label){case 0:return[4,ve(Ie)];case 1:je=Me.sent(),nt=ze(Se),ue={method:"POST",headers:je,body:JSON.stringify(nt)},Me.label=2;case 2:return Me.trys.push([2,5,,6]),[4,fetch(st(Ie.appConfig),ue)];case 3:return[4,Me.sent().json()];case 4:return H=Me.sent(),[3,6];case 5:throw Ee=Me.sent(),fe.create("token-subscribe-failed",{errorInfo:Ee});case 6:if(H.error)throw fe.create("token-subscribe-failed",{errorInfo:H.error.message});if(!H.token)throw fe.create("token-subscribe-no-token");return[2,H.token]}})})}function Sn(Ie,Se){return De(this,void 0,void 0,function(){var je,nt,ue,H,Ee;return ye(this,function(Me){switch(Me.label){case 0:return[4,ve(Ie)];case 1:je=Me.sent(),nt=ze(Se.subscriptionOptions),ue={method:"PATCH",headers:je,body:JSON.stringify(nt)},Me.label=2;case 2:return Me.trys.push([2,5,,6]),[4,fetch(st(Ie.appConfig)+"/"+Se.token,ue)];case 3:return[4,Me.sent().json()];case 4:return H=Me.sent(),[3,6];case 5:throw Ee=Me.sent(),fe.create("token-update-failed",{errorInfo:Ee});case 6:if(H.error)throw fe.create("token-update-failed",{errorInfo:H.error.message});if(!H.token)throw fe.create("token-update-no-token");return[2,H.token]}})})}function Yr(Ie,Se){return De(this,void 0,void 0,function(){var je,nt,H,Ee;return ye(this,function(Be){switch(Be.label){case 0:return[4,ve(Ie)];case 1:je=Be.sent(),nt={method:"DELETE",headers:je},Be.label=2;case 2:return Be.trys.push([2,5,,6]),[4,fetch(st(Ie.appConfig)+"/"+Se,nt)];case 3:return[4,Be.sent().json()];case 4:if((H=Be.sent()).error)throw fe.create("token-unsubscribe-failed",{errorInfo:H.error.message});return[3,6];case 5:throw Ee=Be.sent(),fe.create("token-unsubscribe-failed",{errorInfo:Ee});case 6:return[2]}})})}function st(Ie){return"https://fcmregistrations.googleapis.com/v1/projects/"+Ie.projectId+"/registrations"}function ve(Ie){var Se=Ie.appConfig,je=Ie.installations;return De(this,void 0,void 0,function(){var nt;return ye(this,function(ue){switch(ue.label){case 0:return[4,je.getToken()];case 1:return nt=ue.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Se.apiKey,"x-goog-firebase-installations-auth":"FIS "+nt})]}})})}function ze(Ie){var ue=Ie.vapidKey,H={web:{endpoint:Ie.endpoint,auth:Ie.auth,p256dh:Ie.p256dh}};return ue!==at&&(H.web.applicationPubKey=ue),H}function lt(Ie,Se,je){return De(this,void 0,void 0,function(){var nt,ue,H,oe;return ye(this,function(Ee){switch(Ee.label){case 0:if("granted"!==Notification.permission)throw fe.create("permission-blocked");return[4,Fn(Se,je)];case 1:return nt=Ee.sent(),[4,Qt(Ie)];case 2:return ue=Ee.sent(),H={vapidKey:je,swScope:Se.scope,endpoint:nt.endpoint,auth:pn(nt.getKey("auth")),p256dh:pn(nt.getKey("p256dh"))},ue?[3,3]:[2,Pn(Ie,H)];case 3:if(function(Ie,Se){return Se.vapidKey===Ie.vapidKey&&Se.endpoint===Ie.endpoint&&Se.auth===Ie.auth&&Se.p256dh===Ie.p256dh}(ue.subscriptionOptions,H))return[3,8];Ee.label=4;case 4:return Ee.trys.push([4,6,,7]),[4,Yr(Ie,ue.token)];case 5:return Ee.sent(),[3,7];case 6:return oe=Ee.sent(),console.warn(oe),[3,7];case 7:return[2,Pn(Ie,H)];case 8:return Date.now()>=ue.createTime+6048e5?[2,Yt({token:ue.token,createTime:Date.now(),subscriptionOptions:H},Ie,Se)]:[2,ue.token];case 9:return[2]}})})}function fn(Ie,Se){return De(this,void 0,void 0,function(){var je,nt;return ye(this,function(ue){switch(ue.label){case 0:return[4,Qt(Ie)];case 1:return(je=ue.sent())?[4,Yr(Ie,je.token)]:[3,4];case 2:return ue.sent(),[4,_n(Ie)];case 3:ue.sent(),ue.label=4;case 4:return[4,Se.pushManager.getSubscription()];case 5:return(nt=ue.sent())?[2,nt.unsubscribe()]:[2,!0]}})})}function Yt(Ie,Se,je){return De(this,void 0,void 0,function(){var nt,ue,H;return ye(this,function(oe){switch(oe.label){case 0:return oe.trys.push([0,3,,5]),[4,Sn(Se,Ie)];case 1:return nt=oe.sent(),ue=Ye(Ye({},Ie),{token:nt,createTime:Date.now()}),[4,tn(Se,ue)];case 2:return oe.sent(),[2,nt];case 3:return H=oe.sent(),[4,fn(Se,je)];case 4:throw oe.sent(),H;case 5:return[2]}})})}function Pn(Ie,Se){return De(this,void 0,void 0,function(){var je,nt;return ye(this,function(ue){switch(ue.label){case 0:return[4,Un(Ie,Se)];case 1:return je=ue.sent(),nt={token:je,createTime:Date.now(),subscriptionOptions:Se},[4,tn(Ie,nt)];case 2:return ue.sent(),[2,nt.token]}})})}function Fn(Ie,Se){return De(this,void 0,void 0,function(){var je;return ye(this,function(nt){switch(nt.label){case 0:return[4,Ie.pushManager.getSubscription()];case 1:return(je=nt.sent())?[2,je]:[2,Ie.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:It(Se)})]}})})}function li(Ie){return"object"==typeof Ie&&!!Ie&&Ge in Ie}function dr(Ie){return new Promise(function(Se){setTimeout(Se,Ie)})}var pr=function(){function Ie(Se){var je=this;this.firebaseDependencies=Se,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(nt){nt.waitUntil(je.onPush(nt))}),self.addEventListener("pushsubscriptionchange",function(nt){nt.waitUntil(je.onSubChange(nt))}),self.addEventListener("notificationclick",function(nt){nt.waitUntil(je.onNotificationClick(nt))})}return Object.defineProperty(Ie.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),Ie.prototype.setBackgroundMessageHandler=function(Se){if(this.isOnBackgroundMessageUsed=!1,!Se||"function"!=typeof Se)throw fe.create("invalid-bg-handler");this.bgMessageHandler=Se},Ie.prototype.onBackgroundMessage=function(Se){var je=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=Se,function(){je.bgMessageHandler=null}},Ie.prototype.getToken=function(){var Se,je;return De(this,void 0,void 0,function(){var nt;return ye(this,function(ue){switch(ue.label){case 0:return this.vapidKey?[3,2]:[4,Qt(this.firebaseDependencies)];case 1:nt=ue.sent(),this.vapidKey=null!==(je=null===(Se=null==nt?void 0:nt.subscriptionOptions)||void 0===Se?void 0:Se.vapidKey)&&void 0!==je?je:at,ue.label=2;case 2:return[2,lt(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},Ie.prototype.deleteToken=function(){return fn(this.firebaseDependencies,self.registration)},Ie.prototype.requestPermission=function(){throw fe.create("only-available-in-window")},Ie.prototype.usePublicVapidKey=function(Se){if(null!==this.vapidKey)throw fe.create("use-vapid-key-after-get-token");if("string"!=typeof Se||0===Se.length)throw fe.create("invalid-vapid-key");this.vapidKey=Se},Ie.prototype.useServiceWorker=function(){throw fe.create("only-available-in-window")},Ie.prototype.onMessage=function(){throw fe.create("only-available-in-window")},Ie.prototype.onTokenRefresh=function(){throw fe.create("only-available-in-window")},Ie.prototype.onPush=function(Se){return De(this,void 0,void 0,function(){var je,nt,ue,H;return ye(this,function(oe){switch(oe.label){case 0:return(je=function(Ie){var Se=Ie.data;if(!Se)return null;try{return Se.json()}catch(je){return null}}(Se))?[4,ht()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(Ie){return Ie.some(function(Se){return"visible"===Se.visibilityState&&!Se.url.startsWith("chrome-extension://")})}(nt=oe.sent())?[2,xe(nt,je)]:(ue=!1,je.notification?[4,Et(Ni(je))]:[3,3]);case 2:oe.sent(),ue=!0,oe.label=3;case 3:return!0===ue&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(H=function(Ie){var Se={from:Ie.from,collapseKey:Ie.collapse_key};return function(Ie,Se){if(Se.notification){Ie.notification={};var je=Se.notification.title;je&&(Ie.notification.title=je);var nt=Se.notification.body;nt&&(Ie.notification.body=nt);var ue=Se.notification.image;ue&&(Ie.notification.image=ue)}}(Se,Ie),function(Ie,Se){!Se.data||(Ie.data=Se.data)}(Se,Ie),function(Ie,Se){if(Se.fcmOptions){Ie.fcmOptions={};var je=Se.fcmOptions.link;je&&(Ie.fcmOptions.link=je);var nt=Se.fcmOptions.analytics_label;nt&&(Ie.fcmOptions.analyticsLabel=nt)}}(Se,Ie),Se}(je),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(H):this.bgMessageHandler.next(H)),[2]}})})},Ie.prototype.onSubChange=function(Se){var je,nt;return De(this,void 0,void 0,function(){var H;return ye(this,function(oe){switch(oe.label){case 0:return Se.newSubscription?[3,2]:[4,fn(this.firebaseDependencies,self.registration)];case 1:return oe.sent(),[2];case 2:return[4,Qt(this.firebaseDependencies)];case 3:return H=oe.sent(),[4,fn(this.firebaseDependencies,self.registration)];case 4:return oe.sent(),[4,lt(this.firebaseDependencies,self.registration,null!==(nt=null===(je=null==H?void 0:H.subscriptionOptions)||void 0===je?void 0:je.vapidKey)&&void 0!==nt?nt:at)];case 5:return oe.sent(),[2]}})})},Ie.prototype.onNotificationClick=function(Se){var je,nt;return De(this,void 0,void 0,function(){var ue,H,oe,Ee,Be;return ye(this,function(Me){switch(Me.label){case 0:return(ue=null===(nt=null===(je=Se.notification)||void 0===je?void 0:je.data)||void 0===nt?void 0:nt[Ke])?Se.action?[2]:(Se.stopImmediatePropagation(),Se.notification.close(),(H=function(Ie){var Se,je,nt;return(null!==(je=null===(Se=Ie.fcmOptions)||void 0===Se?void 0:Se.link)&&void 0!==je?je:null===(nt=Ie.notification)||void 0===nt?void 0:nt.click_action)||(li(Ie.data)?self.location.origin:null)}(ue))?(oe=new URL(H,self.location.href),Ee=new URL(self.location.origin),oe.host!==Ee.host?[2]:[4,oi(oe)]):[2]):[2];case 1:return(Be=Me.sent())?[3,4]:[4,self.clients.openWindow(H)];case 2:return Be=Me.sent(),[4,dr(3e3)];case 3:return Me.sent(),[3,6];case 4:return[4,Be.focus()];case 5:Be=Me.sent(),Me.label=6;case 6:return Be?(ue.messageType=wn.NOTIFICATION_CLICKED,ue.isFirebaseMessaging=!0,[2,Be.postMessage(ue)]):[2]}})})},Ie}();function Ni(Ie){var Se,je=Ye({},Ie.notification);return je.data=((Se={})[Ke]=Ie,Se),je}function oi(Ie){return De(this,void 0,void 0,function(){var Se,je,nt,ue,H,oe,Ee;return ye(this,function(Be){switch(Be.label){case 0:return[4,ht()];case 1:Se=Be.sent();try{for(je=Tt(Se),nt=je.next();!nt.done;nt=je.next())if(ue=nt.value,H=new URL(ue.url,self.location.href),Ie.host===H.host)return[2,ue]}catch(Me){oe={error:Me}}finally{try{nt&&!nt.done&&(Ee=je.return)&&Ee.call(je)}finally{if(oe)throw oe.error}}return[2,null]}})})}function xe(Ie,Se){var je,nt;Se.isFirebaseMessaging=!0,Se.messageType=wn.PUSH_RECEIVED;try{for(var ue=Tt(Ie),H=ue.next();!H.done;H=ue.next())H.value.postMessage(Se)}catch(Ee){je={error:Ee}}finally{try{H&&!H.done&&(nt=ue.return)&&nt.call(ue)}finally{if(je)throw je.error}}}function ht(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Et(Ie){var Se,je=Ie.actions,nt=Notification.maxActions;return je&&nt&&je.length>nt&&console.warn("This browser only supports "+nt+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(Se=Ie.title)&&void 0!==Se?Se:"",Ie)}var Dt=function(){function Ie(Se){var je=this;this.firebaseDependencies=Se,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(nt){return je.messageEventListener(nt)})}return Object.defineProperty(Ie.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),Ie.prototype.messageEventListener=function(Se){return De(this,void 0,void 0,function(){var je,nt;return ye(this,function(ue){switch(ue.label){case 0:return(je=Se.data).isFirebaseMessaging?(this.onMessageCallback&&je.messageType===wn.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(Ie){return delete Ie.messageType,delete Ie.isFirebaseMessaging,Ie}(Object.assign({},je))):this.onMessageCallback.next(Object.assign({},je))),li(nt=je.data)&&"1"===nt["google.c.a.e"]?[4,this.logEvent(je.messageType,nt)]:[3,2]):[2];case 1:ue.sent(),ue.label=2;case 2:return[2]}})})},Ie.prototype.getVapidKey=function(){return this.vapidKey},Ie.prototype.getSwReg=function(){return this.swRegistration},Ie.prototype.getToken=function(Se){return De(this,void 0,void 0,function(){return ye(this,function(je){switch(je.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:je.sent(),je.label=2;case 2:if("granted"!==Notification.permission)throw fe.create("permission-blocked");return[4,this.updateVapidKey(null==Se?void 0:Se.vapidKey)];case 3:return je.sent(),[4,this.updateSwReg(null==Se?void 0:Se.serviceWorkerRegistration)];case 4:return je.sent(),[2,lt(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},Ie.prototype.updateVapidKey=function(Se){return De(this,void 0,void 0,function(){return ye(this,function(je){return Se?this.vapidKey=Se:this.vapidKey||(this.vapidKey=at),[2]})})},Ie.prototype.updateSwReg=function(Se){return De(this,void 0,void 0,function(){return ye(this,function(je){switch(je.label){case 0:return Se||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:je.sent(),je.label=2;case 2:if(!Se&&this.swRegistration)return[2];if(!(Se instanceof ServiceWorkerRegistration))throw fe.create("invalid-sw-registration");return this.swRegistration=Se,[2]}})})},Ie.prototype.registerDefaultSw=function(){return De(this,void 0,void 0,function(){var Se,je;return ye(this,function(nt){switch(nt.label){case 0:return nt.trys.push([0,2,,3]),Se=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return Se.swRegistration=nt.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw je=nt.sent(),fe.create("failed-service-worker-registration",{browserErrorMessage:je.message});case 3:return[2]}})})},Ie.prototype.deleteToken=function(){return De(this,void 0,void 0,function(){return ye(this,function(Se){switch(Se.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:Se.sent(),Se.label=2;case 2:return[2,fn(this.firebaseDependencies,this.swRegistration)]}})})},Ie.prototype.requestPermission=function(){return De(this,void 0,void 0,function(){var Se;return ye(this,function(je){switch(je.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(Se=je.sent()))return[2];throw fe.create("denied"===Se?"permission-blocked":"permission-default")}})})},Ie.prototype.usePublicVapidKey=function(Se){if(null!==this.vapidKey)throw fe.create("use-vapid-key-after-get-token");if("string"!=typeof Se||0===Se.length)throw fe.create("invalid-vapid-key");this.vapidKey=Se},Ie.prototype.useServiceWorker=function(Se){if(!(Se instanceof ServiceWorkerRegistration))throw fe.create("invalid-sw-registration");if(this.swRegistration)throw fe.create("use-sw-after-get-token");this.swRegistration=Se},Ie.prototype.onMessage=function(Se){var je=this;return this.onMessageCallback=Se,function(){je.onMessageCallback=null}},Ie.prototype.setBackgroundMessageHandler=function(){throw fe.create("only-available-in-sw")},Ie.prototype.onBackgroundMessage=function(){throw fe.create("only-available-in-sw")},Ie.prototype.onTokenRefresh=function(){return function(){}},Ie.prototype.logEvent=function(Se,je){return De(this,void 0,void 0,function(){var nt;return ye(this,function(H){switch(H.label){case 0:return nt=function(Ie){switch(Ie){case wn.NOTIFICATION_CLICKED:return"notification_open";case wn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(Se),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return H.sent().logEvent(nt,{message_id:je[Ge],message_name:je["google.c.a.c_l"],message_time:je["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},Ie}();function Dn(Ie){return fe.create("missing-app-config-values",{valueName:Ie})}var ar={isSupported:hr};function hr(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Z.default.INTERNAL.registerComponent(new m.Component("messaging",function(Ie){var Se=Ie.getProvider("app").getImmediate(),je=function(Ie){var Se,je;if(!Ie||!Ie.options)throw Dn("App Configuration Object");if(!Ie.name)throw Dn("App Name");var ue=Ie.options;try{for(var H=Tt(["projectId","apiKey","appId","messagingSenderId"]),oe=H.next();!oe.done;oe=H.next()){var Ee=oe.value;if(!ue[Ee])throw Dn(Ee)}}catch(Be){Se={error:Be}}finally{try{oe&&!oe.done&&(je=H.return)&&je.call(H)}finally{if(Se)throw Se.error}}return{appName:Ie.name,projectId:ue.projectId,apiKey:ue.apiKey,appId:ue.appId,senderId:ue.messagingSenderId}}(Se),H={app:Se,appConfig:je,installations:Ie.getProvider("installations").getImmediate(),analyticsProvider:Ie.getProvider("analytics-internal")};if(!hr())throw fe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new pr(H):new Dt(H)},"PUBLIC").setServiceProps(ar))},5062:(Vn,We,pe)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var k=pe(6279);pe(7918);var m=pe(9009),te=pe(1704),mt=pe(300),Le=pe(1100);function Ye(ue){return ue&&"object"==typeof ue&&"default"in ue?ue:{default:ue}}var Mt,tt=Ye(k),Q="0.4.2",Te="FB-PERF-TRACE-MEASURE",He="@firebase/performance/config",qe="@firebase/performance/configexpire",Ut="Performance",ft=((Mt={})["trace started"]="Trace {$traceName} was started before.",Mt["trace stopped"]="Trace {$traceName} is not running.",Mt["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Mt["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Mt["no window"]="Window is not available.",Mt["no app id"]="App id is not available.",Mt["no project id"]="Project id is not available.",Mt["no api key"]="Api key is not available.",Mt["invalid cc log"]="Attempted to queue invalid cc event",Mt["FB not default"]="Performance can only start when Firebase app instance is the default one.",Mt["RC response not ok"]="RC response is not ok",Mt["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Mt["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Mt["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Mt["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Mt),Rt=new te.ErrorFactory("performance",Ut,ft),O=new mt.Logger(Ut);O.logLevel=mt.LogLevel.INFO;var F,A,G=function(){function ue(H){if(this.window=H,!H)throw Rt.create("no window");this.performance=H.performance,this.PerformanceObserver=H.PerformanceObserver,this.windowLocation=H.location,this.navigator=H.navigator,this.document=H.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=H.localStorage),H.perfMetrics&&H.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=H.perfMetrics.onFirstInputDelay)}return ue.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},ue.prototype.mark=function(H){!this.performance||!this.performance.mark||this.performance.mark(H)},ue.prototype.measure=function(H,oe,Ee){!this.performance||!this.performance.measure||this.performance.measure(H,oe,Ee)},ue.prototype.getEntriesByType=function(H){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(H):[]},ue.prototype.getEntriesByName=function(H){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(H):[]},ue.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},ue.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!te.isIndexedDBAvailable()||(O.info("IndexedDB is not supported by current browswer"),!1):(O.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},ue.prototype.setupObserver=function(H,oe){this.PerformanceObserver&&new this.PerformanceObserver(function(Be){for(var Me=0,ut=Be.getEntries();Me<ut.length;Me++)oe(ut[Me])}).observe({entryTypes:[H]})},ue.getInstance=function(){return void 0===F&&(F=new ue(A)),F},ue}();function L(ue,H){var oe=ue.length-H.length;if(oe<0||oe>1)throw Rt.create("invalid String merger input");for(var Ee=[],Be=0;Be<ue.length;Be++)Ee.push(ue.charAt(Be)),H.length>Be&&Ee.push(H.charAt(Be));return Ee.join("")}var ce,$t,fe=function(){function ue(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=L("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=L("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return ue.prototype.getAppId=function(){var H=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!H)throw Rt.create("no app id");return H},ue.prototype.getProjectId=function(){var H=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!H)throw Rt.create("no project id");return H},ue.prototype.getApiKey=function(){var H=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!H)throw Rt.create("no api key");return H},ue.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},ue.getInstance=function(){return void 0===ce&&(ce=new ue),ce},ue}();function at(){return $t}var Ke=(()=>{return(ue=Ke||(Ke={}))[ue.UNKNOWN=0]="UNKNOWN",ue[ue.VISIBLE=1]="VISIBLE",ue[ue.HIDDEN=2]="HIDDEN",Ke;var ue})(),Ge=["firebase_","google_","ga_"],vt=new RegExp("^[a-zA-Z]\\w*$");function wn(){switch(G.getInstance().document.visibilityState){case"visible":return Ke.VISIBLE;case"hidden":return Ke.HIDDEN;default:return Ke.UNKNOWN}}function pn(){var H=G.getInstance().navigator.connection;switch(H&&H.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Ve="Could not fetch config, will use default configs";function bt(ue){if(!ue)return ue;var H=fe.getInstance(),oe=ue.entries||{};return H.loggingEnabled=void 0===oe.fpr_enabled||"true"===String(oe.fpr_enabled),oe.fpr_log_source&&(H.logSource=Number(oe.fpr_log_source)),oe.fpr_log_endpoint_url&&(H.logEndPointUrl=oe.fpr_log_endpoint_url),oe.fpr_log_transport_key&&(H.transportKey=oe.fpr_log_transport_key),void 0!==oe.fpr_vc_network_request_sampling_rate&&(H.networkRequestsSamplingRate=Number(oe.fpr_vc_network_request_sampling_rate)),void 0!==oe.fpr_vc_trace_sampling_rate&&(H.tracesSamplingRate=Number(oe.fpr_vc_trace_sampling_rate)),H.logTraceAfterSampling=tn(H.tracesSamplingRate),H.logNetworkAfterSampling=tn(H.networkRequestsSamplingRate),ue}function tn(ue){return Math.random()<=ue}var Bn,_n=1;function Un(){return _n=2,Bn=Bn||(ue=G.getInstance().document,new Promise(function(H){if(ue&&"complete"!==ue.readyState){var oe=function(){"complete"===ue.readyState&&(ue.removeEventListener("readystatechange",oe),H())};ue.addEventListener("readystatechange",oe)}else H()})).then(function(){return function(){var ue=fe.getInstance().installationsService.getId();return ue.then(function(H){$t=H}),ue}()}).then(function(ue){return function(ue){var H=function(){var ue=G.getInstance().localStorage;if(ue){var H=ue.getItem(qe);if(H&&function(ue){return Number(ue)>Date.now()}(H)){var oe=ue.getItem(He);if(oe)try{return JSON.parse(oe)}catch(Be){return}}}}();return H?(bt(H),Promise.resolve()):function(ue){return function(){var ue=fe.getInstance().installationsService.getToken();return ue.then(function(H){}),ue}().then(function(H){var Ee="https://firebaseremoteconfig.googleapis.com/v1/projects/"+fe.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+fe.getInstance().getApiKey(),Be=new Request(Ee,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+H},body:JSON.stringify({app_instance_id:ue,app_instance_id_token:H,app_id:fe.getInstance().getAppId(),app_version:Q,sdk_version:"0.0.1"})});return fetch(Be).then(function(Me){if(Me.ok)return Me.json();throw Rt.create("RC response not ok")})}).catch(function(){O.info(Ve)})}(ue).then(bt).then(function(oe){return function(ue){var H=G.getInstance().localStorage;!ue||!H||(H.setItem(He,JSON.stringify(ue)),H.setItem(qe,String(Date.now()+60*fe.getInstance().configTimeToLive*60*1e3)))}(oe)},function(){})}(ue)}).then(function(){return ve()},function(){return ve()});var ue}function ve(){_n=3}var dr,fn=3,Yt=[],Pn=!1;function In(ue){setTimeout(function(){if(0!==fn){if(!Yt.length)return In(1e4);!function(){var ue=m.__spreadArrays(Yt);Yt=[];var H=ue.map(function(Ee){return{source_extension_json_proto3:Ee.message,event_time_ms:String(Ee.eventTime)}});(function(ue,H){return function(ue){var H=fe.getInstance().getFlTransportFullUrl();return fetch(H,{method:"POST",body:JSON.stringify(ue)})}(ue).then(function(oe){return oe.ok||O.info("Call to Firebase backend failed."),oe.json()}).then(function(oe){var Ee=Number(oe.nextRequestWaitMillis),Be=1e4;isNaN(Ee)||(Be=Math.max(Ee,Be));var Me=oe.logResponseDetails;Array.isArray(Me)&&Me.length>0&&"RETRY_REQUEST_LATER"===Me[0].responseAction&&(Yt=m.__spreadArrays(H,Yt),O.info("Retry transport request later.")),fn=3,In(Be)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:fe.getInstance().logSource,log_event:H},ue).catch(function(){Yt=m.__spreadArrays(ue,Yt),fn--,O.info("Tries left: "+fn+"."),In(1e4)})}()}},ue)}function tr(ue){if(!ue.eventTime||!ue.message)throw Rt.create("invalid cc log");Yt=m.__spreadArrays(Yt,[ue])}function pr(ue,H){dr||(dr=function(ue){return function(){for(var H=[],oe=0;oe<arguments.length;oe++)H[oe]=arguments[oe];tr({message:ue.apply(void 0,H),eventTime:Date.now()})}}(Pi)),dr(ue,H)}function Ni(ue){var H=fe.getInstance();!H.instrumentationEnabled&&ue.isAuto||!H.dataCollectionEnabled&&!ue.isAuto||!G.getInstance().requiredApisAvailable()||ue.isAuto&&wn()!==Ke.VISIBLE||(3===_n?ii(ue):Un().then(function(){return ii(ue)},function(){return ii(ue)}))}function ii(ue){if(at()){var H=fe.getInstance();!H.loggingEnabled||!H.logTraceAfterSampling||setTimeout(function(){return pr(ue,1)},0)}}function Pi(ue,H){return 0===H?function(ue){var H={url:ue.url,http_method:ue.httpMethod||0,http_response_code:200,response_payload_bytes:ue.responsePayloadBytes,client_start_time_us:ue.startTimeUs,time_to_response_initiated_us:ue.timeToResponseInitiatedUs,time_to_response_completed_us:ue.timeToResponseCompletedUs},oe={application_info:Et(),network_request_metric:H};return JSON.stringify(oe)}(ue):function(ue){var H={name:ue.name,is_auto:ue.isAuto,client_start_time_us:ue.startTimeUs,duration_us:ue.durationUs};0!==Object.keys(ue.counters).length&&(H.counters=ue.counters);var oe=ue.getAttributes();0!==Object.keys(oe).length&&(H.custom_attributes=oe);var Ee={application_info:Et(),trace_metric:H};return JSON.stringify(Ee)}(ue)}function Et(){return{google_app_id:fe.getInstance().getAppId(),app_instance_id:at(),web_app_info:{sdk_version:Q,page_url:G.getInstance().getUrl(),service_worker_status:(ue=G.getInstance().navigator,"serviceWorker"in ue?ue.serviceWorker.controller?2:3:1),visibility_state:wn(),effective_connection_type:pn()},application_process_state:0};var ue}var Ft=["_fp","_fcp","_fid"],Dn=function(){function ue(H,oe,Ee){void 0===oe&&(oe=!1),this.name=H,this.isAuto=oe,this.state=1,this.customAttributes={},this.counters={},this.api=G.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=Ee||Te+"-"+this.randomId+"-"+this.name,Ee&&this.calculateTraceMetrics())}return ue.prototype.start=function(){if(1!==this.state)throw Rt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},ue.prototype.stop=function(){if(2!==this.state)throw Rt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Ni(this)},ue.prototype.record=function(H,oe,Ee){if(H<=0)throw Rt.create("nonpositive trace startTime",{traceName:this.name});if(oe<=0)throw Rt.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*oe),this.startTimeUs=Math.floor(1e3*H),Ee&&Ee.attributes&&(this.customAttributes=m.__assign({},Ee.attributes)),Ee&&Ee.metrics)for(var Be=0,Me=Object.keys(Ee.metrics);Be<Me.length;Be++){var ut=Me[Be];isNaN(Number(Ee.metrics[ut]))||(this.counters[ut]=Number(Math.floor(Ee.metrics[ut])))}Ni(this)},ue.prototype.incrementMetric=function(H,oe){void 0===oe&&(oe=1),this.putMetric(H,void 0===this.counters[H]?oe:this.counters[H]+oe)},ue.prototype.putMetric=function(H,oe){if(!function(ue,H){return!(0===ue.length||ue.length>100)&&(H&&H.startsWith("_wt_")&&Ft.indexOf(ue)>-1||!ue.startsWith("_"))}(H,this.name))throw Rt.create("invalid custom metric name",{customMetricName:H});this.counters[H]=function(ue){var H=Math.floor(ue);return H<ue&&O.info("Metric value should be an Integer, setting the value as : "+H+"."),H}(oe)},ue.prototype.getMetric=function(H){return this.counters[H]||0},ue.prototype.putAttribute=function(H,oe){var Ee=function(ue){return!(0===ue.length||ue.length>40||Ge.some(function(oe){return ue.startsWith(oe)})||!ue.match(vt))}(H),Be=function(ue){return 0!==ue.length&&ue.length<=100}(oe);if(Ee&&Be)this.customAttributes[H]=oe;else{if(!Ee)throw Rt.create("invalid attribute name",{attributeName:H});if(!Be)throw Rt.create("invalid attribute value",{attributeValue:oe})}},ue.prototype.getAttribute=function(H){return this.customAttributes[H]},ue.prototype.removeAttribute=function(H){void 0!==this.customAttributes[H]&&delete this.customAttributes[H]},ue.prototype.getAttributes=function(){return m.__assign({},this.customAttributes)},ue.prototype.setStartTime=function(H){this.startTimeUs=H},ue.prototype.setDuration=function(H){this.durationUs=H},ue.prototype.calculateTraceMetrics=function(){var H=this.api.getEntriesByName(this.traceMeasure),oe=H&&H[0];oe&&(this.durationUs=Math.floor(1e3*oe.duration),this.startTimeUs=Math.floor(1e3*(oe.startTime+this.api.getTimeOrigin())))},ue.createOobTrace=function(H,oe,Ee){var Be=G.getInstance().getUrl();if(Be){var Me=new ue("_wt_"+Be,!0),ut=Math.floor(1e3*G.getInstance().getTimeOrigin());if(Me.setStartTime(ut),H&&H[0]&&(Me.setDuration(Math.floor(1e3*H[0].duration)),Me.putMetric("domInteractive",Math.floor(1e3*H[0].domInteractive)),Me.putMetric("domContentLoadedEventEnd",Math.floor(1e3*H[0].domContentLoadedEventEnd)),Me.putMetric("loadEventEnd",Math.floor(1e3*H[0].loadEventEnd))),oe){var qn=oe.find(function(vn){return"first-paint"===vn.name});qn&&qn.startTime&&Me.putMetric("_fp",Math.floor(1e3*qn.startTime));var An=oe.find(function(vn){return"first-contentful-paint"===vn.name});An&&An.startTime&&Me.putMetric("_fcp",Math.floor(1e3*An.startTime)),Ee&&Me.putMetric("_fid",Math.floor(1e3*Ee))}Ni(Me)}},ue.createUserTimingTrace=function(H){Ni(new ue(H,!1,H))},ue}();function Wt(ue){var H=ue;if(H&&void 0!==H.responseStart){var oe=G.getInstance().getTimeOrigin(),Ee=Math.floor(1e3*(H.startTime+oe)),Be=H.responseStart?Math.floor(1e3*(H.responseStart-H.startTime)):void 0,Me=Math.floor(1e3*(H.responseEnd-H.startTime));!function(ue){var H=fe.getInstance();if(H.instrumentationEnabled){var oe=ue.url,Ee=H.logEndPointUrl.split("?")[0],Be=H.flTransportEndpointUrl.split("?")[0];oe===Ee||oe===Be||!H.loggingEnabled||!H.logNetworkAfterSampling||setTimeout(function(){return pr(ue,0)},0)}}({url:H.name&&H.name.split("?")[0],responsePayloadBytes:H.transferSize,startTimeUs:Ee,timeToResponseInitiatedUs:Be,timeToResponseCompletedUs:Me})}}function ar(){!at()||(setTimeout(function(){return function(){var ue=G.getInstance(),H=ue.getEntriesByType("navigation"),oe=ue.getEntriesByType("paint");if(ue.onFirstInputDelay){var Ee=setTimeout(function(){Dn.createOobTrace(H,oe),Ee=void 0},5e3);ue.onFirstInputDelay(function(Be){Ee&&(clearTimeout(Ee),Dn.createOobTrace(H,oe,Be))})}else Dn.createOobTrace(H,oe)}()},0),setTimeout(function(){return function(){for(var ue=G.getInstance(),oe=0,Ee=ue.getEntriesByType("resource");oe<Ee.length;oe++)Wt(Ee[oe]);ue.setupObserver("resource",Wt)}()},0),setTimeout(function(){return function(){for(var ue=G.getInstance(),oe=0,Ee=ue.getEntriesByType("measure");oe<Ee.length;oe++)Ie(Ee[oe]);ue.setupObserver("measure",Ie)}()},0))}function Ie(ue){var H=ue.name;H.substring(0,Te.length)!==Te&&Dn.createUserTimingTrace(H)}var Se=function(){function ue(H){this.app=H,G.getInstance().requiredApisAvailable()&&te.validateIndexedDBOpenable().then(function(oe){oe&&(Pn||(In(5500),Pn=!0),Un().then(ar,ar))}).catch(function(oe){O.info("Environment doesn't support IndexedDB: "+oe)})}return ue.prototype.trace=function(H){return new Dn(H)},Object.defineProperty(ue.prototype,"instrumentationEnabled",{get:function(){return fe.getInstance().instrumentationEnabled},set:function(H){fe.getInstance().instrumentationEnabled=H},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"dataCollectionEnabled",{get:function(){return fe.getInstance().dataCollectionEnabled},set:function(H){fe.getInstance().dataCollectionEnabled=H},enumerable:!1,configurable:!0}),ue}();function nt(ue){ue.INTERNAL.registerComponent(new Le.Component("performance",function(oe){return function(oe,Ee){if("[DEFAULT]"!==oe.name)throw Rt.create("FB not default");if("undefined"==typeof window)throw Rt.create("no window");return function(ue){A=ue}(window),fe.getInstance().firebaseAppInstance=oe,fe.getInstance().installationsService=Ee,new Se(oe)}(oe.getProvider("app").getImmediate(),oe.getProvider("installations").getImmediate())},"PUBLIC")),ue.registerVersion("@firebase/performance","0.4.2")}nt(tt.default),We.registerPerformance=nt},2136:(Vn,We,pe)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var k=pe(6279);pe(7918);var m=pe(7698),te=pe(1704),mt=pe(300),Le=pe(1100);function Ye(Ge){return Ge&&"object"==typeof Ge&&"default"in Ge?Ge:{default:Ge}}var ae,tt=Ye(k),Je=function(){function Ge(vt,Bt,yn,Ht){this.client=vt,this.storage=Bt,this.storageCache=yn,this.logger=Ht}return Ge.prototype.isCachedDataFresh=function(vt,Bt){if(!Bt)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var yn=Date.now()-Bt,Ht=yn<=vt;return this.logger.debug("Config fetch cache check. Cache age millis: "+yn+". Cache max age millis (minimumFetchIntervalMillis setting): "+vt+". Is cache hit: "+Ht+"."),Ht},Ge.prototype.fetch=function(vt){return m.__awaiter(this,void 0,void 0,function(){var Bt,yn,Ht,wn,pn;return m.__generator(this,function(It){switch(It.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return Bt=It.sent(),yn=Bt[0],(Ht=Bt[1])&&this.isCachedDataFresh(vt.cacheMaxAgeMillis,yn)?[2,Ht]:(vt.eTag=Ht&&Ht.eTag,[4,this.client.fetch(vt)]);case 2:return wn=It.sent(),pn=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===wn.status&&pn.push(this.storage.setLastSuccessfulFetchResponse(wn)),[4,Promise.all(pn)];case 3:return It.sent(),[2,wn]}})})},Ge}(),Q=((ae={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",ae["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",ae["registration-api-key"]="Undefined API key. Check Firebase app initialization.",ae["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",ae["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",ae["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",ae["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",ae["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",ae["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",ae["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',ae["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',ae["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",ae["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",ae),De=new te.ErrorFactory("remoteconfig","Remote Config",Q);function Te(Ge){return void 0===Ge&&(Ge=navigator),Ge.languages&&Ge.languages[0]||Ge.language}var wt=function(){function Ge(vt,Bt,yn,Ht,wn,pn){this.firebaseInstallations=vt,this.sdkVersion=Bt,this.namespace=yn,this.projectId=Ht,this.apiKey=wn,this.appId=pn}return Ge.prototype.fetch=function(vt){return m.__awaiter(this,void 0,void 0,function(){var Bt,wn,pn,It,Zn,Ir,Mn,cn,Zt,pt,_t,Ve,$e,bt,Qt,tn,_n;return m.__generator(this,function(Bn){switch(Bn.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:Bt=Bn.sent(),wn=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",pn=wn+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,It={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":vt.eTag||"*"},Zn={sdk_version:this.sdkVersion,app_instance_id:Bt[0],app_instance_id_token:Bt[1],app_id:this.appId,language_code:Te()},Ir={method:"POST",headers:It,body:JSON.stringify(Zn)},Mn=fetch(pn,Ir),cn=new Promise(function(Un,Sn){vt.signal.addEventListener(function(){var Yr=new Error("The operation was aborted.");Yr.name="AbortError",Sn(Yr)})}),Bn.label=2;case 2:return Bn.trys.push([2,5,,6]),[4,Promise.race([Mn,cn])];case 3:return Bn.sent(),[4,Mn];case 4:return Zt=Bn.sent(),[3,6];case 5:throw pt=Bn.sent(),_t="fetch-client-network","AbortError"===pt.name&&(_t="fetch-timeout"),De.create(_t,{originalErrorMessage:pt.message});case 6:if(Ve=Zt.status,$e=Zt.headers.get("ETag")||void 0,200!==Zt.status)return[3,11];tn=void 0,Bn.label=7;case 7:return Bn.trys.push([7,9,,10]),[4,Zt.json()];case 8:return tn=Bn.sent(),[3,10];case 9:throw _n=Bn.sent(),De.create("fetch-client-parse",{originalErrorMessage:_n.message});case 10:bt=tn.entries,Qt=tn.state,Bn.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===Qt?Ve=500:"NO_CHANGE"===Qt?Ve=304:("NO_TEMPLATE"===Qt||"EMPTY_CONFIG"===Qt)&&(bt={}),304!==Ve&&200!==Ve)throw De.create("fetch-status",{httpStatus:Ve});return[2,{status:Ve,eTag:$e,config:bt}]}})})},Ge}(),Tt=function(){function Ge(){this.listeners=[]}return Ge.prototype.addEventListener=function(vt){this.listeners.push(vt)},Ge.prototype.abort=function(){this.listeners.forEach(function(vt){return vt()})},Ge}(),qe=["1","true","t","yes","y","on"],Pt=function(){function Ge(vt,Bt){void 0===Bt&&(Bt=""),this._source=vt,this._value=Bt}return Ge.prototype.asString=function(){return this._value},Ge.prototype.asBoolean=function(){return"static"!==this._source&&qe.indexOf(this._value.toLowerCase())>=0},Ge.prototype.asNumber=function(){if("static"===this._source)return 0;var vt=Number(this._value);return isNaN(vt)&&(vt=0),vt},Ge.prototype.getSource=function(){return this._source},Ge}(),ft=function(){function Ge(vt,Bt,yn,Ht,wn){this.app=vt,this._client=Bt,this._storageCache=yn,this._storage=Ht,this._logger=wn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return Ge.prototype.setLogLevel=function(vt){switch(vt){case"debug":this._logger.logLevel=mt.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=mt.LogLevel.SILENT;break;default:this._logger.logLevel=mt.LogLevel.ERROR}},Object.defineProperty(Ge.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(Ge.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),Ge.prototype.activate=function(){return m.__awaiter(this,void 0,void 0,function(){var vt,Bt,yn;return m.__generator(this,function(Ht){switch(Ht.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return vt=Ht.sent(),yn=vt[1],(Bt=vt[0])&&Bt.config&&Bt.eTag&&Bt.eTag!==yn?[4,Promise.all([this._storageCache.setActiveConfig(Bt.config),this._storage.setActiveConfigEtag(Bt.eTag)])]:[2,!1];case 2:return Ht.sent(),[2,!0]}})})},Ge.prototype.ensureInitialized=function(){var vt=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){vt._isInitializationComplete=!0})),this._initializePromise},Ge.prototype.fetch=function(){return m.__awaiter(this,void 0,void 0,function(){var vt,Bt,yn,Ht=this;return m.__generator(this,function(wn){switch(wn.label){case 0:vt=new Tt,setTimeout(function(){return m.__awaiter(Ht,void 0,void 0,function(){return m.__generator(this,function(pn){return vt.abort(),[2]})})},this.settings.fetchTimeoutMillis),wn.label=1;case 1:return wn.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:vt})];case 2:return wn.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return wn.sent(),[3,6];case 4:return Bt=wn.sent(),yn=function(Ge,vt){return Ge instanceof te.FirebaseError&&-1!==Ge.code.indexOf("fetch-throttle")}(Bt)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(yn)];case 5:throw wn.sent(),Bt;case 6:return[2]}})})},Ge.prototype.fetchAndActivate=function(){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(vt){switch(vt.label){case 0:return[4,this.fetch()];case 1:return vt.sent(),[2,this.activate()]}})})},Ge.prototype.getAll=function(){var vt=this;return function(Ge,vt){return void 0===Ge&&(Ge={}),void 0===vt&&(vt={}),Object.keys(m.__assign(m.__assign({},Ge),vt))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(Bt,yn){return Bt[yn]=vt.getValue(yn),Bt},{})},Ge.prototype.getBoolean=function(vt){return this.getValue(vt).asBoolean()},Ge.prototype.getNumber=function(vt){return this.getValue(vt).asNumber()},Ge.prototype.getString=function(vt){return this.getValue(vt).asString()},Ge.prototype.getValue=function(vt){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+vt+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var Bt=this._storageCache.getActiveConfig();return Bt&&void 0!==Bt[vt]?new Pt("remote",Bt[vt]):this.defaultConfig&&void 0!==this.defaultConfig[vt]?new Pt("default",String(this.defaultConfig[vt])):(this._logger.debug('Returning static value for key "'+vt+'". Define a default or remote value if this is unintentional.'),new Pt("static"))},Ge}();function O(Ge,vt){var Bt=Ge.target.error||void 0;return De.create(vt,{originalErrorMessage:Bt&&Bt.message})}var F="app_namespace_store",L=function(){function Ge(vt,Bt,yn,Ht){void 0===Ht&&(Ht=new Promise(function(Ge,vt){var Bt=indexedDB.open("firebase_remote_config",1);Bt.onerror=function(yn){vt(O(yn,"storage-open"))},Bt.onsuccess=function(yn){Ge(yn.target.result)},Bt.onupgradeneeded=function(yn){var Ht=yn.target.result;switch(yn.oldVersion){case 0:Ht.createObjectStore(F,{keyPath:"compositeKey"})}}})),this.appId=vt,this.appName=Bt,this.namespace=yn,this.openDbPromise=Ht}return Ge.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},Ge.prototype.setLastFetchStatus=function(vt){return this.set("last_fetch_status",vt)},Ge.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},Ge.prototype.setLastSuccessfulFetchTimestampMillis=function(vt){return this.set("last_successful_fetch_timestamp_millis",vt)},Ge.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},Ge.prototype.setLastSuccessfulFetchResponse=function(vt){return this.set("last_successful_fetch_response",vt)},Ge.prototype.getActiveConfig=function(){return this.get("active_config")},Ge.prototype.setActiveConfig=function(vt){return this.set("active_config",vt)},Ge.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},Ge.prototype.setActiveConfigEtag=function(vt){return this.set("active_config_etag",vt)},Ge.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},Ge.prototype.setThrottleMetadata=function(vt){return this.set("throttle_metadata",vt)},Ge.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},Ge.prototype.get=function(vt){return m.__awaiter(this,void 0,void 0,function(){var Bt,yn=this;return m.__generator(this,function(Ht){switch(Ht.label){case 0:return[4,this.openDbPromise];case 1:return Bt=Ht.sent(),[2,new Promise(function(wn,pn){var Zn=Bt.transaction([F],"readonly").objectStore(F),Ir=yn.createCompositeKey(vt);try{var Mn=Zn.get(Ir);Mn.onerror=function(cn){pn(O(cn,"storage-get"))},Mn.onsuccess=function(cn){var Zt=cn.target.result;wn(Zt?Zt.value:void 0)}}catch(cn){pn(De.create("storage-get",{originalErrorMessage:cn&&cn.message}))}})]}})})},Ge.prototype.set=function(vt,Bt){return m.__awaiter(this,void 0,void 0,function(){var yn,Ht=this;return m.__generator(this,function(wn){switch(wn.label){case 0:return[4,this.openDbPromise];case 1:return yn=wn.sent(),[2,new Promise(function(pn,It){var Ir=yn.transaction([F],"readwrite").objectStore(F),Mn=Ht.createCompositeKey(vt);try{var cn=Ir.put({compositeKey:Mn,value:Bt});cn.onerror=function(Zt){It(O(Zt,"storage-set"))},cn.onsuccess=function(){pn()}}catch(Zt){It(De.create("storage-set",{originalErrorMessage:Zt&&Zt.message}))}})]}})})},Ge.prototype.delete=function(vt){return m.__awaiter(this,void 0,void 0,function(){var Bt,yn=this;return m.__generator(this,function(Ht){switch(Ht.label){case 0:return[4,this.openDbPromise];case 1:return Bt=Ht.sent(),[2,new Promise(function(wn,pn){var Zn=Bt.transaction([F],"readwrite").objectStore(F),Ir=yn.createCompositeKey(vt);try{var Mn=Zn.delete(Ir);Mn.onerror=function(cn){pn(O(cn,"storage-delete"))},Mn.onsuccess=function(){wn()}}catch(cn){pn(De.create("storage-delete",{originalErrorMessage:cn&&cn.message}))}})]}})})},Ge.prototype.createCompositeKey=function(vt){return[this.appId,this.appName,this.namespace,vt].join()},Ge}(),ce=function(){function Ge(vt){this.storage=vt}return Ge.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},Ge.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},Ge.prototype.getActiveConfig=function(){return this.activeConfig},Ge.prototype.loadFromStorage=function(){return m.__awaiter(this,void 0,void 0,function(){var vt,Bt,yn,Ht,wn,pn;return m.__generator(this,function(It){switch(It.label){case 0:return vt=this.storage.getLastFetchStatus(),Bt=this.storage.getLastSuccessfulFetchTimestampMillis(),yn=this.storage.getActiveConfig(),[4,vt];case 1:return(Ht=It.sent())&&(this.lastFetchStatus=Ht),[4,Bt];case 2:return(wn=It.sent())&&(this.lastSuccessfulFetchTimestampMillis=wn),[4,yn];case 3:return(pn=It.sent())&&(this.activeConfig=pn),[2]}})})},Ge.prototype.setLastFetchStatus=function(vt){return this.lastFetchStatus=vt,this.storage.setLastFetchStatus(vt)},Ge.prototype.setLastSuccessfulFetchTimestampMillis=function(vt){return this.lastSuccessfulFetchTimestampMillis=vt,this.storage.setLastSuccessfulFetchTimestampMillis(vt)},Ge.prototype.setActiveConfig=function(vt){return this.activeConfig=vt,this.storage.setActiveConfig(vt)},Ge}();function fe(Ge,vt){return new Promise(function(Bt,yn){var Ht=Math.max(vt-Date.now(),0),wn=setTimeout(Bt,Ht);Ge.addEventListener(function(){clearTimeout(wn),yn(De.create("fetch-throttle",{throttleEndTimeMillis:vt}))})})}var _e=function(){function Ge(vt,Bt){this.client=vt,this.storage=Bt}return Ge.prototype.fetch=function(vt){return m.__awaiter(this,void 0,void 0,function(){var Bt;return m.__generator(this,function(yn){switch(yn.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return Bt=yn.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(vt,Bt)]}})})},Ge.prototype.attemptFetch=function(vt,Bt){var yn=Bt.throttleEndTimeMillis,Ht=Bt.backoffCount;return m.__awaiter(this,void 0,void 0,function(){var wn,pn,It;return m.__generator(this,function(Zn){switch(Zn.label){case 0:return[4,fe(vt.signal,yn)];case 1:Zn.sent(),Zn.label=2;case 2:return Zn.trys.push([2,5,,7]),[4,this.client.fetch(vt)];case 3:return wn=Zn.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return Zn.sent(),[2,wn];case 5:if(!function(Ge){if(!(Ge instanceof te.FirebaseError))return!1;var vt=Number(Ge.httpStatus);return 429===vt||500===vt||503===vt||504===vt}(pn=Zn.sent()))throw pn;return It={throttleEndTimeMillis:Date.now()+te.calculateBackoffMillis(Ht),backoffCount:Ht+1},[4,this.storage.setThrottleMetadata(It)];case 6:return Zn.sent(),[2,this.attemptFetch(vt,It)];case 7:return[2]}})})},Ge}(),at="@firebase/remote-config";function Ke(Ge){Ge.INTERNAL.registerComponent(new Le.Component("remoteConfig",function(Bt,yn){var Ht=Bt.getProvider("app").getImmediate(),wn=Bt.getProvider("installations").getImmediate();if("undefined"==typeof window)throw De.create("registration-window");var pn=Ht.options,It=pn.projectId,Zn=pn.apiKey,Ir=pn.appId;if(!It)throw De.create("registration-project-id");if(!Zn)throw De.create("registration-api-key");if(!Ir)throw De.create("registration-app-id");var Mn=new L(Ir,Ht.name,yn=yn||"firebase"),cn=new ce(Mn),Zt=new mt.Logger(at);Zt.logLevel=mt.LogLevel.ERROR;var pt=new wt(wn,Ge.SDK_VERSION,yn,It,Zn,Ir),_t=new _e(pt,Mn),Ve=new Je(_t,Mn,cn,Zt),$e=new ft(Ht,Ve,cn,Mn,Zt);return $e.ensureInitialized(),$e},"PUBLIC").setMultipleInstances(!0)),Ge.registerVersion(at,"0.1.28")}Ke(tt.default),We.registerRemoteConfig=Ke},6035:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{registerStorage:()=>ao});var k=pe(6279);function ae(Y,$,ge,Pe){return new(ge||(ge=Promise))(function(ot,xt){function Xt(En){try{dn(Pe.next(En))}catch(q){xt(q)}}function qt(En){try{dn(Pe.throw(En))}catch(q){xt(q)}}function dn(En){En.done?ot(En.value):function(ot){return ot instanceof ge?ot:new ge(function(xt){xt(ot)})}(En.value).then(Xt,qt)}dn((Pe=Pe.apply(Y,$||[])).next())})}function Q(Y,$){var Pe,Ue,ot,xt,ge={label:0,sent:function(){if(1&ot[0])throw ot[1];return ot[1]},trys:[],ops:[]};return xt={next:Xt(0),throw:Xt(1),return:Xt(2)},"function"==typeof Symbol&&(xt[Symbol.iterator]=function(){return this}),xt;function Xt(dn){return function(En){return function(dn){if(Pe)throw new TypeError("Generator is already executing.");for(;ge;)try{if(Pe=1,Ue&&(ot=2&dn[0]?Ue.return:dn[0]?Ue.throw||((ot=Ue.return)&&ot.call(Ue),0):Ue.next)&&!(ot=ot.call(Ue,dn[1])).done)return ot;switch(Ue=0,ot&&(dn=[2&dn[0],ot.value]),dn[0]){case 0:case 1:ot=dn;break;case 4:return ge.label++,{value:dn[1],done:!1};case 5:ge.label++,Ue=dn[1],dn=[0];continue;case 7:dn=ge.ops.pop(),ge.trys.pop();continue;default:if(!(ot=(ot=ge.trys).length>0&&ot[ot.length-1])&&(6===dn[0]||2===dn[0])){ge=0;continue}if(3===dn[0]&&(!ot||dn[1]>ot[0]&&dn[1]<ot[3])){ge.label=dn[1];break}if(6===dn[0]&&ge.label<ot[1]){ge.label=ot[1],ot=dn;break}if(ot&&ge.label<ot[2]){ge.label=ot[2],ge.ops.push(dn);break}ot[2]&&ge.ops.pop(),ge.trys.pop();continue}dn=$.call(Y,ge)}catch(En){dn=[6,En],Ue=0}finally{Pe=ot=0}if(5&dn[0])throw dn[1];return{value:dn[0]?dn[1]:void 0,done:!0}}([dn,En])}}}function it(){for(var Y=0,$=0,ge=arguments.length;$<ge;$++)Y+=arguments[$].length;var Pe=Array(Y),Ue=0;for($=0;$<ge;$++)for(var ot=arguments[$],xt=0,Xt=ot.length;xt<Xt;xt++,Ue++)Pe[Ue]=ot[xt];return Pe}var F=pe(1100),A="firebasestorage.googleapis.com",ce=function(){function Y($,ge){this.code_=$t($),this.message_="Firebase Storage: "+ge,this.serverResponse_=null,this.name_="FirebaseError"}return Y.prototype.codeProp=function(){return this.code},Y.prototype.codeEquals=function($){return $t($)===this.codeProp()},Y.prototype.serverResponseProp=function(){return this.serverResponse_},Y.prototype.setServerResponseProp=function($){this.serverResponse_=$},Object.defineProperty(Y.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),Y}();function $t(Y){return"storage/"+Y}function _e(){return new ce("unknown","An unknown error occurred, please check the error payload for server response.")}function Bt(){return new ce("canceled","User canceled the upload/download.")}function wn(){return new ce("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function It(){return new ce("no-download-url","The given file does not have any download URLs.")}function Zn(Y,$,ge){return new ce("invalid-argument","Invalid argument in `"+$+"` at index "+Y+": "+ge)}function Mn(){return new ce("app-deleted","The Firebase app was deleted.")}function Zt(Y,$){return new ce("invalid-format","String does not match format '"+Y+"': "+$)}function pt(Y){throw new ce("internal-error","Internal error: "+Y)}var _t={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function Ve(Y){switch(Y){case _t.RAW:case _t.BASE64:case _t.BASE64URL:case _t.DATA_URL:return;default:throw"Expected one of the event types: ["+_t.RAW+", "+_t.BASE64+", "+_t.BASE64URL+", "+_t.DATA_URL+"]."}}var $e=function($,ge){this.data=$,this.contentType=ge||null};function bt(Y,$){switch(Y){case _t.RAW:return new $e(Qt($));case _t.BASE64:case _t.BASE64URL:return new $e(_n(Y,$));case _t.DATA_URL:return new $e(function(Y){var $=new Bn(Y);return $.base64?_n(_t.BASE64,$.rest):function(Y){var $;try{$=decodeURIComponent(Y)}catch(ge){throw Zt(_t.DATA_URL,"Malformed data URL.")}return Qt($)}($.rest)}($),function(Y){return new Bn(Y).contentType}($))}throw _e()}function Qt(Y){for(var $=[],ge=0;ge<Y.length;ge++){var Pe=Y.charCodeAt(ge);if(Pe<=127)$.push(Pe);else if(Pe<=2047)$.push(192|Pe>>6,128|63&Pe);else if(55296==(64512&Pe))if(ge<Y.length-1&&56320==(64512&Y.charCodeAt(ge+1))){var ot=Pe,xt=Y.charCodeAt(++ge);$.push(240|(Pe=65536|(1023&ot)<<10|1023&xt)>>18,128|Pe>>12&63,128|Pe>>6&63,128|63&Pe)}else $.push(239,191,189);else 56320==(64512&Pe)?$.push(239,191,189):$.push(224|Pe>>12,128|Pe>>6&63,128|63&Pe)}return new Uint8Array($)}function _n(Y,$){switch(Y){case _t.BASE64:var ge=-1!==$.indexOf("-"),Pe=-1!==$.indexOf("_");if(ge||Pe)throw Zt(Y,"Invalid character '"+(ge?"-":"_")+"' found: is it base64url encoded?");break;case _t.BASE64URL:var ot=-1!==$.indexOf("+"),xt=-1!==$.indexOf("/");if(ot||xt)throw Zt(Y,"Invalid character '"+(ot?"+":"/")+"' found: is it base64 encoded?");$=$.replace(/-/g,"+").replace(/_/g,"/")}var Xt;try{Xt=atob($)}catch(En){throw Zt(Y,"Invalid character found")}for(var qt=new Uint8Array(Xt.length),dn=0;dn<Xt.length;dn++)qt[dn]=Xt.charCodeAt(dn);return qt}var Bn=function($){this.base64=!1,this.contentType=null;var ge=$.match(/^data:([^,]+)?,/);if(null===ge)throw Zt(_t.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var Pe=ge[1]||null;null!=Pe&&(this.base64=function(Y,$){return Y.length>=$.length&&Y.substring(Y.length-$.length)===$}(Pe,";base64"),this.contentType=this.base64?Pe.substring(0,Pe.length-";base64".length):Pe),this.rest=$.substring($.indexOf(",")+1)},st={STATE_CHANGED:"state_changed"},ze={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ct(Y){switch(Y){case"running":case"pausing":case"canceling":return ze.RUNNING;case"paused":return ze.PAUSED;case"success":return ze.SUCCESS;case"canceled":return ze.CANCELED;case"error":default:return ze.ERROR}}function lt(Y){return null!=Y}function fn(Y){return void 0!==Y}function Yt(Y){return"function"==typeof Y}function Pn(Y){return"object"==typeof Y}function Fn(Y){return Pn(Y)&&null!==Y}function Wn(Y){return"string"==typeof Y||Y instanceof String}function Ln(Y){return Dr(Y)&&Number.isInteger(Y)}function Dr(Y){return"number"==typeof Y||Y instanceof Number}function tr(Y){return li()&&Y instanceof Blob}function li(){return"undefined"!=typeof Blob}var dr=(()=>{return(Y=dr||(dr={}))[Y.NO_ERROR=0]="NO_ERROR",Y[Y.NETWORK_ERROR=1]="NETWORK_ERROR",Y[Y.ABORT=2]="ABORT",dr;var Y})(),pr=function(){function Y(){var $=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=dr.NO_ERROR,this.sendPromise_=new Promise(function(ge){$.xhr_.addEventListener("abort",function(){$.errorCode_=dr.ABORT,ge($)}),$.xhr_.addEventListener("error",function(){$.errorCode_=dr.NETWORK_ERROR,ge($)}),$.xhr_.addEventListener("load",function(){ge($)})})}return Y.prototype.send=function($,ge,Pe,Ue){if(this.sent_)throw pt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ge,$,!0),lt(Ue))for(var ot in Ue)Ue.hasOwnProperty(ot)&&this.xhr_.setRequestHeader(ot,Ue[ot].toString());return lt(Pe)?this.xhr_.send(Pe):this.xhr_.send(),this.sendPromise_},Y.prototype.getErrorCode=function(){if(!this.sent_)throw pt("cannot .getErrorCode() before sending");return this.errorCode_},Y.prototype.getStatus=function(){if(!this.sent_)throw pt("cannot .getStatus() before sending");try{return this.xhr_.status}catch($){return-1}},Y.prototype.getResponseText=function(){if(!this.sent_)throw pt("cannot .getResponseText() before sending");return this.xhr_.responseText},Y.prototype.abort=function(){this.xhr_.abort()},Y.prototype.getResponseHeader=function($){return this.xhr_.getResponseHeader($)},Y.prototype.addUploadProgressListener=function($){lt(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",$)},Y.prototype.removeUploadProgressListener=function($){lt(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",$)},Y}(),Ni=function(){function Y(){}return Y.prototype.createXhrIo=function(){return new pr},Y}();function ii(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function oi(){for(var Y=[],$=0;$<arguments.length;$++)Y[$]=arguments[$];var ge=ii();if(void 0!==ge){for(var Pe=new ge,Ue=0;Ue<Y.length;Ue++)Pe.append(Y[Ue]);return Pe.getBlob()}if(li())return new Blob(Y);throw Error("This browser doesn't seem to support creating Blobs")}var xe=function(){function Y($,ge){var Pe=0,Ue="";tr($)?(this.data_=$,Pe=$.size,Ue=$.type):$ instanceof ArrayBuffer?(ge?this.data_=new Uint8Array($):(this.data_=new Uint8Array($.byteLength),this.data_.set(new Uint8Array($))),Pe=this.data_.length):$ instanceof Uint8Array&&(ge?this.data_=$:(this.data_=new Uint8Array($.length),this.data_.set($)),Pe=$.length),this.size_=Pe,this.type_=Ue}return Y.prototype.size=function(){return this.size_},Y.prototype.type=function(){return this.type_},Y.prototype.slice=function($,ge){if(tr(this.data_)){var Ue=function(Y,$,ge){return Y.webkitSlice?Y.webkitSlice($,ge):Y.mozSlice?Y.mozSlice($,ge):Y.slice?Y.slice($,ge):null}(this.data_,$,ge);return null===Ue?null:new Y(Ue)}return new Y(new Uint8Array(this.data_.buffer,$,ge-$),!0)},Y.getBlob=function(){for(var $=[],ge=0;ge<arguments.length;ge++)$[ge]=arguments[ge];if(li()){var Pe=$.map(function(qt){return qt instanceof Y?qt.data_:qt});return new Y(oi.apply(null,Pe))}var Ue=$.map(function(qt){return Wn(qt)?bt(_t.RAW,qt).data:qt.data_}),ot=0;Ue.forEach(function(qt){ot+=qt.byteLength});var xt=new Uint8Array(ot),Xt=0;return Ue.forEach(function(qt){for(var dn=0;dn<qt.length;dn++)xt[Xt++]=qt[dn]}),new Y(xt,!0)},Y.prototype.uploadData=function(){return this.data_},Y}(),ht=function(){function Y($,ge){this.bucket=$,this.path_=ge}return Object.defineProperty(Y.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),Y.prototype.fullServerUrl=function(){var $=encodeURIComponent;return"/b/"+$(this.bucket)+"/o/"+$(this.path)},Y.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},Y.makeFromBucketSpec=function($){var ge;try{ge=Y.makeFromUrl($)}catch(Pe){return new Y($,"")}if(""===ge.path)return ge;throw function(Y){return new ce("invalid-default-bucket","Invalid default bucket '"+Y+"'.")}($)},Y.makeFromUrl=function($){var ge=null,Pe="([A-Za-z0-9.\\-_]+)",xt=new RegExp("^gs://"+Pe+"(/(.*))?$","i");function qt(Er){Er.path_=decodeURIComponent(Er.path)}for(var En=A.replace(/[.]/g,"\\."),Cn=[{regex:xt,indices:{bucket:1,path:3},postModify:function(Er){"/"===Er.path.charAt(Er.path.length-1)&&(Er.path_=Er.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+En+"/v[A-Za-z0-9_]+/b/"+Pe+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:qt},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+Pe+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:qt}],xn=0;xn<Cn.length;xn++){var yr=Cn[xn],wr=yr.regex.exec($);if(wr){var sr=wr[yr.indices.path];sr||(sr=""),ge=new Y(wr[yr.indices.bucket],sr),yr.postModify(ge);break}}if(null==ge)throw function(Y){return new ce("invalid-url","Invalid URL '"+Y+"'.")}($);return ge},Y}();function Et(Y){var $;try{$=JSON.parse(Y)}catch(ge){return null}return function(Y){return Pn(Y)&&!Array.isArray(Y)}($)?$:null}function Dt(Y,$){var ge=$.split("/").filter(function(Pe){return Pe.length>0}).join("/");return 0===Y.length?ge:Y+"/"+ge}function Ft(Y){var $=Y.lastIndexOf("/",Y.length-2);return-1===$?Y:Y.slice($+1)}function sn(Y){return"https://"+A+"/v0"+Y}function bn(Y){var $=encodeURIComponent,ge="?";for(var Pe in Y)Y.hasOwnProperty(Pe)&&(ge=ge+($(Pe)+"=")+$(Y[Pe])+"&");return ge.slice(0,-1)}function Dn(Y,$){return $}var Wt=function($,ge,Pe,Ue){this.server=$,this.local=ge||$,this.writable=!!Pe,this.xform=Ue||Dn},Nn=null;function Ie(Y,$,ge){var Pe=Et($);return null===Pe?null:function(Y,$,ge){for(var Pe={type:"file"},Ue=ge.length,ot=0;ot<Ue;ot++){var xt=ge[ot];Pe[xt.local]=xt.xform(Pe,$[xt.server])}return function(Y,$){Object.defineProperty(Y,"ref",{get:function(){var ot=new ht(Y.bucket,Y.fullPath);return $.makeStorageReference(ot)}})}(Pe,Y),Pe}(Y,Pe,ge)}function je(Y,$){for(var ge={},Pe=$.length,Ue=0;Ue<Pe;Ue++){var ot=$[Ue];ot.writable&&(ge[ot.server]=Y[ot.local])}return JSON.stringify(ge)}function nt(Y){if(!Pn(Y)||!Y)throw"Expected Metadata object.";for(var $ in Y)if(Y.hasOwnProperty($)){var ge=Y[$];if("customMetadata"===$){if(!Pn(ge))throw"Expected object for 'customMetadata' mapping."}else if(Fn(ge))throw"Mapping for '"+$+"' cannot be an object."}}var ue="maxResults",oe="pageToken",Ee="prefixes";function Jt(Y){if(!Pn(Y)||!Y)throw"Expected ListOptions object.";for(var $ in Y)if($===ue){if(!Ln(Y[ue])||Y[ue]<=0)throw"Expected maxResults to be a positive number.";if(Y[ue]>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if($!==oe)throw"Unknown option: "+$;if(Y[oe]&&!Wn(Y[oe]))throw"Expected pageToken to be string."}}var ln=function($,ge,Pe,Ue){this.url=$,this.method=ge,this.handler=Pe,this.timeout=Ue,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function qn(Y){if(!Y)throw _e()}function An(Y,$){return function(Pe,Ue){var ot=Ie(Y,Ue,$);return qn(null!==ot),ot}}function nr(Y){return function(ge,Pe){var Ue;return(Ue=401===ge.getStatus()?new ce("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===ge.getStatus()?function(Y){return new ce("quota-exceeded","Quota for bucket '"+Y+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Y.bucket):403===ge.getStatus()?function(Y){return new ce("unauthorized","User does not have permission to access '"+Y+"'.")}(Y.path):Pe).setServerResponseProp(Pe.serverResponseProp()),Ue}}function vr(Y){var $=nr(Y);return function(Pe,Ue){var ot=$(Pe,Ue);return 404===Pe.getStatus()&&(ot=function(Y){return new ce("object-not-found","Object '"+Y+"' does not exist.")}(Y.path)),ot.setServerResponseProp(Ue.serverResponseProp()),ot}}function or(Y,$,ge){var Ue=sn($.fullServerUrl()),xt=Y.maxOperationRetryTime,Xt=new ln(Ue,"GET",An(Y,ge),xt);return Xt.errorHandler=vr($),Xt}function Vs(Y,$,ge,Pe,Ue){var ot={};ot.prefix=$.isRoot?"":$.path+"/",ge&&ge.length>0&&(ot.delimiter=ge),Pe&&(ot.pageToken=Pe),Ue&&(ot.maxResults=Ue);var Xt=sn($.bucketOnlyServerUrl()),dn=Y.maxOperationRetryTime,En=new ln(Xt,"GET",function(Y,$){return function(Pe,Ue){var ot=function(Y,$,ge){var Pe=Et(ge);return null===Pe?null:function(Y,$,ge){var Pe={prefixes:[],items:[],nextPageToken:ge.nextPageToken};if(ge[Ee])for(var Ue=0,ot=ge[Ee];Ue<ot.length;Ue++){var Xt=ot[Ue].replace(/\/$/,""),qt=Y.makeStorageReference(new ht($,Xt));Pe.prefixes.push(qt)}if(ge.items)for(var dn=0,En=ge.items;dn<En.length;dn++)qt=Y.makeStorageReference(new ht($,En[dn].name)),Pe.items.push(qt);return Pe}(Y,$,Pe)}(Y,$,Ue);return qn(null!==ot),ot}}(Y,$.bucket),dn);return En.urlParams=ot,En.errorHandler=nr($),En}function qi(Y,$,ge){var Ue=sn($.fullServerUrl()),xt=Y.maxOperationRetryTime,Xt=new ln(Ue,"GET",function(Y,$){return function(Pe,Ue){var ot=Ie(Y,Ue,$);return qn(null!==ot),function(Y,$){var ge=Et($);if(null===ge||!Wn(ge.downloadTokens))return null;var Pe=ge.downloadTokens;if(0===Pe.length)return null;var Ue=encodeURIComponent;return Pe.split(",").map(function(Xt){var dn=Y.fullPath;return sn("/b/"+Ue(Y.bucket)+"/o/"+Ue(dn))+bn({alt:"media",token:Xt})})[0]}(ot,Ue)}}(Y,ge),xt);return Xt.errorHandler=vr($),Xt}function ko(Y,$,ge,Pe){var ot=sn($.fullServerUrl()),Xt=je(ge,Pe),dn=Y.maxOperationRetryTime,En=new ln(ot,"PATCH",An(Y,Pe),dn);return En.headers={"Content-Type":"application/json; charset=utf-8"},En.body=Xt,En.errorHandler=vr($),En}function Yi(Y,$){var Pe=sn($.fullServerUrl()),Xt=new ln(Pe,"DELETE",function(qt,dn){},Y.maxOperationRetryTime);return Xt.successCodes=[200,204],Xt.errorHandler=vr($),Xt}function Ao(Y,$,ge){var Pe=Object.assign({},ge);return Pe.fullPath=Y.path,Pe.size=$.size(),Pe.contentType||(Pe.contentType=function(Y,$){return $&&$.type()||"application/octet-stream"}(0,$)),Pe}var Zi=function($,ge,Pe,Ue){this.current=$,this.total=ge,this.finalized=!!Pe,this.metadata=Ue||null};function xi(Y,$){var ge=null;try{ge=Y.getResponseHeader("X-Goog-Upload-Status")}catch(Ue){qn(!1)}return qn(!!ge&&-1!==($||["active"]).indexOf(ge)),ge}var yi=function($,ge,Pe){if(Yt($)||lt(ge)||lt(Pe))this.next=$,this.error=ge||null,this.complete=Pe||null;else{var ot=$;this.next=ot.next||null,this.error=ot.error||null,this.complete=ot.complete||null}},ki=function($,ge,Pe,Ue,ot,xt){this.bytesTransferred=$,this.totalBytes=ge,this.state=Pe,this.metadata=Ue,this.task=ot,this.ref=xt};function si(Y,$,ge){for(var Pe=$.length,Ue=$.length,ot=0;ot<$.length;ot++)if($[ot].optional){Pe=ot;break}if(!(Pe<=ge.length&&ge.length<=Ue))throw function(Y,$,ge,Pe){var Ue,ot;return Y===$?(Ue=Y,ot=1===Y?"argument":"arguments"):(Ue="between "+Y+" and "+$,ot="arguments"),new ce("invalid-argument-count","Invalid argument count in `"+ge+"`: Expected "+Ue+" "+ot+", received "+Pe+".")}(Pe,Ue,Y,ge.length);for(ot=0;ot<ge.length;ot++)try{$[ot].validator(ge[ot])}catch(qt){throw qt instanceof Error?Zn(ot,Y,qt.message):Zn(ot,Y,qt)}}var Fi=function($,ge){var Pe=this;this.validator=function(Ue){Pe.optional&&!fn(Ue)||$(Ue)},this.optional=!!ge};function ji(Y,$){function ge(Ue){if(!Wn(Ue))throw"Expected string."}var Pe;return Pe=Y?function(Y,$){return function(ge){Y(ge),$(ge)}}(ge,Y):ge,new Fi(Pe,$)}function Wo(){return new Fi(function($){if(!($ instanceof Uint8Array||$ instanceof ArrayBuffer||li()&&$ instanceof Blob))throw"Expected Blob or File."})}function $r(Y){return new Fi(nt,Y)}function lo(Y){return new Fi(Jt,Y)}function Us(){return new Fi(function($){if(!(Dr($)&&$>=0))throw"Expected a number 0 or greater."})}function co(Y,$){return new Fi(function(Pe){if(!(null===Pe||lt(Pe)&&Pe instanceof Object))throw"Expected an Object.";null!=Y&&Y(Pe)},$)}function zn(Y){return new Fi(function(ge){if(null!==ge&&!Yt(ge))throw"Expected a Function."},Y)}function fr(Y){return function(){for(var $=[],ge=0;ge<arguments.length;ge++)$[ge]=arguments[ge];Promise.resolve().then(function(){return Y.apply(void 0,$)})}}var Xs=function(){function Y($,ge,Pe,Ue,ot,xt){var Xt=this;void 0===xt&&(xt=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=$,this.service_=ge,this.location_=Pe,this.blob_=ot,this.metadata_=xt,this.mappings_=Ue,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(qt){Xt.request_=null,Xt.chunkMultiplier_=1,qt.codeEquals("canceled")?(Xt.needToFetchStatus_=!0,Xt.completeTransitions_()):(Xt.error_=qt,Xt.transition_("error"))},this.metadataErrorHandler_=function(qt){Xt.request_=null,qt.codeEquals("canceled")?Xt.completeTransitions_():(Xt.error_=qt,Xt.transition_("error"))},this.promise_=new Promise(function(qt,dn){Xt.resolve_=qt,Xt.reject_=dn,Xt.start_()}),this.promise_.then(null,function(){})}return Y.prototype.makeProgressCallback_=function(){var $=this,ge=this.transferred_;return function(Pe){return $.updateProgress_(ge+Pe)}},Y.prototype.shouldDoResumable_=function($){return $.size()>262144},Y.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},Y.prototype.resolveToken_=function($){var ge=this;this.service_.getAuthToken().then(function(Pe){switch(ge.state_){case"running":$(Pe);break;case"canceling":ge.transition_("canceled");break;case"pausing":ge.transition_("paused")}})},Y.prototype.createResumable_=function(){var $=this;this.resolveToken_(function(ge){var Pe=function(Y,$,ge,Pe,Ue){var ot=$.bucketOnlyServerUrl(),xt=Ao($,Pe,Ue),Xt={name:xt.fullPath},qt=sn(ot),En={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":Pe.size(),"X-Goog-Upload-Header-Content-Type":xt.contentType,"Content-Type":"application/json; charset=utf-8"},q=je(xt,ge),de=new ln(qt,"POST",function(Fe){var At;xi(Fe);try{At=Fe.getResponseHeader("X-Goog-Upload-URL")}catch(en){qn(!1)}return qn(Wn(At)),At},Y.maxUploadRetryTime);return de.urlParams=Xt,de.headers=En,de.body=q,de.errorHandler=nr($),de}($.service_,$.location_,$.mappings_,$.blob_,$.metadata_),Ue=$.service_.makeRequest(Pe,ge);$.request_=Ue,Ue.getPromise().then(function(ot){$.request_=null,$.uploadUrl_=ot,$.needToFetchStatus_=!1,$.completeTransitions_()},$.errorHandler_)})},Y.prototype.fetchStatus_=function(){var $=this,ge=this.uploadUrl_;this.resolveToken_(function(Pe){var Ue=function(Y,$,ge,Pe){var qt=new ln(ge,"POST",function(dn){var En=xi(dn,["active","final"]),q=null;try{q=dn.getResponseHeader("X-Goog-Upload-Size-Received")}catch(z){qn(!1)}q||qn(!1);var se=Number(q);return qn(!isNaN(se)),new Zi(se,Pe.size(),"final"===En)},Y.maxUploadRetryTime);return qt.headers={"X-Goog-Upload-Command":"query"},qt.errorHandler=nr($),qt}($.service_,$.location_,ge,$.blob_),ot=$.service_.makeRequest(Ue,Pe);$.request_=ot,ot.getPromise().then(function(xt){xt=xt,$.request_=null,$.updateProgress_(xt.current),$.needToFetchStatus_=!1,xt.finalized&&($.needToFetchMetadata_=!0),$.completeTransitions_()},$.errorHandler_)})},Y.prototype.continueUpload_=function(){var $=this,ge=262144*this.chunkMultiplier_,Pe=new Zi(this.transferred_,this.blob_.size()),Ue=this.uploadUrl_;this.resolveToken_(function(ot){var xt;try{xt=function(Y,$,ge,Pe,Ue,ot,xt,Xt){var qt=new Zi(0,0);if(xt?(qt.current=xt.current,qt.total=xt.total):(qt.current=0,qt.total=Pe.size()),Pe.size()!==qt.total)throw new ce("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var dn=qt.total-qt.current,En=dn;Ue>0&&(En=Math.min(En,Ue));var q=qt.current,de={"X-Goog-Upload-Command":En===dn?"upload, finalize":"upload","X-Goog-Upload-Offset":qt.current},Fe=Pe.slice(q,q+En);if(null===Fe)throw wn();var xn=new ln(ge,"POST",function(yr,wr){var ci,ur=xi(yr,["active","final"]),sr=qt.current+En,Er=Pe.size();return ci="final"===ur?An($,ot)(yr,wr):null,new Zi(sr,Er,"final"===ur,ci)},$.maxUploadRetryTime);return xn.headers=de,xn.body=Fe.uploadData(),xn.progressCallback=Xt||null,xn.errorHandler=nr(Y),xn}($.location_,$.service_,Ue,$.blob_,ge,$.mappings_,Pe,$.makeProgressCallback_())}catch(qt){return $.error_=qt,void $.transition_("error")}var Xt=$.service_.makeRequest(xt,ot);$.request_=Xt,Xt.getPromise().then(function(qt){$.increaseMultiplier_(),$.request_=null,$.updateProgress_(qt.current),qt.finalized?($.metadata_=qt.metadata,$.transition_("success")):$.completeTransitions_()},$.errorHandler_)})},Y.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},Y.prototype.fetchMetadata_=function(){var $=this;this.resolveToken_(function(ge){var Pe=or($.service_,$.location_,$.mappings_),Ue=$.service_.makeRequest(Pe,ge);$.request_=Ue,Ue.getPromise().then(function(ot){$.request_=null,$.metadata_=ot,$.transition_("success")},$.metadataErrorHandler_)})},Y.prototype.oneShotUpload_=function(){var $=this;this.resolveToken_(function(ge){var Pe=function(Y,$,ge,Pe,Ue){var ot=$.bucketOnlyServerUrl(),xt={"X-Goog-Upload-Protocol":"multipart"},qt=function(){for(var xn="",yr=0;yr<2;yr++)xn+=Math.random().toString().slice(2);return xn}();xt["Content-Type"]="multipart/related; boundary="+qt;var dn=Ao($,Pe,Ue),En=je(dn,ge),z=xe.getBlob("--"+qt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+En+"\r\n--"+qt+"\r\nContent-Type: "+dn.contentType+"\r\n\r\n",Pe,"\r\n--"+qt+"--");if(null===z)throw wn();var de={name:dn.fullPath},Fe=sn(ot),en=Y.maxUploadRetryTime,Cn=new ln(Fe,"POST",An(Y,ge),en);return Cn.urlParams=de,Cn.headers=xt,Cn.body=z.uploadData(),Cn.errorHandler=nr($),Cn}($.service_,$.location_,$.mappings_,$.blob_,$.metadata_),Ue=$.service_.makeRequest(Pe,ge);$.request_=Ue,Ue.getPromise().then(function(ot){$.request_=null,$.metadata_=ot,$.updateProgress_($.blob_.size()),$.transition_("success")},$.errorHandler_)})},Y.prototype.updateProgress_=function($){var ge=this.transferred_;this.transferred_=$,this.transferred_!==ge&&this.notifyObservers_()},Y.prototype.transition_=function($){if(this.state_!==$)switch($){case"canceling":case"pausing":this.state_=$,null!==this.request_&&this.request_.cancel();break;case"running":var ge="paused"===this.state_;this.state_=$,ge&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=$,this.notifyObservers_();break;case"canceled":this.error_=Bt(),this.state_=$,this.notifyObservers_();break;case"error":case"success":this.state_=$,this.notifyObservers_()}},Y.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(Y.prototype,"snapshot",{get:function(){var $=Ct(this.state_);return new ki(this.transferred_,this.blob_.size(),$,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),Y.prototype.on=function($,ge,Pe,Ue){function ot(){if($!==st.STATE_CHANGED)throw"Expected one of the event types: ["+st.STATE_CHANGED+"]."}var xt="Expected a function or an Object with one of `next`, `error`, `complete` properties.",Xt=zn(!0).validator,qt=co(null,!0).validator;function dn(At){try{return void Xt(At)}catch(Cn){}try{if(qt(At),!(fn(At.next)||fn(At.error)||fn(At.complete)))throw"";return}catch(Cn){throw xt}}var En=[ji(ot),co(dn,!0),zn(!0),zn(!0)];si("on",En,arguments);var q=this;function se(At){return function(Cn,xn,yr){null!==At&&si("on",At,arguments);var wr=new yi(Cn,xn,Ue);return q.addObserver_(wr),function(){q.removeObserver_(wr)}}}function z(At){if(null===At)throw xt;dn(At)}var de=[co(z),zn(!0),zn(!0)],Fe=!(fn(ge)||fn(Pe)||fn(Ue));return Fe?se(de):se(null)(ge,Pe,Ue)},Y.prototype.then=function($,ge){return this.promise_.then($,ge)},Y.prototype.catch=function($){return this.then(null,$)},Y.prototype.addObserver_=function($){this.observers_.push($),this.notifyObserver_($)},Y.prototype.removeObserver_=function($){var ge=this.observers_.indexOf($);-1!==ge&&this.observers_.splice(ge,1)},Y.prototype.notifyObservers_=function(){var $=this;this.finishPromise_(),this.observers_.slice().forEach(function(Pe){$.notifyObserver_(Pe)})},Y.prototype.finishPromise_=function(){if(null!==this.resolve_){var $=!0;switch(Ct(this.state_)){case ze.SUCCESS:fr(this.resolve_.bind(null,this.snapshot))();break;case ze.CANCELED:case ze.ERROR:fr(this.reject_.bind(null,this.error_))();break;default:$=!1}$&&(this.resolve_=null,this.reject_=null)}},Y.prototype.notifyObserver_=function($){switch(Ct(this.state_)){case ze.RUNNING:case ze.PAUSED:$.next&&fr($.next.bind($,this.snapshot))();break;case ze.SUCCESS:$.complete&&fr($.complete.bind($))();break;case ze.CANCELED:case ze.ERROR:$.error&&fr($.error.bind($,this.error_))();break;default:$.error&&fr($.error.bind($,this.error_))()}},Y.prototype.resume=function(){si("resume",[],arguments);var $="paused"===this.state_||"pausing"===this.state_;return $&&this.transition_("running"),$},Y.prototype.pause=function(){si("pause",[],arguments);var $="running"===this.state_;return $&&this.transition_("pausing"),$},Y.prototype.cancel=function(){si("cancel",[],arguments);var $="running"===this.state_||"pausing"===this.state_;return $&&this.transition_("canceling"),$},Y}(),io=function(){function Y($,ge){this.service=$,this.location=ge instanceof ht?ge:ht.makeFromUrl(ge)}return Y.prototype.toString=function(){return si("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},Y.prototype.newRef=function($,ge){return new Y($,ge)},Y.prototype.mappings=function(){return function(){if(Nn)return Nn;var Y=[];Y.push(new Wt("bucket")),Y.push(new Wt("generation")),Y.push(new Wt("metageneration")),Y.push(new Wt("name","fullPath",!0));var ge=new Wt("name");ge.xform=function(ot,xt){return function(Y){return!Wn(Y)||Y.length<2?Y:Ft(Y)}(xt)},Y.push(ge);var Ue=new Wt("size");return Ue.xform=function(ot,xt){return lt(xt)?Number(xt):xt},Y.push(Ue),Y.push(new Wt("timeCreated")),Y.push(new Wt("updated")),Y.push(new Wt("md5Hash",null,!0)),Y.push(new Wt("cacheControl",null,!0)),Y.push(new Wt("contentDisposition",null,!0)),Y.push(new Wt("contentEncoding",null,!0)),Y.push(new Wt("contentLanguage",null,!0)),Y.push(new Wt("contentType",null,!0)),Y.push(new Wt("metadata","customMetadata",!0)),Nn=Y}()},Y.prototype.child=function($){si("child",[ji()],arguments);var ge=Dt(this.location.path,$),Pe=new ht(this.location.bucket,ge);return this.newRef(this.service,Pe)},Object.defineProperty(Y.prototype,"parent",{get:function(){var $=function(Y){if(0===Y.length)return null;var $=Y.lastIndexOf("/");return-1===$?"":Y.slice(0,$)}(this.location.path);if(null===$)return null;var ge=new ht(this.location.bucket,$);return this.newRef(this.service,ge)},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"root",{get:function(){var $=new ht(this.location.bucket,"");return this.newRef(this.service,$)},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"name",{get:function(){return Ft(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),Y.prototype.put=function($,ge){return void 0===ge&&(ge=null),si("put",[Wo(),$r(!0)],arguments),this.throwIfRoot_("put"),new Xs(this,this.service,this.location,this.mappings(),new xe($),ge)},Y.prototype.putString=function($,ge,Pe){void 0===ge&&(ge=_t.RAW),si("putString",[ji(),ji(Ve,!0),$r(!0)],arguments),this.throwIfRoot_("putString");var Ue=bt(ge,$),ot=Object.assign({},Pe);return!lt(ot.contentType)&&lt(Ue.contentType)&&(ot.contentType=Ue.contentType),new Xs(this,this.service,this.location,this.mappings(),new xe(Ue.data,!0),ot)},Y.prototype.delete=function(){var $=this;return si("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(ge){var Pe=Yi($.service,$.location);return $.service.makeRequest(Pe,ge).getPromise()})},Y.prototype.listAll=function(){si("listAll",[],arguments);var $={prefixes:[],items:[]};return this.listAllHelper($).then(function(){return $})},Y.prototype.listAllHelper=function($,ge){return ae(this,void 0,void 0,function(){var Ue,ot,xt;return Q(this,function(Xt){switch(Xt.label){case 0:return[4,this.list({pageToken:ge})];case 1:return Ue=Xt.sent(),(ot=$.prefixes).push.apply(ot,Ue.prefixes),(xt=$.items).push.apply(xt,Ue.items),null==Ue.nextPageToken?[3,3]:[4,this.listAllHelper($,Ue.nextPageToken)];case 2:Xt.sent(),Xt.label=3;case 3:return[2]}})})},Y.prototype.list=function($){si("list",[lo(!0)],arguments);var ge=this;return this.service.getAuthToken().then(function(Pe){var Ue=$||{},ot=Vs(ge.service,ge.location,"/",Ue.pageToken,Ue.maxResults);return ge.service.makeRequest(ot,Pe).getPromise()})},Y.prototype.getMetadata=function(){var $=this;return si("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(ge){var Pe=or($.service,$.location,$.mappings());return $.service.makeRequest(Pe,ge).getPromise()})},Y.prototype.updateMetadata=function($){var ge=this;return si("updateMetadata",[$r()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(Pe){var Ue=ko(ge.service,ge.location,$,ge.mappings());return ge.service.makeRequest(Ue,Pe).getPromise()})},Y.prototype.getDownloadURL=function(){var $=this;return si("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(ge){var Pe=qi($.service,$.location,$.mappings());return $.service.makeRequest(Pe,ge).getPromise().then(function(Ue){if(null===Ue)throw It();return Ue})})},Y.prototype.throwIfRoot_=function($){if(""===this.location.path)throw function(Y){return new ce("invalid-root-operation","The operation '"+Y+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}($)},Y}(),Fo=function(){function Y($){this.promise_=Promise.reject($)}return Y.prototype.getPromise=function(){return this.promise_},Y.prototype.cancel=function($){},Y}(),gr=function(){function Y($,ge,Pe,Ue,ot,xt,Xt,qt,dn,En,q){var se=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=$,this.method_=ge,this.headers_=Pe,this.body_=Ue,this.successCodes_=ot.slice(),this.additionalRetryCodes_=xt.slice(),this.callback_=Xt,this.errorCallback_=qt,this.progressCallback_=En,this.timeout_=dn,this.pool_=q,this.promise_=new Promise(function(z,de){se.resolve_=z,se.reject_=de,se.start_()})}return Y.prototype.start_=function(){var $=this;function Pe(Ue,ot){var xt=$.resolve_,Xt=$.reject_,qt=ot.xhr;if(ot.wasSuccessCode)try{var dn=$.callback_(qt,qt.getResponseText());fn(dn)?xt(dn):xt()}catch(q){Xt(q)}else if(null!==qt)(En=_e()).setServerResponseProp(qt.getResponseText()),Xt($.errorCallback_?$.errorCallback_(qt,En):En);else if(ot.canceled)Xt(En=$.appDelete_?Mn():Bt());else{var En;Xt(En=new ce("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?Pe(0,new Ji(!1,null,!0)):this.backoffId_=function(Y,$,ge){var Pe=1,Ue=null,ot=!1,xt=0;function Xt(){return 2===xt}var qt=!1;function dn(){for(var de=[],Fe=0;Fe<arguments.length;Fe++)de[Fe]=arguments[Fe];qt||(qt=!0,$.apply(null,de))}function En(de){Ue=setTimeout(function(){Ue=null,Y(q,Xt())},de)}function q(de){for(var Fe=[],At=1;At<arguments.length;At++)Fe[At-1]=arguments[At];if(!qt){if(de)return void dn.call.apply(dn,it([null,de],Fe));var Cn;if(Xt()||ot)return void dn.call.apply(dn,it([null,de],Fe));Pe<64&&(Pe*=2),1===xt?(xt=2,Cn=0):Cn=1e3*(Pe+Math.random()),En(Cn)}}var se=!1;function z(de){se||(se=!0,!qt&&(null!==Ue?(de||(xt=2),clearTimeout(Ue),En(0)):de||(xt=1)))}return En(0),setTimeout(function(){ot=!0,z(!0)},ge),z}(function(Ue,ot){if(ot)Ue(!1,new Ji(!1,null,!0));else{var xt=$.pool_.createXhrIo();$.pendingXhr_=xt,null!==$.progressCallback_&&xt.addUploadProgressListener(Xt),xt.send($.url_,$.method_,$.body_,$.headers_).then(function(qt){null!==$.progressCallback_&&qt.removeUploadProgressListener(Xt),$.pendingXhr_=null;var dn=(qt=qt).getErrorCode()===dr.NO_ERROR,En=qt.getStatus();if(dn&&!$.isRetryStatusCode_(En)){var se=-1!==$.successCodes_.indexOf(En);Ue(!0,new Ji(se,qt))}else{var q=qt.getErrorCode()===dr.ABORT;Ue(!1,new Ji(!1,null,q))}})}function Xt(qt){null!==$.progressCallback_&&$.progressCallback_(qt.loaded,qt.lengthComputable?qt.total:-1)}},Pe,this.timeout_)},Y.prototype.getPromise=function(){return this.promise_},Y.prototype.cancel=function($){this.canceled_=!0,this.appDelete_=$||!1,null!==this.backoffId_&&function(Y){Y(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},Y.prototype.isRetryStatusCode_=function($){var ge=$>=500&&$<600,Ue=-1!==[408,429].indexOf($),ot=-1!==this.additionalRetryCodes_.indexOf($);return ge||Ue||ot},Y}(),Ji=function($,ge,Pe){this.wasSuccessCode=$,this.xhr=ge,this.canceled=!!Pe};var _o=function(){function Y($,ge,Pe,Ue){var ot;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=$,this.authProvider_=ge,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=Pe,this.bucket_=null!=Ue?ht.makeFromBucketSpec(Ue):Y.extractBucket_(null===(ot=this.app_)||void 0===ot?void 0:ot.options),this.internals_=new js(this)}return Y.extractBucket_=function($){var ge=null==$?void 0:$.storageBucket;return null==ge?null:ht.makeFromBucketSpec(ge)},Y.prototype.getAuthToken=function(){return ae(this,void 0,void 0,function(){var $,ge;return Q(this,function(Pe){switch(Pe.label){case 0:return($=this.authProvider_.getImmediate({optional:!0}))?[4,$.getToken()]:[3,2];case 1:if(null!==(ge=Pe.sent()))return[2,ge.accessToken];Pe.label=2;case 2:return[2,null]}})})},Y.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function($){return $.cancel()}),this.requests_.clear()},Y.prototype.makeStorageReference=function($){return new io(this,$)},Y.prototype.makeRequest=function($,ge){var Pe=this;if(this.deleted_)return new Fo(Mn());var Ue=function(Y,$,ge,Pe){var Ue=bn(Y.urlParams),ot=Y.url+Ue,xt=Object.assign({},Y.headers);return function(Y,$){$&&(Y["X-Firebase-GMPID"]=$)}(xt,$),function(Y,$){null!==$&&$.length>0&&(Y.Authorization="Firebase "+$)}(xt,ge),function(Y){Y["X-Firebase-Storage-Version"]="webjs/"+(void 0!==k.default?k.default.SDK_VERSION:"AppManager")}(xt),new gr(ot,Y.method,xt,Y.body,Y.successCodes,Y.additionalRetryCodes,Y.handler,Y.errorHandler,Y.timeout,Y.progressCallback,Pe)}($,this.appId_,ge,this.pool_);return this.requests_.add(Ue),Ue.getPromise().then(function(){return Pe.requests_.delete(Ue)},function(){return Pe.requests_.delete(Ue)}),Ue},Y.prototype.ref=function($){function ge(Ue){if("string"!=typeof Ue)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(Ue))throw"Expected child path but got a URL, use refFromURL instead."}if(si("ref",[ji(ge,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var Pe=new io(this,this.bucket_);return null!=$?Pe.child($):Pe},Y.prototype.refFromURL=function($){function ge(Pe){if("string"!=typeof Pe)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(Pe))throw"Expected full URL but got a child path, use ref instead.";try{ht.makeFromUrl(Pe)}catch(Ue){throw"Expected valid full URL but got an invalid one."}}return si("refFromURL",[ji(ge,!1)],arguments),new io(this,$)},Object.defineProperty(Y.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),Y.prototype.setMaxUploadRetryTime=function($){si("setMaxUploadRetryTime",[Us()],arguments),this.maxUploadRetryTime_=$},Object.defineProperty(Y.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),Y.prototype.setMaxOperationRetryTime=function($){si("setMaxOperationRetryTime",[Us()],arguments),this.maxOperationRetryTime_=$},Object.defineProperty(Y.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),Y}(),js=function(){function Y($){this.service_=$}return Y.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},Y}();function Bs(Y,$){var ge=Y.getProvider("app").getImmediate(),Pe=Y.getProvider("auth-internal");return new _o(ge,Pe,new Ni,$)}function ao(Y){var $={TaskState:ze,TaskEvent:st,StringFormat:_t,Storage:_o,Reference:io};Y.INTERNAL.registerComponent(new F.Component("storage",Bs,"PUBLIC").setServiceProps($).setMultipleInstances(!0)),Y.registerVersion("@firebase/storage","0.3.43")}ao(k.default)},1704:(Vn,We,pe)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var k=pe(5057),m={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},te=function(st,ve){if(!st)throw mt(ve)},mt=function(st){return new Error("Firebase Database ("+m.SDK_VERSION+") INTERNAL ASSERT FAILED: "+st)},Le=function(st){for(var ve=[],ze=0,Ct=0;Ct<st.length;Ct++){var lt=st.charCodeAt(Ct);lt<128?ve[ze++]=lt:lt<2048?(ve[ze++]=lt>>6|192,ve[ze++]=63&lt|128):55296==(64512&lt)&&Ct+1<st.length&&56320==(64512&st.charCodeAt(Ct+1))?(lt=65536+((1023&lt)<<10)+(1023&st.charCodeAt(++Ct)),ve[ze++]=lt>>18|240,ve[ze++]=lt>>12&63|128,ve[ze++]=lt>>6&63|128,ve[ze++]=63&lt|128):(ve[ze++]=lt>>12|224,ve[ze++]=lt>>6&63|128,ve[ze++]=63&lt|128)}return ve},tt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(st,ve){if(!Array.isArray(st))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ze=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ct=[],lt=0;lt<st.length;lt+=3){var fn=st[lt],Yt=lt+1<st.length,Pn=Yt?st[lt+1]:0,Fn=lt+2<st.length,In=Fn?st[lt+2]:0,Dr=(15&Pn)<<2|In>>6,tr=63&In;Fn||(tr=64,Yt||(Dr=64)),Ct.push(ze[fn>>2],ze[(3&fn)<<4|Pn>>4],ze[Dr],ze[tr])}return Ct.join("")},encodeString:function(st,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(st):this.encodeByteArray(Le(st),ve)},decodeString:function(st,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(st):function(st){for(var ve=[],ze=0,Ct=0;ze<st.length;){var lt=st[ze++];if(lt<128)ve[Ct++]=String.fromCharCode(lt);else if(lt>191&&lt<224){var fn=st[ze++];ve[Ct++]=String.fromCharCode((31&lt)<<6|63&fn)}else if(lt>239&&lt<365){var Fn=((7&lt)<<18|(63&(fn=st[ze++]))<<12|(63&(Yt=st[ze++]))<<6|63&st[ze++])-65536;ve[Ct++]=String.fromCharCode(55296+(Fn>>10)),ve[Ct++]=String.fromCharCode(56320+(1023&Fn))}else{fn=st[ze++];var Yt=st[ze++];ve[Ct++]=String.fromCharCode((15&lt)<<12|(63&fn)<<6|63&Yt)}}return ve.join("")}(this.decodeStringToByteArray(st,ve))},decodeStringToByteArray:function(st,ve){this.init_();for(var ze=ve?this.charToByteMapWebSafe_:this.charToByteMap_,Ct=[],lt=0;lt<st.length;){var fn=ze[st.charAt(lt++)],Pn=lt<st.length?ze[st.charAt(lt)]:0,In=++lt<st.length?ze[st.charAt(lt)]:64,Ln=++lt<st.length?ze[st.charAt(lt)]:64;if(++lt,null==fn||null==Pn||null==In||null==Ln)throw Error();Ct.push(fn<<2|Pn>>4),64!==In&&(Ct.push(Pn<<4&240|In>>2),64!==Ln&&Ct.push(In<<6&192|Ln))}return Ct},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var st=0;st<this.ENCODED_VALS.length;st++)this.byteToCharMap_[st]=this.ENCODED_VALS.charAt(st),this.charToByteMap_[this.byteToCharMap_[st]]=st,this.byteToCharMapWebSafe_[st]=this.ENCODED_VALS_WEBSAFE.charAt(st),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[st]]=st,st>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(st)]=st,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(st)]=st)}}},ae=function(st){try{return tt.decodeString(st,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function De(st,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===st&&(st={});break;case Array:st=[];break;default:return ve}for(var Ct in ve)!ve.hasOwnProperty(Ct)||(st[Ct]=De(st[Ct],ve[Ct]));return st}var ye=function(){function st(){var ve=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ze,Ct){ve.resolve=ze,ve.reject=Ct})}return st.prototype.wrapCallback=function(ve){var ze=this;return function(Ct,lt){Ct?ze.reject(Ct):ze.resolve(lt),"function"==typeof ve&&(ze.promise.catch(function(){}),1===ve.length?ve(Ct):ve(Ct,lt))}},st}();function Te(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Tt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(st){return!1}}var G=function(st){function ve(ze,Ct){var lt=st.call(this,Ct)||this;return lt.code=ze,lt.name="FirebaseError",Object.setPrototypeOf(lt,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(lt,Z.prototype.create),lt}return k.__extends(ve,st),ve}(Error),Z=function(){function st(ve,ze,Ct){this.service=ve,this.serviceName=ze,this.errors=Ct}return st.prototype.create=function(ve){for(var ze=[],Ct=1;Ct<arguments.length;Ct++)ze[Ct-1]=arguments[Ct];for(var lt=ze[0]||{},fn=this.service+"/"+ve,Yt=this.errors[ve],Pn=Yt?L(Yt,lt):"Error",Fn=this.serviceName+": "+Pn+" ("+fn+").",In=new G(fn,Fn),Wn=0,Ln=Object.keys(lt);Wn<Ln.length;Wn++){var Dr=Ln[Wn];"_"!==Dr.slice(-1)&&(Dr in In&&console.warn('Overwriting FirebaseError base field "'+Dr+'" can cause unexpected behavior.'),In[Dr]=lt[Dr])}return In},st}();function L(st,ve){return st.replace(ce,function(ze,Ct){var lt=ve[Ct];return null!=lt?String(lt):"<"+Ct+"?>"})}var ce=/\{\$([^}]+)}/g;function fe(st){return JSON.parse(st)}var _e=function(st){var ve={},ze={},Ct={},lt="";try{var fn=st.split(".");ve=fe(ae(fn[0])||""),ze=fe(ae(fn[1])||""),lt=fn[2],Ct=ze.d||{},delete ze.d}catch(Yt){}return{header:ve,claims:ze,data:Ct,signature:lt}},It=function(){function st(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var ve=1;ve<this.blockSize;++ve)this.pad_[ve]=0;this.reset()}return st.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},st.prototype.compress_=function(ve,ze){ze||(ze=0);var Ct=this.W_;if("string"==typeof ve)for(var lt=0;lt<16;lt++)Ct[lt]=ve.charCodeAt(ze)<<24|ve.charCodeAt(ze+1)<<16|ve.charCodeAt(ze+2)<<8|ve.charCodeAt(ze+3),ze+=4;else for(lt=0;lt<16;lt++)Ct[lt]=ve[ze]<<24|ve[ze+1]<<16|ve[ze+2]<<8|ve[ze+3],ze+=4;for(lt=16;lt<80;lt++)Ct[lt]=4294967295&((fn=Ct[lt-3]^Ct[lt-8]^Ct[lt-14]^Ct[lt-16])<<1|fn>>>31);var Ln,Dr,Yt=this.chain_[0],Pn=this.chain_[1],Fn=this.chain_[2],In=this.chain_[3],Wn=this.chain_[4];for(lt=0;lt<80;lt++){lt<40?lt<20?(Ln=In^Pn&(Fn^In),Dr=1518500249):(Ln=Pn^Fn^In,Dr=1859775393):lt<60?(Ln=Pn&Fn|In&(Pn|Fn),Dr=2400959708):(Ln=Pn^Fn^In,Dr=3395469782);var fn=(Yt<<5|Yt>>>27)+Ln+Wn+Dr+Ct[lt]&4294967295;Wn=In,In=Fn,Fn=4294967295&(Pn<<30|Pn>>>2),Pn=Yt,Yt=fn}this.chain_[0]=this.chain_[0]+Yt&4294967295,this.chain_[1]=this.chain_[1]+Pn&4294967295,this.chain_[2]=this.chain_[2]+Fn&4294967295,this.chain_[3]=this.chain_[3]+In&4294967295,this.chain_[4]=this.chain_[4]+Wn&4294967295},st.prototype.update=function(ve,ze){if(null!=ve){void 0===ze&&(ze=ve.length);for(var Ct=ze-this.blockSize,lt=0,fn=this.buf_,Yt=this.inbuf_;lt<ze;){if(0===Yt)for(;lt<=Ct;)this.compress_(ve,lt),lt+=this.blockSize;if("string"==typeof ve){for(;lt<ze;)if(fn[Yt]=ve.charCodeAt(lt),++lt,++Yt===this.blockSize){this.compress_(fn),Yt=0;break}}else for(;lt<ze;)if(fn[Yt]=ve[lt],++lt,++Yt===this.blockSize){this.compress_(fn),Yt=0;break}}this.inbuf_=Yt,this.total_+=ze}},st.prototype.digest=function(){var ve=[],ze=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Ct=this.blockSize-1;Ct>=56;Ct--)this.buf_[Ct]=255&ze,ze/=256;this.compress_(this.buf_);var lt=0;for(Ct=0;Ct<5;Ct++)for(var fn=24;fn>=0;fn-=8)ve[lt]=this.chain_[Ct]>>fn&255,++lt;return ve},st}(),Ir=function(){function st(ve,ze){var Ct=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ze,this.task.then(function(){ve(Ct)}).catch(function(lt){Ct.error(lt)})}return st.prototype.next=function(ve){this.forEachObserver(function(ze){ze.next(ve)})},st.prototype.error=function(ve){this.forEachObserver(function(ze){ze.error(ve)}),this.close(ve)},st.prototype.complete=function(){this.forEachObserver(function(ve){ve.complete()}),this.close()},st.prototype.subscribe=function(ve,ze,Ct){var fn,lt=this;if(void 0===ve&&void 0===ze&&void 0===Ct)throw new Error("Missing Observer.");void 0===(fn=function(st,ve){if("object"!=typeof st||null===st)return!1;for(var ze=0,Ct=["next","error","complete"];ze<Ct.length;ze++){var lt=Ct[ze];if(lt in st&&"function"==typeof st[lt])return!0}return!1}(ve)?ve:{next:ve,error:ze,complete:Ct}).next&&(fn.next=Zt),void 0===fn.error&&(fn.error=Zt),void 0===fn.complete&&(fn.complete=Zt);var Yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{lt.finalError?fn.error(lt.finalError):fn.complete()}catch(Pn){}}),this.observers.push(fn),Yt},st.prototype.unsubscribeOne=function(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},st.prototype.forEachObserver=function(ve){if(!this.finalized)for(var ze=0;ze<this.observers.length;ze++)this.sendOne(ze,ve)},st.prototype.sendOne=function(ve,ze){var Ct=this;this.task.then(function(){if(void 0!==Ct.observers&&void 0!==Ct.observers[ve])try{ze(Ct.observers[ve])}catch(lt){"undefined"!=typeof console&&console.error&&console.error(lt)}})},st.prototype.close=function(ve){var ze=this;this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(function(){ze.observers=void 0,ze.onNoObservers=void 0}))},st}();function Zt(){}function _t(st,ve,ze){var Ct="";switch(ve){case 1:Ct=ze?"first":"First";break;case 2:Ct=ze?"second":"Second";break;case 3:Ct=ze?"third":"Third";break;case 4:Ct=ze?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return st+" failed: "+(Ct+" argument ")}We.CONSTANTS=m,We.Deferred=ye,We.ErrorFactory=Z,We.FirebaseError=G,We.MAX_VALUE_MILLIS=144e5,We.RANDOM_FACTOR=.5,We.Sha1=It,We.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},We.assert=te,We.assertionError=mt,We.async=function(st,ve){return function(){for(var ze=[],Ct=0;Ct<arguments.length;Ct++)ze[Ct]=arguments[Ct];Promise.resolve(!0).then(function(){st.apply(void 0,ze)}).catch(function(lt){ve&&ve(lt)})}},We.base64=tt,We.base64Decode=ae,We.base64Encode=function(st){var ve=Le(st);return tt.encodeByteArray(ve,!0)},We.calculateBackoffMillis=function(st,ve,ze){void 0===ve&&(ve=1e3),void 0===ze&&(ze=2);var Ct=ve*Math.pow(ze,st),lt=Math.round(.5*Ct*(Math.random()-.5)*2);return Math.min(144e5,Ct+lt)},We.contains=function(st,ve){return Object.prototype.hasOwnProperty.call(st,ve)},We.createSubscribe=function(st,ve){var ze=new Ir(st,ve);return ze.subscribe.bind(ze)},We.decode=_e,We.deepCopy=function(st){return De(void 0,st)},We.deepExtend=De,We.errorPrefix=_t,We.getUA=Te,We.isAdmin=function(st){var ve=_e(st).claims;return"object"==typeof ve&&!0===ve.admin},We.isBrowser=function(){return"object"==typeof self&&self.self===self},We.isBrowserExtension=function(){var st="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof st&&void 0!==st.id},We.isElectron=function(){return Te().indexOf("Electron/")>=0},We.isEmpty=function(st){for(var ve in st)if(Object.prototype.hasOwnProperty.call(st,ve))return!1;return!0},We.isIE=function(){var st=Te();return st.indexOf("MSIE ")>=0||st.indexOf("Trident/")>=0},We.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},We.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())},We.isNode=Tt,We.isNodeSdk=function(){return!0===m.NODE_CLIENT||!0===m.NODE_ADMIN},We.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},We.isSafari=function(){return!Tt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},We.isUWP=function(){return Te().indexOf("MSAppHost/")>=0},We.isValidFormat=function(st){var ze=_e(st).claims;return!!ze&&"object"==typeof ze&&ze.hasOwnProperty("iat")},We.isValidTimestamp=function(st){var ve=_e(st).claims,ze=Math.floor((new Date).getTime()/1e3),Ct=0,lt=0;return"object"==typeof ve&&(ve.hasOwnProperty("nbf")?Ct=ve.nbf:ve.hasOwnProperty("iat")&&(Ct=ve.iat),lt=ve.hasOwnProperty("exp")?ve.exp:Ct+86400),!!ze&&!!Ct&&!!lt&&ze>=Ct&&ze<=lt},We.issuedAtTime=function(st){var ve=_e(st).claims;return"object"==typeof ve&&ve.hasOwnProperty("iat")?ve.iat:null},We.jsonEval=fe,We.map=function(st,ve,ze){var Ct={};for(var lt in st)Object.prototype.hasOwnProperty.call(st,lt)&&(Ct[lt]=ve.call(ze,st[lt],lt,st));return Ct},We.querystring=function(st){for(var ve=[],ze=function(Fn,In){Array.isArray(In)?In.forEach(function(Wn){ve.push(encodeURIComponent(Fn)+"="+encodeURIComponent(Wn))}):ve.push(encodeURIComponent(Fn)+"="+encodeURIComponent(In))},Ct=0,lt=Object.entries(st);Ct<lt.length;Ct++){var fn=lt[Ct];ze(fn[0],fn[1])}return ve.length?"&"+ve.join("&"):""},We.querystringDecode=function(st){var ve={};return st.replace(/^\?/,"").split("&").forEach(function(Ct){if(Ct){var lt=Ct.split("=");ve[lt[0]]=lt[1]}}),ve},We.safeGet=function(st,ve){if(Object.prototype.hasOwnProperty.call(st,ve))return st[ve]},We.stringLength=function(st){for(var ve=0,ze=0;ze<st.length;ze++){var Ct=st.charCodeAt(ze);Ct<128?ve++:Ct<2048?ve+=2:Ct>=55296&&Ct<=56319?(ve+=4,ze++):ve+=3}return ve},We.stringToByteArray=function(st){for(var ve=[],ze=0,Ct=0;Ct<st.length;Ct++){var lt=st.charCodeAt(Ct);if(lt>=55296&&lt<=56319){var fn=lt-55296;Ct++,te(Ct<st.length,"Surrogate pair missing trail surrogate."),lt=65536+(fn<<10)+(st.charCodeAt(Ct)-56320)}lt<128?ve[ze++]=lt:lt<2048?(ve[ze++]=lt>>6|192,ve[ze++]=63&lt|128):lt<65536?(ve[ze++]=lt>>12|224,ve[ze++]=lt>>6&63|128,ve[ze++]=63&lt|128):(ve[ze++]=lt>>18|240,ve[ze++]=lt>>12&63|128,ve[ze++]=lt>>6&63|128,ve[ze++]=63&lt|128)}return ve},We.stringify=function(st){return JSON.stringify(st)},We.validateArgCount=function(st,ve,ze,Ct){var lt;if(Ct<ve?lt="at least "+ve:Ct>ze&&(lt=0===ze?"none":"no more than "+ze),lt)throw new Error(st+" failed: Was called with "+Ct+(1===Ct?" argument.":" arguments.")+" Expects "+lt+".")},We.validateCallback=function(st,ve,ze,Ct){if((!Ct||ze)&&"function"!=typeof ze)throw new Error(_t(st,ve,Ct)+"must be a valid function.")},We.validateContextObject=function(st,ve,ze,Ct){if((!Ct||ze)&&("object"!=typeof ze||null===ze))throw new Error(_t(st,ve,Ct)+"must be a valid context object.")},We.validateIndexedDBOpenable=function(){return new Promise(function(st,ve){try{var ze=!0,Ct="validate-browser-context-for-indexeddb-analytics-module",lt=window.indexedDB.open(Ct);lt.onsuccess=function(){lt.result.close(),ze||window.indexedDB.deleteDatabase(Ct),st(!0)},lt.onupgradeneeded=function(){ze=!1},lt.onerror=function(){var fn;ve((null===(fn=lt.error)||void 0===fn?void 0:fn.message)||"")}}catch(fn){ve(fn)}})},We.validateNamespace=function(st,ve,ze,Ct){if((!Ct||ze)&&"string"!=typeof ze)throw new Error(_t(st,ve,Ct)+"must be a valid firebase namespace.")}},2870:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{default:()=>Ii,ErrorCode:()=>ba,EventType:()=>Ns,WebChannel:()=>hi,XhrIo:()=>Rs,createWebChannelTransport:()=>Gs});var k=function(C,j){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,be){X.__proto__=be}||function(X,be){for(var rt in be)Object.prototype.hasOwnProperty.call(be,rt)&&(X[rt]=be[rt])})(C,j)};function te(C){var j="function"==typeof Symbol&&Symbol.iterator,X=j&&C[j],be=0;if(X)return X.call(C);if(C&&"number"==typeof C.length)return{next:function(){return C&&be>=C.length&&(C=void 0),{value:C&&C[be++],done:!C}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")}var Le,mt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ye=Ye||{},tt=mt||self;function Je(){}function ae(C){var j=typeof C;return"object"!=j?j:C?Array.isArray(C)?"array":j:"null"}function Q(C){var j=ae(C);return"array"==j||"object"==j&&"number"==typeof C.length}function De(C){var j=typeof C;return"object"==j&&null!=C||"function"==j}var Te="closure_uid_"+(1e9*Math.random()>>>0),wt=0;function Tt(C,j,X){return C.call.apply(C.bind,arguments)}function it(C,j,X){if(!C)throw Error();if(2<arguments.length){var be=Array.prototype.slice.call(arguments,2);return function(){var rt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(rt,be),C.apply(j,rt)}}return function(){return C.apply(j,arguments)}}function ke(C,j,X){return(ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tt:it).apply(null,arguments)}function He(C,j){var X=Array.prototype.slice.call(arguments,1);return function(){var be=X.slice();return be.push.apply(be,arguments),C.apply(this,be)}}var qe=Date.now;function Pt(C,j){function X(){}X.prototype=j.prototype,C.S=j.prototype,C.prototype=new X,C.prototype.constructor=C}function Ut(){this.j=this.j,this.i=this.i}Ut.prototype.j=!1,Ut.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(C){Object.prototype.hasOwnProperty.call(C,Te)&&C[Te]||(C[Te]=++wt)}(this)},Ut.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ft=Array.prototype.indexOf?function(C,j){return Array.prototype.indexOf.call(C,j,void 0)}:function(C,j){if("string"==typeof C)return"string"!=typeof j||1!=j.length?-1:C.indexOf(j,0);for(var X=0;X<C.length;X++)if(X in C&&C[X]===j)return X;return-1},Rt=Array.prototype.forEach?function(C,j,X){Array.prototype.forEach.call(C,j,X)}:function(C,j,X){for(var be=C.length,rt="string"==typeof C?C.split(""):C,St=0;St<be;St++)St in rt&&j.call(X,rt[St],St,C)};function F(C){return Array.prototype.concat.apply([],arguments)}function A(C){var j=C.length;if(0<j){for(var X=Array(j),be=0;be<j;be++)X[be]=C[be];return X}return[]}function G(C){return/^[\s\xa0]*$/.test(C)}var fe,Z=String.prototype.trim?function(C){return C.trim()}:function(C){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(C)[1]};function L(C,j){return-1!=C.indexOf(j)}function ce(C,j){return C<j?-1:C>j?1:0}e:{var $t=tt.navigator;if($t){var _e=$t.userAgent;if(_e){fe=_e;break e}}fe=""}function at(C,j,X){for(var be in C)j.call(X,C[be],be,C)}function zt(C){var j={};for(var X in C)j[X]=C[X];return j}var Ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ge(C,j){for(var X,be,rt=1;rt<arguments.length;rt++){for(X in be=arguments[rt])C[X]=be[X];for(var St=0;St<Ke.length;St++)X=Ke[St],Object.prototype.hasOwnProperty.call(be,X)&&(C[X]=be[X])}}function vt(C){return vt[" "](C),C}vt[" "]=Je;var Mn,C,yn=L(fe,"Opera"),Ht=L(fe,"Trident")||L(fe,"MSIE"),wn=L(fe,"Edge"),pn=wn||Ht,It=L(fe,"Gecko")&&!(L(fe.toLowerCase(),"webkit")&&!L(fe,"Edge"))&&!(L(fe,"Trident")||L(fe,"MSIE"))&&!L(fe,"Edge"),Zn=L(fe.toLowerCase(),"webkit")&&!L(fe,"Edge");function Ir(){var C=tt.document;return C?C.documentMode:void 0}e:{var cn="",Zt=(C=fe,It?/rv:([^\);]+)(\)|;)/.exec(C):wn?/Edge\/([\d\.]+)/.exec(C):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(C):Zn?/WebKit\/(\S+)/.exec(C):yn?/(?:Version)[ \/]?(\S+)/.exec(C):void 0);if(Zt&&(cn=Zt?Zt[1]:""),Ht){var pt=Ir();if(null!=pt&&pt>parseFloat(cn)){Mn=String(pt);break e}}Mn=cn}var _t={};function Ve(C){return function(C,j){var X=_t;return Object.prototype.hasOwnProperty.call(X,C)?X[C]:X[C]=j()}(C,function(){for(var j=0,X=Z(String(Mn)).split("."),be=Z(String(C)).split("."),rt=Math.max(X.length,be.length),St=0;0==j&&St<rt;St++){var kn=X[St]||"",kr=be[St]||"";do{if(kn=/(\d*)(\D*)(.*)/.exec(kn)||["","","",""],kr=/(\d*)(\D*)(.*)/.exec(kr)||["","","",""],0==kn[0].length&&0==kr[0].length)break;j=ce(0==kn[1].length?0:parseInt(kn[1],10),0==kr[1].length?0:parseInt(kr[1],10))||ce(0==kn[2].length,0==kr[2].length)||ce(kn[2],kr[2]),kn=kn[3],kr=kr[3]}while(0==j)}return 0<=j})}var Qt=tt.document&&Ht&&(Ir()||parseInt(Mn,10))||void 0,tn=!Ht||9<=Number(Qt),_n=Ht&&!Ve("9"),Bn=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var C=!1,j=Object.defineProperty({},"passive",{get:function(){C=!0}});try{tt.addEventListener("test",Je,j),tt.removeEventListener("test",Je,j)}catch(X){}return C}();function Un(C,j){this.type=C,this.a=this.target=j,this.defaultPrevented=!1}function Sn(C,j){if(Un.call(this,C?C.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,C){var X=this.type=C.type,be=C.changedTouches&&C.changedTouches.length?C.changedTouches[0]:null;if(this.target=C.target||C.srcElement,this.a=j,j=C.relatedTarget){if(It){e:{try{vt(j.nodeName);var rt=!0;break e}catch(St){}rt=!1}rt||(j=null)}}else"mouseover"==X?j=C.fromElement:"mouseout"==X&&(j=C.toElement);this.relatedTarget=j,be?(this.clientX=void 0!==be.clientX?be.clientX:be.pageX,this.clientY=void 0!==be.clientY?be.clientY:be.pageY,this.screenX=be.screenX||0,this.screenY=be.screenY||0):(this.clientX=void 0!==C.clientX?C.clientX:C.pageX,this.clientY=void 0!==C.clientY?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0),this.button=C.button,this.key=C.key||"",this.ctrlKey=C.ctrlKey,this.altKey=C.altKey,this.shiftKey=C.shiftKey,this.metaKey=C.metaKey,this.pointerId=C.pointerId||0,this.pointerType="string"==typeof C.pointerType?C.pointerType:Yr[C.pointerType]||"",this.c=C,C.defaultPrevented&&this.b()}}Un.prototype.b=function(){this.defaultPrevented=!0},Pt(Sn,Un);var Yr={2:"touch",3:"pen",4:"mouse"};Sn.prototype.b=function(){Sn.S.b.call(this);var C=this.c;if(C.preventDefault)C.preventDefault();else if(C.returnValue=!1,_n)try{(C.ctrlKey||112<=C.keyCode&&123>=C.keyCode)&&(C.keyCode=-1)}catch(j){}};var st="closure_listenable_"+(1e6*Math.random()|0),ve=0;function ze(C,j,X,be,rt){this.listener=C,this.proxy=null,this.src=j,this.type=X,this.capture=!!be,this.ca=rt,this.key=++ve,this.Y=this.Z=!1}function Ct(C){C.Y=!0,C.listener=null,C.proxy=null,C.src=null,C.ca=null}function lt(C){this.src=C,this.a={},this.b=0}function fn(C,j){var X=j.type;if(X in C.a){var St,be=C.a[X],rt=ft(be,j);(St=0<=rt)&&Array.prototype.splice.call(be,rt,1),St&&(Ct(j),0==C.a[X].length&&(delete C.a[X],C.b--))}}function Yt(C,j,X,be){for(var rt=0;rt<C.length;++rt){var St=C[rt];if(!St.Y&&St.listener==j&&St.capture==!!X&&St.ca==be)return rt}return-1}lt.prototype.add=function(C,j,X,be,rt){var St=C.toString();(C=this.a[St])||(C=this.a[St]=[],this.b++);var kn=Yt(C,j,be,rt);return-1<kn?(j=C[kn],X||(j.Z=!1)):((j=new ze(j,this.src,St,!!be,rt)).Z=X,C.push(j)),j};var Pn="closure_lm_"+(1e6*Math.random()|0),Fn={};function In(C,j,X,be,rt){if(be&&be.once)return Dr(C,j,X,be,rt);if(Array.isArray(j)){for(var St=0;St<j.length;St++)In(C,j[St],X,be,rt);return null}return X=Pi(X),C&&C[st]?C.va(j,X,De(be)?!!be.capture:!!be,rt):Wn(C,j,X,!1,be,rt)}function Wn(C,j,X,be,rt,St){if(!j)throw Error("Invalid event type");var kn=De(rt)?!!rt.capture:!!rt;if(kn&&!tn)return null;var kr=ii(C);if(kr||(C[Pn]=kr=new lt(C)),(X=kr.add(j,X,be,kn,St)).proxy)return X;if(be=function(){var C=Ni,j=tn?function(X){return C.call(j.src,j.listener,X)}:function(X){if(!(X=C.call(j.src,j.listener,X)))return X};return j}(),X.proxy=be,be.src=C,be.listener=X,C.addEventListener)Bn||(rt=kn),void 0===rt&&(rt=!1),C.addEventListener(j.toString(),be,rt);else if(C.attachEvent)C.attachEvent(dr(j.toString()),be);else{if(!C.addListener||!C.removeListener)throw Error("addEventListener and attachEvent are unavailable.");C.addListener(be)}return X}function Dr(C,j,X,be,rt){if(Array.isArray(j)){for(var St=0;St<j.length;St++)Dr(C,j[St],X,be,rt);return null}return X=Pi(X),C&&C[st]?C.wa(j,X,De(be)?!!be.capture:!!be,rt):Wn(C,j,X,!0,be,rt)}function tr(C,j,X,be,rt){if(Array.isArray(j))for(var St=0;St<j.length;St++)tr(C,j[St],X,be,rt);else be=De(be)?!!be.capture:!!be,X=Pi(X),C&&C[st]?(C=C.c,(j=String(j).toString())in C.a&&-1<(X=Yt(St=C.a[j],X,be,rt))&&(Ct(St[X]),Array.prototype.splice.call(St,X,1),0==St.length&&(delete C.a[j],C.b--))):C&&(C=ii(C))&&(j=C.a[j.toString()],C=-1,j&&(C=Yt(j,X,be,rt)),(X=-1<C?j[C]:null)&&li(X))}function li(C){if("number"!=typeof C&&C&&!C.Y){var j=C.src;if(j&&j[st])fn(j.c,C);else{var X=C.type,be=C.proxy;j.removeEventListener?j.removeEventListener(X,be,C.capture):j.detachEvent?j.detachEvent(dr(X),be):j.addListener&&j.removeListener&&j.removeListener(be),(X=ii(j))?(fn(X,C),0==X.b&&(X.src=null,j[Pn]=null)):Ct(C)}}}function dr(C){return C in Fn?Fn[C]:Fn[C]="on"+C}function pr(C,j){var X=C.listener,be=C.ca||C.src;return C.Z&&li(C),X.call(be,j)}function Ni(C,j){if(C.Y)return!0;if(!tn){if(!j)e:{j=["window","event"];for(var X=tt,be=0;be<j.length;be++)if(null==(X=X[j[be]])){j=null;break e}j=X}return pr(C,j=new Sn(j,this))}return pr(C,new Sn(j,this))}function ii(C){return(C=C[Pn])instanceof lt?C:null}var oi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pi(C){return"function"==ae(C)?C:(C[oi]||(C[oi]=function(j){return C.handleEvent(j)}),C[oi])}function xe(){Ut.call(this),this.c=new lt(this),this.J=this,this.C=null}function ht(C,j,X,be){if(!(j=C.c.a[String(j)]))return!0;j=j.concat();for(var rt=!0,St=0;St<j.length;++St){var kn=j[St];if(kn&&!kn.Y&&kn.capture==X){var kr=kn.listener,Nr=kn.ca||kn.src;kn.Z&&fn(C.c,kn),rt=!1!==kr.call(Nr,be)&&rt}}return rt&&!be.defaultPrevented}Pt(xe,Ut),xe.prototype[st]=!0,(Le=xe.prototype).addEventListener=function(C,j,X,be){In(this,C,j,X,be)},Le.removeEventListener=function(C,j,X,be){tr(this,C,j,X,be)},Le.dispatchEvent=function(C){var j,X=this.C;if(X)for(j=[];X;X=X.C)j.push(X);X=this.J;var be=C.type||C;if("string"==typeof C)C=new Un(C,X);else if(C instanceof Un)C.target=C.target||X;else{var rt=C;Ge(C=new Un(be,X),rt)}if(rt=!0,j)for(var St=j.length-1;0<=St;St--){var kn=C.a=j[St];rt=ht(kn,be,!0,C)&&rt}if(rt=ht(kn=C.a=X,be,!0,C)&&rt,rt=ht(kn,be,!1,C)&&rt,j)for(St=0;St<j.length;St++)rt=ht(kn=C.a=j[St],be,!1,C)&&rt;return rt},Le.G=function(){if(xe.S.G.call(this),this.c){var j,C=this.c;for(j in C.a){for(var X=C.a[j],be=0;be<X.length;be++)Ct(X[be]);delete C.a[j],C.b--}}this.C=null},Le.va=function(C,j,X,be){return this.c.add(String(C),j,!1,X,be)},Le.wa=function(C,j,X,be){return this.c.add(String(C),j,!0,X,be)};var Et=tt.JSON.stringify;function Lt(){this.b=this.a=null}var Wt,Dt=new(function(){function C(j,X,be){this.f=be,this.c=j,this.g=X,this.b=0,this.a=null}return C.prototype.get=function(){var j;return 0<this.b?(this.b--,this.a=(j=this.a).next,j.next=null):j=this.c(),j},C}())(function(){return new sn},function(C){C.reset()},100);function Ft(){var C=hr,j=null;return C.a&&(j=C.a,C.a=C.a.next,C.a||(C.b=null),j.next=null),j}function sn(){this.next=this.b=this.a=null}function bn(C){tt.setTimeout(function(){throw C},0)}function Dn(C,j){Wt||function(){var C=tt.Promise.resolve(void 0);Wt=function(){C.then(Jn)}}(),ar||(Wt(),ar=!0),hr.add(C,j)}Lt.prototype.add=function(C,j){var X=Dt.get();X.set(C,j),this.b?this.b.next=X:this.a=X,this.b=X},sn.prototype.set=function(C,j){this.a=C,this.b=j,this.next=null},sn.prototype.reset=function(){this.next=this.b=this.a=null};var ar=!1,hr=new Lt;function Jn(){for(var C;C=Ft();){try{C.a.call(C.b)}catch(X){bn(X)}var j=Dt;j.g(C),j.b<j.f&&(j.b++,C.next=j.a,j.a=C)}ar=!1}function gn(C,j){xe.call(this),this.b=C||1,this.a=j||tt,this.f=ke(this.Ya,this),this.g=qe()}function Ie(C){C.aa=!1,C.M&&(C.a.clearTimeout(C.M),C.M=null)}function Se(C,j,X){if("function"==ae(C))X&&(C=ke(C,X));else{if(!C||"function"!=typeof C.handleEvent)throw Error("Invalid listener argument");C=ke(C.handleEvent,C)}return 2147483647<Number(j)?-1:tt.setTimeout(C,j||0)}function je(C){C.a=Se(function(){C.a=null,C.c&&(C.c=!1,je(C))},C.h);var j=C.b;C.b=null,C.g.apply(null,j)}Pt(gn,xe),(Le=gn.prototype).aa=!1,Le.M=null,Le.Ya=function(){if(this.aa){var C=qe()-this.g;0<C&&C<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-C):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ie(this),this.start()))}},Le.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=qe())},Le.G=function(){gn.S.G.call(this),Ie(this),delete this.a};var nt=function(C){function j(X,be,rt){var St=C.call(this)||this;return St.g=null!=rt?X.bind(rt):X,St.h=be,St.b=null,St.c=!1,St.a=null,St}return function(C,j){function X(){this.constructor=C}k(C,j),C.prototype=null===j?Object.create(j):(X.prototype=j.prototype,new X)}(j,C),j.prototype.f=function(X){this.b=arguments,this.a?this.c=!0:je(this)},j.prototype.G=function(){C.prototype.G.call(this),this.a&&(tt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},j}(Ut);function ue(C){Ut.call(this),this.b=C,this.a={}}Pt(ue,Ut);var H=[];function oe(C,j,X,be){Array.isArray(X)||(X&&(H[0]=X.toString()),X=H);for(var rt=0;rt<X.length;rt++){var St=In(j,X[rt],be||C.handleEvent,!1,C.b||C);if(!St)break;C.a[St.key]=St}}function Ee(C){at(C.a,function(j,X){this.a.hasOwnProperty(X)&&li(j)},C),C.a={}}function Be(){this.a=!0}function Jt(C,j,X,be){C.info(function(){return"XMLHTTP TEXT ("+j+"): "+function(C,j){if(!C.a)return j;if(!j)return null;try{var X=JSON.parse(j);if(X)for(C=0;C<X.length;C++)if(Array.isArray(X[C])){var be=X[C];if(!(2>be.length)){var rt=be[1];if(Array.isArray(rt)&&!(1>rt.length)){var St=rt[0];if("noop"!=St&&"stop"!=St&&"close"!=St)for(var kn=1;kn<rt.length;kn++)rt[kn]=""}}}return Et(X)}catch(kr){return j}}(C,X)+(be?" "+be:"")})}ue.prototype.G=function(){ue.S.G.call(this),Ee(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Be.prototype.info=function(){};var An=null;function vn(){return An=An||new xe}function br(C){Un.call(this,"serverreachability",C)}function nr(C){var j=vn();j.dispatchEvent(new br(j,C))}function vr(C){Un.call(this,"statevent",C)}function or(C){var j=vn();j.dispatchEvent(new vr(j,C))}function Vs(C){Un.call(this,"timingevent",C)}function qi(C,j){if("function"!=ae(C))throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){C()},j)}Pt(br,Un),Pt(vr,Un),Pt(Vs,Un);var ko={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},Yi={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ps(){}function mi(){}ps.prototype.a=null;var rs,Zi={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function xi(){Un.call(this,"d")}function vi(){Un.call(this,"c")}function yo(){}function Mi(C,j,X,be){this.g=C,this.c=j,this.f=X,this.T=be||1,this.J=new ue(this),this.P=yi,this.R=new gn(C=pn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Pt(xi,Un),Pt(vi,Un),Pt(yo,ps),rs=new yo;var yi=45e3,ki={},si={};function Fi(C,j,X){C.H=1,C.i=$o(so(j)),C.j=X,C.I=!0,Qn(C,null)}function Qn(C,j){C.u=qe(),$r(C),C.l=so(C.i);var X=C.l,be=C.T;Array.isArray(be)||(be=[String(be)]),q(X.b,"t",be),C.D=0,C.a=As(C.g,C.g.C?j:null),0<C.O&&(C.F=new nt(ke(C.Ca,C,C.a),C.O)),oe(C.J,C.a,"readystatechange",C.Wa),j=C.B?zt(C.B):{},C.j?(C.m||(C.m="POST"),j["Content-Type"]="application/x-www-form-urlencoded",C.a.ba(C.l,C.m,C.j,j)):(C.m="GET",C.a.ba(C.l,C.m,null,j)),nr(1),function(C,j,X,be,rt,St){C.info(function(){if(C.a)if(St)for(var kn="",kr=St.split("&"),Nr=0;Nr<kr.length;Nr++){var eo=kr[Nr].split("=");if(1<eo.length){var No=eo[0];eo=eo[1];var to=No.split("_");kn=2<=to.length&&"type"==to[1]?kn+(No+"=")+eo+"&":kn+(No+"=redacted&")}}else kn=null;else kn=St;return"XMLHTTP REQ ("+be+") [attempt "+rt+"]: "+j+"\n"+X+"\n"+kn})}(C.c,C.m,C.l,C.f,C.T,C.j)}function ji(C,j,X){for(var be=!0;!C.A&&C.D<X.length;){var rt=Wo(C,X);if(rt==si){4==j&&(C.h=4,or(14),be=!1),Jt(C.c,C.f,null,"[Incomplete Response]");break}if(rt==ki){C.h=4,or(15),Jt(C.c,C.f,X,"[Invalid Chunk]"),be=!1;break}Jt(C.c,C.f,rt,null),fr(C,rt)}4==j&&0==X.length&&(C.h=1,or(16),be=!1),C.b=C.b&&be,be?0<X.length&&!C.W&&(C.W=!0,(j=C.g).a==C&&j.V&&!j.F&&(j.c.info("Great, no buffering proxy detected. Bytes received: "+X.length),Uu(j),j.F=!0)):(Jt(C.c,C.f,X,"[Invalid Chunked Response]"),zn(C),co(C))}function Wo(C,j){var X=C.D,be=j.indexOf("\n",X);return-1==be?si:(X=Number(j.substring(X,be)),isNaN(X)?ki:(be+=1)+X>j.length?si:(j=j.substr(be,X),C.D=be+X,j))}function $r(C){C.U=qe()+C.P,lo(C,C.P)}function lo(C,j){if(null!=C.o)throw Error("WatchDog timer not null");C.o=qi(ke(C.Ua,C),j)}function Us(C){C.o&&(tt.clearTimeout(C.o),C.o=null)}function co(C){0==C.g.v||C.A||La(C.g,C)}function zn(C){Us(C);var j=C.F;j&&"function"==typeof j.ja&&j.ja(),C.F=null,Ie(C.R),Ee(C.J),C.a&&(j=C.a,C.a=null,j.abort(),j.ja())}function fr(C,j){try{var X=C.g;if(0!=X.v&&(X.a==C||xn(X.b,C)))if(X.I=C.N,!C.C&&xn(X.b,C)&&3==X.v){try{var be=X.ka.a.parse(j)}catch(Ua){be=null}if(Array.isArray(be)&&3==be.length){var rt=be;if(0==rt[0])e:if(X.j)X.oa=rt[1],0<X.oa-X.P&&37500>rt[2]&&X.H&&0==X.o&&!X.m&&(X.m=qi(ke(X.Ra,X),6e3));else{if(X.a){if(!(X.a.u+3e3<C.u))break e;wa(X),Si(X)}Xi(X),or(18)}if(1>=Cn(X.b)&&X.ea){try{X.ea()}catch(Ua){}X.ea=void 0}}else Yo(X,11)}else if((C.C||X.a==C)&&wa(X),!G(j))for(j=be=X.ka.a.parse(j),be=0;be<j.length;be++)if(X.P=(rt=j[be])[0],rt=rt[1],2==X.v)if("c"==rt[0]){X.J=rt[1],X.ga=rt[2];var St=rt[3];null!=St&&(X.ha=St,X.c.info("VER="+X.ha));var kn=rt[4];null!=kn&&(X.pa=kn,X.c.info("SVER="+X.pa));var kr=rt[5];if(null!=kr&&"number"==typeof kr&&0<kr){var Nr=1.5*kr;X.D=Nr,X.c.info("backChannelRequestTimeoutMs_="+Nr)}Nr=X;var eo=C.a;if(eo){var No=eo.a?eo.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(No){var to=Nr.b;!to.a&&(L(No,"spdy")||L(No,"quic")||L(No,"h2"))&&(to.f=to.g,to.a=new Set,to.b&&(yr(to,to.b),to.b=null))}if(Nr.A){var Li=eo.a?eo.a.getResponseHeader("X-HTTP-Session-Id"):null;Li&&(Nr.na=Li,Hr(Nr.B,Nr.A,Li))}}X.v=3,X.f&&X.f.ta(),X.V&&(X.N=qe()-C.u,X.c.info("Handshake RTT: "+X.N+"ms"));var Os=C;if((Nr=X).la=ys(Nr,Nr.C?Nr.ga:null,Nr.fa),Os.C){wr(Nr.b,Os);var ti=Os,ni=Nr.D;ni&&ti.setTimeout(ni),ti.o&&(Us(ti),$r(ti)),Nr.a=Os}else os(Nr);0<X.g.length&&fo(X)}else"stop"!=rt[0]&&"close"!=rt[0]||Yo(X,7);else 3==X.v&&("stop"==rt[0]||"close"==rt[0]?"stop"==rt[0]?Yo(X,7):Fa(X):"noop"!=rt[0]&&X.f&&X.f.sa(rt),X.o=0);nr(4)}catch(Ua){}}function io(C,j){if(C.forEach&&"function"==typeof C.forEach)C.forEach(j,void 0);else if(Q(C)||"string"==typeof C)Rt(C,j,void 0);else{if(C.L&&"function"==typeof C.L)var X=C.L();else if(C.K&&"function"==typeof C.K)X=void 0;else if(Q(C)||"string"==typeof C){X=[];for(var be=C.length,rt=0;rt<be;rt++)X.push(rt)}else for(rt in X=[],be=0,C)X[be++]=rt;rt=(be=function(C){if(C.K&&"function"==typeof C.K)return C.K();if("string"==typeof C)return C.split("");if(Q(C)){for(var j=[],X=C.length,be=0;be<X;be++)j.push(C[be]);return j}for(be in j=[],X=0,C)j[X++]=C[be];return j}(C)).length;for(var St=0;St<rt;St++)j.call(void 0,be[St],X&&X[St],C)}}function Fo(C,j){this.b={},this.a=[],this.c=0;var X=arguments.length;if(1<X){if(X%2)throw Error("Uneven number of arguments");for(var be=0;be<X;be+=2)this.set(arguments[be],arguments[be+1])}else if(C)if(C instanceof Fo)for(X=C.L(),be=0;be<X.length;be++)this.set(X[be],C.get(X[be]));else for(be in C)this.set(be,C[be])}function oo(C){if(C.c!=C.a.length){for(var j=0,X=0;j<C.a.length;){var be=C.a[j];Lo(C.b,be)&&(C.a[X++]=be),j++}C.a.length=X}if(C.c!=C.a.length){var rt={};for(X=j=0;j<C.a.length;)Lo(rt,be=C.a[j])||(C.a[X++]=be,rt[be]=1),j++;C.a.length=X}}function Lo(C,j){return Object.prototype.hasOwnProperty.call(C,j)}(Le=Mi.prototype).setTimeout=function(C){this.P=C},Le.Wa=function(C){C=C.target;var j=this.F;j&&3==ms(C)?j.f():this.Ca(C)},Le.Ca=function(C){try{if(C==this.a)e:{var j=ms(this.a),X=this.a.ua(),be=this.a.X();if(!(3>j||3==j&&!pn&&!this.a.$())){this.A||4!=j||7==X||nr(8==X||0>=be?3:2),Us(this);var rt=this.a.X();this.N=rt;var St=this.a.$();if(this.b=200==rt,function(C,j,X,be,rt,St,kn){C.info(function(){return"XMLHTTP RESP ("+be+") [ attempt "+rt+"]: "+j+"\n"+X+"\n"+St+" "+kn})}(this.c,this.m,this.l,this.f,this.T,j,rt),this.b){if(this.V&&!this.C){t:{if(this.a){var kn,kr=this.a;if((kn=kr.a?kr.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(kn)){var Nr=kn;break t}}Nr=null}if(!Nr){this.b=!1,this.h=3,or(12),zn(this),co(this);break e}Jt(this.c,this.f,Nr,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,fr(this,Nr)}this.I?(ji(this,j,St),pn&&this.b&&3==j&&(oe(this.J,this.R,"tick",this.Va),this.R.start())):(Jt(this.c,this.f,St,null),fr(this,St)),4==j&&zn(this),this.b&&!this.A&&(4==j?La(this.g,this):(this.b=!1,$r(this)))}else 400==rt&&0<St.indexOf("Unknown SID")?(this.h=3,or(12)):(this.h=0,or(13)),zn(this),co(this)}}}catch(eo){}},Le.Va=function(){if(this.a){var C=ms(this.a),j=this.a.$();this.D<j.length&&(Us(this),ji(this,C,j),this.b&&4!=C&&$r(this))}},Le.cancel=function(){this.A=!0,zn(this)},Le.Ua=function(){this.o=null;var C=qe();0<=C-this.U?(function(C,j){C.info(function(){return"TIMEOUT: "+j})}(this.c,this.l),2!=this.H&&(nr(3),or(17)),zn(this),this.h=2,co(this)):lo(this,this.U-C)},(Le=Fo.prototype).K=function(){oo(this);for(var C=[],j=0;j<this.a.length;j++)C.push(this.b[this.a[j]]);return C},Le.L=function(){return oo(this),this.a.concat()},Le.get=function(C,j){return Lo(this.b,C)?this.b[C]:j},Le.set=function(C,j){Lo(this.b,C)||(this.c++,this.a.push(C)),this.b[C]=j},Le.forEach=function(C,j){for(var X=this.L(),be=0;be<X.length;be++){var rt=X[be],St=this.get(rt);C.call(j,St,rt,this)}};var gr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bi(C,j){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,C instanceof Bi){this.a=void 0!==j?j:C.a,is(this,C.f),this.j=C.j,Vo(this,C.c),_o(this,C.h),this.g=C.g,j=C.b;var X=new Xt;X.c=j.c,j.a&&(X.a=new Fo(j.a),X.b=j.b),js(this,X),this.i=C.i}else C&&(X=String(C).match(gr))?(this.a=!!j,is(this,X[1]||"",!0),this.j=ao(X[2]||""),Vo(this,X[3]||"",!0),_o(this,X[4]),this.g=ao(X[5]||"",!0),js(this,X[6]||"",!0),this.i=ao(X[7]||"")):(this.a=!!j,this.b=new Xt(null,this.a))}function so(C){return new Bi(C)}function is(C,j,X){C.f=X?ao(j,!0):j,C.f&&(C.f=C.f.replace(/:$/,""))}function Vo(C,j,X){C.c=X?ao(j,!0):j}function _o(C,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);C.h=j}else C.h=null}function js(C,j,X){j instanceof Xt?(C.b=j,function(C,j){j&&!C.f&&(qt(C),C.c=null,C.a.forEach(function(X,be){var rt=be.toLowerCase();be!=rt&&(dn(this,be),q(this,rt,X))},C)),C.f=j}(C.b,C.a)):(X||(j=Y(j,ot)),C.b=new Xt(j,C.a))}function Hr(C,j,X){C.b.set(j,X)}function $o(C){return Hr(C,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^qe()).toString(36)),C}function ao(C,j){return C?j?decodeURI(C.replace(/%25/g,"%2525")):decodeURIComponent(C):""}function Y(C,j,X){return"string"==typeof C?(C=encodeURI(C).replace(j,$),X&&(C=C.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C):null}function $(C){return"%"+((C=C.charCodeAt(0))>>4&15).toString(16)+(15&C).toString(16)}Bi.prototype.toString=function(){var C=[],j=this.f;j&&C.push(Y(j,ge,!0),":");var X=this.c;return(X||"file"==j)&&(C.push("//"),(j=this.j)&&C.push(Y(j,ge,!0),"@"),C.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(X=this.h)&&C.push(":",String(X))),(X=this.g)&&(this.c&&"/"!=X.charAt(0)&&C.push("/"),C.push(Y(X,"/"==X.charAt(0)?Ue:Pe,!0))),(X=this.b.toString())&&C.push("?",X),(X=this.i)&&C.push("#",Y(X,xt)),C.join("")};var ge=/[#\/\?@]/g,Pe=/[#\?:]/g,Ue=/[#\?]/g,ot=/[#\?@]/g,xt=/#/g;function Xt(C,j){this.b=this.a=null,this.c=C||null,this.f=!!j}function qt(C){C.a||(C.a=new Fo,C.b=0,C.c&&function(C,j){if(C){C=C.split("&");for(var X=0;X<C.length;X++){var be=C[X].indexOf("="),rt=null;if(0<=be){var St=C[X].substring(0,be);rt=C[X].substring(be+1)}else St=C[X];j(St,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}(C.c,function(j,X){C.add(decodeURIComponent(j.replace(/\+/g," ")),X)}))}function dn(C,j){qt(C),j=se(C,j),Lo(C.a.b,j)&&(C.c=null,C.b-=C.a.get(j).length,Lo((C=C.a).b,j)&&(delete C.b[j],C.c--,C.a.length>2*C.c&&oo(C)))}function En(C,j){return qt(C),j=se(C,j),Lo(C.a.b,j)}function q(C,j,X){dn(C,j),0<X.length&&(C.c=null,C.a.set(se(C,j),A(X)),C.b+=X.length)}function se(C,j){return j=String(j),C.f&&(j=j.toLowerCase()),j}function de(C,j){this.b=C,this.a=j}function Fe(C){this.g=C||At,C=tt.PerformanceNavigationTiming?0<(C=tt.performance.getEntriesByType("navigation")).length&&("hq"==C[0].nextHopProtocol||"h2"==C[0].nextHopProtocol):!!(tt.ia&&tt.ia.ya&&tt.ia.ya()&&tt.ia.ya().qb),this.f=C?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(Le=Xt.prototype).add=function(C,j){qt(this),this.c=null,C=se(this,C);var X=this.a.get(C);return X||this.a.set(C,X=[]),X.push(j),this.b+=1,this},Le.forEach=function(C,j){qt(this),this.a.forEach(function(X,be){Rt(X,function(rt){C.call(j,rt,be,this)},this)},this)},Le.L=function(){qt(this);for(var C=this.a.K(),j=this.a.L(),X=[],be=0;be<j.length;be++)for(var rt=C[be],St=0;St<rt.length;St++)X.push(j[be]);return X},Le.K=function(C){qt(this);var j=[];if("string"==typeof C)En(this,C)&&(j=F(j,this.a.get(se(this,C))));else{C=this.a.K();for(var X=0;X<C.length;X++)j=F(j,C[X])}return j},Le.set=function(C,j){return qt(this),this.c=null,En(this,C=se(this,C))&&(this.b-=this.a.get(C).length),this.a.set(C,[j]),this.b+=1,this},Le.get=function(C,j){return C&&0<(C=this.K(C)).length?String(C[0]):j},Le.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var C=[],j=this.a.L(),X=0;X<j.length;X++){var be=j[X],rt=encodeURIComponent(String(be));be=this.K(be);for(var St=0;St<be.length;St++){var kn=rt;""!==be[St]&&(kn+="="+encodeURIComponent(String(be[St]))),C.push(kn)}}return this.c=C.join("&")};var At=10;function en(C){return!!C.b||!!C.a&&C.a.size>=C.f}function Cn(C){return C.b?1:C.a?C.a.size:0}function xn(C,j){return C.b?C.b==j:!!C.a&&C.a.has(j)}function yr(C,j){C.a?C.a.add(j):C.b=j}function wr(C,j){C.b&&C.b==j?C.b=null:C.a&&C.a.has(j)&&C.a.delete(j)}function ur(C){var j,X;if(null!=C.b)return C.c.concat(C.b.s);if(null!=C.a&&0!==C.a.size){var be=C.c;try{for(var rt=te(C.a.values()),St=rt.next();!St.done;St=rt.next())be=be.concat(St.value.s)}catch(kr){j={error:kr}}finally{try{St&&!St.done&&(X=rt.return)&&X.call(rt)}finally{if(j)throw j.error}}return be}return A(C.c)}function sr(){}function Er(){this.a=new sr}function ci(C,j,X){var be=X||"";try{io(C,function(rt,St){var kn=rt;De(rt)&&(kn=Et(rt)),j.push(be+St+"="+encodeURIComponent(kn))})}catch(rt){throw j.push(be+"type="+encodeURIComponent("_badmap")),rt}}function _i(C,j,X,be,rt){try{j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null,rt(be)}catch(St){}}Fe.prototype.cancel=function(){var C,j;if(this.c=ur(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var X=te(this.a.values()),be=X.next();!be.done;be=X.next())be.value.cancel()}catch(St){C={error:St}}finally{try{be&&!be.done&&(j=X.return)&&j.call(X)}finally{if(C)throw C.error}}this.a.clear()}},sr.prototype.stringify=function(C){return tt.JSON.stringify(C,void 0)},sr.prototype.parse=function(C){return tt.JSON.parse(C,void 0)};var gs=tt.JSON.parse;function Gr(C){xe.call(this),this.headers=new Fo,this.H=C||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Rn,this.D=this.F=!1}Pt(Gr,xe);var Rn="",Ci=/^https?$/i,Ti=["POST","PUT"];function au(C){return"content-type"==C.toLowerCase()}function Ko(C,j){C.b=!1,C.a&&(C.g=!0,C.a.abort(),C.g=!1),C.f=j,C.h=5,va(C),on(C)}function va(C){C.u||(C.u=!0,C.dispatchEvent("complete"),C.dispatchEvent("error"))}function Uo(C){if(C.b&&void 0!==Ye&&(!C.s[1]||4!=ms(C)||2!=C.X()))if(C.l&&4==ms(C))Se(C.za,0,C);else if(C.dispatchEvent("readystatechange"),4==ms(C)){C.b=!1;try{var be,j=C.X();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var X=!0;break e;default:X=!1}if(!(be=X)){var rt;if(rt=0===j){var St=String(C.B).match(gr)[1]||null;if(!St&&tt.self&&tt.self.location){var kn=tt.self.location.protocol;St=kn.substr(0,kn.length-1)}rt=!Ci.test(St?St.toLowerCase():"")}be=rt}if(be)C.dispatchEvent("complete"),C.dispatchEvent("success");else{C.h=6;try{var kr=2<ms(C)?C.a.statusText:""}catch(Nr){kr=""}C.f=kr+" ["+C.X()+"]",va(C)}}finally{on(C)}}}function on(C,j){if(C.a){Mr(C);var X=C.a,be=C.s[0]?Je:null;C.a=null,C.s=null,j||C.dispatchEvent("ready");try{X.onreadystatechange=be}catch(rt){}}}function Mr(C){C.a&&C.D&&(C.a.ontimeout=null),C.m&&(tt.clearTimeout(C.m),C.m=null)}function ms(C){return C.a?C.a.readyState:0}function Hi(C,j,X){e:{for(be in X){var be=!1;break e}be=!0}be||(X=function(C){var j="";return at(C,function(X,be){j+=be,j+=":",j+=X,j+="\r\n"}),j}(X),"string"==typeof C?null!=X&&encodeURIComponent(String(X)):Hr(C,j,X))}function bo(C,j,X){return X&&X.internalChannelParams&&X.internalChannelParams[C]||j}function Eo(C){this.pa=0,this.g=[],this.c=new Be,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=bo("failFast",!1,C),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=bo("baseRetryDelayMs",5e3,C),this.Ma=bo("retryDelaySeedMs",1e4,C),this.Ja=bo("forwardChannelMaxRetries",2,C),this.ma=bo("forwardChannelRequestTimeoutMs",2e4,C),this.Ka=C&&C.g||void 0,this.D=void 0,this.C=C&&C.supportsCrossDomainXhr||!1,this.J="",this.b=new Fe(C&&C.concurrentRequestLimit),this.ka=new Er,this.da=C&&C.fastHandshake||!1,this.Ga=C&&C.b||!1,C&&C.f&&(this.c.a=!1),C&&C.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&C&&C.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Fa(C){if(ea(C),3==C.v){var j=C.R++,X=so(C.B);Hr(X,"SID",C.J),Hr(X,"RID",j),Hr(X,"TYPE","terminate"),wi(C,X),(j=new Mi(C,C.c,j,void 0)).H=2,j.i=$o(so(X)),X=!1,tt.navigator&&tt.navigator.sendBeacon&&(X=tt.navigator.sendBeacon(j.i.toString(),"")),!X&&tt.Image&&((new Image).src=j.i,X=!0),X||(j.a=As(j.g,null),j.a.ba(j.i)),j.u=qe(),$r(j)}vs(C)}function Si(C){C.a&&(Uu(C),C.a.cancel(),C.a=null)}function ea(C){Si(C),C.j&&(tt.clearTimeout(C.j),C.j=null),wa(C),C.b.cancel(),C.h&&("number"==typeof C.h&&tt.clearTimeout(C.h),C.h=null)}function Qo(C,j){C.g.push(new de(C.La++,j)),3==C.v&&fo(C)}function fo(C){en(C.b)||C.h||(C.h=!0,Dn(C.Ba,C),C.u=0)}function Ar(C,j){var X;X=j?j.f:C.R++;var be=so(C.B);Hr(be,"SID",C.J),Hr(be,"RID",X),Hr(be,"AID",C.P),wi(C,be),C.i&&C.l&&Hi(be,C.i,C.l),X=new Mi(C,C.c,X,C.u+1),null===C.i&&(X.B=C.l),j&&(C.g=j.s.concat(C.g)),j=ya(C,X,1e3),X.setTimeout(Math.round(.5*C.ma)+Math.round(.5*C.ma*Math.random())),yr(C.b,X),Fi(X,be,j)}function wi(C,j){C.f&&io({},function(X,be){Hr(j,be,X)})}function ya(C,j,X){X=Math.min(C.g.length,X);var be=C.f?ke(C.f.Ha,C.f,C):null;e:for(var rt=C.g,St=-1;;){var kn=["count="+X];-1==St?0<X?kn.push("ofs="+(St=rt[0].b)):St=0:kn.push("ofs="+St);for(var kr=!0,Nr=0;Nr<X;Nr++){var eo=rt[Nr].b,No=rt[Nr].a;if(0>(eo-=St))St=Math.max(0,rt[Nr].b-100),kr=!1;else try{ci(No,kn,"req"+eo+"_")}catch(to){be&&be(No)}}if(kr){be=kn.join("&");break e}}return C=C.g.splice(0,X),j.s=C,be}function os(C){C.a||C.j||(C.U=1,Dn(C.Aa,C),C.o=0)}function Xi(C){return!(C.a||C.j||3<=C.o||(C.U++,C.j=qi(ke(C.Aa,C),ss(C,C.o)),C.o++,0))}function Uu(C){null!=C.s&&(tt.clearTimeout(C.s),C.s=null)}function _a(C){C.a=new Mi(C,C.c,"rpc",C.U),null===C.i&&(C.a.B=C.l),C.a.O=0;var j=so(C.la);Hr(j,"RID","rpc"),Hr(j,"SID",C.J),Hr(j,"CI",C.H?"0":"1"),Hr(j,"AID",C.P),wi(C,j),Hr(j,"TYPE","xmlhttp"),C.i&&C.l&&Hi(j,C.i,C.l),C.D&&C.a.setTimeout(C.D);var X=C.a;C=C.ga,X.H=1,X.i=$o(so(j)),X.j=null,X.I=!0,Qn(X,C)}function wa(C){null!=C.m&&(tt.clearTimeout(C.m),C.m=null)}function La(C,j){var X=null;if(C.a==j){wa(C),Uu(C),C.a=null;var be=2}else{if(!xn(C.b,j))return;X=j.s,wr(C.b,j),be=1}if(C.I=j.N,0!=C.v)if(j.b)if(1==be){X=j.j?j.j.length:0,j=qe()-j.u;var rt=C.u;(be=vn()).dispatchEvent(new Vs(be,X,j,rt)),fo(C)}else os(C);else if(3==(rt=j.h)||0==rt&&0<C.I||!(1==be&&function(C,j){return!(Cn(C.b)>=C.b.f-(C.h?1:0)||(C.h?(C.g=j.s.concat(C.g),0):1==C.v||2==C.v||C.u>=(C.Ia?0:C.Ja)||(C.h=qi(ke(C.Ba,C,j),ss(C,C.u)),C.u++,0)))}(C,j)||2==be&&Xi(C)))switch(X&&0<X.length&&(j=C.b,j.c=j.c.concat(X)),rt){case 1:Yo(C,5);break;case 4:Yo(C,10);break;case 3:Yo(C,6);break;default:Yo(C,2)}}function ss(C,j){var X=C.Fa+Math.floor(Math.random()*C.Ma);return C.f||(X*=2),X*j}function Yo(C,j){if(C.c.info("Error code "+j),2==j){var X=null;C.f&&(X=null);var be=ke(C.Xa,C);X||(X=new Bi("//www.google.com/images/cleardot.gif"),tt.location&&"http"==tt.location.protocol||is(X,"https"),$o(X)),function(C,j){var X=new Be;if(tt.Image){var be=new Image;be.onload=He(_i,X,be,"TestLoadImage: loaded",!0,j),be.onerror=He(_i,X,be,"TestLoadImage: error",!1,j),be.onabort=He(_i,X,be,"TestLoadImage: abort",!1,j),be.ontimeout=He(_i,X,be,"TestLoadImage: timeout",!1,j),tt.setTimeout(function(){be.ontimeout&&be.ontimeout()},1e4),be.src=C}else j(!1)}(X.toString(),be)}else or(2);C.v=0,C.f&&C.f.ra(j),vs(C),ea(C)}function vs(C){C.v=0,C.I=-1,C.f&&((0!=ur(C.b).length||0!=C.g.length)&&(C.b.c.length=0,A(C.g),C.g.length=0),C.f.qa())}function ys(C,j,X){var be=function(C){return C instanceof Bi?so(C):new Bi(C,void 0)}(X);if(""!=be.c)j&&Vo(be,j+"."+be.c),_o(be,be.h);else{var rt=tt.location;be=function(C,j,X,be){var rt=new Bi(null,void 0);return C&&is(rt,C),j&&Vo(rt,j),X&&_o(rt,X),be&&(rt.g=be),rt}(rt.protocol,j?j+"."+rt.hostname:rt.hostname,+rt.port,X)}return C.W&&at(C.W,function(St,kn){Hr(be,kn,St)}),X=C.na,(j=C.A)&&X&&Hr(be,j,X),Hr(be,"VER",C.ha),wi(C,be),be}function As(C,j){if(j&&!C.C)throw Error("Can't create secondary domain capable XhrIo object.");return(j=new Gr(C.Ka)).F=C.C,j}function _s(){}function Hs(){if(Ht&&!(10<=Number(Qt)))throw Error("Environmental error: no available transport.")}function Qr(C,j){xe.call(this),this.a=new Eo(j),this.l=C,this.b=j&&j.messageUrlParams||null,C=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(C?C["X-Client-Protocol"]="webchannel":C={"X-Client-Protocol":"webchannel"}),this.a.l=C,C=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(C?C["X-WebChannel-Content-Type"]=j.messageContentType:C={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.a&&(C?C["X-WebChannel-Client-Profile"]=j.a:C={"X-WebChannel-Client-Profile":j.a}),this.a.O=C,(C=j&&j.httpHeadersOverwriteParam)&&!G(C)&&(this.a.i=C),this.h=j&&j.supportsCrossDomainXhr||!1,this.g=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!G(j)&&(this.a.A=j,null!==(C=this.b)&&j in C&&j in(C=this.b)&&delete C[j]),this.f=new Zr(this)}function Va(C){xi.call(this);var j=C.__sm__;if(j){e:{for(var X in j){C=X;break e}C=void 0}(this.c=C)?(C=this.c,this.data=null!==j&&C in j?j[C]:void 0):this.data=j}else this.data=C}function mn(){vi.call(this),this.status=1}function Zr(C){this.a=C}(Le=Gr.prototype).ba=function(C,j,X,be){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+C);j=j?j.toUpperCase():"GET",this.B=C,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(C){var j;return(j=C.a)||(j=C.a={}),j}(this.H?this.H:rs),this.a.onreadystatechange=ke(this.za,this);try{this.A=!0,this.a.open(j,String(C),!0),this.A=!1}catch(St){return void Ko(this,St)}C=X||"";var rt=new Fo(this.headers);be&&io(be,function(St,kn){rt.set(kn,St)}),be=function(C){e:{for(var j=au,X=C.length,be="string"==typeof C?C.split(""):C,rt=0;rt<X;rt++)if(rt in be&&j.call(void 0,be[rt],rt,C)){j=rt;break e}j=-1}return 0>j?null:"string"==typeof C?C.charAt(j):C[j]}(rt.L()),X=tt.FormData&&C instanceof tt.FormData,!(0<=ft(Ti,j))||be||X||rt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),rt.forEach(function(St,kn){this.a.setRequestHeader(kn,St)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Mr(this),0<this.o&&((this.D=function(C){return Ht&&Ve(9)&&"number"==typeof C.timeout&&void 0!==C.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ke(this.xa,this)):this.m=Se(this.xa,this.o,this)),this.l=!0,this.a.send(C),this.l=!1}catch(St){Ko(this,St)}},Le.xa=function(){void 0!==Ye&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},Le.abort=function(C){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=C||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),on(this))},Le.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),on(this,!0)),Gr.S.G.call(this)},Le.za=function(){this.j||(this.A||this.l||this.g?Uo(this):this.Ta())},Le.Ta=function(){Uo(this)},Le.X=function(){try{return 2<ms(this)?this.a.status:-1}catch(C){return-1}},Le.$=function(){try{return this.a?this.a.responseText:""}catch(C){return""}},Le.Na=function(C){if(this.a){var j=this.a.responseText;return C&&0==j.indexOf(C)&&(j=j.substring(C.length)),gs(j)}},Le.ua=function(){return this.h},Le.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Le=Eo.prototype).ha=8,Le.v=1,Le.Ba=function(C){if(this.h)if(this.h=null,1==this.v){if(!C){this.R=Math.floor(1e5*Math.random()),C=this.R++;var be,j=new Mi(this,this.c,C,void 0),X=this.l;if(this.O&&(X?Ge(X=zt(X),this.O):X=this.O),null===this.i&&(j.B=X),this.da)e:{for(var rt=be=0;rt<this.g.length;rt++){var St=this.g[rt];if(void 0===(St="__data__"in St.a&&"string"==typeof(St=St.a.__data__)?St.length:void 0))break;if(4096<(be+=St)){be=rt;break e}if(4096===be||rt===this.g.length-1){be=rt+1;break e}}be=1e3}else be=1e3;be=ya(this,j,be),Hr(rt=so(this.B),"RID",C),Hr(rt,"CVER",22),this.A&&Hr(rt,"X-HTTP-Session-Id",this.A),wi(this,rt),this.i&&X&&Hi(rt,this.i,X),yr(this.b,j),this.Ga&&Hr(rt,"TYPE","init"),this.da?(Hr(rt,"$req",be),Hr(rt,"SID","null"),j.V=!0,Fi(j,rt,null)):Fi(j,rt,be),this.v=2}}else 3==this.v&&(C?Ar(this,C):0==this.g.length||en(this.b)||Ar(this))},Le.Aa=function(){if(this.j=null,_a(this),this.V&&!(this.F||null==this.a||0>=this.N)){var C=2*this.N;this.c.info("BP detection timer enabled: "+C),this.s=qi(ke(this.Sa,this),C)}},Le.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Si(this),_a(this))},Le.Ra=function(){null!=this.m&&(this.m=null,Si(this),Xi(this),or(19))},Le.Xa=function(C){C?(this.c.info("Successfully pinged google.com"),or(2)):(this.c.info("Failed to ping google.com"),or(1))},(Le=_s.prototype).ta=function(){},Le.sa=function(){},Le.ra=function(){},Le.qa=function(){},Le.Ha=function(){},Hs.prototype.a=function(C,j){return new Qr(C,j)},Pt(Qr,xe),(Le=Qr.prototype).addEventListener=function(C,j,X,be){Qr.S.addEventListener.call(this,C,j,X,be)},Le.removeEventListener=function(C,j,X,be){Qr.S.removeEventListener.call(this,C,j,X,be)},Le.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var C=this.a,j=this.l,X=this.b||void 0;or(0),C.fa=j,C.W=X||{},C.H=C.T,C.B=ys(C,null,C.fa),fo(C)},Le.close=function(){Fa(this.a)},Le.Pa=function(C){if("string"==typeof C){var j={};j.__data__=C,Qo(this.a,j)}else this.g?((j={}).__data__=Et(C),Qo(this.a,j)):Qo(this.a,C)},Le.G=function(){this.a.f=null,delete this.f,Fa(this.a),delete this.a,Qr.S.G.call(this)},Pt(Va,xi),Pt(mn,vi),Pt(Zr,_s),Zr.prototype.ta=function(){this.a.dispatchEvent("a")},Zr.prototype.sa=function(C){this.a.dispatchEvent(new Va(C))},Zr.prototype.ra=function(C){this.a.dispatchEvent(new mn(C))},Zr.prototype.qa=function(){this.a.dispatchEvent("b")},Hs.prototype.createWebChannel=Hs.prototype.a,Qr.prototype.send=Qr.prototype.Pa,Qr.prototype.open=Qr.prototype.Oa,Qr.prototype.close=Qr.prototype.close,ko.NO_ERROR=0,ko.TIMEOUT=8,ko.HTTP_ERROR=6,Yi.COMPLETE="complete",mi.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",xe.prototype.listen=xe.prototype.va,Gr.prototype.listenOnce=Gr.prototype.wa,Gr.prototype.getLastError=Gr.prototype.Qa,Gr.prototype.getLastErrorCode=Gr.prototype.ua,Gr.prototype.getStatus=Gr.prototype.X,Gr.prototype.getResponseJson=Gr.prototype.Na,Gr.prototype.getResponseText=Gr.prototype.$,Gr.prototype.send=Gr.prototype.ba;var Gs=function(){return new Hs},ba=ko,Ns=Yi,hi=mi,Rs=Gr;const Ii={createWebChannelTransport:Gs,ErrorCode:ko,EventType:Yi,WebChannel:mi,XhrIo:Gr}},7642:(Vn,We,pe)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0}),function(m){for(var te in m)We.hasOwnProperty(te)||(We[te]=m[te])}(pe(8523))},5691:(Vn,We,pe)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0}),function(m){for(var te in m)We.hasOwnProperty(te)||(We[te]=m[te])}(pe(8278))},2372:(Vn,We,pe)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0}),function(m){for(var te in m)We.hasOwnProperty(te)||(We[te]=m[te])}(pe(90))},8523:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{AngularFireAuth:()=>De,AngularFireAuthModule:()=>wt});var k=pe(7716),m=pe(7574),te=pe(4402),mt=pe(5917),Le=pe(3190),Ye=pe(5689),tt=pe(9373),ae=function(Tt,it){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Tt,it)},Q=function(Tt,it){return function(ke,He){it(ke,He,Tt)}};let De=(()=>{let Tt=class{constructor(ke,He,qe,Pt){const Ut=(0,Ye.ss)(new Ye.HU(Pt),qe);this.auth=Pt.runOutsideAngular(()=>(0,tt.Wy)(ke,Pt,He).auth()),this.authState=new m.y(Mt=>Pt.runOutsideAngular(()=>this.auth.onAuthStateChanged(Mt))).pipe(Ut),this.user=new m.y(Mt=>Pt.runOutsideAngular(()=>this.auth.onIdTokenChanged(Mt))).pipe(Ut),this.idToken=this.user.pipe((0,Le.w)(Mt=>Mt?(0,te.D)(Mt.getIdToken()):(0,mt.of)(null))),this.idTokenResult=this.user.pipe((0,Le.w)(Mt=>Mt?(0,te.D)(Mt.getIdTokenResult()):(0,mt.of)(null)))}};return Tt.\u0275fac=function(ke){return new(ke||Tt)(k.LFG(tt.Dh),k.LFG(tt.xv,8),k.LFG(k.Lbi),k.LFG(k.R0b))},Tt.\u0275prov=k.Yz7({token:Tt,factory:function(it){return Tt.\u0275fac(it)}}),Tt=function(Tt,it,ke,He){var Ut,qe=arguments.length,Pt=qe<3?it:null===He?He=Object.getOwnPropertyDescriptor(it,ke):He;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Tt,it,ke,He);else for(var Mt=Tt.length-1;Mt>=0;Mt--)(Ut=Tt[Mt])&&(Pt=(qe<3?Ut(Pt):qe>3?Ut(it,ke,Pt):Ut(it,ke))||Pt);return qe>3&&Pt&&Object.defineProperty(it,ke,Pt),Pt}([Q(0,(0,k.tBr)(tt.Dh)),Q(1,(0,k.FiY)()),Q(1,(0,k.tBr)(tt.xv)),Q(2,(0,k.tBr)(k.Lbi)),ae("design:paramtypes",[Object,Object,Object,k.R0b])],Tt),Tt})();pe(6003);let wt=(()=>{let Tt=class{};return Tt.\u0275fac=function(ke){return new(ke||Tt)},Tt.\u0275mod=k.oAB({type:Tt}),Tt.\u0275inj=k.cJS({providers:[De]}),Tt})()},8278:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{AngularFireDatabase:()=>cn,AngularFireDatabaseModule:()=>_t,DATABASE_URL:()=>pn.gw,RealtimeDatabaseURL:()=>pn.Z4,URL:()=>pn.gw,auditTrail:()=>zt,createListReference:()=>yn,fromRef:()=>ye,listChanges:()=>Ut,snapshotChanges:()=>F,stateChanges:()=>A});var k=pe(7716);function mt(Ve){return null==Ve}function Le(Ve){return"function"==typeof Ve.set}function Ye(Ve,$e){return Le($e)?$e:Ve.ref($e)}function tt(Ve,$e){if(function(Ve){return"string"==typeof Ve}(Ve))return $e.stringCase();if(Le(Ve))return $e.firebaseCase();if(function(Ve){return"function"==typeof Ve.exportVal}(Ve))return $e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof Ve)}var Je=pe(3637),ae=pe(7574),Q=pe(8002),De=pe(8819);function ye(Ve,$e,bt="on",Qt=Je.z){return new ae.y(tn=>{let _n=null;return _n=Ve[bt]($e,(Bn,Un)=>{Qt.schedule(()=>{tn.next({snapshot:Bn,prevKey:Un})}),"once"==bt&&Qt.schedule(()=>tn.complete())},Bn=>{Qt.schedule(()=>tn.error(Bn))}),"on"==bt?{unsubscribe(){null!=_n&&Ve.off($e,_n)}}:{unsubscribe(){}}}).pipe((0,Q.U)(tn=>{const{snapshot:_n,prevKey:Bn}=tn;let Un=null;return _n.exists()&&(Un=_n.key),{type:$e,payload:_n,prevKey:Bn,key:Un}}),(0,De.B)())}var Te=pe(5917),wt=pe(6682),Tt=pe(3190),it=pe(2145),ke=pe(7393);class qe{constructor($e,bt){this.compare=$e,this.keySelector=bt}call($e,bt){return bt.subscribe(new Pt($e,this.compare,this.keySelector))}}class Pt extends ke.L{constructor($e,bt,Qt){super($e),this.keySelector=Qt,this.hasKey=!1,"function"==typeof bt&&(this.compare=bt)}compare($e,bt){return $e===bt}_next($e){let bt;try{const{keySelector:tn}=this;bt=tn?tn($e):$e}catch(tn){return this.destination.error(tn)}let Qt=!1;if(this.hasKey)try{const{compare:tn}=this;Qt=tn(this.key,bt)}catch(tn){return this.destination.error(tn)}else this.hasKey=!0;Qt||(this.key=bt,this.destination.next($e))}}function Ut(Ve,$e,bt){return ye(Ve,"value","once",bt).pipe((0,Tt.w)(Qt=>{const tn=[(0,Te.of)(Qt)];return $e.forEach(_n=>tn.push(ye(Ve,_n,"on",bt))),(0,wt.T)(...tn).pipe((0,it.R)(Rt,[]))}),bt=>bt.lift(new qe(void 0,void 0)))}function Mt(Ve,$e){const bt=Ve.length;for(let Qt=0;Qt<bt;Qt++)if(Ve[Qt].payload.key===$e)return Qt;return-1}function Rt(Ve,$e){const{payload:bt,prevKey:tn,key:_n}=$e,Bn=Mt(Ve,_n),Un=function(Ve,$e){if(mt($e))return 0;{const bt=Mt(Ve,$e);return-1===bt?Ve.length:bt+1}}(Ve,tn);switch($e.type){case"value":if($e.payload&&$e.payload.exists()){let Sn=null;$e.payload.forEach(Yr=>{const st={payload:Yr,type:"value",prevKey:Sn,key:Yr.key};return Sn=Yr.key,Ve=[...Ve,st],!1})}return Ve;case"child_added":if(Bn>-1){const Sn=Ve[Bn-1];(Sn&&Sn.key||null)!=tn&&(Ve=Ve.filter(Yr=>Yr.payload.key!==bt.key)).splice(Un,0,$e)}else{if(null==tn)return[$e,...Ve];(Ve=Ve.slice()).splice(Un,0,$e)}return Ve;case"child_removed":return Ve.filter(Sn=>Sn.payload.key!==bt.key);case"child_changed":return Ve.map(Sn=>Sn.payload.key===_n?$e:Sn);case"child_moved":if(Bn>-1){const Sn=Ve.splice(Bn,1)[0];return(Ve=Ve.slice()).splice(Un,0,Sn),Ve}return Ve;default:return Ve}}function O(Ve){return(mt(Ve)||0===Ve.length)&&(Ve=["child_added","child_removed","child_changed","child_moved"]),Ve}function F(Ve,$e,bt){return Ut(Ve,$e=O($e),bt)}function A(Ve,$e,bt){const Qt=($e=O($e)).map(tn=>ye(Ve,tn,"on",bt));return(0,wt.T)(...Qt)}var G=pe(5197),Z=pe(509);class ce{constructor($e,bt){this.observables=$e,this.project=bt}call($e,bt){return bt.subscribe(new fe($e,this.observables,this.project))}}class fe extends G.L{constructor($e,bt,Qt){super($e),this.observables=bt,this.project=Qt,this.toRespond=[];const tn=bt.length;this.values=new Array(tn);for(let _n=0;_n<tn;_n++)this.toRespond.push(_n);for(let _n=0;_n<tn;_n++)this.add((0,Z.D)(this,bt[_n],void 0,_n))}notifyNext($e,bt,Qt){this.values[Qt]=bt;const tn=this.toRespond;if(tn.length>0){const _n=tn.indexOf(Qt);-1!==_n&&tn.splice(_n,1)}}notifyComplete(){}_next($e){if(0===this.toRespond.length){const bt=[$e,...this.values];this.project?this._tryProject(bt):this.destination.next(bt)}}_tryProject($e){let bt;try{bt=this.project.apply(this,$e)}catch(Qt){return void this.destination.error(Qt)}this.destination.next(bt)}}class _e{constructor($e){this.predicate=$e}call($e,bt){return bt.subscribe(new at($e,this.predicate))}}class at extends ke.L{constructor($e,bt){super($e),this.predicate=bt,this.skipping=!0,this.index=0}_next($e){const bt=this.destination;this.skipping&&this.tryCallPredicate($e),this.skipping||bt.next($e)}tryCallPredicate($e){try{const bt=this.predicate($e,this.index++);this.skipping=Boolean(bt)}catch(bt){this.destination.error(bt)}}}function zt(Ve,$e,bt){return function(Ve,$e,bt){return function(Ve,$e){return ye(Ve,"value","on",$e).pipe((0,Q.U)(bt=>{let Qt;return bt.payload.forEach(tn=>(Qt=tn.key,!1)),{data:bt,lastKeyToLoad:Qt}}))}(Ve,bt).pipe(function(...Ve){return $e=>{let bt;return"function"==typeof Ve[Ve.length-1]&&(bt=Ve.pop()),$e.lift(new ce(Ve,bt))}}($e),(0,Q.U)(([tn,_n])=>{let Bn=tn.lastKeyToLoad;const Un=_n.map(Sn=>Sn.key);return{actions:_n,lastKeyToLoad:Bn,loadedKeys:Un}}),function(Ve){return $e=>$e.lift(new _e(Ve))}(tn=>-1===tn.loadedKeys.indexOf(tn.lastKeyToLoad)),(0,Q.U)(tn=>tn.actions))}(Ve,A(Ve,$e).pipe((0,it.R)((tn,_n)=>[...tn,_n],[])),bt)}function vt(Ve,$e){return function(Qt,tn){return tt(Qt,{stringCase:()=>Ve.child(Qt)[$e](tn),firebaseCase:()=>Qt[$e](tn),snapshotCase:()=>Qt.ref[$e](tn)})}}function Bt(Ve){return function(bt){return bt?tt(bt,{stringCase:()=>Ve.child(bt).remove(),firebaseCase:()=>bt.remove(),snapshotCase:()=>bt.ref.remove()}):Ve.remove()}}function yn(Ve,$e){const bt=$e.schedulers.outsideAngular;return{query:Ve,update:vt(Ve.ref,"update"),set:vt(Ve.ref,"set"),push:Qt=>Ve.ref.push(Qt),remove:Bt(Ve.ref),snapshotChanges:Qt=>F(Ve,Qt,bt).pipe($e.keepUnstableUntilFirst),stateChanges:Qt=>A(Ve,Qt,bt).pipe($e.keepUnstableUntilFirst),auditTrail:Qt=>zt(Ve,Qt,bt).pipe($e.keepUnstableUntilFirst),valueChanges:Qt=>F(Ve,Qt,bt).pipe($e.keepUnstableUntilFirst,(0,Q.U)(_n=>_n.map(Bn=>Bn.payload.val())))}}function Ht(Ve,$e){return function(){return ye(Ve,"value","on",$e)}}var pn=pe(5689),It=pe(9373),Ir=function(Ve,$e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Ve,$e)},Mn=function(Ve,$e){return function(bt,Qt){$e(bt,Qt,Ve)}};let cn=(()=>{let Ve=class{constructor(bt,Qt,tn,_n,Bn){this.schedulers=new pn.HU(Bn),this.keepUnstableUntilFirst=(0,pn.ss)(this.schedulers,_n),this.database=Bn.runOutsideAngular(()=>(0,It.Wy)(bt,Bn,Qt).database(tn||void 0))}list(bt,Qt){const tn=Ye(this.database,bt);let _n=tn;return Qt&&(_n=Qt(tn)),yn(_n,this)}object(bt){return function(Ve,$e){return{query:Ve,snapshotChanges:()=>Ht(Ve,$e.schedulers.outsideAngular)().pipe($e.keepUnstableUntilFirst),update:bt=>Ve.ref.update(bt),set:bt=>Ve.ref.set(bt),remove:()=>Ve.ref.remove(),valueChanges:()=>Ht(Ve,$e.schedulers.outsideAngular)().pipe($e.keepUnstableUntilFirst,(0,Q.U)(Qt=>Qt.payload.exists()?Qt.payload.val():null))}}(Ye(this.database,bt),this)}createPushId(){return this.database.ref().push().key}};return Ve.\u0275fac=function(bt){return new(bt||Ve)(k.LFG(It.Dh),k.LFG(It.xv,8),k.LFG(pn.gw,8),k.LFG(k.Lbi),k.LFG(k.R0b))},Ve.\u0275prov=k.Yz7({token:Ve,factory:function($e){return Ve.\u0275fac($e)}}),Ve=function(Ve,$e,bt,Qt){var Bn,tn=arguments.length,_n=tn<3?$e:null===Qt?Qt=Object.getOwnPropertyDescriptor($e,bt):Qt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_n=Reflect.decorate(Ve,$e,bt,Qt);else for(var Un=Ve.length-1;Un>=0;Un--)(Bn=Ve[Un])&&(_n=(tn<3?Bn(_n):tn>3?Bn($e,bt,_n):Bn($e,bt))||_n);return tn>3&&_n&&Object.defineProperty($e,bt,_n),_n}([Mn(0,(0,k.tBr)(It.Dh)),Mn(1,(0,k.FiY)()),Mn(1,(0,k.tBr)(It.xv)),Mn(2,(0,k.FiY)()),Mn(2,(0,k.tBr)(pn.gw)),Mn(3,(0,k.tBr)(k.Lbi)),Ir("design:paramtypes",[Object,Object,Object,Object,k.R0b])],Ve),Ve})();pe(4614);let _t=(()=>{let Ve=class{};return Ve.\u0275fac=function(bt){return new(bt||Ve)},Ve.\u0275mod=k.oAB({type:Ve}),Ve.\u0275inj=k.cJS({providers:[cn]}),Ve})()},5689:(Vn,We,pe)=>{"use strict";pe.d(We,{gw:()=>vt,Ky:()=>Ir,Z4:()=>Ge,Wn:()=>Zn,Vq:()=>It,HU:()=>wn,Fx:()=>Ht,Dp:()=>yn,ss:()=>pn,pX:()=>cn});var k=pe(7716),m=pe(8583),te=pe(6465),Le=pe(6102);const tt=new class extends Le.v{}(class extends te.o{constructor(pt,_t){super(pt,_t),this.scheduler=pt,this.work=_t}schedule(pt,_t=0){return _t>0?super.schedule(pt,_t):(this.delay=_t,this.state=pt,this.scheduler.flush(this),this)}execute(pt,_t){return _t>0||this.closed?super.execute(pt,_t):this._execute(pt,_t)}requestAsyncId(pt,_t,Ve=0){return null!==Ve&&Ve>0||null===Ve&&this.delay>0?super.requestAsyncId(pt,_t,Ve):pt.flush(this)}});var ae=pe(3637),Q=pe(7574);let De=1;const ye=Promise.resolve(),Te={};function wt(Zt){return Zt in Te&&(delete Te[Zt],!0)}const Tt={setImmediate(Zt){const pt=De++;return Te[pt]=!0,ye.then(()=>wt(pt)&&Zt()),pt},clearImmediate(Zt){wt(Zt)}},Pt=new class extends Le.v{flush(pt){this.active=!0,this.scheduled=void 0;const{actions:_t}=this;let Ve,$e=-1,bt=_t.length;pt=pt||_t.shift();do{if(Ve=pt.execute(pt.state,pt.delay))break}while(++$e<bt&&(pt=_t.shift()));if(this.active=!1,Ve){for(;++$e<bt&&(pt=_t.shift());)pt.unsubscribe();throw Ve}}}(class extends te.o{constructor(pt,_t){super(pt,_t),this.scheduler=pt,this.work=_t}requestAsyncId(pt,_t,Ve=0){return null!==Ve&&Ve>0?super.requestAsyncId(pt,_t,Ve):(pt.actions.push(this),pt.scheduled||(pt.scheduled=Tt.setImmediate(pt.flush.bind(pt,null))))}recycleAsyncId(pt,_t,Ve=0){if(null!==Ve&&Ve>0||null===Ve&&this.delay>0)return super.recycleAsyncId(pt,_t,Ve);0===pt.actions.length&&(Tt.clearImmediate(_t),pt.scheduled=void 0)}});var Ut=pe(9796);class ft extends Q.y{constructor(pt,_t=0,Ve=Pt){var Zt;super(),this.source=pt,this.delayTime=_t,this.scheduler=Ve,(!(!(0,Ut.k)(Zt=_t)&&Zt-parseFloat(Zt)+1>=0)||_t<0)&&(this.delayTime=0),(!Ve||"function"!=typeof Ve.schedule)&&(this.scheduler=Pt)}static create(pt,_t=0,Ve=Pt){return new ft(pt,_t,Ve)}static dispatch(pt){const{source:_t,subscriber:Ve}=pt;return this.add(_t.subscribe(Ve))}_subscribe(pt){return this.scheduler.schedule(ft.dispatch,this.delayTime,{source:this.source,subscriber:pt})}}class O{constructor(pt,_t){this.scheduler=pt,this.delay=_t}call(pt,_t){return new ft(_t,this.delay,this.scheduler).subscribe(pt)}}var F=pe(7393),A=pe(9193),G=pe(5917);class fe{constructor(pt,_t,Ve){this.kind=pt,this.value=_t,this.error=Ve,this.hasValue="N"===pt}observe(pt){switch(this.kind){case"N":return pt.next&&pt.next(this.value);case"E":return pt.error&&pt.error(this.error);case"C":return pt.complete&&pt.complete()}}do(pt,_t,Ve){switch(this.kind){case"N":return pt&&pt(this.value);case"E":return _t&&_t(this.error);case"C":return Ve&&Ve()}}accept(pt,_t,Ve){return pt&&"function"==typeof pt.next?this.observe(pt):this.do(pt,_t,Ve)}toObservable(){switch(this.kind){case"N":return(0,G.of)(this.value);case"E":return Zt=this.error,new Q.y(_t=>_t.error(Zt));case"C":return(0,A.c)()}var Zt;throw new Error("unexpected notification kind value")}static createNext(pt){return void 0!==pt?new fe("N",pt):fe.undefinedValueNotification}static createError(pt){return new fe("E",void 0,pt)}static createComplete(){return fe.completeNotification}}fe.completeNotification=new fe("C"),fe.undefinedValueNotification=new fe("N",void 0);class _e{constructor(pt,_t=0){this.scheduler=pt,this.delay=_t}call(pt,_t){return _t.subscribe(new at(pt,this.scheduler,this.delay))}}class at extends F.L{constructor(pt,_t,Ve=0){super(pt),this.scheduler=_t,this.delay=Ve}static dispatch(pt){const{notification:_t,destination:Ve}=pt;_t.observe(Ve),this.unsubscribe()}scheduleMessage(pt){this.destination.add(this.scheduler.schedule(at.dispatch,this.delay,new zt(pt,this.destination)))}_next(pt){this.scheduleMessage(fe.createNext(pt))}_error(pt){this.scheduleMessage(fe.createError(pt)),this.unsubscribe()}_complete(){this.scheduleMessage(fe.createComplete()),this.unsubscribe()}}class zt{constructor(pt,_t){this.notification=pt,this.destination=_t}}var Ke=pe(3342);const Ge=new k.OlP("angularfire2.realtimeDatabaseURL"),vt=Ge;function Bt(){}class yn{constructor(pt,_t=tt){this.zone=pt,this.delegate=_t}now(){return this.delegate.now()}schedule(pt,_t,Ve){const $e=this.zone;return this.delegate.schedule(function(Qt){$e.runGuarded(()=>{pt.apply(this,[Qt])})},_t,Ve)}}class Ht{constructor(pt){this.zone=pt,this.task=null}call(pt,_t){const Ve=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bt,{},Bt,Bt)),_t.pipe((0,Ke.b)(Ve,Ve,Ve)).subscribe(pt).add(Ve)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class wn{constructor(pt){this.ngZone=pt,this.outsideAngular=pt.runOutsideAngular(()=>new yn(Zone.current)),this.insideAngular=pt.run(()=>new yn(Zone.current,ae.z))}}function pn(Zt,pt){return function(Ve){return(0,m.PM)(pt)&&(Ve=Ve.lift(new Ht(Zt.ngZone))),Ve.pipe(function(Zt,pt=0){return function(Ve){return Ve.lift(new O(Zt,pt))}}(Zt.outsideAngular),function(Zt,pt=0){return function(Ve){return Ve.lift(new _e(Zt,pt))}}(Zt.insideAngular))}}const It=Zt=>pt=>new Q.y(_t=>Zt.runOutsideAngular(()=>{Zn(Zt)(pt).subscribe(_t)})),Zn=Zt=>pt=>new Q.y(_t=>pt.subscribe(Ve=>Zt.run(()=>_t.next(Ve)),Ve=>Zt.run(()=>_t.error(Ve)),()=>Zt.run(()=>_t.complete())));class Ir{constructor(pt,_t){this.zone=pt,this.platformId=_t}schedule(...pt){return this.zone.runGuarded(function(){return tt.schedule.apply(tt,pt)})}keepUnstableUntilFirst(pt){return(0,m.PM)(this.platformId)?new Q.y(_t=>{const Ve=()=>{},$e=Zone.current.scheduleMacroTask("firebaseZoneBlock",Ve,{},Ve,Ve);pt.subscribe(bt=>{"scheduled"===$e.state&&$e.invoke(),_t.next(bt)},bt=>{"scheduled"===$e.state&&$e.invoke(),_t.error(bt)},()=>{"scheduled"===$e.state&&$e.invoke(),_t.complete()})}):pt}runOutsideAngular(pt){return new Q.y(_t=>this.zone.runOutsideAngular(()=>pt.subscribe(Ve=>this.zone.run(()=>_t.next(Ve)),Ve=>this.zone.run(()=>_t.error(Ve)),()=>this.zone.run(()=>_t.complete()))))}}const Mn=["ngOnDestroy"],cn=(Zt,pt,_t)=>new Proxy(Zt,{get:(Ve,$e)=>_t.runOutsideAngular(()=>{if(Zt[$e])return Zt[$e];if(Mn.includes($e))return()=>{};let bt=pt.toPromise().then(Qt=>{const tn=Qt&&Qt[$e];return"function"==typeof tn?tn.bind(Qt):tn&&tn.then?tn.then(_n=>_t.run(()=>_n)):_t.run(()=>tn)});return new Proxy(()=>{},{get:(Qt,tn)=>bt[tn],apply:(Qt,tn,_n)=>bt.then(Bn=>Bn&&Bn(..._n))})})})},9373:(Vn,We,pe)=>{"use strict";pe.d(We,{RU:()=>Je,sI:()=>ae,Dh:()=>Q,xv:()=>De,Ot:()=>ye,q4:()=>Te,Wy:()=>wt,hO:()=>it});var tt,k=pe(7716),m=pe(4395),te=pe.n(m);const Je=new k.OlP("angularfire2.app.options"),ae=new k.OlP("angularfire2.app.nameOrConfig"),Q=Je,De=ae;class ye{}const Te=new k.GfV("5.4.2");function wt(ke,He,qe){const Ut="object"==typeof qe&&qe||{};return Ut.name=Ut.name||"string"==typeof qe&&qe||"[DEFAULT]",te().apps.filter(ft=>ft&&ft.name===Ut.name)[0]||He.runOutsideAngular(()=>te().initializeApp(ke,Ut))}const Tt={provide:ye,useFactory:wt,deps:[Q,k.R0b,[new k.FiY,De]]};let it=tt=class{constructor(He){te().registerVersion&&(te().registerVersion("angularfire",Te.full,He.toString()),te().registerVersion("angular",k.q4F.full))}static initializeApp(He,qe){return{ngModule:tt,providers:[{provide:Q,useValue:He},{provide:De,useValue:qe}]}}};var He;it.\u0275fac=function(He){return new(He||it)(k.LFG(k.Lbi))},it.\u0275mod=k.oAB({type:it}),it.\u0275inj=k.cJS({providers:[Tt]}),it=tt=function(ke,He,qe,Pt){var ft,Ut=arguments.length,Mt=Ut<3?He:null===Pt?Pt=Object.getOwnPropertyDescriptor(He,qe):Pt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Mt=Reflect.decorate(ke,He,qe,Pt);else for(var Rt=ke.length-1;Rt>=0;Rt--)(ft=ke[Rt])&&(Mt=(Ut<3?ft(Mt):Ut>3?ft(He,qe,Mt):ft(He,qe))||Mt);return Ut>3&&Mt&&Object.defineProperty(He,qe,Mt),Mt}([(0,He=(0,k.tBr)(k.Lbi),function(qe,Pt){He(qe,Pt,0)}),function(ke,He){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",[Object])}()],it)},90:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{AngularFireModule:()=>m.hO,DATABASE_URL:()=>k.gw,FIREBASE_APP_NAME:()=>m.xv,FIREBASE_OPTIONS:()=>m.Dh,FirebaseApp:()=>m.Ot,FirebaseNameOrConfigToken:()=>m.sI,FirebaseOptionsToken:()=>m.RU,FirebaseZoneScheduler:()=>k.Ky,RealtimeDatabaseURL:()=>k.Z4,VERSION:()=>m.q4,_firebaseAppFactory:()=>m.Wy,runInZone:()=>k.Wn,runOutsideAngular:()=>k.Vq,\u0275AngularFireSchedulers:()=>k.HU,\u0275BlockUntilFirstOperator:()=>k.Fx,\u0275ZoneScheduler:()=>k.Dp,\u0275keepUnstableUntilFirstFactory:()=>k.ss,\u0275lazySDKProxy:()=>k.pX});var k=pe(5689),m=pe(9373)},4395:(Vn,We,pe)=>{"use strict";function m(Ye){return Ye&&"object"==typeof Ye&&"default"in Ye?Ye:{default:Ye}}var te=m(pe(6279));te.default.registerVersion("firebase","7.24.0","app"),Vn.exports=te.default},7117:(Vn,We,pe)=>{"use strict";var k=pe(6279);function m(Je){return Je&&"object"==typeof Je&&"default"in Je?Je:{default:Je}}pe(6003),pe(4614),pe(5910),pe(9800),pe(7450),pe(6035),pe(5062),pe(8051),pe(2136);var te=m(k);te.default.registerVersion("firebase","7.24.0","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),te.default.registerVersion("firebase","7.24.0"),Vn.exports=te.default},6676:function(Vn,We){!function(pe){"use strict";function k(ke){return Array.prototype.slice.call(ke)}function m(ke){return new Promise(function(He,qe){ke.onsuccess=function(){He(ke.result)},ke.onerror=function(){qe(ke.error)}})}function te(ke,He,qe){var Pt,Ut=new Promise(function(Mt,ft){m(Pt=ke[He].apply(ke,qe)).then(Mt,ft)});return Ut.request=Pt,Ut}function mt(ke,He,qe){var Pt=te(ke,He,qe);return Pt.then(function(Ut){if(Ut)return new Q(Ut,Pt.request)})}function Le(ke,He,qe){qe.forEach(function(Pt){Object.defineProperty(ke.prototype,Pt,{get:function(){return this[He][Pt]},set:function(Ut){this[He][Pt]=Ut}})})}function Ye(ke,He,qe,Pt){Pt.forEach(function(Ut){Ut in qe.prototype&&(ke.prototype[Ut]=function(){return te(this[He],Ut,arguments)})})}function tt(ke,He,qe,Pt){Pt.forEach(function(Ut){Ut in qe.prototype&&(ke.prototype[Ut]=function(){return this[He][Ut].apply(this[He],arguments)})})}function Je(ke,He,qe,Pt){Pt.forEach(function(Ut){Ut in qe.prototype&&(ke.prototype[Ut]=function(){return mt(this[He],Ut,arguments)})})}function ae(ke){this._index=ke}function Q(ke,He){this._cursor=ke,this._request=He}function De(ke){this._store=ke}function ye(ke){this._tx=ke,this.complete=new Promise(function(He,qe){ke.oncomplete=function(){He()},ke.onerror=function(){qe(ke.error)},ke.onabort=function(){qe(ke.error)}})}function Te(ke,He,qe){this._db=ke,this.oldVersion=He,this.transaction=new ye(qe)}function wt(ke){this._db=ke}Le(ae,"_index",["name","keyPath","multiEntry","unique"]),Ye(ae,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Je(ae,"_index",IDBIndex,["openCursor","openKeyCursor"]),Le(Q,"_cursor",["direction","key","primaryKey","value"]),Ye(Q,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ke){ke in IDBCursor.prototype&&(Q.prototype[ke]=function(){var He=this,qe=arguments;return Promise.resolve().then(function(){return He._cursor[ke].apply(He._cursor,qe),m(He._request).then(function(Pt){if(Pt)return new Q(Pt,He._request)})})})}),De.prototype.createIndex=function(){return new ae(this._store.createIndex.apply(this._store,arguments))},De.prototype.index=function(){return new ae(this._store.index.apply(this._store,arguments))},Le(De,"_store",["name","keyPath","indexNames","autoIncrement"]),Ye(De,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Je(De,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),tt(De,"_store",IDBObjectStore,["deleteIndex"]),ye.prototype.objectStore=function(){return new De(this._tx.objectStore.apply(this._tx,arguments))},Le(ye,"_tx",["objectStoreNames","mode"]),tt(ye,"_tx",IDBTransaction,["abort"]),Te.prototype.createObjectStore=function(){return new De(this._db.createObjectStore.apply(this._db,arguments))},Le(Te,"_db",["name","version","objectStoreNames"]),tt(Te,"_db",IDBDatabase,["deleteObjectStore","close"]),wt.prototype.transaction=function(){return new ye(this._db.transaction.apply(this._db,arguments))},Le(wt,"_db",["name","version","objectStoreNames"]),tt(wt,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ke){[De,ae].forEach(function(He){ke in He.prototype&&(He.prototype[ke.replace("open","iterate")]=function(){var qe=k(arguments),Pt=qe[qe.length-1],Ut=this._store||this._index,Mt=Ut[ke].apply(Ut,qe.slice(0,-1));Mt.onsuccess=function(){Pt(Mt.result)}})})}),[ae,De].forEach(function(ke){ke.prototype.getAll||(ke.prototype.getAll=function(He,qe){var Pt=this,Ut=[];return new Promise(function(Mt){Pt.iterateCursor(He,function(ft){ft?(Ut.push(ft.value),void 0===qe||Ut.length!=qe?ft.continue():Mt(Ut)):Mt(Ut)})})})}),pe.openDb=function(ke,He,qe){var Pt=te(indexedDB,"open",[ke,He]),Ut=Pt.request;return Ut&&(Ut.onupgradeneeded=function(Mt){qe&&qe(new Te(Ut.result,Mt.oldVersion,Ut.transaction))}),Pt.then(function(Mt){return new wt(Mt)})},pe.deleteDb=function(ke){return te(indexedDB,"deleteDatabase",[ke])},Object.defineProperty(pe,"__esModule",{value:!0})}(We)},7574:(Vn,We,pe)=>{"use strict";pe.d(We,{y:()=>De});var k=pe(7393),te=pe(9181),mt=pe(6490),Ye=pe(6554),tt=pe(4487);var Q=pe(2494);let De=(()=>{class Te{constructor(Tt){this._isScalar=!1,Tt&&(this._subscribe=Tt)}lift(Tt){const it=new Te;return it.source=this,it.operator=Tt,it}subscribe(Tt,it,ke){const{operator:He}=this,qe=function(Te,wt,Tt){if(Te){if(Te instanceof k.L)return Te;if(Te[te.b])return Te[te.b]()}return Te||wt||Tt?new k.L(Te,wt,Tt):new k.L(mt.c)}(Tt,it,ke);if(qe.add(He?He.call(qe,this.source):this.source||Q.v.useDeprecatedSynchronousErrorHandling&&!qe.syncErrorThrowable?this._subscribe(qe):this._trySubscribe(qe)),Q.v.useDeprecatedSynchronousErrorHandling&&qe.syncErrorThrowable&&(qe.syncErrorThrowable=!1,qe.syncErrorThrown))throw qe.syncErrorValue;return qe}_trySubscribe(Tt){try{return this._subscribe(Tt)}catch(it){Q.v.useDeprecatedSynchronousErrorHandling&&(Tt.syncErrorThrown=!0,Tt.syncErrorValue=it),function(Te){for(;Te;){const{closed:wt,destination:Tt,isStopped:it}=Te;if(wt||it)return!1;Te=Tt&&Tt instanceof k.L?Tt:null}return!0}(Tt)?Tt.error(it):console.warn(it)}}forEach(Tt,it){return new(it=ye(it))((ke,He)=>{let qe;qe=this.subscribe(Pt=>{try{Tt(Pt)}catch(Ut){He(Ut),qe&&qe.unsubscribe()}},He,ke)})}_subscribe(Tt){const{source:it}=this;return it&&it.subscribe(Tt)}[Ye.L](){return this}pipe(...Tt){return 0===Tt.length?this:function(Te){return 0===Te.length?tt.y:1===Te.length?Te[0]:function(Tt){return Te.reduce((it,ke)=>ke(it),Tt)}}(Tt)(this)}toPromise(Tt){return new(Tt=ye(Tt))((it,ke)=>{let He;this.subscribe(qe=>He=qe,qe=>ke(qe),()=>it(He))})}}return Te.create=wt=>new Te(wt),Te})();function ye(Te){if(Te||(Te=Q.v.Promise||Promise),!Te)throw new Error("no Promise impl found");return Te}},6490:(Vn,We,pe)=>{"use strict";pe.d(We,{c:()=>te});var k=pe(2494),m=pe(4449);const te={closed:!0,next(mt){},error(mt){if(k.v.useDeprecatedSynchronousErrorHandling)throw mt;(0,m.z)(mt)},complete(){}}},5197:(Vn,We,pe)=>{"use strict";pe.d(We,{L:()=>m});var k=pe(7393);class m extends k.L{notifyNext(mt,Le,Ye,tt,Je){this.destination.next(Le)}notifyError(mt,Le){this.destination.error(mt)}notifyComplete(mt){this.destination.complete()}}},7709:(Vn,We,pe)=>{"use strict";pe.d(We,{xQ:()=>Je,Yc:()=>tt});var k=pe(7574),m=pe(7393),te=pe(5319),mt=pe(7971);class Le extends te.w{constructor(De,ye){super(),this.subject=De,this.subscriber=ye,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const De=this.subject,ye=De.observers;if(this.subject=null,!ye||0===ye.length||De.isStopped||De.closed)return;const Te=ye.indexOf(this.subscriber);-1!==Te&&ye.splice(Te,1)}}var Ye=pe(9181);class tt extends m.L{constructor(De){super(De),this.destination=De}}let Je=(()=>{class Q extends k.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ye.b](){return new tt(this)}lift(ye){const Te=new ae(this,this);return Te.operator=ye,Te}next(ye){if(this.closed)throw new mt.N;if(!this.isStopped){const{observers:Te}=this,wt=Te.length,Tt=Te.slice();for(let it=0;it<wt;it++)Tt[it].next(ye)}}error(ye){if(this.closed)throw new mt.N;this.hasError=!0,this.thrownError=ye,this.isStopped=!0;const{observers:Te}=this,wt=Te.length,Tt=Te.slice();for(let it=0;it<wt;it++)Tt[it].error(ye);this.observers.length=0}complete(){if(this.closed)throw new mt.N;this.isStopped=!0;const{observers:ye}=this,Te=ye.length,wt=ye.slice();for(let Tt=0;Tt<Te;Tt++)wt[Tt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ye){if(this.closed)throw new mt.N;return super._trySubscribe(ye)}_subscribe(ye){if(this.closed)throw new mt.N;return this.hasError?(ye.error(this.thrownError),te.w.EMPTY):this.isStopped?(ye.complete(),te.w.EMPTY):(this.observers.push(ye),new Le(this,ye))}asObservable(){const ye=new k.y;return ye.source=this,ye}}return Q.create=(De,ye)=>new ae(De,ye),Q})();class ae extends Je{constructor(De,ye){super(),this.destination=De,this.source=ye}next(De){const{destination:ye}=this;ye&&ye.next&&ye.next(De)}error(De){const{destination:ye}=this;ye&&ye.error&&this.destination.error(De)}complete(){const{destination:De}=this;De&&De.complete&&this.destination.complete()}_subscribe(De){const{source:ye}=this;return ye?this.source.subscribe(De):te.w.EMPTY}}},7393:(Vn,We,pe)=>{"use strict";pe.d(We,{L:()=>tt});var k=pe(9105),m=pe(6490),te=pe(5319),mt=pe(9181),Le=pe(2494),Ye=pe(4449);class tt extends te.w{constructor(Q,De,ye){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=m.c;break;case 1:if(!Q){this.destination=m.c;break}if("object"==typeof Q){Q instanceof tt?(this.syncErrorThrowable=Q.syncErrorThrowable,this.destination=Q,Q.add(this)):(this.syncErrorThrowable=!0,this.destination=new Je(this,Q));break}default:this.syncErrorThrowable=!0,this.destination=new Je(this,Q,De,ye)}}[mt.b](){return this}static create(Q,De,ye){const Te=new tt(Q,De,ye);return Te.syncErrorThrowable=!1,Te}next(Q){this.isStopped||this._next(Q)}error(Q){this.isStopped||(this.isStopped=!0,this._error(Q))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Q){this.destination.next(Q)}_error(Q){this.destination.error(Q),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Q}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Q,this}}class Je extends tt{constructor(Q,De,ye,Te){super(),this._parentSubscriber=Q;let wt,Tt=this;(0,k.m)(De)?wt=De:De&&(wt=De.next,ye=De.error,Te=De.complete,De!==m.c&&(Tt=Object.create(De),(0,k.m)(Tt.unsubscribe)&&this.add(Tt.unsubscribe.bind(Tt)),Tt.unsubscribe=this.unsubscribe.bind(this))),this._context=Tt,this._next=wt,this._error=ye,this._complete=Te}next(Q){if(!this.isStopped&&this._next){const{_parentSubscriber:De}=this;Le.v.useDeprecatedSynchronousErrorHandling&&De.syncErrorThrowable?this.__tryOrSetError(De,this._next,Q)&&this.unsubscribe():this.__tryOrUnsub(this._next,Q)}}error(Q){if(!this.isStopped){const{_parentSubscriber:De}=this,{useDeprecatedSynchronousErrorHandling:ye}=Le.v;if(this._error)ye&&De.syncErrorThrowable?(this.__tryOrSetError(De,this._error,Q),this.unsubscribe()):(this.__tryOrUnsub(this._error,Q),this.unsubscribe());else if(De.syncErrorThrowable)ye?(De.syncErrorValue=Q,De.syncErrorThrown=!0):(0,Ye.z)(Q),this.unsubscribe();else{if(this.unsubscribe(),ye)throw Q;(0,Ye.z)(Q)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Q}=this;if(this._complete){const De=()=>this._complete.call(this._context);Le.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,De),this.unsubscribe()):(this.__tryOrUnsub(De),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Q,De){try{Q.call(this._context,De)}catch(ye){if(this.unsubscribe(),Le.v.useDeprecatedSynchronousErrorHandling)throw ye;(0,Ye.z)(ye)}}__tryOrSetError(Q,De,ye){if(!Le.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{De.call(this._context,ye)}catch(Te){return Le.v.useDeprecatedSynchronousErrorHandling?(Q.syncErrorValue=Te,Q.syncErrorThrown=!0,!0):((0,Ye.z)(Te),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Q}=this;this._context=null,this._parentSubscriber=null,Q.unsubscribe()}}},5319:(Vn,We,pe)=>{"use strict";pe.d(We,{w:()=>Ye});var k=pe(9796),m=pe(1555),te=pe(9105);const Le=(()=>{function Je(ae){return Error.call(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((Q,De)=>`${De+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae,this}return Je.prototype=Object.create(Error.prototype),Je})();class Ye{constructor(ae){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ae&&(this._ctorUnsubscribe=!0,this._unsubscribe=ae)}unsubscribe(){let ae;if(this.closed)return;let{_parentOrParents:Q,_ctorUnsubscribe:De,_unsubscribe:ye,_subscriptions:Te}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Q instanceof Ye)Q.remove(this);else if(null!==Q)for(let wt=0;wt<Q.length;++wt)Q[wt].remove(this);if((0,te.m)(ye)){De&&(this._unsubscribe=void 0);try{ye.call(this)}catch(wt){ae=wt instanceof Le?tt(wt.errors):[wt]}}if((0,k.k)(Te)){let wt=-1,Tt=Te.length;for(;++wt<Tt;){const it=Te[wt];if((0,m.K)(it))try{it.unsubscribe()}catch(ke){ae=ae||[],ke instanceof Le?ae=ae.concat(tt(ke.errors)):ae.push(ke)}}}if(ae)throw new Le(ae)}add(ae){let Q=ae;if(!ae)return Ye.EMPTY;switch(typeof ae){case"function":Q=new Ye(ae);case"object":if(Q===this||Q.closed||"function"!=typeof Q.unsubscribe)return Q;if(this.closed)return Q.unsubscribe(),Q;if(!(Q instanceof Ye)){const Te=Q;Q=new Ye,Q._subscriptions=[Te]}break;default:throw new Error("unrecognized teardown "+ae+" added to Subscription.")}let{_parentOrParents:De}=Q;if(null===De)Q._parentOrParents=this;else if(De instanceof Ye){if(De===this)return Q;Q._parentOrParents=[De,this]}else{if(-1!==De.indexOf(this))return Q;De.push(this)}const ye=this._subscriptions;return null===ye?this._subscriptions=[Q]:ye.push(Q),Q}remove(ae){const Q=this._subscriptions;if(Q){const De=Q.indexOf(ae);-1!==De&&Q.splice(De,1)}}}var Je;function tt(Je){return Je.reduce((ae,Q)=>ae.concat(Q instanceof Le?Q.errors:Q),[])}Ye.EMPTY=((Je=new Ye).closed=!0,Je)},2494:(Vn,We,pe)=>{"use strict";pe.d(We,{v:()=>m});let k=!1;const m={Promise:void 0,set useDeprecatedSynchronousErrorHandling(te){if(te){const mt=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+mt.stack)}else k&&console.log("RxJS: Back to a better error behavior. Thank you. <3");k=te},get useDeprecatedSynchronousErrorHandling(){return k}}},5345:(Vn,We,pe)=>{"use strict";pe.d(We,{IY:()=>mt,Ds:()=>Ye,ft:()=>Je});var k=pe(7393),m=pe(7574),te=pe(7444);class mt extends k.L{constructor(Q){super(),this.parent=Q}_next(Q){this.parent.notifyNext(Q)}_error(Q){this.parent.notifyError(Q),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ye extends k.L{notifyNext(Q){this.destination.next(Q)}notifyError(Q){this.destination.error(Q)}notifyComplete(){this.destination.complete()}}function Je(ae,Q){if(Q.closed)return;if(ae instanceof m.y)return ae.subscribe(Q);let De;try{De=(0,te.s)(ae)(Q)}catch(ye){Q.error(ye)}return De}},2441:(Vn,We,pe)=>{"use strict";pe.d(We,{c:()=>Le,N:()=>Ye});var k=pe(7709),m=pe(7574),te=pe(5319),mt=pe(1307);class Le extends m.y{constructor(De,ye){super(),this.source=De,this.subjectFactory=ye,this._refCount=0,this._isComplete=!1}_subscribe(De){return this.getSubject().subscribe(De)}getSubject(){const De=this._subject;return(!De||De.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let De=this._connection;return De||(this._isComplete=!1,De=this._connection=new te.w,De.add(this.source.subscribe(new tt(this.getSubject(),this))),De.closed&&(this._connection=null,De=te.w.EMPTY)),De}refCount(){return(0,mt.x)()(this)}}const Ye=(()=>{const Q=Le.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Q._subscribe},_isComplete:{value:Q._isComplete,writable:!0},getSubject:{value:Q.getSubject},connect:{value:Q.connect},refCount:{value:Q.refCount}}})();class tt extends k.Yc{constructor(De,ye){super(De),this.connectable=ye}_error(De){this._unsubscribe(),super._error(De)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const De=this.connectable;if(De){this.connectable=null;const ye=De._connection;De._refCount=0,De._subject=null,De._connection=null,ye&&ye.unsubscribe()}}}},9193:(Vn,We,pe)=>{"use strict";pe.d(We,{E:()=>m,c:()=>te});var k=pe(7574);const m=new k.y(Le=>Le.complete());function te(Le){return Le?function(Le){return new k.y(Ye=>Le.schedule(()=>Ye.complete()))}(Le):m}},4402:(Vn,We,pe)=>{"use strict";pe.d(We,{D:()=>Tt});var k=pe(7574),m=pe(7444),te=pe(5319),mt=pe(6554),tt=pe(4087),Je=pe(377),De=pe(4072),ye=pe(9489);function Tt(it,ke){return ke?function(it,ke){if(null!=it){if(function(it){return it&&"function"==typeof it[mt.L]}(it))return function(it,ke){return new k.y(He=>{const qe=new te.w;return qe.add(ke.schedule(()=>{const Pt=it[mt.L]();qe.add(Pt.subscribe({next(Ut){qe.add(ke.schedule(()=>He.next(Ut)))},error(Ut){qe.add(ke.schedule(()=>He.error(Ut)))},complete(){qe.add(ke.schedule(()=>He.complete()))}}))})),qe})}(it,ke);if((0,De.t)(it))return function(it,ke){return new k.y(He=>{const qe=new te.w;return qe.add(ke.schedule(()=>it.then(Pt=>{qe.add(ke.schedule(()=>{He.next(Pt),qe.add(ke.schedule(()=>He.complete()))}))},Pt=>{qe.add(ke.schedule(()=>He.error(Pt)))}))),qe})}(it,ke);if((0,ye.z)(it))return(0,tt.r)(it,ke);if(function(it){return it&&"function"==typeof it[Je.hZ]}(it)||"string"==typeof it)return function(it,ke){if(!it)throw new Error("Iterable cannot be null");return new k.y(He=>{const qe=new te.w;let Pt;return qe.add(()=>{Pt&&"function"==typeof Pt.return&&Pt.return()}),qe.add(ke.schedule(()=>{Pt=it[Je.hZ](),qe.add(ke.schedule(function(){if(He.closed)return;let Ut,Mt;try{const ft=Pt.next();Ut=ft.value,Mt=ft.done}catch(ft){return void He.error(ft)}Mt?He.complete():(He.next(Ut),this.schedule())}))})),qe})}(it,ke)}throw new TypeError((null!==it&&typeof it||it)+" is not observable")}(it,ke):it instanceof k.y?it:new k.y((0,m.s)(it))}},6693:(Vn,We,pe)=>{"use strict";pe.d(We,{n:()=>mt});var k=pe(7574),m=pe(5015),te=pe(4087);function mt(Le,Ye){return Ye?(0,te.r)(Le,Ye):new k.y((0,m.V)(Le))}},6682:(Vn,We,pe)=>{"use strict";pe.d(We,{T:()=>Le});var k=pe(7574),m=pe(4869),te=pe(3282),mt=pe(6693);function Le(...Ye){let tt=Number.POSITIVE_INFINITY,Je=null,ae=Ye[Ye.length-1];return(0,m.K)(ae)?(Je=Ye.pop(),Ye.length>1&&"number"==typeof Ye[Ye.length-1]&&(tt=Ye.pop())):"number"==typeof ae&&(tt=Ye.pop()),null===Je&&1===Ye.length&&Ye[0]instanceof k.y?Ye[0]:(0,te.J)(tt)((0,mt.n)(Ye,Je))}},5917:(Vn,We,pe)=>{"use strict";pe.d(We,{of:()=>mt});var k=pe(4869),m=pe(6693),te=pe(4087);function mt(...Le){let Ye=Le[Le.length-1];return(0,k.K)(Ye)?(Le.pop(),(0,te.r)(Le,Ye)):(0,m.n)(Le)}},8002:(Vn,We,pe)=>{"use strict";pe.d(We,{U:()=>m});var k=pe(7393);function m(Le,Ye){return function(Je){if("function"!=typeof Le)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Je.lift(new te(Le,Ye))}}class te{constructor(Ye,tt){this.project=Ye,this.thisArg=tt}call(Ye,tt){return tt.subscribe(new mt(Ye,this.project,this.thisArg))}}class mt extends k.L{constructor(Ye,tt,Je){super(Ye),this.project=tt,this.count=0,this.thisArg=Je||this}_next(Ye){let tt;try{tt=this.project.call(this.thisArg,Ye,this.count++)}catch(Je){return void this.destination.error(Je)}this.destination.next(tt)}}},3282:(Vn,We,pe)=>{"use strict";pe.d(We,{J:()=>te});var k=pe(9773),m=pe(4487);function te(mt=Number.POSITIVE_INFINITY){return(0,k.zg)(m.y,mt)}},9773:(Vn,We,pe)=>{"use strict";pe.d(We,{zg:()=>mt});var k=pe(8002),m=pe(4402),te=pe(5345);function mt(Je,ae,Q=Number.POSITIVE_INFINITY){return"function"==typeof ae?De=>De.pipe(mt((ye,Te)=>(0,m.D)(Je(ye,Te)).pipe((0,k.U)((wt,Tt)=>ae(ye,wt,Te,Tt))),Q)):("number"==typeof ae&&(Q=ae),De=>De.lift(new Le(Je,Q)))}class Le{constructor(ae,Q=Number.POSITIVE_INFINITY){this.project=ae,this.concurrent=Q}call(ae,Q){return Q.subscribe(new Ye(ae,this.project,this.concurrent))}}class Ye extends te.Ds{constructor(ae,Q,De=Number.POSITIVE_INFINITY){super(ae),this.project=Q,this.concurrent=De,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ae){this.active<this.concurrent?this._tryNext(ae):this.buffer.push(ae)}_tryNext(ae){let Q;const De=this.index++;try{Q=this.project(ae,De)}catch(ye){return void this.destination.error(ye)}this.active++,this._innerSub(Q)}_innerSub(ae){const Q=new te.IY(this),De=this.destination;De.add(Q);const ye=(0,te.ft)(ae,Q);ye!==Q&&De.add(ye)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ae){this.destination.next(ae)}notifyComplete(){const ae=this.buffer;this.active--,ae.length>0?this._next(ae.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},1307:(Vn,We,pe)=>{"use strict";pe.d(We,{x:()=>m});var k=pe(7393);function m(){return function(Ye){return Ye.lift(new te(Ye))}}class te{constructor(Ye){this.connectable=Ye}call(Ye,tt){const{connectable:Je}=this;Je._refCount++;const ae=new mt(Ye,Je),Q=tt.subscribe(ae);return ae.closed||(ae.connection=Je.connect()),Q}}class mt extends k.L{constructor(Ye,tt){super(Ye),this.connectable=tt}_unsubscribe(){const{connectable:Ye}=this;if(!Ye)return void(this.connection=null);this.connectable=null;const tt=Ye._refCount;if(tt<=0)return void(this.connection=null);if(Ye._refCount=tt-1,tt>1)return void(this.connection=null);const{connection:Je}=this,ae=Ye._connection;this.connection=null,ae&&(!Je||ae===Je)&&ae.unsubscribe()}}},2145:(Vn,We,pe)=>{"use strict";pe.d(We,{R:()=>m});var k=pe(7393);function m(Le,Ye){let tt=!1;return arguments.length>=2&&(tt=!0),function(ae){return ae.lift(new te(Le,Ye,tt))}}class te{constructor(Ye,tt,Je=!1){this.accumulator=Ye,this.seed=tt,this.hasSeed=Je}call(Ye,tt){return tt.subscribe(new mt(Ye,this.accumulator,this.seed,this.hasSeed))}}class mt extends k.L{constructor(Ye,tt,Je,ae){super(Ye),this.accumulator=tt,this._seed=Je,this.hasSeed=ae,this.index=0}get seed(){return this._seed}set seed(Ye){this.hasSeed=!0,this._seed=Ye}_next(Ye){if(this.hasSeed)return this._tryNext(Ye);this.seed=Ye,this.destination.next(Ye)}_tryNext(Ye){const tt=this.index++;let Je;try{Je=this.accumulator(this.seed,Ye,tt)}catch(ae){this.destination.error(ae)}this.seed=Je,this.destination.next(Je)}}},8819:(Vn,We,pe)=>{"use strict";pe.d(We,{B:()=>tt});var k=pe(2441);var mt=pe(1307),Le=pe(7709);function Ye(){return new Le.xQ}function tt(){return Je=>(0,mt.x)()(function(Je,ae){return function(De){let ye;ye="function"==typeof Je?Je:function(){return Je};const Te=Object.create(De,k.N);return Te.source=De,Te.subjectFactory=ye,Te}}(Ye)(Je))}},3190:(Vn,We,pe)=>{"use strict";pe.d(We,{w:()=>mt});var k=pe(8002),m=pe(4402),te=pe(5345);function mt(tt,Je){return"function"==typeof Je?ae=>ae.pipe(mt((Q,De)=>(0,m.D)(tt(Q,De)).pipe((0,k.U)((ye,Te)=>Je(Q,ye,De,Te))))):ae=>ae.lift(new Le(tt))}class Le{constructor(Je){this.project=Je}call(Je,ae){return ae.subscribe(new Ye(Je,this.project))}}class Ye extends te.Ds{constructor(Je,ae){super(Je),this.project=ae,this.index=0}_next(Je){let ae;const Q=this.index++;try{ae=this.project(Je,Q)}catch(De){return void this.destination.error(De)}this._innerSub(ae)}_innerSub(Je){const ae=this.innerSubscription;ae&&ae.unsubscribe();const Q=new te.IY(this),De=this.destination;De.add(Q),this.innerSubscription=(0,te.ft)(Je,Q),this.innerSubscription!==Q&&De.add(this.innerSubscription)}_complete(){const{innerSubscription:Je}=this;(!Je||Je.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Je){this.destination.next(Je)}}},3342:(Vn,We,pe)=>{"use strict";pe.d(We,{b:()=>mt});var k=pe(7393);function m(){}var te=pe(9105);function mt(tt,Je,ae){return function(De){return De.lift(new Le(tt,Je,ae))}}class Le{constructor(Je,ae,Q){this.nextOrObserver=Je,this.error=ae,this.complete=Q}call(Je,ae){return ae.subscribe(new Ye(Je,this.nextOrObserver,this.error,this.complete))}}class Ye extends k.L{constructor(Je,ae,Q,De){super(Je),this._tapNext=m,this._tapError=m,this._tapComplete=m,this._tapError=Q||m,this._tapComplete=De||m,(0,te.m)(ae)?(this._context=this,this._tapNext=ae):ae&&(this._context=ae,this._tapNext=ae.next||m,this._tapError=ae.error||m,this._tapComplete=ae.complete||m)}_next(Je){try{this._tapNext.call(this._context,Je)}catch(ae){return void this.destination.error(ae)}this.destination.next(Je)}_error(Je){try{this._tapError.call(this._context,Je)}catch(ae){return void this.destination.error(ae)}this.destination.error(Je)}_complete(){try{this._tapComplete.call(this._context)}catch(Je){return void this.destination.error(Je)}return this.destination.complete()}}},4087:(Vn,We,pe)=>{"use strict";pe.d(We,{r:()=>te});var k=pe(7574),m=pe(5319);function te(mt,Le){return new k.y(Ye=>{const tt=new m.w;let Je=0;return tt.add(Le.schedule(function(){Je!==mt.length?(Ye.next(mt[Je++]),Ye.closed||tt.add(this.schedule())):Ye.complete()})),tt})}},6465:(Vn,We,pe)=>{"use strict";pe.d(We,{o:()=>te});var k=pe(5319);class m extends k.w{constructor(Le,Ye){super()}schedule(Le,Ye=0){return this}}class te extends m{constructor(Le,Ye){super(Le,Ye),this.scheduler=Le,this.work=Ye,this.pending=!1}schedule(Le,Ye=0){if(this.closed)return this;this.state=Le;const tt=this.id,Je=this.scheduler;return null!=tt&&(this.id=this.recycleAsyncId(Je,tt,Ye)),this.pending=!0,this.delay=Ye,this.id=this.id||this.requestAsyncId(Je,this.id,Ye),this}requestAsyncId(Le,Ye,tt=0){return setInterval(Le.flush.bind(Le,this),tt)}recycleAsyncId(Le,Ye,tt=0){if(null!==tt&&this.delay===tt&&!1===this.pending)return Ye;clearInterval(Ye)}execute(Le,Ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const tt=this._execute(Le,Ye);if(tt)return tt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Le,Ye){let Je,tt=!1;try{this.work(Le)}catch(ae){tt=!0,Je=!!ae&&ae||new Error(ae)}if(tt)return this.unsubscribe(),Je}_unsubscribe(){const Le=this.id,Ye=this.scheduler,tt=Ye.actions,Je=tt.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Je&&tt.splice(Je,1),null!=Le&&(this.id=this.recycleAsyncId(Ye,Le,null)),this.delay=null}}},6102:(Vn,We,pe)=>{"use strict";pe.d(We,{v:()=>m});let k=(()=>{class te{constructor(Le,Ye=te.now){this.SchedulerAction=Le,this.now=Ye}schedule(Le,Ye=0,tt){return new this.SchedulerAction(this,Le).schedule(tt,Ye)}}return te.now=()=>Date.now(),te})();class m extends k{constructor(mt,Le=k.now){super(mt,()=>m.delegate&&m.delegate!==this?m.delegate.now():Le()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(mt,Le=0,Ye){return m.delegate&&m.delegate!==this?m.delegate.schedule(mt,Le,Ye):super.schedule(mt,Le,Ye)}flush(mt){const{actions:Le}=this;if(this.active)return void Le.push(mt);let Ye;this.active=!0;do{if(Ye=mt.execute(mt.state,mt.delay))break}while(mt=Le.shift());if(this.active=!1,Ye){for(;mt=Le.shift();)mt.unsubscribe();throw Ye}}}},3637:(Vn,We,pe)=>{"use strict";pe.d(We,{z:()=>te});var k=pe(6465);const te=new(pe(6102).v)(k.o)},377:(Vn,We,pe)=>{"use strict";pe.d(We,{hZ:()=>m});const m="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Vn,We,pe)=>{"use strict";pe.d(We,{L:()=>k});const k="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Vn,We,pe)=>{"use strict";pe.d(We,{b:()=>k});const k="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Vn,We,pe)=>{"use strict";pe.d(We,{N:()=>m});const m=(()=>{function te(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return te.prototype=Object.create(Error.prototype),te})()},4449:(Vn,We,pe)=>{"use strict";function k(m){setTimeout(()=>{throw m},0)}pe.d(We,{z:()=>k})},4487:(Vn,We,pe)=>{"use strict";function k(m){return m}pe.d(We,{y:()=>k})},9796:(Vn,We,pe)=>{"use strict";pe.d(We,{k:()=>k});const k=Array.isArray||(m=>m&&"number"==typeof m.length)},9489:(Vn,We,pe)=>{"use strict";pe.d(We,{z:()=>k});const k=m=>m&&"number"==typeof m.length&&"function"!=typeof m},9105:(Vn,We,pe)=>{"use strict";function k(m){return"function"==typeof m}pe.d(We,{m:()=>k})},1555:(Vn,We,pe)=>{"use strict";function k(m){return null!==m&&"object"==typeof m}pe.d(We,{K:()=>k})},4072:(Vn,We,pe)=>{"use strict";function k(m){return!!m&&"function"!=typeof m.subscribe&&"function"==typeof m.then}pe.d(We,{t:()=>k})},4869:(Vn,We,pe)=>{"use strict";function k(m){return m&&"function"==typeof m.schedule}pe.d(We,{K:()=>k})},7444:(Vn,We,pe)=>{"use strict";pe.d(We,{s:()=>De});var k=pe(5015),m=pe(4449),mt=pe(377),Ye=pe(6554),Je=pe(9489),ae=pe(4072),Q=pe(1555);const De=ye=>{if(ye&&"function"==typeof ye[Ye.L])return(ye=>Te=>{const wt=ye[Ye.L]();if("function"!=typeof wt.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return wt.subscribe(Te)})(ye);if((0,Je.z)(ye))return(0,k.V)(ye);if((0,ae.t)(ye))return(ye=>Te=>(ye.then(wt=>{Te.closed||(Te.next(wt),Te.complete())},wt=>Te.error(wt)).then(null,m.z),Te))(ye);if(ye&&"function"==typeof ye[mt.hZ])return(ye=>Te=>{const wt=ye[mt.hZ]();for(;;){let Tt;try{Tt=wt.next()}catch(it){return Te.error(it),Te}if(Tt.done){Te.complete();break}if(Te.next(Tt.value),Te.closed)break}return"function"==typeof wt.return&&Te.add(()=>{wt.return&&wt.return()}),Te})(ye);{const wt=`You provided ${(0,Q.K)(ye)?"an invalid object":`'${ye}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(wt)}}},5015:(Vn,We,pe)=>{"use strict";pe.d(We,{V:()=>k});const k=m=>te=>{for(let mt=0,Le=m.length;mt<Le&&!te.closed;mt++)te.next(m[mt]);te.complete()}},509:(Vn,We,pe)=>{"use strict";pe.d(We,{D:()=>Le});var k=pe(7393);class m extends k.L{constructor(tt,Je,ae){super(),this.parent=tt,this.outerValue=Je,this.outerIndex=ae,this.index=0}_next(tt){this.parent.notifyNext(this.outerValue,tt,this.outerIndex,this.index++,this)}_error(tt){this.parent.notifyError(tt,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var te=pe(7444),mt=pe(7574);function Le(Ye,tt,Je,ae,Q=new m(Ye,Je,ae)){if(!Q.closed)return tt instanceof mt.y?tt.subscribe(Q):(0,te.s)(tt)(Q)}},2102:(Vn,We,pe)=>{"use strict";var k=pe(8583),m=pe(7716);class te extends k.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class mt extends te{static makeCurrent(){(0,k.HT)(new mt)}onAndCancel(s,o,g){return s.addEventListener(o,g,!1),()=>{s.removeEventListener(o,g,!1)}}dispatchEvent(s,o){s.dispatchEvent(o)}remove(s){s.parentNode&&s.parentNode.removeChild(s)}createElement(s,o){return(o=o||this.getDefaultDocument()).createElement(s)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(s){return s.nodeType===Node.ELEMENT_NODE}isShadowRoot(s){return s instanceof DocumentFragment}getGlobalEventTarget(s,o){return"window"===o?window:"document"===o?s:"body"===o?s.body:null}getBaseHref(s){const o=(Le=Le||document.querySelector("base"),Le?Le.getAttribute("href"):null);return null==o?null:function(f){tt=tt||document.createElement("a"),tt.setAttribute("href",f);const s=tt.pathname;return"/"===s.charAt(0)?s:`/${s}`}(o)}resetBaseElement(){Le=null}getUserAgent(){return window.navigator.userAgent}getCookie(s){return(0,k.Mx)(document.cookie,s)}}let tt,Le=null;const ae=new m.OlP("TRANSITION_ID"),De=[{provide:m.ip1,useFactory:function(f,s,o){return()=>{o.get(m.CZH).donePromise.then(()=>{const g=(0,k.q)(),E=s.querySelectorAll(`style[ng-transition="${f}"]`);for(let x=0;x<E.length;x++)g.remove(E[x])})}},deps:[ae,k.K0,m.zs3],multi:!0}];class ye{static init(){(0,m.VLi)(new ye)}addToWindow(s){m.dqk.getAngularTestability=(g,E=!0)=>{const x=s.findTestabilityInTree(g,E);if(null==x)throw new Error("Could not find testability for element.");return x},m.dqk.getAllAngularTestabilities=()=>s.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>s.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(g=>{const E=m.dqk.getAllAngularTestabilities();let x=E.length,K=!1;const ne=function(Oe){K=K||Oe,x--,0==x&&g(K)};E.forEach(function(Oe){Oe.whenStable(ne)})})}findTestabilityInTree(s,o,g){if(null==o)return null;const E=s.getTestability(o);return null!=E?E:g?(0,k.q)().isShadowRoot(o)?this.findTestabilityInTree(s,o.host,!0):this.findTestabilityInTree(s,o.parentElement,!0):null}}let Te=(()=>{class f{build(){return new XMLHttpRequest}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})();const Z=new m.OlP("EventManagerPlugins");let L=(()=>{class f{constructor(o,g){this._zone=g,this._eventNameToPlugin=new Map,o.forEach(E=>E.manager=this),this._plugins=o.slice().reverse()}addEventListener(o,g,E){return this._findPluginFor(g).addEventListener(o,g,E)}addGlobalEventListener(o,g,E){return this._findPluginFor(g).addGlobalEventListener(o,g,E)}getZone(){return this._zone}_findPluginFor(o){const g=this._eventNameToPlugin.get(o);if(g)return g;const E=this._plugins;for(let x=0;x<E.length;x++){const K=E[x];if(K.supports(o))return this._eventNameToPlugin.set(o,K),K}throw new Error(`No event manager plugin found for event ${o}`)}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(Z),m.LFG(m.R0b))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})();class ce{constructor(s){this._doc=s}addGlobalEventListener(s,o,g){const E=(0,k.q)().getGlobalEventTarget(this._doc,s);if(!E)throw new Error(`Unsupported event target ${E} for event ${o}`);return this.addEventListener(E,o,g)}}let fe=(()=>{class f{constructor(){this._stylesSet=new Set}addStyles(o){const g=new Set;o.forEach(E=>{this._stylesSet.has(E)||(this._stylesSet.add(E),g.add(E))}),this.onStylesAdded(g)}onStylesAdded(o){}getAllStyles(){return Array.from(this._stylesSet)}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})(),$t=(()=>{class f extends fe{constructor(o){super(),this._doc=o,this._hostNodes=new Map,this._hostNodes.set(o.head,[])}_addStylesToHost(o,g,E){o.forEach(x=>{const K=this._doc.createElement("style");K.textContent=x,E.push(g.appendChild(K))})}addHost(o){const g=[];this._addStylesToHost(this._stylesSet,o,g),this._hostNodes.set(o,g)}removeHost(o){const g=this._hostNodes.get(o);g&&g.forEach(_e),this._hostNodes.delete(o)}onStylesAdded(o){this._hostNodes.forEach((g,E)=>{this._addStylesToHost(o,E,g)})}ngOnDestroy(){this._hostNodes.forEach(o=>o.forEach(_e))}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(k.K0))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})();function _e(f){(0,k.q)().remove(f)}const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zt=/%COMP%/g;function wn(f,s,o){for(let g=0;g<s.length;g++){let E=s[g];Array.isArray(E)?wn(f,E,o):(E=E.replace(zt,f),o.push(E))}return o}function pn(f){return s=>{if("__ngUnwrap__"===s)return f;!1===f(s)&&(s.preventDefault(),s.returnValue=!1)}}let Zn=(()=>{class f{constructor(o,g,E){this.eventManager=o,this.sharedStylesHost=g,this.appId=E,this.rendererByCompId=new Map,this.defaultRenderer=new Ir(o)}createRenderer(o,g){if(!o||!g)return this.defaultRenderer;switch(g.encapsulation){case m.ifc.Emulated:{let E=this.rendererByCompId.get(g.id);return E||(E=new pt(this.eventManager,this.sharedStylesHost,g,this.appId),this.rendererByCompId.set(g.id,E)),E.applyToHost(o),E}case 1:case m.ifc.ShadowDom:return new _t(this.eventManager,this.sharedStylesHost,o,g);default:if(!this.rendererByCompId.has(g.id)){const E=wn(g.id,g.styles,[]);this.sharedStylesHost.addStyles(E),this.rendererByCompId.set(g.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(L),m.LFG($t),m.LFG(m.AFp))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})();class Ir{constructor(s){this.eventManager=s,this.data=Object.create(null)}destroy(){}createElement(s,o){return o?document.createElementNS(at[o]||o,s):document.createElement(s)}createComment(s){return document.createComment(s)}createText(s){return document.createTextNode(s)}appendChild(s,o){s.appendChild(o)}insertBefore(s,o,g){s&&s.insertBefore(o,g)}removeChild(s,o){s&&s.removeChild(o)}selectRootElement(s,o){let g="string"==typeof s?document.querySelector(s):s;if(!g)throw new Error(`The selector "${s}" did not match any elements`);return o||(g.textContent=""),g}parentNode(s){return s.parentNode}nextSibling(s){return s.nextSibling}setAttribute(s,o,g,E){if(E){o=E+":"+o;const x=at[E];x?s.setAttributeNS(x,o,g):s.setAttribute(o,g)}else s.setAttribute(o,g)}removeAttribute(s,o,g){if(g){const E=at[g];E?s.removeAttributeNS(E,o):s.removeAttribute(`${g}:${o}`)}else s.removeAttribute(o)}addClass(s,o){s.classList.add(o)}removeClass(s,o){s.classList.remove(o)}setStyle(s,o,g,E){E&(m.JOm.DashCase|m.JOm.Important)?s.style.setProperty(o,g,E&m.JOm.Important?"important":""):s.style[o]=g}removeStyle(s,o,g){g&m.JOm.DashCase?s.style.removeProperty(o):s.style[o]=""}setProperty(s,o,g){s[o]=g}setValue(s,o){s.nodeValue=o}listen(s,o,g){return"string"==typeof s?this.eventManager.addGlobalEventListener(s,o,pn(g)):this.eventManager.addEventListener(s,o,pn(g))}}class pt extends Ir{constructor(s,o,g,E){super(s),this.component=g;const x=wn(E+"-"+g.id,g.styles,[]);o.addStyles(x),this.contentAttr="_ngcontent-%COMP%".replace(zt,E+"-"+g.id),this.hostAttr="_nghost-%COMP%".replace(zt,E+"-"+g.id)}applyToHost(s){super.setAttribute(s,this.hostAttr,"")}createElement(s,o){const g=super.createElement(s,o);return super.setAttribute(g,this.contentAttr,""),g}}class _t extends Ir{constructor(s,o,g,E){super(s),this.sharedStylesHost=o,this.hostEl=g,this.shadowRoot=g.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const x=wn(E.id,E.styles,[]);for(let K=0;K<x.length;K++){const ne=document.createElement("style");ne.textContent=x[K],this.shadowRoot.appendChild(ne)}}nodeOrShadowRoot(s){return s===this.hostEl?this.shadowRoot:s}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(s,o){return super.appendChild(this.nodeOrShadowRoot(s),o)}insertBefore(s,o,g){return super.insertBefore(this.nodeOrShadowRoot(s),o,g)}removeChild(s,o){return super.removeChild(this.nodeOrShadowRoot(s),o)}parentNode(s){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(s)))}}let Ve=(()=>{class f extends ce{constructor(o){super(o)}supports(o){return!0}addEventListener(o,g,E){return o.addEventListener(g,E,!1),()=>this.removeEventListener(o,g,E)}removeEventListener(o,g,E){return o.removeEventListener(g,E)}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(k.K0))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})();const st=["alt","control","meta","shift"],ze={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Fn={alt:f=>f.altKey,control:f=>f.ctrlKey,meta:f=>f.metaKey,shift:f=>f.shiftKey};let In=(()=>{class f extends ce{constructor(o){super(o)}supports(o){return null!=f.parseEventName(o)}addEventListener(o,g,E){const x=f.parseEventName(g),K=f.eventCallback(x.fullKey,E,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,k.q)().onAndCancel(o,x.domEventName,K))}static parseEventName(o){const g=o.toLowerCase().split("."),E=g.shift();if(0===g.length||"keydown"!==E&&"keyup"!==E)return null;const x=f._normalizeKey(g.pop());let K="";if(st.forEach(Oe=>{const gt=g.indexOf(Oe);gt>-1&&(g.splice(gt,1),K+=Oe+".")}),K+=x,0!=g.length||0===x.length)return null;const ne={};return ne.domEventName=E,ne.fullKey=K,ne}static getEventFullKey(o){let g="",E=function(f){let s=f.key;if(null==s){if(s=f.keyIdentifier,null==s)return"Unidentified";s.startsWith("U+")&&(s=String.fromCharCode(parseInt(s.substring(2),16)),3===f.location&&Ct.hasOwnProperty(s)&&(s=Ct[s]))}return ze[s]||s}(o);return E=E.toLowerCase()," "===E?E="space":"."===E&&(E="dot"),st.forEach(x=>{x!=E&&Fn[x](o)&&(g+=x+".")}),g+=E,g}static eventCallback(o,g,E){return x=>{f.getEventFullKey(x)===o&&E.runGuarded(()=>g(x))}}static _normalizeKey(o){switch(o){case"esc":return"escape";default:return o}}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(k.K0))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})();const ht=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:k.bD},{provide:m.g9A,useValue:function(){mt.makeCurrent(),ye.init()},multi:!0},{provide:k.K0,useFactory:function(){return(0,m.RDi)(document),document},deps:[]}]),Et=[[],{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function(){return new m.qLn},deps:[]},{provide:Z,useClass:Ve,multi:!0,deps:[k.K0,m.R0b,m.Lbi]},{provide:Z,useClass:In,multi:!0,deps:[k.K0]},[],{provide:Zn,useClass:Zn,deps:[L,$t,m.AFp]},{provide:m.FYo,useExisting:Zn},{provide:fe,useExisting:$t},{provide:$t,useClass:$t,deps:[k.K0]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b]},{provide:L,useClass:L,deps:[Z,m.R0b]},{provide:k.JF,useClass:Te,deps:[]},[]];let Lt=(()=>{class f{constructor(o){if(o)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(o){return{ngModule:f,providers:[{provide:m.AFp,useValue:o.appId},{provide:ae,useExisting:m.AFp},De]}}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(f,12))},f.\u0275mod=m.oAB({type:f}),f.\u0275inj=m.cJS({providers:Et,imports:[k.ez,m.hGG]}),f})();"undefined"!=typeof window&&window;class ut{}const ln="*";function br(f,s=null){return{type:2,steps:f,options:s}}function nr(f){return{type:6,styles:f,offset:null}}function mi(f){Promise.resolve(null).then(f)}class Zi{constructor(s=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=s+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}onStart(s){this._onStartFns.push(s)}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){mi(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(s=>s()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(s){this._position=this.totalTime?s*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(s){const o="start"==s?this._onStartFns:this._onDoneFns;o.forEach(g=>g()),o.length=0}}class xi{constructor(s){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=s;let o=0,g=0,E=0;const x=this.players.length;0==x?mi(()=>this._onFinish()):this.players.forEach(K=>{K.onDone(()=>{++o==x&&this._onFinish()}),K.onDestroy(()=>{++g==x&&this._onDestroy()}),K.onStart(()=>{++E==x&&this._onStart()})}),this.totalTime=this.players.reduce((K,ne)=>Math.max(K,ne.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this.players.forEach(s=>s.init())}onStart(s){this._onStartFns.push(s)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(s=>s()),this._onStartFns=[])}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(s=>s.play())}pause(){this.players.forEach(s=>s.pause())}restart(){this.players.forEach(s=>s.restart())}finish(){this._onFinish(),this.players.forEach(s=>s.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(s=>s.destroy()),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this.players.forEach(s=>s.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(s){const o=s*this.totalTime;this.players.forEach(g=>{const E=g.totalTime?Math.min(1,o/g.totalTime):1;g.setPosition(E)})}getPosition(){const s=this.players.reduce((o,g)=>null===o||g.totalTime>o.totalTime?g:o,null);return null!=s?s.getPosition():0}beforeDestroy(){this.players.forEach(s=>{s.beforeDestroy&&s.beforeDestroy()})}triggerCallback(s){const o="start"==s?this._onStartFns:this._onDoneFns;o.forEach(g=>g()),o.length=0}}function rs(){return"undefined"!=typeof window&&void 0!==window.document}function yo(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Mi(f){switch(f.length){case 0:return new Zi;case 1:return f[0];default:return new xi(f)}}function yi(f,s,o,g,E={},x={}){const K=[],ne=[];let Oe=-1,gt=null;if(g.forEach(nn=>{const un=nn.offset,$n=un==Oe,Yn=$n&&gt||{};Object.keys(nn).forEach(ir=>{let mr=ir,Fr=nn[ir];if("offset"!==ir)switch(mr=s.normalizePropertyName(mr,K),Fr){case"!":Fr=E[ir];break;case ln:Fr=x[ir];break;default:Fr=s.normalizeStyleValue(ir,mr,Fr,K)}Yn[mr]=Fr}),$n||ne.push(Yn),gt=Yn,Oe=un}),K.length){const nn="\n - ";throw new Error(`Unable to animate due to the following errors:${nn}${K.join(nn)}`)}return ne}function ki(f,s,o,g){switch(s){case"start":f.onStart(()=>g(o&&si(o,"start",f)));break;case"done":f.onDone(()=>g(o&&si(o,"done",f)));break;case"destroy":f.onDestroy(()=>g(o&&si(o,"destroy",f)))}}function si(f,s,o){const g=o.totalTime,x=Fi(f.element,f.triggerName,f.fromState,f.toState,s||f.phaseName,null==g?f.totalTime:g,!!o.disabled),K=f._data;return null!=K&&(x._data=K),x}function Fi(f,s,o,g,E="",x=0,K){return{element:f,triggerName:s,fromState:o,toState:g,phaseName:E,totalTime:x,disabled:!!K}}function Qn(f,s,o){let g;return f instanceof Map?(g=f.get(s),g||f.set(s,g=o)):(g=f[s],g||(g=f[s]=o)),g}function ji(f){const s=f.indexOf(":");return[f.substring(1,s),f.substr(s+1)]}let Wo=(f,s)=>!1,lo=(f,s)=>!1,co=(f,s,o)=>[];const fr=yo();(fr||"undefined"!=typeof Element)&&(Wo=rs()?(f,s)=>{for(;s&&s!==document.documentElement;){if(s===f)return!0;s=s.parentNode||s.host}return!1}:(f,s)=>f.contains(s),lo=(()=>{if(fr||Element.prototype.matches)return(f,s)=>f.matches(s);{const f=Element.prototype,s=f.matchesSelector||f.mozMatchesSelector||f.msMatchesSelector||f.oMatchesSelector||f.webkitMatchesSelector;return s?(o,g)=>s.apply(o,[g]):lo}})(),co=(f,s,o)=>{let g=[];if(o){const E=f.querySelectorAll(s);for(let x=0;x<E.length;x++)g.push(E[x])}else{const E=f.querySelector(s);E&&g.push(E)}return g});let io=null,Fo=!1;function oo(f){io||(io=("undefined"!=typeof document?document.body:null)||{},Fo=!!io.style&&"WebkitAppearance"in io.style);let s=!0;return io.style&&!function(f){return"ebkit"==f.substring(1,6)}(f)&&(s=f in io.style,!s&&Fo&&(s="Webkit"+f.charAt(0).toUpperCase()+f.substr(1)in io.style)),s}const gr=lo,Ji=Wo,Bi=co;function so(f){const s={};return Object.keys(f).forEach(o=>{const g=o.replace(/([a-z])([A-Z])/g,"$1-$2");s[g]=f[o]}),s}let is=(()=>{class f{validateStyleProperty(o){return oo(o)}matchesElement(o,g){return gr(o,g)}containsElement(o,g){return Ji(o,g)}query(o,g,E){return Bi(o,g,E)}computeStyle(o,g,E){return E||""}animate(o,g,E,x,K,ne=[],Oe){return new Zi(E,x)}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})(),Vo=(()=>{class f{}return f.NOOP=new is,f})();const $o="ng-enter",wo="ng-leave",Y="ng-trigger",$=".ng-trigger",ge="ng-animating",Pe=".ng-animating";function Ue(f){if("number"==typeof f)return f;const s=f.match(/^(-?[\.\d]+)(m?s)/);return!s||s.length<2?0:ot(parseFloat(s[1]),s[2])}function ot(f,s){switch(s){case"s":return 1e3*f;default:return f}}function xt(f,s,o){return f.hasOwnProperty("duration")?f:function(f,s,o){let E,x=0,K="";if("string"==typeof f){const ne=f.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ne)return s.push(`The provided timing value "${f}" is invalid.`),{duration:0,delay:0,easing:""};E=ot(parseFloat(ne[1]),ne[2]);const Oe=ne[3];null!=Oe&&(x=ot(parseFloat(Oe),ne[4]));const gt=ne[5];gt&&(K=gt)}else E=f;if(!o){let ne=!1,Oe=s.length;E<0&&(s.push("Duration values below 0 are not allowed for this animation step."),ne=!0),x<0&&(s.push("Delay values below 0 are not allowed for this animation step."),ne=!0),ne&&s.splice(Oe,0,`The provided timing value "${f}" is invalid.`)}return{duration:E,delay:x,easing:K}}(f,s,o)}function qt(f,s={}){return Object.keys(f).forEach(o=>{s[o]=f[o]}),s}function En(f,s,o={}){if(s)for(let g in f)o[g]=f[g];else qt(f,o);return o}function q(f,s,o){return o?s+":"+o+";":""}function se(f){let s="";for(let o=0;o<f.style.length;o++){const g=f.style.item(o);s+=q(0,g,f.style.getPropertyValue(g))}for(const o in f.style)f.style.hasOwnProperty(o)&&!o.startsWith("_")&&(s+=q(0,sr(o),f.style[o]));f.setAttribute("style",s)}function z(f,s,o){f.style&&(Object.keys(s).forEach(g=>{const E=ur(g);o&&!o.hasOwnProperty(g)&&(o[g]=f.style[E]),f.style[E]=s[g]}),yo()&&se(f))}function de(f,s){f.style&&(Object.keys(s).forEach(o=>{const g=ur(o);f.style[g]=""}),yo()&&se(f))}function Fe(f){return Array.isArray(f)?1==f.length?f[0]:br(f):f}const en=new RegExp("{{\\s*(.+?)\\s*}}","g");function Cn(f){let s=[];if("string"==typeof f){let o;for(;o=en.exec(f);)s.push(o[1]);en.lastIndex=0}return s}function xn(f,s,o){const g=f.toString(),E=g.replace(en,(x,K)=>{let ne=s[K];return s.hasOwnProperty(K)||(o.push(`Please provide a value for the animation param ${K}`),ne=""),ne.toString()});return E==g?f:E}function yr(f){const s=[];let o=f.next();for(;!o.done;)s.push(o.value),o=f.next();return s}const wr=/-+([a-z0-9])/g;function ur(f){return f.replace(wr,(...s)=>s[1].toUpperCase())}function sr(f){return f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Er(f,s){return 0===f||0===s}function ci(f,s,o){const g=Object.keys(o);if(g.length&&s.length){let x=s[0],K=[];if(g.forEach(ne=>{x.hasOwnProperty(ne)||K.push(ne),x[ne]=o[ne]}),K.length)for(var E=1;E<s.length;E++){let ne=s[E];K.forEach(function(Oe){ne[Oe]=_i(f,Oe)})}}return s}function fi(f,s,o){switch(s.type){case 7:return f.visitTrigger(s,o);case 0:return f.visitState(s,o);case 1:return f.visitTransition(s,o);case 2:return f.visitSequence(s,o);case 3:return f.visitGroup(s,o);case 4:return f.visitAnimate(s,o);case 5:return f.visitKeyframes(s,o);case 6:return f.visitStyle(s,o);case 8:return f.visitReference(s,o);case 9:return f.visitAnimateChild(s,o);case 10:return f.visitAnimateRef(s,o);case 11:return f.visitQuery(s,o);case 12:return f.visitStagger(s,o);default:throw new Error(`Unable to resolve animation metadata node #${s.type}`)}}function _i(f,s){return window.getComputedStyle(f)[s]}function Gr(f,s){const o=[];return"string"==typeof f?f.split(/\s*,\s*/).forEach(g=>function(f,s,o){if(":"==f[0]){const Oe=function(f,s){switch(f){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,g)=>parseFloat(g)>parseFloat(o);case":decrement":return(o,g)=>parseFloat(g)<parseFloat(o);default:return s.push(`The transition alias value "${f}" is not supported`),"* => *"}}(f,o);if("function"==typeof Oe)return void s.push(Oe);f=Oe}const g=f.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==g||g.length<4)return o.push(`The provided transition expression "${f}" is not supported`),s;const E=g[1],x=g[2],K=g[3];s.push(au(E,K));"<"==x[0]&&!("*"==E&&"*"==K)&&s.push(au(K,E))}(g,o,s)):o.push(f),o}const Ti=new Set(["true","1"]),zo=new Set(["false","0"]);function au(f,s){const o=Ti.has(f)||zo.has(f),g=Ti.has(s)||zo.has(s);return(E,x)=>{let K="*"==f||f==E,ne="*"==s||s==x;return!K&&o&&"boolean"==typeof E&&(K=E?Ti.has(f):zo.has(f)),!ne&&g&&"boolean"==typeof x&&(ne=x?Ti.has(s):zo.has(s)),K&&ne}}const va=new RegExp("s*:selfs*,?","g");function Uo(f,s,o){return new Mr(f).build(s,o)}class Mr{constructor(s){this._driver=s}build(s,o){const g=new Hi(o);return this._resetContextStyleTimingState(g),fi(this,Fe(s),g)}_resetContextStyleTimingState(s){s.currentQuerySelector="",s.collectedStyles={},s.collectedStyles[""]={},s.currentTime=0}visitTrigger(s,o){let g=o.queryCount=0,E=o.depCount=0;const x=[],K=[];return"@"==s.name.charAt(0)&&o.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),s.definitions.forEach(ne=>{if(this._resetContextStyleTimingState(o),0==ne.type){const Oe=ne,gt=Oe.name;gt.toString().split(/\s*,\s*/).forEach(nn=>{Oe.name=nn,x.push(this.visitState(Oe,o))}),Oe.name=gt}else if(1==ne.type){const Oe=this.visitTransition(ne,o);g+=Oe.queryCount,E+=Oe.depCount,K.push(Oe)}else o.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:s.name,states:x,transitions:K,queryCount:g,depCount:E,options:null}}visitState(s,o){const g=this.visitStyle(s.styles,o),E=s.options&&s.options.params||null;if(g.containsDynamicStyles){const x=new Set,K=E||{};if(g.styles.forEach(ne=>{if(Eo(ne)){const Oe=ne;Object.keys(Oe).forEach(gt=>{Cn(Oe[gt]).forEach(nn=>{K.hasOwnProperty(nn)||x.add(nn)})})}}),x.size){const ne=yr(x.values());o.errors.push(`state("${s.name}", ...) must define default values for all the following style substitutions: ${ne.join(", ")}`)}}return{type:0,name:s.name,style:g,options:E?{params:E}:null}}visitTransition(s,o){o.queryCount=0,o.depCount=0;const g=fi(this,Fe(s.animation),o);return{type:1,matchers:Gr(s.expr,o.errors),animation:g,queryCount:o.queryCount,depCount:o.depCount,options:Si(s.options)}}visitSequence(s,o){return{type:2,steps:s.steps.map(g=>fi(this,g,o)),options:Si(s.options)}}visitGroup(s,o){const g=o.currentTime;let E=0;const x=s.steps.map(K=>{o.currentTime=g;const ne=fi(this,K,o);return E=Math.max(E,o.currentTime),ne});return o.currentTime=E,{type:3,steps:x,options:Si(s.options)}}visitAnimate(s,o){const g=function(f,s){let o=null;if(f.hasOwnProperty("duration"))o=f;else if("number"==typeof f)return ea(xt(f,s).duration,0,"");const g=f;if(g.split(/\s+/).some(x=>"{"==x.charAt(0)&&"{"==x.charAt(1))){const x=ea(0,0,"");return x.dynamic=!0,x.strValue=g,x}return o=o||xt(g,s),ea(o.duration,o.delay,o.easing)}(s.timings,o.errors);o.currentAnimateTimings=g;let E,x=s.styles?s.styles:nr({});if(5==x.type)E=this.visitKeyframes(x,o);else{let K=s.styles,ne=!1;if(!K){ne=!0;const gt={};g.easing&&(gt.easing=g.easing),K=nr(gt)}o.currentTime+=g.duration+g.delay;const Oe=this.visitStyle(K,o);Oe.isEmptyStep=ne,E=Oe}return o.currentAnimateTimings=null,{type:4,timings:g,style:E,options:null}}visitStyle(s,o){const g=this._makeStyleAst(s,o);return this._validateStyleAst(g,o),g}_makeStyleAst(s,o){const g=[];Array.isArray(s.styles)?s.styles.forEach(K=>{"string"==typeof K?K==ln?g.push(K):o.errors.push(`The provided style string value ${K} is not allowed.`):g.push(K)}):g.push(s.styles);let E=!1,x=null;return g.forEach(K=>{if(Eo(K)){const ne=K,Oe=ne.easing;if(Oe&&(x=Oe,delete ne.easing),!E)for(let gt in ne)if(ne[gt].toString().indexOf("{{")>=0){E=!0;break}}}),{type:6,styles:g,easing:x,offset:s.offset,containsDynamicStyles:E,options:null}}_validateStyleAst(s,o){const g=o.currentAnimateTimings;let E=o.currentTime,x=o.currentTime;g&&x>0&&(x-=g.duration+g.delay),s.styles.forEach(K=>{"string"!=typeof K&&Object.keys(K).forEach(ne=>{if(!this._driver.validateStyleProperty(ne))return void o.errors.push(`The provided animation property "${ne}" is not a supported CSS property for animations`);const Oe=o.collectedStyles[o.currentQuerySelector],gt=Oe[ne];let nn=!0;gt&&(x!=E&&x>=gt.startTime&&E<=gt.endTime&&(o.errors.push(`The CSS property "${ne}" that exists between the times of "${gt.startTime}ms" and "${gt.endTime}ms" is also being animated in a parallel animation between the times of "${x}ms" and "${E}ms"`),nn=!1),x=gt.startTime),nn&&(Oe[ne]={startTime:x,endTime:E}),o.options&&function(f,s,o){const g=s.params||{},E=Cn(f);E.length&&E.forEach(x=>{g.hasOwnProperty(x)||o.push(`Unable to resolve the local animation param ${x} in the given list of values`)})}(K[ne],o.options,o.errors)})})}visitKeyframes(s,o){const g={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push("keyframes() must be placed inside of a call to animate()"),g;let x=0;const K=[];let ne=!1,Oe=!1,gt=0;const nn=s.steps.map(Ki=>{const Ui=this._makeStyleAst(Ki,o);let Do=null!=Ui.offset?Ui.offset:function(f){if("string"==typeof f)return null;let s=null;if(Array.isArray(f))f.forEach(o=>{if(Eo(o)&&o.hasOwnProperty("offset")){const g=o;s=parseFloat(g.offset),delete g.offset}});else if(Eo(f)&&f.hasOwnProperty("offset")){const o=f;s=parseFloat(o.offset),delete o.offset}return s}(Ui.styles),qo=0;return null!=Do&&(x++,qo=Ui.offset=Do),Oe=Oe||qo<0||qo>1,ne=ne||qo<gt,gt=qo,K.push(qo),Ui});Oe&&o.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),ne&&o.errors.push("Please ensure that all keyframe offsets are in order");const un=s.steps.length;let $n=0;x>0&&x<un?o.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==x&&($n=1/(un-1));const Yn=un-1,ir=o.currentTime,mr=o.currentAnimateTimings,Fr=mr.duration;return nn.forEach((Ki,Ui)=>{const Do=$n>0?Ui==Yn?1:$n*Ui:K[Ui],qo=Do*Fr;o.currentTime=ir+mr.delay+qo,mr.duration=qo,this._validateStyleAst(Ki,o),Ki.offset=Do,g.styles.push(Ki)}),g}visitReference(s,o){return{type:8,animation:fi(this,Fe(s.animation),o),options:Si(s.options)}}visitAnimateChild(s,o){return o.depCount++,{type:9,options:Si(s.options)}}visitAnimateRef(s,o){return{type:10,animation:this.visitReference(s.animation,o),options:Si(s.options)}}visitQuery(s,o){const g=o.currentQuerySelector,E=s.options||{};o.queryCount++,o.currentQuery=s;const[x,K]=function(f){const s=!!f.split(/\s*,\s*/).find(o=>":self"==o);return s&&(f=f.replace(va,"")),[f=f.replace(/@\*/g,$).replace(/@\w+/g,o=>$+"-"+o.substr(1)).replace(/:animating/g,Pe),s]}(s.selector);o.currentQuerySelector=g.length?g+" "+x:x,Qn(o.collectedStyles,o.currentQuerySelector,{});const ne=fi(this,Fe(s.animation),o);return o.currentQuery=null,o.currentQuerySelector=g,{type:11,selector:x,limit:E.limit||0,optional:!!E.optional,includeSelf:K,animation:ne,originalSelector:s.selector,options:Si(s.options)}}visitStagger(s,o){o.currentQuery||o.errors.push("stagger() can only be used inside of query()");const g="full"===s.timings?{duration:0,delay:0,easing:"full"}:xt(s.timings,o.errors,!0);return{type:12,animation:fi(this,Fe(s.animation),o),timings:g,options:null}}}class Hi{constructor(s){this.errors=s,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Eo(f){return!Array.isArray(f)&&"object"==typeof f}function Si(f){return f?(f=qt(f)).params&&(f.params=function(f){return f?qt(f):null}(f.params)):f={},f}function ea(f,s,o){return{duration:f,delay:s,easing:o}}function Qo(f,s,o,g,E,x,K=null,ne=!1){return{type:1,element:f,keyframes:s,preStyleProps:o,postStyleProps:g,duration:E,delay:x,totalTime:E+x,easing:K,subTimeline:ne}}class fo{constructor(){this._map=new Map}consume(s){let o=this._map.get(s);return o?this._map.delete(s):o=[],o}append(s,o){let g=this._map.get(s);g||this._map.set(s,g=[]),g.push(...o)}has(s){return this._map.has(s)}clear(){this._map.clear()}}const wi=new RegExp(":enter","g"),os=new RegExp(":leave","g");function Xi(f,s,o,g,E,x={},K={},ne,Oe,gt=[]){return(new Uu).buildKeyframes(f,s,o,g,E,x,K,ne,Oe,gt)}class Uu{buildKeyframes(s,o,g,E,x,K,ne,Oe,gt,nn=[]){gt=gt||new fo;const un=new wa(s,o,gt,E,x,nn,[]);un.options=Oe,un.currentTimeline.setStyles([K],null,un.errors,Oe),fi(this,g,un);const $n=un.timelines.filter(Yn=>Yn.containsAnimation());if($n.length&&Object.keys(ne).length){const Yn=$n[$n.length-1];Yn.allowOnlyTimelineStyles()||Yn.setStyles([ne],null,un.errors,Oe)}return $n.length?$n.map(Yn=>Yn.buildKeyframes()):[Qo(o,[],[],[],0,0,"",!1)]}visitTrigger(s,o){}visitState(s,o){}visitTransition(s,o){}visitAnimateChild(s,o){const g=o.subInstructions.consume(o.element);if(g){const E=o.createSubContext(s.options),x=o.currentTimeline.currentTime,K=this._visitSubInstructions(g,E,E.options);x!=K&&o.transformIntoNewTimeline(K)}o.previousNode=s}visitAnimateRef(s,o){const g=o.createSubContext(s.options);g.transformIntoNewTimeline(),this.visitReference(s.animation,g),o.transformIntoNewTimeline(g.currentTimeline.currentTime),o.previousNode=s}_visitSubInstructions(s,o,g){let x=o.currentTimeline.currentTime;const K=null!=g.duration?Ue(g.duration):null,ne=null!=g.delay?Ue(g.delay):null;return 0!==K&&s.forEach(Oe=>{const gt=o.appendInstructionToTimeline(Oe,K,ne);x=Math.max(x,gt.duration+gt.delay)}),x}visitReference(s,o){o.updateOptions(s.options,!0),fi(this,s.animation,o),o.previousNode=s}visitSequence(s,o){const g=o.subContextCount;let E=o;const x=s.options;if(x&&(x.params||x.delay)&&(E=o.createSubContext(x),E.transformIntoNewTimeline(),null!=x.delay)){6==E.previousNode.type&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=_a);const K=Ue(x.delay);E.delayNextStep(K)}s.steps.length&&(s.steps.forEach(K=>fi(this,K,E)),E.currentTimeline.applyStylesToKeyframe(),E.subContextCount>g&&E.transformIntoNewTimeline()),o.previousNode=s}visitGroup(s,o){const g=[];let E=o.currentTimeline.currentTime;const x=s.options&&s.options.delay?Ue(s.options.delay):0;s.steps.forEach(K=>{const ne=o.createSubContext(s.options);x&&ne.delayNextStep(x),fi(this,K,ne),E=Math.max(E,ne.currentTimeline.currentTime),g.push(ne.currentTimeline)}),g.forEach(K=>o.currentTimeline.mergeTimelineCollectedStyles(K)),o.transformIntoNewTimeline(E),o.previousNode=s}_visitTiming(s,o){if(s.dynamic){const g=s.strValue;return xt(o.params?xn(g,o.params,o.errors):g,o.errors)}return{duration:s.duration,delay:s.delay,easing:s.easing}}visitAnimate(s,o){const g=o.currentAnimateTimings=this._visitTiming(s.timings,o),E=o.currentTimeline;g.delay&&(o.incrementTime(g.delay),E.snapshotCurrentStyles());const x=s.style;5==x.type?this.visitKeyframes(x,o):(o.incrementTime(g.duration),this.visitStyle(x,o),E.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=s}visitStyle(s,o){const g=o.currentTimeline,E=o.currentAnimateTimings;!E&&g.getCurrentStyleProperties().length&&g.forwardFrame();const x=E&&E.easing||s.easing;s.isEmptyStep?g.applyEmptyStep(x):g.setStyles(s.styles,x,o.errors,o.options),o.previousNode=s}visitKeyframes(s,o){const g=o.currentAnimateTimings,E=o.currentTimeline.duration,x=g.duration,ne=o.createSubContext().currentTimeline;ne.easing=g.easing,s.styles.forEach(Oe=>{ne.forwardTime((Oe.offset||0)*x),ne.setStyles(Oe.styles,Oe.easing,o.errors,o.options),ne.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(ne),o.transformIntoNewTimeline(E+x),o.previousNode=s}visitQuery(s,o){const g=o.currentTimeline.currentTime,E=s.options||{},x=E.delay?Ue(E.delay):0;x&&(6===o.previousNode.type||0==g&&o.currentTimeline.getCurrentStyleProperties().length)&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=_a);let K=g;const ne=o.invokeQuery(s.selector,s.originalSelector,s.limit,s.includeSelf,!!E.optional,o.errors);o.currentQueryTotal=ne.length;let Oe=null;ne.forEach((gt,nn)=>{o.currentQueryIndex=nn;const un=o.createSubContext(s.options,gt);x&&un.delayNextStep(x),gt===o.element&&(Oe=un.currentTimeline),fi(this,s.animation,un),un.currentTimeline.applyStylesToKeyframe(),K=Math.max(K,un.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(K),Oe&&(o.currentTimeline.mergeTimelineCollectedStyles(Oe),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=s}visitStagger(s,o){const g=o.parentContext,E=o.currentTimeline,x=s.timings,K=Math.abs(x.duration),ne=K*(o.currentQueryTotal-1);let Oe=K*o.currentQueryIndex;switch(x.duration<0?"reverse":x.easing){case"reverse":Oe=ne-Oe;break;case"full":Oe=g.currentStaggerTime}const nn=o.currentTimeline;Oe&&nn.delayNextStep(Oe);const un=nn.currentTime;fi(this,s.animation,o),o.previousNode=s,g.currentStaggerTime=E.currentTime-un+(E.startTime-g.currentTimeline.startTime)}}const _a={};class wa{constructor(s,o,g,E,x,K,ne,Oe){this._driver=s,this.element=o,this.subInstructions=g,this._enterClassName=E,this._leaveClassName=x,this.errors=K,this.timelines=ne,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_a,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Oe||new La(this._driver,o,0),ne.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(s,o){if(!s)return;const g=s;let E=this.options;null!=g.duration&&(E.duration=Ue(g.duration)),null!=g.delay&&(E.delay=Ue(g.delay));const x=g.params;if(x){let K=E.params;K||(K=this.options.params={}),Object.keys(x).forEach(ne=>{(!o||!K.hasOwnProperty(ne))&&(K[ne]=xn(x[ne],K,this.errors))})}}_copyOptions(){const s={};if(this.options){const o=this.options.params;if(o){const g=s.params={};Object.keys(o).forEach(E=>{g[E]=o[E]})}}return s}createSubContext(s=null,o,g){const E=o||this.element,x=new wa(this._driver,E,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(E,g||0));return x.previousNode=this.previousNode,x.currentAnimateTimings=this.currentAnimateTimings,x.options=this._copyOptions(),x.updateOptions(s),x.currentQueryIndex=this.currentQueryIndex,x.currentQueryTotal=this.currentQueryTotal,x.parentContext=this,this.subContextCount++,x}transformIntoNewTimeline(s){return this.previousNode=_a,this.currentTimeline=this.currentTimeline.fork(this.element,s),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(s,o,g){const E={duration:null!=o?o:s.duration,delay:this.currentTimeline.currentTime+(null!=g?g:0)+s.delay,easing:""},x=new ss(this._driver,s.element,s.keyframes,s.preStyleProps,s.postStyleProps,E,s.stretchStartingKeyframe);return this.timelines.push(x),E}incrementTime(s){this.currentTimeline.forwardTime(this.currentTimeline.duration+s)}delayNextStep(s){s>0&&this.currentTimeline.delayNextStep(s)}invokeQuery(s,o,g,E,x,K){let ne=[];if(E&&ne.push(this.element),s.length>0){s=(s=s.replace(wi,"."+this._enterClassName)).replace(os,"."+this._leaveClassName);let gt=this._driver.query(this.element,s,1!=g);0!==g&&(gt=g<0?gt.slice(gt.length+g,gt.length):gt.slice(0,g)),ne.push(...gt)}return!x&&0==ne.length&&K.push(`\`query("${o}")\` returned zero elements. (Use \`query("${o}", { optional: true })\` if you wish to allow this.)`),ne}}class La{constructor(s,o,g,E){this._driver=s,this.element=o,this.startTime=g,this._elementTimelineStylesLookup=E,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(s){const o=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||o?(this.forwardTime(this.currentTime+s),o&&this.snapshotCurrentStyles()):this.startTime+=s}fork(s,o){return this.applyStylesToKeyframe(),new La(this._driver,s,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(s){this.applyStylesToKeyframe(),this.duration=s,this._loadKeyframe()}_updateStyle(s,o){this._localTimelineStyles[s]=o,this._globalTimelineStyles[s]=o,this._styleSummary[s]={time:this.currentTime,value:o}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(s){s&&(this._previousKeyframe.easing=s),Object.keys(this._globalTimelineStyles).forEach(o=>{this._backFill[o]=this._globalTimelineStyles[o]||ln,this._currentKeyframe[o]=ln}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(s,o,g,E){o&&(this._previousKeyframe.easing=o);const x=E&&E.params||{},K=function(f,s){const o={};let g;return f.forEach(E=>{"*"===E?(g=g||Object.keys(s),g.forEach(x=>{o[x]=ln})):En(E,!1,o)}),o}(s,this._globalTimelineStyles);Object.keys(K).forEach(ne=>{const Oe=xn(K[ne],x,g);this._pendingStyles[ne]=Oe,this._localTimelineStyles.hasOwnProperty(ne)||(this._backFill[ne]=this._globalTimelineStyles.hasOwnProperty(ne)?this._globalTimelineStyles[ne]:ln),this._updateStyle(ne,Oe)})}applyStylesToKeyframe(){const s=this._pendingStyles,o=Object.keys(s);0!=o.length&&(this._pendingStyles={},o.forEach(g=>{this._currentKeyframe[g]=s[g]}),Object.keys(this._localTimelineStyles).forEach(g=>{this._currentKeyframe.hasOwnProperty(g)||(this._currentKeyframe[g]=this._localTimelineStyles[g])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(s=>{const o=this._localTimelineStyles[s];this._pendingStyles[s]=o,this._updateStyle(s,o)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const s=[];for(let o in this._currentKeyframe)s.push(o);return s}mergeTimelineCollectedStyles(s){Object.keys(s._styleSummary).forEach(o=>{const g=this._styleSummary[o],E=s._styleSummary[o];(!g||E.time>g.time)&&this._updateStyle(o,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const s=new Set,o=new Set,g=1===this._keyframes.size&&0===this.duration;let E=[];this._keyframes.forEach((ne,Oe)=>{const gt=En(ne,!0);Object.keys(gt).forEach(nn=>{const un=gt[nn];"!"==un?s.add(nn):un==ln&&o.add(nn)}),g||(gt.offset=Oe/this.duration),E.push(gt)});const x=s.size?yr(s.values()):[],K=o.size?yr(o.values()):[];if(g){const ne=E[0],Oe=qt(ne);ne.offset=0,Oe.offset=1,E=[ne,Oe]}return Qo(this.element,E,x,K,this.duration,this.startTime,this.easing,!1)}}class ss extends La{constructor(s,o,g,E,x,K,ne=!1){super(s,o,K.delay),this.keyframes=g,this.preStyleProps=E,this.postStyleProps=x,this._stretchStartingKeyframe=ne,this.timings={duration:K.duration,delay:K.delay,easing:K.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let s=this.keyframes,{delay:o,duration:g,easing:E}=this.timings;if(this._stretchStartingKeyframe&&o){const x=[],K=g+o,ne=o/K,Oe=En(s[0],!1);Oe.offset=0,x.push(Oe);const gt=En(s[0],!1);gt.offset=Yo(ne),x.push(gt);const nn=s.length-1;for(let un=1;un<=nn;un++){let $n=En(s[un],!1);$n.offset=Yo((o+$n.offset*g)/K),x.push($n)}g=K,o=0,E="",s=x}return Qo(this.element,s,this.preStyleProps,this.postStyleProps,g,o,E,!0)}}function Yo(f,s=3){const o=Math.pow(10,s-1);return Math.round(f*o)/o}class As{}class Hs extends As{normalizePropertyName(s,o){return ur(s)}normalizeStyleValue(s,o,g,E){let x="";const K=g.toString().trim();if(Va[o]&&0!==g&&"0"!==g)if("number"==typeof g)x="px";else{const ne=g.match(/^[+-]?[\d\.]+([a-z]*)$/);ne&&0==ne[1].length&&E.push(`Please provide a CSS unit value for ${s}:${g}`)}return K+x}}const Va=(()=>function(f){const s={};return f.forEach(o=>s[o]=!0),s}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Zr(f,s,o,g,E,x,K,ne,Oe,gt,nn,un,$n){return{type:0,element:f,triggerName:s,isRemovalTransition:E,fromState:o,fromStyles:x,toState:g,toStyles:K,timelines:ne,queriedElements:Oe,preStyleProps:gt,postStyleProps:nn,totalTime:un,errors:$n}}const Gs={};class ba{constructor(s,o,g){this._triggerName=s,this.ast=o,this._stateStyles=g}match(s,o,g,E){return function(f,s,o,g,E){return f.some(x=>x(s,o,g,E))}(this.ast.matchers,s,o,g,E)}buildStyles(s,o,g){const E=this._stateStyles["*"],x=this._stateStyles[s],K=E?E.buildStyles(o,g):{};return x?x.buildStyles(o,g):K}build(s,o,g,E,x,K,ne,Oe,gt,nn){const un=[],$n=this.ast.options&&this.ast.options.params||Gs,ir=this.buildStyles(g,ne&&ne.params||Gs,un),mr=Oe&&Oe.params||Gs,Fr=this.buildStyles(E,mr,un),Ki=new Set,Ui=new Map,Do=new Map,qo="void"===E,np={params:Object.assign(Object.assign({},$n),mr)},Ml=nn?[]:Xi(s,o,this.ast.animation,x,K,ir,Fr,np,gt,un);let pa=0;if(Ml.forEach(ch=>{pa=Math.max(ch.duration+ch.delay,pa)}),un.length)return Zr(o,this._triggerName,g,E,qo,ir,Fr,[],[],Ui,Do,pa,un);Ml.forEach(ch=>{const Fl=ch.element,Cv=Qn(Ui,Fl,{});ch.preStyleProps.forEach(Ll=>Cv[Ll]=!0);const Yg=Qn(Do,Fl,{});ch.postStyleProps.forEach(Ll=>Yg[Ll]=!0),Fl!==o&&Ki.add(Fl)});const kl=yr(Ki.values());return Zr(o,this._triggerName,g,E,qo,ir,Fr,Ml,kl,Ui,Do,pa)}}class hi{constructor(s,o,g){this.styles=s,this.defaultParams=o,this.normalizer=g}buildStyles(s,o){const g={},E=qt(this.defaultParams);return Object.keys(s).forEach(x=>{const K=s[x];null!=K&&(E[x]=K)}),this.styles.styles.forEach(x=>{if("string"!=typeof x){const K=x;Object.keys(K).forEach(ne=>{let Oe=K[ne];Oe.length>1&&(Oe=xn(Oe,E,o));const gt=this.normalizer.normalizePropertyName(ne,o);Oe=this.normalizer.normalizeStyleValue(ne,gt,Oe,o),g[gt]=Oe})}}),g}}class ei{constructor(s,o,g){this.name=s,this.ast=o,this._normalizer=g,this.transitionFactories=[],this.states={},o.states.forEach(E=>{this.states[E.name]=new hi(E.style,E.options&&E.options.params||{},g)}),C(this.states,"true","1"),C(this.states,"false","0"),o.transitions.forEach(E=>{this.transitionFactories.push(new ba(s,E,this.states))}),this.fallbackTransition=function(f,s,o){return new ba(f,{type:1,animation:{type:2,steps:[],options:null},matchers:[(K,ne)=>!0],options:null,queryCount:0,depCount:0},s)}(s,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(s,o,g,E){return this.transitionFactories.find(K=>K.match(s,o,g,E))||null}matchStyles(s,o,g){return this.fallbackTransition.buildStyles(s,o,g)}}function C(f,s,o){f.hasOwnProperty(s)?f.hasOwnProperty(o)||(f[o]=f[s]):f.hasOwnProperty(o)&&(f[s]=f[o])}const j=new fo;class X{constructor(s,o,g){this.bodyNode=s,this._driver=o,this._normalizer=g,this._animations={},this._playersById={},this.players=[]}register(s,o){const g=[],E=Uo(this._driver,o,g);if(g.length)throw new Error(`Unable to build the animation due to the following errors: ${g.join("\n")}`);this._animations[s]=E}_buildPlayer(s,o,g){const E=s.element,x=yi(0,this._normalizer,0,s.keyframes,o,g);return this._driver.animate(E,x,s.duration,s.delay,s.easing,[],!0)}create(s,o,g={}){const E=[],x=this._animations[s];let K;const ne=new Map;if(x?(K=Xi(this._driver,o,x,$o,wo,{},{},g,j,E),K.forEach(nn=>{const un=Qn(ne,nn.element,{});nn.postStyleProps.forEach($n=>un[$n]=null)})):(E.push("The requested animation doesn't exist or has already been destroyed"),K=[]),E.length)throw new Error(`Unable to create the animation due to the following errors: ${E.join("\n")}`);ne.forEach((nn,un)=>{Object.keys(nn).forEach($n=>{nn[$n]=this._driver.computeStyle(un,$n,ln)})});const gt=Mi(K.map(nn=>{const un=ne.get(nn.element);return this._buildPlayer(nn,{},un)}));return this._playersById[s]=gt,gt.onDestroy(()=>this.destroy(s)),this.players.push(gt),gt}destroy(s){const o=this._getPlayer(s);o.destroy(),delete this._playersById[s];const g=this.players.indexOf(o);g>=0&&this.players.splice(g,1)}_getPlayer(s){const o=this._playersById[s];if(!o)throw new Error(`Unable to find the timeline player referenced by ${s}`);return o}listen(s,o,g,E){const x=Fi(o,"","","");return ki(this._getPlayer(s),g,x,E),()=>{}}command(s,o,g,E){if("register"==g)return void this.register(s,E[0]);if("create"==g)return void this.create(s,o,E[0]||{});const x=this._getPlayer(s);switch(g){case"play":x.play();break;case"pause":x.pause();break;case"reset":x.reset();break;case"restart":x.restart();break;case"finish":x.finish();break;case"init":x.init();break;case"setPosition":x.setPosition(parseFloat(E[0]));break;case"destroy":this.destroy(s)}}}const be="ng-animate-queued",St="ng-animate-disabled",kn=".ng-animate-disabled",eo=[],No={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},to={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Li="__ng_removed";class Os{constructor(s,o=""){this.namespaceId=o;const g=s&&s.hasOwnProperty("value");if(this.value=null!=(f=g?s.value:s)?f:null,g){const x=qt(s);delete x.value,this.options=x}else this.options={};var f;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(s){const o=s.params;if(o){const g=this.options.params;Object.keys(o).forEach(E=>{null==g[E]&&(g[E]=o[E])})}}}const ti="void",ni=new Os(ti);class Ua{constructor(s,o,g){this.id=s,this.hostElement=o,this._engine=g,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+s,d(o,this._hostClassName)}listen(s,o,g,E){if(!this._triggers.hasOwnProperty(o))throw new Error(`Unable to listen on the animation trigger event "${g}" because the animation trigger "${o}" doesn't exist!`);if(null==g||0==g.length)throw new Error(`Unable to listen on the animation trigger "${o}" because the provided event is undefined!`);if("start"!=(f=g)&&"done"!=f)throw new Error(`The provided animation trigger event "${g}" for the animation trigger "${o}" is not supported!`);var f;const x=Qn(this._elementListeners,s,[]),K={name:o,phase:g,callback:E};x.push(K);const ne=Qn(this._engine.statesByElement,s,{});return ne.hasOwnProperty(o)||(d(s,Y),d(s,Y+"-"+o),ne[o]=ni),()=>{this._engine.afterFlush(()=>{const Oe=x.indexOf(K);Oe>=0&&x.splice(Oe,1),this._triggers[o]||delete ne[o]})}}register(s,o){return!this._triggers[s]&&(this._triggers[s]=o,!0)}_getTrigger(s){const o=this._triggers[s];if(!o)throw new Error(`The provided animation trigger "${s}" has not been registered!`);return o}trigger(s,o,g,E=!0){const x=this._getTrigger(o),K=new uu(this.id,o,s);let ne=this._engine.statesByElement.get(s);ne||(d(s,Y),d(s,Y+"-"+o),this._engine.statesByElement.set(s,ne={}));let Oe=ne[o];const gt=new Os(g,this.id);if(!(g&&g.hasOwnProperty("value"))&&Oe&&gt.absorbOptions(Oe.options),ne[o]=gt,Oe||(Oe=ni),gt.value!==ti&&Oe.value===gt.value){if(!function(f,s){const o=Object.keys(f),g=Object.keys(s);if(o.length!=g.length)return!1;for(let E=0;E<o.length;E++){const x=o[E];if(!s.hasOwnProperty(x)||f[x]!==s[x])return!1}return!0}(Oe.params,gt.params)){const mr=[],Fr=x.matchStyles(Oe.value,Oe.params,mr),Ki=x.matchStyles(gt.value,gt.params,mr);mr.length?this._engine.reportError(mr):this._engine.afterFlush(()=>{de(s,Fr),z(s,Ki)})}return}const $n=Qn(this._engine.playersByElement,s,[]);$n.forEach(mr=>{mr.namespaceId==this.id&&mr.triggerName==o&&mr.queued&&mr.destroy()});let Yn=x.matchTransition(Oe.value,gt.value,s,gt.params),ir=!1;if(!Yn){if(!E)return;Yn=x.fallbackTransition,ir=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:o,transition:Yn,fromState:Oe,toState:gt,player:K,isFallbackTransition:ir}),ir||(d(s,be),K.onStart(()=>{y(s,be)})),K.onDone(()=>{let mr=this.players.indexOf(K);mr>=0&&this.players.splice(mr,1);const Fr=this._engine.playersByElement.get(s);if(Fr){let Ki=Fr.indexOf(K);Ki>=0&&Fr.splice(Ki,1)}}),this.players.push(K),$n.push(K),K}deregister(s){delete this._triggers[s],this._engine.statesByElement.forEach((o,g)=>{delete o[s]}),this._elementListeners.forEach((o,g)=>{this._elementListeners.set(g,o.filter(E=>E.name!=s))})}clearElementCache(s){this._engine.statesByElement.delete(s),this._elementListeners.delete(s);const o=this._engine.playersByElement.get(s);o&&(o.forEach(g=>g.destroy()),this._engine.playersByElement.delete(s))}_signalRemovalForInnerTriggers(s,o){const g=this._engine.driver.query(s,$,!0);g.forEach(E=>{if(E[Li])return;const x=this._engine.fetchNamespacesByElement(E);x.size?x.forEach(K=>K.triggerLeaveAnimation(E,o,!1,!0)):this.clearElementCache(E)}),this._engine.afterFlushAnimationsDone(()=>g.forEach(E=>this.clearElementCache(E)))}triggerLeaveAnimation(s,o,g,E){const x=this._engine.statesByElement.get(s);if(x){const K=[];if(Object.keys(x).forEach(ne=>{if(this._triggers[ne]){const Oe=this.trigger(s,ne,ti,E);Oe&&K.push(Oe)}}),K.length)return this._engine.markElementAsRemoved(this.id,s,!0,o),g&&Mi(K).onDone(()=>this._engine.processLeaveNode(s)),!0}return!1}prepareLeaveAnimationListeners(s){const o=this._elementListeners.get(s),g=this._engine.statesByElement.get(s);if(o&&g){const E=new Set;o.forEach(x=>{const K=x.name;if(E.has(K))return;E.add(K);const Oe=this._triggers[K].fallbackTransition,gt=g[K]||ni,nn=new Os(ti),un=new uu(this.id,K,s);this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:K,transition:Oe,fromState:gt,toState:nn,player:un,isFallbackTransition:!0})})}}removeNode(s,o){const g=this._engine;if(s.childElementCount&&this._signalRemovalForInnerTriggers(s,o),this.triggerLeaveAnimation(s,o,!0))return;let E=!1;if(g.totalAnimations){const x=g.players.length?g.playersByQueriedElement.get(s):[];if(x&&x.length)E=!0;else{let K=s;for(;K=K.parentNode;)if(g.statesByElement.get(K)){E=!0;break}}}if(this.prepareLeaveAnimationListeners(s),E)g.markElementAsRemoved(this.id,s,!1,o);else{const x=s[Li];(!x||x===No)&&(g.afterFlush(()=>this.clearElementCache(s)),g.destroyInnerAnimations(s),g._onRemovalComplete(s,o))}}insertNode(s,o){d(s,this._hostClassName)}drainQueuedTransitions(s){const o=[];return this._queue.forEach(g=>{const E=g.player;if(E.destroyed)return;const x=g.element,K=this._elementListeners.get(x);K&&K.forEach(ne=>{if(ne.name==g.triggerName){const Oe=Fi(x,g.triggerName,g.fromState.value,g.toState.value);Oe._data=s,ki(g.player,ne.phase,Oe,ne.callback)}}),E.markedForDestroy?this._engine.afterFlush(()=>{E.destroy()}):o.push(g)}),this._queue=[],o.sort((g,E)=>{const x=g.transition.ast.depCount,K=E.transition.ast.depCount;return 0==x||0==K?x-K:this._engine.driver.containsElement(g.element,E.element)?1:-1})}destroy(s){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,s)}elementContainsData(s){let o=!1;return this._elementListeners.has(s)&&(o=!0),o=!!this._queue.find(g=>g.element===s)||o,o}}class yf{constructor(s,o,g){this.bodyNode=s,this.driver=o,this._normalizer=g,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(E,x)=>{}}_onRemovalComplete(s,o){this.onRemovalComplete(s,o)}get queuedPlayers(){const s=[];return this._namespaceList.forEach(o=>{o.players.forEach(g=>{g.queued&&s.push(g)})}),s}createNamespace(s,o){const g=new Ua(s,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(g,o):(this.newHostElements.set(o,g),this.collectEnterElement(o)),this._namespaceLookup[s]=g}_balanceNamespaceList(s,o){const g=this._namespaceList.length-1;if(g>=0){let E=!1;for(let x=g;x>=0;x--)if(this.driver.containsElement(this._namespaceList[x].hostElement,o)){this._namespaceList.splice(x+1,0,s),E=!0;break}E||this._namespaceList.splice(0,0,s)}else this._namespaceList.push(s);return this.namespacesByHostElement.set(o,s),s}register(s,o){let g=this._namespaceLookup[s];return g||(g=this.createNamespace(s,o)),g}registerTrigger(s,o,g){let E=this._namespaceLookup[s];E&&E.register(o,g)&&this.totalAnimations++}destroy(s,o){if(!s)return;const g=this._fetchNamespace(s);this.afterFlush(()=>{this.namespacesByHostElement.delete(g.hostElement),delete this._namespaceLookup[s];const E=this._namespaceList.indexOf(g);E>=0&&this._namespaceList.splice(E,1)}),this.afterFlushAnimationsDone(()=>g.destroy(o))}_fetchNamespace(s){return this._namespaceLookup[s]}fetchNamespacesByElement(s){const o=new Set,g=this.statesByElement.get(s);if(g){const E=Object.keys(g);for(let x=0;x<E.length;x++){const K=g[E[x]].namespaceId;if(K){const ne=this._fetchNamespace(K);ne&&o.add(ne)}}}return o}trigger(s,o,g,E){if(Ea(o)){const x=this._fetchNamespace(s);if(x)return x.trigger(o,g,E),!0}return!1}insertNode(s,o,g,E){if(!Ea(o))return;const x=o[Li];if(x&&x.setForRemoval){x.setForRemoval=!1,x.setForMove=!0;const K=this.collectedLeaveElements.indexOf(o);K>=0&&this.collectedLeaveElements.splice(K,1)}if(s){const K=this._fetchNamespace(s);K&&K.insertNode(o,g)}E&&this.collectEnterElement(o)}collectEnterElement(s){this.collectedEnterElements.push(s)}markElementAsDisabled(s,o){o?this.disabledNodes.has(s)||(this.disabledNodes.add(s),d(s,St)):this.disabledNodes.has(s)&&(this.disabledNodes.delete(s),y(s,St))}removeNode(s,o,g,E){if(Ea(o)){const x=s?this._fetchNamespace(s):null;if(x?x.removeNode(o,E):this.markElementAsRemoved(s,o,!1,E),g){const K=this.namespacesByHostElement.get(o);K&&K.id!==s&&K.removeNode(o,E)}}else this._onRemovalComplete(o,E)}markElementAsRemoved(s,o,g,E){this.collectedLeaveElements.push(o),o[Li]={namespaceId:s,setForRemoval:E,hasAnimation:g,removedBeforeQueried:!1}}listen(s,o,g,E,x){return Ea(o)?this._fetchNamespace(s).listen(o,g,E,x):()=>{}}_buildInstruction(s,o,g,E,x){return s.transition.build(this.driver,s.element,s.fromState.value,s.toState.value,g,E,s.fromState.options,s.toState.options,o,x)}destroyInnerAnimations(s){let o=this.driver.query(s,$,!0);o.forEach(g=>this.destroyActiveAnimationsForElement(g)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(s,Pe,!0),o.forEach(g=>this.finishActiveQueriedAnimationOnElement(g)))}destroyActiveAnimationsForElement(s){const o=this.playersByElement.get(s);o&&o.forEach(g=>{g.queued?g.markedForDestroy=!0:g.destroy()})}finishActiveQueriedAnimationOnElement(s){const o=this.playersByQueriedElement.get(s);o&&o.forEach(g=>g.finish())}whenRenderingDone(){return new Promise(s=>{if(this.players.length)return Mi(this.players).onDone(()=>s());s()})}processLeaveNode(s){const o=s[Li];if(o&&o.setForRemoval){if(s[Li]=No,o.namespaceId){this.destroyInnerAnimations(s);const g=this._fetchNamespace(o.namespaceId);g&&g.clearElementCache(s)}this._onRemovalComplete(s,o.setForRemoval)}this.driver.matchesElement(s,kn)&&this.markElementAsDisabled(s,!1),this.driver.query(s,kn,!0).forEach(g=>{this.markElementAsDisabled(g,!1)})}flush(s=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((g,E)=>this._balanceNamespaceList(g,E)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let g=0;g<this.collectedEnterElements.length;g++)d(this.collectedEnterElements[g],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const g=[];try{o=this._flushAnimations(g,s)}finally{for(let E=0;E<g.length;E++)g[E]()}}else for(let g=0;g<this.collectedLeaveElements.length;g++)this.processLeaveNode(this.collectedLeaveElements[g]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(g=>g()),this._flushFns=[],this._whenQuietFns.length){const g=this._whenQuietFns;this._whenQuietFns=[],o.length?Mi(o).onDone(()=>{g.forEach(E=>E())}):g.forEach(E=>E())}}reportError(s){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${s.join("\n")}`)}_flushAnimations(s,o){const g=new fo,E=[],x=new Map,K=[],ne=new Map,Oe=new Map,gt=new Map,nn=new Set;this.disabledNodes.forEach(er=>{nn.add(er);const _r=this.driver.query(er,".ng-animate-queued",!0);for(let Pr=0;Pr<_r.length;Pr++)nn.add(_r[Pr])});const un=this.bodyNode,$n=Array.from(this.statesByElement.keys()),Yn=ja($n,this.collectedEnterElements),ir=new Map;let mr=0;Yn.forEach((er,_r)=>{const Pr=$o+mr++;ir.set(_r,Pr),er.forEach(pi=>d(pi,Pr))});const Fr=[],Ki=new Set,Ui=new Set;for(let er=0;er<this.collectedLeaveElements.length;er++){const _r=this.collectedLeaveElements[er],Pr=_r[Li];Pr&&Pr.setForRemoval&&(Fr.push(_r),Ki.add(_r),Pr.hasAnimation?this.driver.query(_r,".ng-star-inserted",!0).forEach(pi=>Ki.add(pi)):Ui.add(_r))}const Do=new Map,qo=ja($n,Array.from(Ki));qo.forEach((er,_r)=>{const Pr=wo+mr++;Do.set(_r,Pr),er.forEach(pi=>d(pi,Pr))}),s.push(()=>{Yn.forEach((er,_r)=>{const Pr=ir.get(_r);er.forEach(pi=>y(pi,Pr))}),qo.forEach((er,_r)=>{const Pr=Do.get(_r);er.forEach(pi=>y(pi,Pr))}),Fr.forEach(er=>{this.processLeaveNode(er)})});const np=[],Ml=[];for(let er=this._namespaceList.length-1;er>=0;er--)this._namespaceList[er].drainQueuedTransitions(o).forEach(Pr=>{const pi=Pr.player,Ds=Pr.element;if(np.push(pi),this.collectedEnterElements.length){const Vl=Ds[Li];if(Vl&&Vl.setForMove)return void pi.destroy()}const uf=!un||!this.driver.containsElement(un,Ds),Fu=Do.get(Ds),lf=ir.get(Ds),Mo=this._buildInstruction(Pr,g,lf,Fu,uf);if(Mo.errors&&Mo.errors.length)Ml.push(Mo);else{if(uf)return pi.onStart(()=>de(Ds,Mo.fromStyles)),pi.onDestroy(()=>z(Ds,Mo.toStyles)),void E.push(pi);if(Pr.isFallbackTransition)return pi.onStart(()=>de(Ds,Mo.fromStyles)),pi.onDestroy(()=>z(Ds,Mo.toStyles)),void E.push(pi);Mo.timelines.forEach(Vl=>Vl.stretchStartingKeyframe=!0),g.append(Ds,Mo.timelines),K.push({instruction:Mo,player:pi,element:Ds}),Mo.queriedElements.forEach(Vl=>Qn(ne,Vl,[]).push(pi)),Mo.preStyleProps.forEach((Vl,Yh)=>{const eg=Object.keys(Vl);if(eg.length){let cf=Oe.get(Yh);cf||Oe.set(Yh,cf=new Set),eg.forEach(tg=>cf.add(tg))}}),Mo.postStyleProps.forEach((Vl,Yh)=>{const eg=Object.keys(Vl);let cf=gt.get(Yh);cf||gt.set(Yh,cf=new Set),eg.forEach(tg=>cf.add(tg))})}});if(Ml.length){const er=[];Ml.forEach(_r=>{er.push(`@${_r.triggerName} has failed due to:\n`),_r.errors.forEach(Pr=>er.push(`- ${Pr}\n`))}),np.forEach(_r=>_r.destroy()),this.reportError(er)}const pa=new Map,kl=new Map;K.forEach(er=>{const _r=er.element;g.has(_r)&&(kl.set(_r,_r),this._beforeAnimationBuild(er.player.namespaceId,er.instruction,pa))}),E.forEach(er=>{const _r=er.element;this._getPreviousPlayers(_r,!1,er.namespaceId,er.triggerName,null).forEach(pi=>{Qn(pa,_r,[]).push(pi),pi.destroy()})});const ch=Fr.filter(er=>le(er,Oe,gt)),Fl=new Map;ai(Fl,this.driver,Ui,gt,ln).forEach(er=>{le(er,Oe,gt)&&ch.push(er)});const Yg=new Map;Yn.forEach((er,_r)=>{ai(Yg,this.driver,new Set(er),Oe,"!")}),ch.forEach(er=>{const _r=Fl.get(er),Pr=Yg.get(er);Fl.set(er,Object.assign(Object.assign({},_r),Pr))});const Ll=[],Tv=[],Zg={};K.forEach(er=>{const{element:_r,player:Pr,instruction:pi}=er;if(g.has(_r)){if(nn.has(_r))return Pr.onDestroy(()=>z(_r,pi.toStyles)),Pr.disabled=!0,Pr.overrideTotalTime(pi.totalTime),void E.push(Pr);let Ds=Zg;if(kl.size>1){let Fu=_r;const lf=[];for(;Fu=Fu.parentNode;){const Mo=kl.get(Fu);if(Mo){Ds=Mo;break}lf.push(Fu)}lf.forEach(Mo=>kl.set(Mo,Ds))}const uf=this._buildAnimation(Pr.namespaceId,pi,pa,x,Yg,Fl);if(Pr.setRealPlayer(uf),Ds===Zg)Ll.push(Pr);else{const Fu=this.playersByElement.get(Ds);Fu&&Fu.length&&(Pr.parentPlayer=Mi(Fu)),E.push(Pr)}}else de(_r,pi.fromStyles),Pr.onDestroy(()=>z(_r,pi.toStyles)),Tv.push(Pr),nn.has(_r)&&E.push(Pr)}),Tv.forEach(er=>{const _r=x.get(er.element);if(_r&&_r.length){const Pr=Mi(_r);er.setRealPlayer(Pr)}}),E.forEach(er=>{er.parentPlayer?er.syncPlayerEvents(er.parentPlayer):er.destroy()});for(let er=0;er<Fr.length;er++){const _r=Fr[er],Pr=_r[Li];if(y(_r,wo),Pr&&Pr.hasAnimation)continue;let pi=[];if(ne.size){let uf=ne.get(_r);uf&&uf.length&&pi.push(...uf);let Fu=this.driver.query(_r,Pe,!0);for(let lf=0;lf<Fu.length;lf++){let Mo=ne.get(Fu[lf]);Mo&&Mo.length&&pi.push(...Mo)}}const Ds=pi.filter(uf=>!uf.destroyed);Ds.length?T(this,_r,Ds):this.processLeaveNode(_r)}return Fr.length=0,Ll.forEach(er=>{this.players.push(er),er.onDone(()=>{er.destroy();const _r=this.players.indexOf(er);this.players.splice(_r,1)}),er.play()}),Ll}elementContainsData(s,o){let g=!1;const E=o[Li];return E&&E.setForRemoval&&(g=!0),this.playersByElement.has(o)&&(g=!0),this.playersByQueriedElement.has(o)&&(g=!0),this.statesByElement.has(o)&&(g=!0),this._fetchNamespace(s).elementContainsData(o)||g}afterFlush(s){this._flushFns.push(s)}afterFlushAnimationsDone(s){this._whenQuietFns.push(s)}_getPreviousPlayers(s,o,g,E,x){let K=[];if(o){const ne=this.playersByQueriedElement.get(s);ne&&(K=ne)}else{const ne=this.playersByElement.get(s);if(ne){const Oe=!x||x==ti;ne.forEach(gt=>{gt.queued||!Oe&&gt.triggerName!=E||K.push(gt)})}}return(g||E)&&(K=K.filter(ne=>!(g&&g!=ne.namespaceId||E&&E!=ne.triggerName))),K}_beforeAnimationBuild(s,o,g){const x=o.element,K=o.isRemovalTransition?void 0:s,ne=o.isRemovalTransition?void 0:o.triggerName;for(const Oe of o.timelines){const gt=Oe.element,nn=gt!==x,un=Qn(g,gt,[]);this._getPreviousPlayers(gt,nn,K,ne,o.toState).forEach(Yn=>{const ir=Yn.getRealPlayer();ir.beforeDestroy&&ir.beforeDestroy(),Yn.destroy(),un.push(Yn)})}de(x,o.fromStyles)}_buildAnimation(s,o,g,E,x,K){const ne=o.triggerName,Oe=o.element,gt=[],nn=new Set,un=new Set,$n=o.timelines.map(ir=>{const mr=ir.element;nn.add(mr);const Fr=mr[Li];if(Fr&&Fr.removedBeforeQueried)return new Zi(ir.duration,ir.delay);const Ki=mr!==Oe,Ui=function(f){const s=[];return V(f,s),s}((g.get(mr)||eo).map(pa=>pa.getRealPlayer())).filter(pa=>!!pa.element&&pa.element===mr),Do=x.get(mr),qo=K.get(mr),np=yi(0,this._normalizer,0,ir.keyframes,Do,qo),Ml=this._buildPlayer(ir,np,Ui);if(ir.subTimeline&&E&&un.add(mr),Ki){const pa=new uu(s,ne,mr);pa.setRealPlayer(Ml),gt.push(pa)}return Ml});gt.forEach(ir=>{Qn(this.playersByQueriedElement,ir.element,[]).push(ir),ir.onDone(()=>function(f,s,o){let g;if(f instanceof Map){if(g=f.get(s),g){if(g.length){const E=g.indexOf(o);g.splice(E,1)}0==g.length&&f.delete(s)}}else if(g=f[s],g){if(g.length){const E=g.indexOf(o);g.splice(E,1)}0==g.length&&delete f[s]}return g}(this.playersByQueriedElement,ir.element,ir))}),nn.forEach(ir=>d(ir,ge));const Yn=Mi($n);return Yn.onDestroy(()=>{nn.forEach(ir=>y(ir,ge)),z(Oe,o.toStyles)}),un.forEach(ir=>{Qn(E,ir,[]).push(Yn)}),Yn}_buildPlayer(s,o,g){return o.length>0?this.driver.animate(s.element,o,s.duration,s.delay,s.easing,g):new Zi(s.duration,s.delay)}}class uu{constructor(s,o,g){this.namespaceId=s,this.triggerName=o,this.element=g,this._player=new Zi,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(s){this._containsRealPlayer||(this._player=s,Object.keys(this._queuedCallbacks).forEach(o=>{this._queuedCallbacks[o].forEach(g=>ki(s,o,void 0,g))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(s.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(s){this.totalTime=s}syncPlayerEvents(s){const o=this._player;o.triggerCallback&&s.onStart(()=>o.triggerCallback("start")),s.onDone(()=>this.finish()),s.onDestroy(()=>this.destroy())}_queueEvent(s,o){Qn(this._queuedCallbacks,s,[]).push(o)}onDone(s){this.queued&&this._queueEvent("done",s),this._player.onDone(s)}onStart(s){this.queued&&this._queueEvent("start",s),this._player.onStart(s)}onDestroy(s){this.queued&&this._queueEvent("destroy",s),this._player.onDestroy(s)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(s){this.queued||this._player.setPosition(s)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(s){const o=this._player;o.triggerCallback&&o.triggerCallback(s)}}function Ea(f){return f&&1===f.nodeType}function Wi(f,s){const o=f.style.display;return f.style.display=null!=s?s:"none",o}function ai(f,s,o,g,E){const x=[];o.forEach(Oe=>x.push(Wi(Oe)));const K=[];g.forEach((Oe,gt)=>{const nn={};Oe.forEach(un=>{const $n=nn[un]=s.computeStyle(gt,un,E);(!$n||0==$n.length)&&(gt[Li]=to,K.push(gt))}),f.set(gt,nn)});let ne=0;return o.forEach(Oe=>Wi(Oe,x[ne++])),K}function ja(f,s){const o=new Map;if(f.forEach(ne=>o.set(ne,[])),0==s.length)return o;const E=new Set(s),x=new Map;function K(ne){if(!ne)return 1;let Oe=x.get(ne);if(Oe)return Oe;const gt=ne.parentNode;return Oe=o.has(gt)?gt:E.has(gt)?1:K(gt),x.set(ne,Oe),Oe}return s.forEach(ne=>{const Oe=K(ne);1!==Oe&&o.get(Oe).push(ne)}),o}const as="$$classes";function d(f,s){if(f.classList)f.classList.add(s);else{let o=f[as];o||(o=f[as]={}),o[s]=!0}}function y(f,s){if(f.classList)f.classList.remove(s);else{let o=f[as];o&&delete o[s]}}function T(f,s,o){Mi(o).onDone(()=>f.processLeaveNode(s))}function V(f,s){for(let o=0;o<f.length;o++){const g=f[o];g instanceof xi?V(g.players,s):s.push(g)}}function le(f,s,o){const g=o.get(f);if(!g)return!1;let E=s.get(f);return E?g.forEach(x=>E.add(x)):s.set(f,g),o.delete(f),!0}class Ae{constructor(s,o,g){this.bodyNode=s,this._driver=o,this._normalizer=g,this._triggerCache={},this.onRemovalComplete=(E,x)=>{},this._transitionEngine=new yf(s,o,g),this._timelineEngine=new X(s,o,g),this._transitionEngine.onRemovalComplete=(E,x)=>this.onRemovalComplete(E,x)}registerTrigger(s,o,g,E,x){const K=s+"-"+E;let ne=this._triggerCache[K];if(!ne){const Oe=[],gt=Uo(this._driver,x,Oe);if(Oe.length)throw new Error(`The animation trigger "${E}" has failed to build due to the following errors:\n - ${Oe.join("\n - ")}`);ne=function(f,s,o){return new ei(f,s,o)}(E,gt,this._normalizer),this._triggerCache[K]=ne}this._transitionEngine.registerTrigger(o,E,ne)}register(s,o){this._transitionEngine.register(s,o)}destroy(s,o){this._transitionEngine.destroy(s,o)}onInsert(s,o,g,E){this._transitionEngine.insertNode(s,o,g,E)}onRemove(s,o,g,E){this._transitionEngine.removeNode(s,o,E||!1,g)}disableAnimations(s,o){this._transitionEngine.markElementAsDisabled(s,o)}process(s,o,g,E){if("@"==g.charAt(0)){const[x,K]=ji(g);this._timelineEngine.command(x,o,K,E)}else this._transitionEngine.trigger(s,o,g,E)}listen(s,o,g,E,x){if("@"==g.charAt(0)){const[K,ne]=ji(g);return this._timelineEngine.listen(K,o,ne,x)}return this._transitionEngine.listen(s,o,g,E,x)}flush(s=-1){this._transitionEngine.flush(s)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ce(f,s){let o=null,g=null;return Array.isArray(s)&&s.length?(o=Ot(s[0]),s.length>1&&(g=Ot(s[s.length-1]))):s&&(o=Ot(s)),o||g?new ct(f,o,g):null}let ct=(()=>{class f{constructor(o,g,E){this._element=o,this._startStyles=g,this._endStyles=E,this._state=0;let x=f.initialStylesByElement.get(o);x||f.initialStylesByElement.set(o,x={}),this._initialStyles=x}start(){this._state<1&&(this._startStyles&&z(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(z(this._element,this._initialStyles),this._endStyles&&(z(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(f.initialStylesByElement.delete(this._element),this._startStyles&&(de(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(de(this._element,this._endStyles),this._endStyles=null),z(this._element,this._initialStyles),this._state=3)}}return f.initialStylesByElement=new WeakMap,f})();function Ot(f){let s=null;const o=Object.keys(f);for(let g=0;g<o.length;g++){const E=o[g];Vt(E)&&(s=s||{},s[E]=f[E])}return s}function Vt(f){return"display"===f||"position"===f}const On="animation",jn="animationend";class Lr{constructor(s,o,g,E,x,K,ne){this._element=s,this._name=o,this._duration=g,this._delay=E,this._easing=x,this._fillMode=K,this._onDoneFn=ne,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Oe=>this._handleCallback(Oe)}apply(){(function(f,s){const o=Ac(f,"").trim();let g=0;o.length&&(function(f,s){let o=0;for(let g=0;g<f.length;g++)","===f.charAt(g)&&o++;return o}(o)+1,s=`${o}, ${s}`),ju(f,"",s)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Co(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ho(this._element,this._name,"paused")}resume(){ho(this._element,this._name,"running")}setPosition(s){const o=Hn(this._element,this._name);this._position=s*this._duration,ju(this._element,"Delay",`-${this._position}ms`,o)}getPosition(){return this._position}_handleCallback(s){const o=s._ngTestManualTimestamp||Date.now(),g=1e3*parseFloat(s.elapsedTime.toFixed(3));s.animationName==this._name&&Math.max(o-this._startTime,0)>=this._delay&&g>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Co(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(f,s){const g=Ac(f,"").split(","),E=Ri(g,s);E>=0&&(g.splice(E,1),ju(f,"",g.join(",")))}(this._element,this._name))}}function ho(f,s,o){ju(f,"PlayState",o,Hn(f,s))}function Hn(f,s){const o=Ac(f,"");return o.indexOf(",")>0?Ri(o.split(","),s):Ri([o],s)}function Ri(f,s){for(let o=0;o<f.length;o++)if(f[o].indexOf(s)>=0)return o;return-1}function Co(f,s,o){o?f.removeEventListener(jn,s):f.addEventListener(jn,s)}function ju(f,s,o,g){const E=On+s;if(null!=g){const x=f.style[E];if(x.length){const K=x.split(",");K[g]=o,o=K.join(",")}}f.style[E]=o}function Ac(f,s){return f.style[On+s]||""}class na{constructor(s,o,g,E,x,K,ne,Oe){this.element=s,this.keyframes=o,this.animationName=g,this._duration=E,this._delay=x,this._finalStyles=ne,this._specialStyles=Oe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=K||"linear",this.totalTime=E+x,this._buildStyler()}onStart(s){this._onStartFns.push(s)}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(s=>s()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(s=>s()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(s){this._styler.setPosition(s)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Lr(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(s){const o="start"==s?this._onStartFns:this._onDoneFns;o.forEach(g=>g()),o.length=0}beforeDestroy(){this.init();const s={};if(this.hasStarted()){const o=this._state>=3;Object.keys(this._finalStyles).forEach(g=>{"offset"!=g&&(s[g]=o?this._finalStyles[g]:_i(this.element,g))})}this.currentSnapshot=s}}class Ba extends Zi{constructor(s,o){super(),this.element=s,this._startingStyles={},this.__initialized=!1,this._styles=so(o)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(s=>{this._startingStyles[s]=this.element.style[s]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(s=>this.element.style.setProperty(s,this._styles[s])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(s=>{const o=this._startingStyles[s];o?this.element.style.setProperty(s,o):this.element.style.removeProperty(s)}),this._startingStyles=null,super.destroy())}}class Ca{constructor(){this._count=0}validateStyleProperty(s){return oo(s)}matchesElement(s,o){return gr(s,o)}containsElement(s,o){return Ji(s,o)}query(s,o,g){return Bi(s,o,g)}computeStyle(s,o,g){return window.getComputedStyle(s)[o]}buildKeyframeElement(s,o,g){g=g.map(ne=>so(ne));let E=`@keyframes ${o} {\n`,x="";g.forEach(ne=>{x=" ";const Oe=parseFloat(ne.offset);E+=`${x}${100*Oe}% {\n`,x+=" ",Object.keys(ne).forEach(gt=>{const nn=ne[gt];switch(gt){case"offset":return;case"easing":return void(nn&&(E+=`${x}animation-timing-function: ${nn};\n`));default:return void(E+=`${x}${gt}: ${nn};\n`)}}),E+=`${x}}\n`}),E+="}\n";const K=document.createElement("style");return K.textContent=E,K}animate(s,o,g,E,x,K=[],ne){const Oe=K.filter(Fr=>Fr instanceof na),gt={};Er(g,E)&&Oe.forEach(Fr=>{let Ki=Fr.currentSnapshot;Object.keys(Ki).forEach(Ui=>gt[Ui]=Ki[Ui])});const nn=function(f){let s={};return f&&(Array.isArray(f)?f:[f]).forEach(g=>{Object.keys(g).forEach(E=>{"offset"==E||"easing"==E||(s[E]=g[E])})}),s}(o=ci(s,o,gt));if(0==g)return new Ba(s,nn);const un="gen_css_kf_"+this._count++,$n=this.buildKeyframeElement(s,un,o);(function(f){var s;const o=null===(s=f.getRootNode)||void 0===s?void 0:s.call(f);return"undefined"!=typeof ShadowRoot&&o instanceof ShadowRoot?o:document.head})(s).appendChild($n);const ir=Ce(s,o),mr=new na(s,o,un,g,E,x,nn,ir);return mr.onDestroy(()=>{var f;(f=$n).parentNode.removeChild(f)}),mr}}class bf{constructor(s,o,g,E){this.element=s,this.keyframes=o,this.options=g,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=g.duration,this._delay=g.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const s=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,s,this.options),this._finalKeyframe=s.length?s[s.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(s,o,g){return s.animate(o,g)}onStart(s){this._onStartFns.push(s)}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(s=>s()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}setPosition(s){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=s*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const s={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(o=>{"offset"!=o&&(s[o]=this._finished?this._finalKeyframe[o]:_i(this.element,o))}),this.currentSnapshot=s}triggerCallback(s){const o="start"==s?this._onStartFns:this._onDoneFns;o.forEach(g=>g()),o.length=0}}class ug{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(zr().toString()),this._cssKeyframesDriver=new Ca}validateStyleProperty(s){return oo(s)}matchesElement(s,o){return gr(s,o)}containsElement(s,o){return Ji(s,o)}query(s,o,g){return Bi(s,o,g)}computeStyle(s,o,g){return window.getComputedStyle(s)[o]}overrideWebAnimationsSupport(s){this._isNativeImpl=s}animate(s,o,g,E,x,K=[],ne){if(!ne&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(s,o,g,E,x,K);const nn={duration:g,delay:E,fill:0==E?"both":"forwards"};x&&(nn.easing=x);const un={},$n=K.filter(ir=>ir instanceof bf);Er(g,E)&&$n.forEach(ir=>{let mr=ir.currentSnapshot;Object.keys(mr).forEach(Fr=>un[Fr]=mr[Fr])});const Yn=Ce(s,o=ci(s,o=o.map(ir=>En(ir,!1)),un));return new bf(s,o,nn,Yn)}}function zr(){return rs()&&Element.prototype.animate||{}}let pu=(()=>{class f extends ut{constructor(o,g){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(g.body,{id:"0",encapsulation:m.ifc.None,styles:[],data:{animation:[]}})}build(o){const g=this._nextAnimationId.toString();this._nextAnimationId++;const E=Array.isArray(o)?br(o):o;return sp(this._renderer,null,g,"register",[E]),new Vi(g,this._renderer)}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(m.FYo),m.LFG(k.K0))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})();class Vi extends class{}{constructor(s,o){super(),this._id=s,this._renderer=o}create(s,o){return new us(this._id,s,o||{},this._renderer)}}class us{constructor(s,o,g,E){this.id=s,this.element=o,this._renderer=E,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",g)}_listen(s,o){return this._renderer.listen(this.element,`@@${this.id}:${s}`,o)}_command(s,...o){return sp(this._renderer,this.element,this.id,s,o)}onDone(s){this._listen("done",s)}onStart(s){this._listen("start",s)}onDestroy(s){this._listen("destroy",s)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(s){this._command("setPosition",s)}getPosition(){var s,o;return null!==(o=null===(s=this._renderer.engine.players[+this.id])||void 0===s?void 0:s.getPosition())&&void 0!==o?o:0}}function sp(f,s,o,g,E){return f.setProperty(s,`@@${o}:${g}`,E)}const $i="@.disabled";let Ha=(()=>{class f{constructor(o,g,E){this.delegate=o,this.engine=g,this._zone=E,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),g.onRemovalComplete=(x,K)=>{K&&K.parentNode(x)&&K.removeChild(x.parentNode,x)}}createRenderer(o,g){const x=this.delegate.createRenderer(o,g);if(!(o&&g&&g.data&&g.data.animation)){let nn=this._rendererCache.get(x);return nn||(nn=new ws("",x,this.engine),this._rendererCache.set(x,nn)),nn}const K=g.id,ne=g.id+"-"+this._currentId;this._currentId++,this.engine.register(ne,o);const Oe=nn=>{Array.isArray(nn)?nn.forEach(Oe):this.engine.registerTrigger(K,ne,o,nn.name,nn)};return g.data.animation.forEach(Oe),new ls(this,ne,x,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,g,E){o>=0&&o<this._microtaskId?this._zone.run(()=>g(E)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(x=>{const[K,ne]=x;K(ne)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([g,E]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(m.FYo),m.LFG(Ae),m.LFG(m.R0b))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})();class ws{constructor(s,o,g){this.namespaceId=s,this.delegate=o,this.engine=g,this.destroyNode=this.delegate.destroyNode?E=>o.destroyNode(E):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(s,o){return this.delegate.createElement(s,o)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}appendChild(s,o){this.delegate.appendChild(s,o),this.engine.onInsert(this.namespaceId,o,s,!1)}insertBefore(s,o,g,E=!0){this.delegate.insertBefore(s,o,g),this.engine.onInsert(this.namespaceId,o,s,E)}removeChild(s,o,g){this.engine.onRemove(this.namespaceId,o,this.delegate,g)}selectRootElement(s,o){return this.delegate.selectRootElement(s,o)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,o,g,E){this.delegate.setAttribute(s,o,g,E)}removeAttribute(s,o,g){this.delegate.removeAttribute(s,o,g)}addClass(s,o){this.delegate.addClass(s,o)}removeClass(s,o){this.delegate.removeClass(s,o)}setStyle(s,o,g,E){this.delegate.setStyle(s,o,g,E)}removeStyle(s,o,g){this.delegate.removeStyle(s,o,g)}setProperty(s,o,g){"@"==o.charAt(0)&&o==$i?this.disableAnimations(s,!!g):this.delegate.setProperty(s,o,g)}setValue(s,o){this.delegate.setValue(s,o)}listen(s,o,g){return this.delegate.listen(s,o,g)}disableAnimations(s,o){this.engine.disableAnimations(s,o)}}class ls extends ws{constructor(s,o,g,E){super(o,g,E),this.factory=s,this.namespaceId=o}setProperty(s,o,g){"@"==o.charAt(0)?"."==o.charAt(1)&&o==$i?this.disableAnimations(s,g=void 0===g||!!g):this.engine.process(this.namespaceId,s,o.substr(1),g):this.delegate.setProperty(s,o,g)}listen(s,o,g){if("@"==o.charAt(0)){const E=function(f){switch(f){case"body":return document.body;case"document":return document;case"window":return window;default:return f}}(s);let x=o.substr(1),K="";return"@"!=x.charAt(0)&&([x,K]=function(f){const s=f.indexOf(".");return[f.substring(0,s),f.substr(s+1)]}(x)),this.engine.listen(this.namespaceId,E,x,K,ne=>{this.factory.scheduleListenerCallback(ne._data||-1,g,ne)})}return this.delegate.listen(s,o,g)}}let Bl=(()=>{class f extends Ae{constructor(o,g,E){super(o.body,g,E)}ngOnDestroy(){this.flush()}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(k.K0),m.LFG(Vo),m.LFG(As))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})();const al=new m.OlP("AnimationModuleType"),Rc=[{provide:ut,useClass:pu},{provide:As,useFactory:function(){return new Hs}},{provide:Ae,useClass:Bl},{provide:m.FYo,useFactory:function(f,s,o){return new Ha(f,s,o)},deps:[Zn,Ae,m.R0b]}],Ef=[{provide:Vo,useFactory:function(){return"function"==typeof zr()?new ug:new Ca}},{provide:al,useValue:"BrowserAnimations"},...Rc],Oo=[{provide:Vo,useClass:is},{provide:al,useValue:"NoopAnimations"},...Rc];let Ta=(()=>{class f{static withConfig(o){return{ngModule:f,providers:o.disableAnimations?Oo:Ef}}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275mod=m.oAB({type:f}),f.\u0275inj=m.cJS({providers:Ef,imports:[Lt]}),f})();var zi=pe(4402),Zo=pe(7574),cs=pe(9796),ui=pe(8002),Cf=pe(1555);function Hl(f,s){return new Zo.y(o=>{const g=f.length;if(0===g)return void o.complete();const E=new Array(g);let x=0,K=0;for(let ne=0;ne<g;ne++){const Oe=(0,zi.D)(f[ne]);let gt=!1;o.add(Oe.subscribe({next:nn=>{gt||(gt=!0,K++),E[ne]=nn},error:nn=>o.error(nn),complete:()=>{x++,(x===g||!gt)&&(K===g&&o.next(s?s.reduce((nn,un,$n)=>(nn[un]=E[$n],nn),{}):E),o.complete())}}))}})}let Oc=(()=>{class f{constructor(o,g){this._renderer=o,this._elementRef=g,this.onChange=E=>{},this.onTouched=()=>{}}setProperty(o,g){this._renderer.setProperty(this._elementRef.nativeElement,o,g)}registerOnTouched(o){this.onTouched=o}registerOnChange(o){this.onChange=o}setDisabledState(o){this.setProperty("disabled",o)}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(m.Qsj),m.Y36(m.SBq))},f.\u0275dir=m.lG2({type:f}),f})(),Po=(()=>{class f extends Oc{}return f.\u0275fac=function(){let s;return function(g){return(s||(s=m.n5z(f)))(g||f)}}(),f.\u0275dir=m.lG2({type:f,features:[m.qOj]}),f})();const bs=new m.OlP("NgValueAccessor"),mh={provide:bs,useExisting:(0,m.Gpc)(()=>gu),multi:!0},Gu=new m.OlP("CompositionEventMode");let gu=(()=>{class f extends Oc{constructor(o,g,E){super(o,g),this._compositionMode=E,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const f=(0,k.q)()?(0,k.q)().getUserAgent():"";return/android (\d+)/.test(f.toLowerCase())}())}writeValue(o){this.setProperty("value",null==o?"":o)}_handleInput(o){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(o)}_compositionStart(){this._composing=!0}_compositionEnd(o){this._composing=!1,this._compositionMode&&this.onChange(o)}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Gu,8))},f.\u0275dir=m.lG2({type:f,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,g){1&o&&m.NdJ("input",function(x){return g._handleInput(x.target.value)})("blur",function(){return g.onTouched()})("compositionstart",function(){return g._compositionStart()})("compositionend",function(x){return g._compositionEnd(x.target.value)})},features:[m._Bn([mh]),m.qOj]}),f})();function qa(f){return null==f||0===f.length}function Sf(f){return null!=f&&"number"==typeof f.length}const po=new m.OlP("NgValidators"),jo=new m.OlP("NgAsyncValidators"),Es=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Di{static min(s){return f=s,s=>{if(qa(s.value)||qa(f))return null;const o=parseFloat(s.value);return!isNaN(o)&&o<f?{min:{min:f,actual:s.value}}:null};var f}static max(s){return f=s,s=>{if(qa(s.value)||qa(f))return null;const o=parseFloat(s.value);return!isNaN(o)&&o>f?{max:{max:f,actual:s.value}}:null};var f}static required(s){return qa(s.value)?{required:!0}:null}static requiredTrue(s){return!0===s.value?null:{required:!0}}static email(s){return qa((f=s).value)||Es.test(f.value)?null:{email:!0};var f}static minLength(s){return f=s,s=>qa(s.value)||!Sf(s.value)?null:s.value.length<f?{minlength:{requiredLength:f,actualLength:s.value.length}}:null;var f}static maxLength(s){return f=s,s=>Sf(s.value)&&s.value.length>f?{maxlength:{requiredLength:f,actualLength:s.value.length}}:null;var f}static pattern(s){return function(f){if(!f)return Cs;let s,o;return"string"==typeof f?(o="","^"!==f.charAt(0)&&(o+="^"),o+=f,"$"!==f.charAt(f.length-1)&&(o+="$"),s=new RegExp(o)):(o=f.toString(),s=f),g=>{if(qa(g.value))return null;const E=g.value;return s.test(E)?null:{pattern:{requiredPattern:o,actualValue:E}}}}(s)}static nullValidator(s){return null}static compose(s){return Bo(s)}static composeAsync(s){return Ts(s)}}function Cs(f){return null}function oa(f){return null!=f}function mu(f){const s=(0,m.QGY)(f)?(0,zi.D)(f):f;return(0,m.CqO)(s),s}function Wl(f){let s={};return f.forEach(o=>{s=null!=o?Object.assign(Object.assign({},s),o):s}),0===Object.keys(s).length?null:s}function Jr(f,s){return s.map(o=>o(f))}function If(f){return f.map(s=>function(f){return!f.validate}(s)?s:o=>s.validate(o))}function Bo(f){if(!f)return null;const s=f.filter(oa);return 0==s.length?null:function(o){return Wl(Jr(o,s))}}function Wa(f){return null!=f?Bo(If(f)):null}function Ts(f){if(!f)return null;const s=f.filter(oa);return 0==s.length?null:function(o){return function(...f){if(1===f.length){const s=f[0];if((0,cs.k)(s))return Hl(s,null);if((0,Cf.K)(s)&&Object.getPrototypeOf(s)===Object.prototype){const o=Object.keys(s);return Hl(o.map(g=>s[g]),o)}}if("function"==typeof f[f.length-1]){const s=f.pop();return Hl(f=1===f.length&&(0,cs.k)(f[0])?f[0]:f,null).pipe((0,ui.U)(o=>s(...o)))}return Hl(f,null)}(Jr(o,s).map(mu)).pipe((0,ui.U)(Wl))}}function sa(f){return null!=f?Ts(If(f)):null}function $l(f,s){return null===f?[s]:Array.isArray(f)?[...f,s]:[f,s]}function Ps(f){return f._rawValidators}function vu(f){return f._rawAsyncValidators}function Jo(f){return f?Array.isArray(f)?f:[f]:[]}function Wu(f,s){return Array.isArray(f)?f.includes(s):f===s}function xs(f,s){const o=Jo(s);return Jo(f).forEach(E=>{Wu(o,E)||o.push(E)}),o}function zl(f,s){return Jo(s).filter(o=>!Wu(f,o))}let Ia=(()=>{class f{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(o){this._rawValidators=o||[],this._composedValidatorFn=Wa(this._rawValidators)}_setAsyncValidators(o){this._rawAsyncValidators=o||[],this._composedAsyncValidatorFn=sa(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(o){this._onDestroyCallbacks.push(o)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(o=>o()),this._onDestroyCallbacks=[]}reset(o){this.control&&this.control.reset(o)}hasError(o,g){return!!this.control&&this.control.hasError(o,g)}getError(o,g){return this.control?this.control.getError(o,g):null}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275dir=m.lG2({type:f}),f})(),uo=(()=>{class f extends Ia{get formDirective(){return null}get path(){return null}}return f.\u0275fac=function(){let s;return function(g){return(s||(s=m.n5z(f)))(g||f)}}(),f.\u0275dir=m.lG2({type:f,features:[m.qOj]}),f})();class no extends Ia{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Mc{constructor(s){this._cd=s}is(s){var o,g,E;return"submitted"===s?!!(null===(o=this._cd)||void 0===o?void 0:o.submitted):!!(null===(E=null===(g=this._cd)||void 0===g?void 0:g.control)||void 0===E?void 0:E[s])}}let dl=(()=>{class f extends Mc{constructor(o){super(o)}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(no,2))},f.\u0275dir=m.lG2({type:f,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,g){2&o&&m.ekj("ng-untouched",g.is("untouched"))("ng-touched",g.is("touched"))("ng-pristine",g.is("pristine"))("ng-dirty",g.is("dirty"))("ng-valid",g.is("valid"))("ng-invalid",g.is("invalid"))("ng-pending",g.is("pending"))},features:[m.qOj]}),f})(),Da=(()=>{class f extends Mc{constructor(o){super(o)}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(uo,10))},f.\u0275dir=m.lG2({type:f,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,g){2&o&&m.ekj("ng-untouched",g.is("untouched"))("ng-touched",g.is("touched"))("ng-pristine",g.is("pristine"))("ng-dirty",g.is("dirty"))("ng-valid",g.is("valid"))("ng-invalid",g.is("invalid"))("ng-pending",g.is("pending"))("ng-submitted",g.is("submitted"))},features:[m.qOj]}),f})();function Ql(f,s){Eu(f,s),s.valueAccessor.writeValue(f.value),function(f,s){s.valueAccessor.registerOnChange(o=>{f._pendingValue=o,f._pendingChange=!0,f._pendingDirty=!0,"change"===f.updateOn&&Rf(f,s)})}(f,s),function(f,s){const o=(g,E)=>{s.valueAccessor.writeValue(g),E&&s.viewToModelUpdate(g)};f.registerOnChange(o),s._registerOnDestroy(()=>{f._unregisterOnChange(o)})}(f,s),function(f,s){s.valueAccessor.registerOnTouched(()=>{f._pendingTouched=!0,"blur"===f.updateOn&&f._pendingChange&&Rf(f,s),"submit"!==f.updateOn&&f.markAsTouched()})}(f,s),function(f,s){if(s.valueAccessor.setDisabledState){const o=g=>{s.valueAccessor.setDisabledState(g)};f.registerOnDisabledChange(o),s._registerOnDestroy(()=>{f._unregisterOnDisabledChange(o)})}}(f,s)}function wu(f,s,o=!0){const g=()=>{};s.valueAccessor&&(s.valueAccessor.registerOnChange(g),s.valueAccessor.registerOnTouched(g)),$u(f,s),f&&(s._invokeOnDestroyCallbacks(),f._registerOnCollectionChange(()=>{}))}function bu(f,s){f.forEach(o=>{o.registerOnValidatorChange&&o.registerOnValidatorChange(s)})}function Eu(f,s){const o=Ps(f);null!==s.validator?f.setValidators($l(o,s.validator)):"function"==typeof o&&f.setValidators([o]);const g=vu(f);null!==s.asyncValidator?f.setAsyncValidators($l(g,s.asyncValidator)):"function"==typeof g&&f.setAsyncValidators([g]);const E=()=>f.updateValueAndValidity();bu(s._rawValidators,E),bu(s._rawAsyncValidators,E)}function $u(f,s){let o=!1;if(null!==f){if(null!==s.validator){const E=Ps(f);if(Array.isArray(E)&&E.length>0){const x=E.filter(K=>K!==s.validator);x.length!==E.length&&(o=!0,f.setValidators(x))}}if(null!==s.asyncValidator){const E=vu(f);if(Array.isArray(E)&&E.length>0){const x=E.filter(K=>K!==s.asyncValidator);x.length!==E.length&&(o=!0,f.setAsyncValidators(x))}}}const g=()=>{};return bu(s._rawValidators,g),bu(s._rawAsyncValidators,g),o}function Rf(f,s){f._pendingDirty&&f.markAsDirty(),f.setValue(f._pendingValue,{emitModelToViewChange:!1}),s.viewToModelUpdate(f._pendingValue),f._pendingChange=!1}function gl(f,s){const o=f.indexOf(s);o>-1&&f.splice(o,1)}const Cu="VALID",Zl="INVALID",za="PENDING",Qu="DISABLED";function Jl(f){return(aa(f)?f.validators:f)||null}function Xl(f){return Array.isArray(f)?Wa(f):f||null}function Yu(f,s){return(aa(s)?s.asyncValidators:f)||null}function bh(f){return Array.isArray(f)?sa(f):f||null}function aa(f){return null!=f&&!Array.isArray(f)&&"object"==typeof f}class ml{constructor(s,o){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=s,this._rawAsyncValidators=o,this._composedValidatorFn=Xl(this._rawValidators),this._composedAsyncValidatorFn=bh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(s){this._rawValidators=this._composedValidatorFn=s}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(s){this._rawAsyncValidators=this._composedAsyncValidatorFn=s}get parent(){return this._parent}get valid(){return this.status===Cu}get invalid(){return this.status===Zl}get pending(){return this.status==za}get disabled(){return this.status===Qu}get enabled(){return this.status!==Qu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(s){this._rawValidators=s,this._composedValidatorFn=Xl(s)}setAsyncValidators(s){this._rawAsyncValidators=s,this._composedAsyncValidatorFn=bh(s)}addValidators(s){this.setValidators(xs(s,this._rawValidators))}addAsyncValidators(s){this.setAsyncValidators(xs(s,this._rawAsyncValidators))}removeValidators(s){this.setValidators(zl(s,this._rawValidators))}removeAsyncValidators(s){this.setAsyncValidators(zl(s,this._rawAsyncValidators))}hasValidator(s){return Wu(this._rawValidators,s)}hasAsyncValidator(s){return Wu(this._rawAsyncValidators,s)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(s={}){this.touched=!0,this._parent&&!s.onlySelf&&this._parent.markAsTouched(s)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(s=>s.markAllAsTouched())}markAsUntouched(s={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0})}),this._parent&&!s.onlySelf&&this._parent._updateTouched(s)}markAsDirty(s={}){this.pristine=!1,this._parent&&!s.onlySelf&&this._parent.markAsDirty(s)}markAsPristine(s={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(o=>{o.markAsPristine({onlySelf:!0})}),this._parent&&!s.onlySelf&&this._parent._updatePristine(s)}markAsPending(s={}){this.status=za,!1!==s.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!s.onlySelf&&this._parent.markAsPending(s)}disable(s={}){const o=this._parentMarkedDirty(s.onlySelf);this.status=Qu,this.errors=null,this._forEachChild(g=>{g.disable(Object.assign(Object.assign({},s),{onlySelf:!0}))}),this._updateValue(),!1!==s.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},s),{skipPristineCheck:o})),this._onDisabledChange.forEach(g=>g(!0))}enable(s={}){const o=this._parentMarkedDirty(s.onlySelf);this.status=Cu,this._forEachChild(g=>{g.enable(Object.assign(Object.assign({},s),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:s.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},s),{skipPristineCheck:o})),this._onDisabledChange.forEach(g=>g(!1))}_updateAncestors(s){this._parent&&!s.onlySelf&&(this._parent.updateValueAndValidity(s),s.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(s){this._parent=s}updateValueAndValidity(s={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cu||this.status===za)&&this._runAsyncValidator(s.emitEvent)),!1!==s.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!s.onlySelf&&this._parent.updateValueAndValidity(s)}_updateTreeValidity(s={emitEvent:!0}){this._forEachChild(o=>o._updateTreeValidity(s)),this.updateValueAndValidity({onlySelf:!0,emitEvent:s.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qu:Cu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(s){if(this.asyncValidator){this.status=za,this._hasOwnPendingAsyncValidator=!0;const o=mu(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(g=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(g,{emitEvent:s})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(s,o={}){this.errors=s,this._updateControlsErrors(!1!==o.emitEvent)}get(s){return function(f,s,o){if(null==s||(Array.isArray(s)||(s=s.split(".")),Array.isArray(s)&&0===s.length))return null;let g=f;return s.forEach(E=>{g=g instanceof ec?g.controls.hasOwnProperty(E)?g.controls[E]:null:g instanceof Eh&&g.at(E)||null}),g}(this,s)}getError(s,o){const g=o?this.get(o):this;return g&&g.errors?g.errors[s]:null}hasError(s,o){return!!this.getError(s,o)}get root(){let s=this;for(;s._parent;)s=s._parent;return s}_updateControlsErrors(s){this.status=this._calculateStatus(),s&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(s)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?Qu:this.errors?Zl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(za)?za:this._anyControlsHaveStatus(Zl)?Zl:Cu}_anyControlsHaveStatus(s){return this._anyControls(o=>o.status===s)}_anyControlsDirty(){return this._anyControls(s=>s.dirty)}_anyControlsTouched(){return this._anyControls(s=>s.touched)}_updatePristine(s={}){this.pristine=!this._anyControlsDirty(),this._parent&&!s.onlySelf&&this._parent._updatePristine(s)}_updateTouched(s={}){this.touched=this._anyControlsTouched(),this._parent&&!s.onlySelf&&this._parent._updateTouched(s)}_isBoxedValue(s){return"object"==typeof s&&null!==s&&2===Object.keys(s).length&&"value"in s&&"disabled"in s}_registerOnCollectionChange(s){this._onCollectionChange=s}_setUpdateStrategy(s){aa(s)&&null!=s.updateOn&&(this._updateOn=s.updateOn)}_parentMarkedDirty(s){return!s&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ka extends ml{constructor(s=null,o,g){super(Jl(o),Yu(g,o)),this._onChange=[],this._applyFormState(s),this._setUpdateStrategy(o),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(s,o={}){this.value=this._pendingValue=s,this._onChange.length&&!1!==o.emitModelToViewChange&&this._onChange.forEach(g=>g(this.value,!1!==o.emitViewToModelChange)),this.updateValueAndValidity(o)}patchValue(s,o={}){this.setValue(s,o)}reset(s=null,o={}){this._applyFormState(s),this.markAsPristine(o),this.markAsUntouched(o),this.setValue(this.value,o),this._pendingChange=!1}_updateValue(){}_anyControls(s){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(s){this._onChange.push(s)}_unregisterOnChange(s){gl(this._onChange,s)}registerOnDisabledChange(s){this._onDisabledChange.push(s)}_unregisterOnDisabledChange(s){gl(this._onDisabledChange,s)}_forEachChild(s){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(s){this._isBoxedValue(s)?(this.value=this._pendingValue=s.value,s.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=s}}class ec extends ml{constructor(s,o,g){super(Jl(o),Yu(g,o)),this.controls=s,this._initObservables(),this._setUpdateStrategy(o),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(s,o){return this.controls[s]?this.controls[s]:(this.controls[s]=o,o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange),o)}addControl(s,o,g={}){this.registerControl(s,o),this.updateValueAndValidity({emitEvent:g.emitEvent}),this._onCollectionChange()}removeControl(s,o={}){this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),delete this.controls[s],this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}setControl(s,o,g={}){this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),delete this.controls[s],o&&this.registerControl(s,o),this.updateValueAndValidity({emitEvent:g.emitEvent}),this._onCollectionChange()}contains(s){return this.controls.hasOwnProperty(s)&&this.controls[s].enabled}setValue(s,o={}){this._checkAllValuesPresent(s),Object.keys(s).forEach(g=>{this._throwIfControlMissing(g),this.controls[g].setValue(s[g],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}patchValue(s,o={}){null!=s&&(Object.keys(s).forEach(g=>{this.controls[g]&&this.controls[g].patchValue(s[g],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}reset(s={},o={}){this._forEachChild((g,E)=>{g.reset(s[E],{onlySelf:!0,emitEvent:o.emitEvent})}),this._updatePristine(o),this._updateTouched(o),this.updateValueAndValidity(o)}getRawValue(){return this._reduceChildren({},(s,o,g)=>(s[g]=o instanceof Ka?o.value:o.getRawValue(),s))}_syncPendingControls(){let s=this._reduceChildren(!1,(o,g)=>!!g._syncPendingControls()||o);return s&&this.updateValueAndValidity({onlySelf:!0}),s}_throwIfControlMissing(s){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[s])throw new Error(`Cannot find form control with name: ${s}.`)}_forEachChild(s){Object.keys(this.controls).forEach(o=>{const g=this.controls[o];g&&s(g,o)})}_setUpControls(){this._forEachChild(s=>{s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(s){for(const o of Object.keys(this.controls)){const g=this.controls[o];if(this.contains(o)&&s(g))return!0}return!1}_reduceValue(){return this._reduceChildren({},(s,o,g)=>((o.enabled||this.disabled)&&(s[g]=o.value),s))}_reduceChildren(s,o){let g=s;return this._forEachChild((E,x)=>{g=o(g,E,x)}),g}_allControlsDisabled(){for(const s of Object.keys(this.controls))if(this.controls[s].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(s){this._forEachChild((o,g)=>{if(void 0===s[g])throw new Error(`Must supply a value for form control with name: '${g}'.`)})}}class Eh extends ml{constructor(s,o,g){super(Jl(o),Yu(g,o)),this.controls=s,this._initObservables(),this._setUpdateStrategy(o),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(s){return this.controls[s]}push(s,o={}){this.controls.push(s),this._registerControl(s),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}insert(s,o,g={}){this.controls.splice(s,0,o),this._registerControl(o),this.updateValueAndValidity({emitEvent:g.emitEvent})}removeAt(s,o={}){this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),this.updateValueAndValidity({emitEvent:o.emitEvent})}setControl(s,o,g={}){this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),o&&(this.controls.splice(s,0,o),this._registerControl(o)),this.updateValueAndValidity({emitEvent:g.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(s,o={}){this._checkAllValuesPresent(s),s.forEach((g,E)=>{this._throwIfControlMissing(E),this.at(E).setValue(g,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}patchValue(s,o={}){null!=s&&(s.forEach((g,E)=>{this.at(E)&&this.at(E).patchValue(g,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}reset(s=[],o={}){this._forEachChild((g,E)=>{g.reset(s[E],{onlySelf:!0,emitEvent:o.emitEvent})}),this._updatePristine(o),this._updateTouched(o),this.updateValueAndValidity(o)}getRawValue(){return this.controls.map(s=>s instanceof Ka?s.value:s.getRawValue())}clear(s={}){this.controls.length<1||(this._forEachChild(o=>o._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:s.emitEvent}))}_syncPendingControls(){let s=this.controls.reduce((o,g)=>!!g._syncPendingControls()||o,!1);return s&&this.updateValueAndValidity({onlySelf:!0}),s}_throwIfControlMissing(s){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(s))throw new Error(`Cannot find form control at index ${s}`)}_forEachChild(s){this.controls.forEach((o,g)=>{s(o,g)})}_updateValue(){this.value=this.controls.filter(s=>s.enabled||this.disabled).map(s=>s.value)}_anyControls(s){return this.controls.some(o=>o.enabled&&s(o))}_setUpControls(){this._forEachChild(s=>this._registerControl(s))}_checkAllValuesPresent(s){this._forEachChild((o,g)=>{if(void 0===s[g])throw new Error(`Must supply a value for form control at index: ${g}.`)})}_allControlsDisabled(){for(const s of this.controls)if(s.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(s){s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange)}}let wl=(()=>{class f{}return f.\u0275fac=function(o){return new(o||f)},f.\u0275dir=m.lG2({type:f,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),f})(),Lc=(()=>{class f{}return f.\u0275fac=function(o){return new(o||f)},f.\u0275mod=m.oAB({type:f}),f.\u0275inj=m.cJS({}),f})();const tc=new m.OlP("NgModelWithFormControlWarning"),xf={provide:uo,useExisting:(0,m.Gpc)(()=>Ss)};let Ss=(()=>{class f extends uo{constructor(o,g){super(),this.validators=o,this.asyncValidators=g,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(o),this._setAsyncValidators(g)}ngOnChanges(o){this._checkFormPresent(),o.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($u(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(o){const g=this.form.get(o.path);return Ql(g,o),g.updateValueAndValidity({emitEvent:!1}),this.directives.push(o),g}getControl(o){return this.form.get(o.path)}removeControl(o){wu(o.control||null,o,!1),gl(this.directives,o)}addFormGroup(o){this._setUpFormContainer(o)}removeFormGroup(o){this._cleanUpFormContainer(o)}getFormGroup(o){return this.form.get(o.path)}addFormArray(o){this._setUpFormContainer(o)}removeFormArray(o){this._cleanUpFormContainer(o)}getFormArray(o){return this.form.get(o.path)}updateModel(o,g){this.form.get(o.path).setValue(g)}onSubmit(o){return this.submitted=!0,function(f,s){f._syncPendingControls(),s.forEach(o=>{const g=o.control;"submit"===g.updateOn&&g._pendingChange&&(o.viewToModelUpdate(g._pendingValue),g._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(o),!1}onReset(){this.resetForm()}resetForm(o){this.form.reset(o),this.submitted=!1}_updateDomValue(){this.directives.forEach(o=>{const g=o.control,E=this.form.get(o.path);g!==E&&(wu(g||null,o),E instanceof Ka&&(Ql(E,o),o.control=E))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(o){const g=this.form.get(o.path);(function(f,s){Eu(f,s)})(g,o),g.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(o){if(this.form){const g=this.form.get(o.path);g&&function(f,s){return $u(f,s)}(g,o)&&g.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Eu(this.form,this),this._oldForm&&$u(this._oldForm,this)}_checkFormPresent(){}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(po,10),m.Y36(jo,10))},f.\u0275dir=m.lG2({type:f,selectors:[["","formGroup",""]],hostBindings:function(o,g){1&o&&m.NdJ("submit",function(x){return g.onSubmit(x)})("reset",function(){return g.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([xf]),m.qOj,m.TTD]}),f})();const ro={provide:no,useExisting:(0,m.Gpc)(()=>$s)};let $s=(()=>{class f extends no{constructor(o,g,E,x,K){super(),this._ngModelWarningConfig=K,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=o,this._setValidators(g),this._setAsyncValidators(E),this.valueAccessor=function(f,s){if(!s)return null;let o,g,E;return Array.isArray(s),s.forEach(x=>{x.constructor===gu?o=x:function(f){return Object.getPrototypeOf(f.constructor)===Po}(x)?g=x:E=x}),E||g||o||null}(0,x)}set isDisabled(o){}ngOnChanges(o){this._added||this._setUpControl(),function(f,s){if(!f.hasOwnProperty("model"))return!1;const o=f.model;return!!o.isFirstChange()||!Object.is(s,o.currentValue)}(o,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(o){this.viewModel=o,this.update.emit(o)}get path(){return function(f,s){return[...s.path,f]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(uo,13),m.Y36(po,10),m.Y36(jo,10),m.Y36(bs,10),m.Y36(tc,8))},f.\u0275dir=m.lG2({type:f,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([ro]),m.qOj,m.TTD]}),f._ngModelWarningSentOnce=!1,f})();const nc={provide:bs,useExisting:(0,m.Gpc)(()=>Hc),multi:!0};function Bc(f,s){return null==f?`${s}`:(s&&"object"==typeof s&&(s="Object"),`${f}: ${s}`.slice(0,50))}let Hc=(()=>{class f extends Po{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(o){this._compareWith=o}writeValue(o){this.value=o;const g=this._getOptionId(o);null==g&&this.setProperty("selectedIndex",-1);const E=Bc(g,o);this.setProperty("value",E)}registerOnChange(o){this.onChange=g=>{this.value=this._getOptionValue(g),o(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(o){for(const g of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(g),o))return g;return null}_getOptionValue(o){const g=function(f){return f.split(":")[0]}(o);return this._optionMap.has(g)?this._optionMap.get(g):o}}return f.\u0275fac=function(){let s;return function(g){return(s||(s=m.n5z(f)))(g||f)}}(),f.\u0275dir=m.lG2({type:f,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(o,g){1&o&&m.NdJ("change",function(x){return g.onChange(x.target.value)})("blur",function(){return g.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([nc]),m.qOj]}),f})(),id=(()=>{class f{constructor(o,g,E){this._element=o,this._renderer=g,this._select=E,this._select&&(this.id=this._select._registerOption())}set ngValue(o){null!=this._select&&(this._select._optionMap.set(this.id,o),this._setElementValue(Bc(this.id,o)),this._select.writeValue(this._select.value))}set value(o){this._setElementValue(o),this._select&&this._select.writeValue(this._select.value)}_setElementValue(o){this._renderer.setProperty(this._element.nativeElement,"value",o)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(Hc,9))},f.\u0275dir=m.lG2({type:f,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),f})();const od={provide:bs,useExisting:(0,m.Gpc)(()=>Mf),multi:!0};function Cl(f,s){return null==f?`${s}`:("string"==typeof s&&(s=`'${s}'`),s&&"object"==typeof s&&(s="Object"),`${f}: ${s}`.slice(0,50))}let Mf=(()=>{class f extends Po{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(o){this._compareWith=o}writeValue(o){let g;if(this.value=o,Array.isArray(o)){const E=o.map(x=>this._getOptionId(x));g=(x,K)=>{x._setSelected(E.indexOf(K.toString())>-1)}}else g=(E,x)=>{E._setSelected(!1)};this._optionMap.forEach(g)}registerOnChange(o){this.onChange=g=>{const E=[];if(void 0!==g.selectedOptions){const x=g.selectedOptions;for(let K=0;K<x.length;K++){const ne=x.item(K),Oe=this._getOptionValue(ne.value);E.push(Oe)}}else{const x=g.options;for(let K=0;K<x.length;K++){const ne=x.item(K);if(ne.selected){const Oe=this._getOptionValue(ne.value);E.push(Oe)}}}this.value=E,o(E)}}_registerOption(o){const g=(this._idCounter++).toString();return this._optionMap.set(g,o),g}_getOptionId(o){for(const g of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(g)._value,o))return g;return null}_getOptionValue(o){const g=function(f){return f.split(":")[0]}(o);return this._optionMap.has(g)?this._optionMap.get(g)._value:o}}return f.\u0275fac=function(){let s;return function(g){return(s||(s=m.n5z(f)))(g||f)}}(),f.\u0275dir=m.lG2({type:f,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(o,g){1&o&&m.NdJ("change",function(x){return g.onChange(x.target)})("blur",function(){return g.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([od]),m.qOj]}),f})(),kf=(()=>{class f{constructor(o,g,E){this._element=o,this._renderer=g,this._select=E,this._select&&(this.id=this._select._registerOption(this))}set ngValue(o){null!=this._select&&(this._value=o,this._setElementValue(Cl(this.id,o)),this._select.writeValue(this._select.value))}set value(o){this._select?(this._value=o,this._setElementValue(Cl(this.id,o)),this._select.writeValue(this._select.value)):this._setElementValue(o)}_setElementValue(o){this._renderer.setProperty(this._element.nativeElement,"value",o)}_setSelected(o){this._renderer.setProperty(this._element.nativeElement,"selected",o)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(Mf,9))},f.\u0275dir=m.lG2({type:f,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),f})(),hp=(()=>{class f{}return f.\u0275fac=function(o){return new(o||f)},f.\u0275mod=m.oAB({type:f}),f.\u0275inj=m.cJS({imports:[[Lc]]}),f})(),ad=(()=>{class f{static withConfig(o){return{ngModule:f,providers:[{provide:tc,useValue:o.warnOnNgModelWithFormControl}]}}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275mod=m.oAB({type:f}),f.\u0275inj=m.cJS({imports:[hp]}),f})();var p=pe(2372),_=pe(5691),I=pe(7642),R=pe(5917),U=pe(7709),J=pe(7971);class he extends U.xQ{constructor(s){super(),this._value=s}get value(){return this.getValue()}_subscribe(s){const o=super._subscribe(s);return o&&!o.closed&&s.next(this._value),o}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new J.N;return this._value}next(s){super.next(this._value=s)}}var Ne=pe(4869),Ze=pe(5197),Xe=pe(509),yt=pe(6693);const kt={};class Kn{constructor(s){this.resultSelector=s}call(s,o){return o.subscribe(new Gn(s,this.resultSelector))}}class Gn extends Ze.L{constructor(s,o){super(s),this.resultSelector=o,this.active=0,this.values=[],this.observables=[]}_next(s){this.values.push(kt),this.observables.push(s)}_complete(){const s=this.observables,o=s.length;if(0===o)this.destination.complete();else{this.active=o,this.toRespond=o;for(let g=0;g<o;g++)this.add((0,Xe.D)(this,s[g],void 0,g))}}notifyComplete(s){0==(this.active-=1)&&this.destination.complete()}notifyNext(s,o,g){const E=this.values,K=this.toRespond?E[g]===kt?--this.toRespond:this.toRespond:0;E[g]=o,0===K&&(this.resultSelector?this._tryResultSelector(E):this.destination.next(E.slice()))}_tryResultSelector(s){let o;try{o=this.resultSelector.apply(this,s)}catch(g){return void this.destination.error(g)}this.destination.next(o)}}const Cr=(()=>{function f(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return f.prototype=Object.create(Error.prototype),f})();var Rr=pe(3282);function Ai(...f){return(0,Rr.J)(1)((0,R.of)(...f))}var es=pe(9193);function Tr(f){return new Zo.y(s=>{let o;try{o=f()}catch(E){return void s.error(E)}return(o?(0,zi.D)(o):(0,es.c)()).subscribe(s)})}var Il=pe(2441),la=pe(3190),Xa=pe(7393);const Vf=(()=>{function f(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return f.prototype=Object.create(Error.prototype),f})();function Wc(f){return s=>0===f?(0,es.c)():s.lift(new ud(f))}class ud{constructor(s){if(this.total=s,this.total<0)throw new Vf}call(s,o){return o.subscribe(new Ks(s,this.total))}}class Ks extends Xa.L{constructor(s,o){super(s),this.total=o,this.count=0}_next(s){const o=this.total,g=++this.count;g<=o&&(this.destination.next(s),g===o&&(this.destination.complete(),this.unsubscribe()))}}var $c=pe(2145);function Uf(f,s){return function(g){return g.lift(new fg(f,s))}}class fg{constructor(s,o){this.predicate=s,this.thisArg=o}call(s,o){return o.subscribe(new ld(s,this.predicate,this.thisArg))}}class ld extends Xa.L{constructor(s,o,g){super(s),this.predicate=o,this.thisArg=g,this.count=0}_next(s){let o;try{o=this.predicate.call(this.thisArg,s,this.count++)}catch(g){return void this.destination.error(g)}o&&this.destination.next(s)}}var jf=pe(5345);function ca(f){return function(o){const g=new pp(f),E=o.lift(g);return g.caught=E}}class pp{constructor(s){this.selector=s}call(s,o){return o.subscribe(new gp(s,this.selector,this.caught))}}class gp extends jf.Ds{constructor(s,o,g){super(s),this.selector=o,this.caught=g}error(s){if(!this.isStopped){let o;try{o=this.selector(s,this.caught)}catch(x){return void super.error(x)}this._unsubscribeAndRecycle();const g=new jf.IY(this);this.add(g);const E=(0,jf.ft)(o,g);E!==g&&this.add(E)}}}var ks=pe(9773);function eu(f,s){return(0,ks.zg)(f,s,1)}function mp(f){return function(o){return 0===f?(0,es.c)():o.lift(new hg(f))}}class hg{constructor(s){if(this.total=s,this.total<0)throw new Vf}call(s,o){return o.subscribe(new vp(s,this.total))}}class vp extends Xa.L{constructor(s,o){super(s),this.total=o,this.ring=new Array,this.count=0}_next(s){const o=this.ring,g=this.total,E=this.count++;o.length<g?o.push(s):o[E%g]=s}_complete(){const s=this.destination;let o=this.count;if(o>0){const g=this.count>=this.total?this.total:this.count,E=this.ring;for(let x=0;x<g;x++){const K=o++%g;s.next(E[K])}}s.complete()}}function cd(f=Nh){return s=>s.lift(new fd(f))}class fd{constructor(s){this.errorFactory=s}call(s,o){return o.subscribe(new dg(s,this.errorFactory))}}class dg extends Xa.L{constructor(s,o){super(s),this.errorFactory=o,this.hasValue=!1}_next(s){this.hasValue=!0,this.destination.next(s)}_complete(){if(this.hasValue)return this.destination.complete();{let s;try{s=this.errorFactory()}catch(o){s=o}this.destination.error(s)}}}function Nh(){return new Cr}function Bf(f=null){return s=>s.lift(new yp(f))}class yp{constructor(s){this.defaultValue=s}call(s,o){return o.subscribe(new hd(s,this.defaultValue))}}class hd extends Xa.L{constructor(s,o){super(s),this.defaultValue=o,this.isEmpty=!0}_next(s){this.isEmpty=!1,this.destination.next(s)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Rh=pe(4487);function tu(f,s){const o=arguments.length>=2;return g=>g.pipe(f?Uf((E,x)=>f(E,x,g)):Rh.y,Wc(1),o?Bf(s):cd(()=>new Cr))}var xa=pe(3342),_p=pe(1307),pd=pe(5319);class Hf{constructor(s){this.callback=s}call(s,o){return o.subscribe(new zc(s,this.callback))}}class zc extends Xa.L{constructor(s,o){super(s),this.add(new pd.w(o))}}class Qs{constructor(s,o){this.id=s,this.url=o}}class bp extends Qs{constructor(s,o,g="imperative",E=null){super(s,o),this.navigationTrigger=g,this.restoredState=E}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kc extends Qs{constructor(s,o,g){super(s,o),this.urlAfterRedirects=g}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pg extends Qs{constructor(s,o,g){super(s,o),this.reason=g}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ep extends Qs{constructor(s,o,g){super(s,o),this.error=g}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gg extends Qs{constructor(s,o,g,E){super(s,o),this.urlAfterRedirects=g,this.state=E}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oh extends Qs{constructor(s,o,g,E){super(s,o),this.urlAfterRedirects=g,this.state=E}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fa extends Qs{constructor(s,o,g,E,x){super(s,o),this.urlAfterRedirects=g,this.state=E,this.shouldActivate=x}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mg extends Qs{constructor(s,o,g,E){super(s,o),this.urlAfterRedirects=g,this.state=E}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vg extends Qs{constructor(s,o,g,E){super(s,o),this.urlAfterRedirects=g,this.state=E}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gd{constructor(s){this.route=s}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class md{constructor(s){this.route=s}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yg{constructor(s){this.snapshot=s}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vm{constructor(s){this.snapshot=s}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _g{constructor(s){this.snapshot=s}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cp{constructor(s){this.snapshot=s}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wg{constructor(s,o,g){this.routerEvent=s,this.position=o,this.anchor=g}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Kr="primary";class Or{constructor(s){this.params=s||{}}has(s){return Object.prototype.hasOwnProperty.call(this.params,s)}get(s){if(this.has(s)){const o=this.params[s];return Array.isArray(o)?o[0]:o}return null}getAll(s){if(this.has(s)){const o=this.params[s];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}}function Qc(f){return new Or(f)}const lc="ngNavigationCancelingError";function Gf(f){const s=Error("NavigationCancelingError: "+f);return s[lc]=!0,s}function vd(f,s,o){const g=o.path.split("/");if(g.length>f.length||"full"===o.pathMatch&&(s.hasChildren()||g.length<f.length))return null;const E={};for(let x=0;x<g.length;x++){const K=g[x],ne=f[x];if(K.startsWith(":"))E[K.substring(1)]=ne;else if(K!==ne.path)return null}return{consumed:f.slice(0,g.length),posParams:E}}function fs(f,s){const o=f?Object.keys(f):void 0,g=s?Object.keys(s):void 0;if(!o||!g||o.length!=g.length)return!1;let E;for(let x=0;x<o.length;x++)if(E=o[x],!Ys(f[E],s[E]))return!1;return!0}function Ys(f,s){if(Array.isArray(f)&&Array.isArray(s)){if(f.length!==s.length)return!1;const o=[...f].sort(),g=[...s].sort();return o.every((E,x)=>g[x]===E)}return f===s}function yd(f){return Array.prototype.concat.apply([],f)}function cc(f){return f.length>0?f[f.length-1]:null}function hs(f,s){for(const o in f)f.hasOwnProperty(o)&&s(f[o],o)}function Nu(f){return(0,m.CqO)(f)?f:(0,m.QGY)(f)?(0,zi.D)(Promise.resolve(f)):(0,R.of)(f)}const Dl={exact:function _d(f,s,o){if(!nl(f.segments,s.segments)||!Wf(f.segments,s.segments,o)||f.numberOfChildren!==s.numberOfChildren)return!1;for(const g in s.children)if(!f.children[g]||!_d(f.children[g],s.children[g],o))return!1;return!0},subset:Tp},xh={exact:function(f,s){return fs(f,s)},subset:function(f,s){return Object.keys(s).length<=Object.keys(f).length&&Object.keys(s).every(o=>Ys(f[o],s[o]))},ignored:()=>!0};function Mh(f,s,o){return Dl[o.paths](f.root,s.root,o.matrixParams)&&xh[o.queryParams](f.queryParams,s.queryParams)&&!("exact"===o.fragment&&f.fragment!==s.fragment)}function Tp(f,s,o){return Tg(f,s,s.segments,o)}function Tg(f,s,o,g){if(f.segments.length>o.length){const E=f.segments.slice(0,o.length);return!(!nl(E,o)||s.hasChildren()||!Wf(E,o,g))}if(f.segments.length===o.length){if(!nl(f.segments,o)||!Wf(f.segments,o,g))return!1;for(const E in s.children)if(!f.children[E]||!Tp(f.children[E],s.children[E],g))return!1;return!0}{const E=o.slice(0,f.segments.length),x=o.slice(f.segments.length);return!!(nl(f.segments,E)&&Wf(f.segments,E,g)&&f.children[Kr])&&Tg(f.children[Kr],s,x,g)}}function Wf(f,s,o){return s.every((g,E)=>xh[o](f[E].parameters,g.parameters))}class Yc{constructor(s,o,g){this.root=s,this.queryParams=o,this.fragment=g}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qc(this.queryParams)),this._queryParamMap}toString(){return lv.serialize(this)}}class Wr{constructor(s,o){this.segments=s,this.children=o,this.parent=null,hs(o,(g,E)=>g.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ip(this)}}class fc{constructor(s,o){this.path=s,this.parameters=o}get parameterMap(){return this._parameterMap||(this._parameterMap=Qc(this.parameters)),this._parameterMap}toString(){return Cd(this)}}function nl(f,s){return f.length===s.length&&f.every((o,g)=>o.path===s[g].path)}class Sp{}class wd{parse(s){const o=new ym(s);return new Yc(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(s){var f;return`${`/${bd(s.root,!0)}`}${function(f){const s=Object.keys(f).map(o=>{const g=f[o];return Array.isArray(g)?g.map(E=>`${Ed(o)}=${Ed(E)}`).join("&"):`${Ed(o)}=${Ed(g)}`}).filter(o=>!!o);return s.length?`?${s.join("&")}`:""}(s.queryParams)}${"string"==typeof s.fragment?`#${f=s.fragment,encodeURI(f)}`:""}`}}const lv=new wd;function Ip(f){return f.segments.map(s=>Cd(s)).join("/")}function bd(f,s){if(!f.hasChildren())return Ip(f);if(s){const o=f.children[Kr]?bd(f.children[Kr],!1):"",g=[];return hs(f.children,(E,x)=>{x!==Kr&&g.push(`${x}:${bd(E,!1)}`)}),g.length>0?`${o}(${g.join("//")})`:o}{const o=function(f,s){let o=[];return hs(f.children,(g,E)=>{E===Kr&&(o=o.concat(s(g,E)))}),hs(f.children,(g,E)=>{E!==Kr&&(o=o.concat(s(g,E)))}),o}(f,(g,E)=>E===Kr?[bd(f.children[Kr],!1)]:[`${E}:${bd(g,!1)}`]);return 1===Object.keys(f.children).length&&null!=f.children[Kr]?`${Ip(f)}/${o[0]}`:`${Ip(f)}/(${o.join("//")})`}}function Ig(f){return encodeURIComponent(f).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ed(f){return Ig(f).replace(/%3B/gi,";")}function Ag(f){return Ig(f).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dp(f){return decodeURIComponent(f)}function Ru(f){return Dp(f.replace(/\+/g,"%20"))}function Cd(f){return`${Ag(f.path)}${function(f){return Object.keys(f).map(s=>`;${Ag(s)}=${Ag(f[s])}`).join("")}(f.parameters)}`}const $f=/^[^\/()?;=#]+/;function zf(f){const s=f.match($f);return s?s[0]:""}const Td=/^[^=?&#]+/,rl=/^[^?&#]+/;class ym{constructor(s){this.url=s,this.remaining=s}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wr([],{}):new Wr([],this.parseChildren())}parseQueryParams(){const s={};if(this.consumeOptional("?"))do{this.parseQueryParam(s)}while(this.consumeOptional("&"));return s}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const s=[];for(this.peekStartsWith("(")||s.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),s.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let g={};return this.peekStartsWith("(")&&(g=this.parseParens(!1)),(s.length>0||Object.keys(o).length>0)&&(g[Kr]=new Wr(s,o)),g}parseSegment(){const s=zf(this.remaining);if(""===s&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(s),new fc(Dp(s),this.parseMatrixParams())}parseMatrixParams(){const s={};for(;this.consumeOptional(";");)this.parseParam(s);return s}parseParam(s){const o=zf(this.remaining);if(!o)return;this.capture(o);let g="";if(this.consumeOptional("=")){const E=zf(this.remaining);E&&(g=E,this.capture(g))}s[Dp(o)]=Dp(g)}parseQueryParam(s){const o=function(f){const s=f.match(Td);return s?s[0]:""}(this.remaining);if(!o)return;this.capture(o);let g="";if(this.consumeOptional("=")){const K=function(f){const s=f.match(rl);return s?s[0]:""}(this.remaining);K&&(g=K,this.capture(g))}const E=Ru(o),x=Ru(g);if(s.hasOwnProperty(E)){let K=s[E];Array.isArray(K)||(K=[K],s[E]=K),K.push(x)}else s[E]=x}parseParens(s){const o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const g=zf(this.remaining),E=this.remaining[g.length];if("/"!==E&&")"!==E&&";"!==E)throw new Error(`Cannot parse url '${this.url}'`);let x;g.indexOf(":")>-1?(x=g.substr(0,g.indexOf(":")),this.capture(x),this.capture(":")):s&&(x=Kr);const K=this.parseChildren();o[x]=1===Object.keys(K).length?K[Kr]:new Wr([],K),this.consumeOptional("//")}return o}peekStartsWith(s){return this.remaining.startsWith(s)}consumeOptional(s){return!!this.peekStartsWith(s)&&(this.remaining=this.remaining.substring(s.length),!0)}capture(s){if(!this.consumeOptional(s))throw new Error(`Expected "${s}".`)}}class _m{constructor(s){this._root=s}get root(){return this._root.value}parent(s){const o=this.pathFromRoot(s);return o.length>1?o[o.length-2]:null}children(s){const o=Kf(s,this._root);return o?o.children.map(g=>g.value):[]}firstChild(s){const o=Kf(s,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(s){const o=kh(s,this._root);return o.length<2?[]:o[o.length-2].children.map(E=>E.value).filter(E=>E!==s)}pathFromRoot(s){return kh(s,this._root).map(o=>o.value)}}function Kf(f,s){if(f===s.value)return s;for(const o of s.children){const g=Kf(f,o);if(g)return g}return null}function kh(f,s){if(f===s.value)return[s];for(const o of s.children){const g=kh(f,o);if(g.length)return g.unshift(s),g}return[]}class Ou{constructor(s,o){this.value=s,this.children=o}toString(){return`TreeNode(${this.value})`}}function Qf(f){const s={};return f&&f.children.forEach(o=>s[o.value.outlet]=o),s}class Sd extends _m{constructor(s,o){super(s),this.snapshot=o,Fh(this,s)}toString(){return this.snapshot.toString()}}function Zc(f,s){const o=function(f,s){const K=new Al([],{},{},"",{},Kr,s,null,f.root,-1,{});return new Og("",new Ou(K,[]))}(f,s),g=new he([new fc("",{})]),E=new he({}),x=new he({}),K=new he({}),ne=new he(""),Oe=new Pu(g,E,K,ne,x,Kr,s,o.root);return Oe.snapshot=o.root,new Sd(new Ou(Oe,[]),o)}class Pu{constructor(s,o,g,E,x,K,ne,Oe){this.url=s,this.params=o,this.queryParams=g,this.fragment=E,this.data=x,this.outlet=K,this.component=ne,this._futureSnapshot=Oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ui.U)(s=>Qc(s)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ui.U)(s=>Qc(s)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hc(f,s="emptyOnly"){const o=f.pathFromRoot;let g=0;if("always"!==s)for(g=o.length-1;g>=1;){const E=o[g],x=o[g-1];if(E.routeConfig&&""===E.routeConfig.path)g--;else{if(x.component)break;g--}}return function(f){return f.reduce((s,o)=>({params:Object.assign(Object.assign({},s.params),o.params),data:Object.assign(Object.assign({},s.data),o.data),resolve:Object.assign(Object.assign({},s.resolve),o._resolvedData)}),{params:{},data:{},resolve:{}})}(o.slice(g))}class Al{constructor(s,o,g,E,x,K,ne,Oe,gt,nn,un){this.url=s,this.params=o,this.queryParams=g,this.fragment=E,this.data=x,this.outlet=K,this.component=ne,this.routeConfig=Oe,this._urlSegment=gt,this._lastPathIndex=nn,this._resolve=un}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(g=>g.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Og extends _m{constructor(s,o){super(o),this.url=s,Fh(this,o)}toString(){return Nl(this._root)}}function Fh(f,s){s.value._routerState=f,s.children.forEach(o=>Fh(f,o))}function Nl(f){const s=f.children.length>0?` { ${f.children.map(Nl).join(", ")} } `:"";return`${f.value}${s}`}function Lh(f){if(f.snapshot){const s=f.snapshot,o=f._futureSnapshot;f.snapshot=o,fs(s.queryParams,o.queryParams)||f.queryParams.next(o.queryParams),s.fragment!==o.fragment&&f.fragment.next(o.fragment),fs(s.params,o.params)||f.params.next(o.params),function(f,s){if(f.length!==s.length)return!1;for(let o=0;o<f.length;++o)if(!fs(f[o],s[o]))return!1;return!0}(s.url,o.url)||f.url.next(o.url),fs(s.data,o.data)||f.data.next(o.data)}else f.snapshot=f._futureSnapshot,f.data.next(f._futureSnapshot.data)}function Yf(f,s){return fs(f.params,s.params)&&function(f,s){return nl(f,s)&&f.every((o,g)=>fs(o.parameters,s[g].parameters))}(f.url,s.url)&&!(!f.parent!=!s.parent)&&(!f.parent||Yf(f.parent,s.parent))}function pc(f,s,o){if(o&&f.shouldReuseRoute(s.value,o.value.snapshot)){const g=o.value;g._futureSnapshot=s.value;const E=function(f,s,o){return s.children.map(g=>{for(const E of o.children)if(f.shouldReuseRoute(g.value,E.value.snapshot))return pc(f,g,E);return pc(f,g)})}(f,s,o);return new Ou(g,E)}{if(f.shouldAttach(s.value)){const x=f.retrieve(s.value);if(null!==x){const K=x.route;return Id(s,K),K}}const g=function(f){return new Pu(new he(f.url),new he(f.params),new he(f.queryParams),new he(f.fragment),new he(f.data),f.outlet,f.component,f)}(s.value),E=s.children.map(x=>pc(f,x));return new Ou(g,E)}}function Id(f,s){if(f.value.routeConfig!==s.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(f.children.length!==s.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");s.value._futureSnapshot=f.value;for(let o=0;o<f.children.length;++o)Id(f.children[o],s.children[o])}function Zf(f){return"object"==typeof f&&null!=f&&!f.outlets&&!f.segmentPath}function Jf(f){return"object"==typeof f&&null!=f&&f.outlets}function Xf(f,s,o,g,E){let x={};return g&&hs(g,(K,ne)=>{x[ne]=Array.isArray(K)?K.map(Oe=>`${Oe}`):`${K}`}),new Yc(o.root===f?s:Rp(o.root,f,s),x,E)}function Rp(f,s,o){const g={};return hs(f.children,(E,x)=>{g[x]=E===s?o:Rp(E,s,o)}),new Wr(f.segments,g)}class Op{constructor(s,o,g){if(this.isAbsolute=s,this.numberOfDoubleDots=o,this.commands=g,s&&g.length>0&&Zf(g[0]))throw new Error("Root segment cannot have matrix parameters");const E=g.find(Jf);if(E&&E!==cc(g))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pp{constructor(s,o,g){this.segmentGroup=s,this.processChildren=o,this.index=g}}function Uh(f,s,o){if(f||(f=new Wr([],{})),0===f.segments.length&&f.hasChildren())return Mp(f,s,o);const g=function(f,s,o){let g=0,E=s;const x={match:!1,pathIndex:0,commandIndex:0};for(;E<f.segments.length;){if(g>=o.length)return x;const K=f.segments[E],ne=o[g];if(Jf(ne))break;const Oe=`${ne}`,gt=g<o.length-1?o[g+1]:null;if(E>0&&void 0===Oe)break;if(Oe&&gt&&"object"==typeof gt&&void 0===gt.outlets){if(!Od(Oe,gt,K))return x;g+=2}else{if(!Od(Oe,{},K))return x;g++}E++}return{match:!0,pathIndex:E,commandIndex:g}}(f,s,o),E=o.slice(g.commandIndex);if(g.match&&g.pathIndex<f.segments.length){const x=new Wr(f.segments.slice(0,g.pathIndex),{});return x.children[Kr]=new Wr(f.segments.slice(g.pathIndex),f.children),Mp(x,0,E)}return g.match&&0===E.length?new Wr(f.segments,{}):g.match&&!f.hasChildren()?Xc(f,s,o):g.match?Mp(f,0,E):Xc(f,s,o)}function Mp(f,s,o){if(0===o.length)return new Wr(f.segments,{});{const g=function(f){return Jf(f[0])?f[0].outlets:{[Kr]:f}}(o),E={};return hs(g,(x,K)=>{"string"==typeof x&&(x=[x]),null!==x&&(E[K]=Uh(f.children[K],s,x))}),hs(f.children,(x,K)=>{void 0===g[K]&&(E[K]=x)}),new Wr(f.segments,E)}}function Xc(f,s,o){const g=f.segments.slice(0,s);let E=0;for(;E<o.length;){const x=o[E];if(Jf(x)){const Oe=xg(x.outlets);return new Wr(g,Oe)}if(0===E&&Zf(o[0])){g.push(new fc(f.segments[s].path,Rd(o[0]))),E++;continue}const K=Jf(x)?x.outlets[Kr]:`${x}`,ne=E<o.length-1?o[E+1]:null;K&&ne&&Zf(ne)?(g.push(new fc(K,Rd(ne))),E+=2):(g.push(new fc(K,{})),E++)}return new Wr(g,{})}function xg(f){const s={};return hs(f,(o,g)=>{"string"==typeof o&&(o=[o]),null!==o&&(s[g]=Xc(new Wr([],{}),0,o))}),s}function Rd(f){const s={};return hs(f,(o,g)=>s[g]=`${o}`),s}function Od(f,s,o){return f==o.path&&fs(s,o.parameters)}class Fp{constructor(s,o,g,E){this.routeReuseStrategy=s,this.futureState=o,this.currState=g,this.forwardEvent=E}activate(s){const o=this.futureState._root,g=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,g,s),Lh(this.futureState.root),this.activateChildRoutes(o,g,s)}deactivateChildRoutes(s,o,g){const E=Qf(o);s.children.forEach(x=>{const K=x.value.outlet;this.deactivateRoutes(x,E[K],g),delete E[K]}),hs(E,(x,K)=>{this.deactivateRouteAndItsChildren(x,g)})}deactivateRoutes(s,o,g){const E=s.value,x=o?o.value:null;if(E===x)if(E.component){const K=g.getContext(E.outlet);K&&this.deactivateChildRoutes(s,o,K.children)}else this.deactivateChildRoutes(s,o,g);else x&&this.deactivateRouteAndItsChildren(o,g)}deactivateRouteAndItsChildren(s,o){this.routeReuseStrategy.shouldDetach(s.value.snapshot)?this.detachAndStoreRouteSubtree(s,o):this.deactivateRouteAndOutlet(s,o)}detachAndStoreRouteSubtree(s,o){const g=o.getContext(s.value.outlet);if(g&&g.outlet){const E=g.outlet.detach(),x=g.children.onOutletDeactivated();this.routeReuseStrategy.store(s.value.snapshot,{componentRef:E,route:s,contexts:x})}}deactivateRouteAndOutlet(s,o){const g=o.getContext(s.value.outlet),E=g&&s.value.component?g.children:o,x=Qf(s);for(const K of Object.keys(x))this.deactivateRouteAndItsChildren(x[K],E);g&&g.outlet&&(g.outlet.deactivate(),g.children.onOutletDeactivated(),g.attachRef=null,g.resolver=null,g.route=null)}activateChildRoutes(s,o,g){const E=Qf(o);s.children.forEach(x=>{this.activateRoutes(x,E[x.value.outlet],g),this.forwardEvent(new Cp(x.value.snapshot))}),s.children.length&&this.forwardEvent(new vm(s.value.snapshot))}activateRoutes(s,o,g){const E=s.value,x=o?o.value:null;if(Lh(E),E===x)if(E.component){const K=g.getOrCreateContext(E.outlet);this.activateChildRoutes(s,o,K.children)}else this.activateChildRoutes(s,o,g);else if(E.component){const K=g.getOrCreateContext(E.outlet);if(this.routeReuseStrategy.shouldAttach(E.snapshot)){const ne=this.routeReuseStrategy.retrieve(E.snapshot);this.routeReuseStrategy.store(E.snapshot,null),K.children.onOutletReAttached(ne.contexts),K.attachRef=ne.componentRef,K.route=ne.route.value,K.outlet&&K.outlet.attach(ne.componentRef,ne.route.value),Mg(ne.route)}else{const ne=function(f){for(let s=f.parent;s;s=s.parent){const o=s.routeConfig;if(o&&o._loadedConfig)return o._loadedConfig;if(o&&o.component)return null}return null}(E.snapshot),Oe=ne?ne.module.componentFactoryResolver:null;K.attachRef=null,K.route=E,K.resolver=Oe,K.outlet&&K.outlet.activateWith(E,Oe),this.activateChildRoutes(s,null,K.children)}}else this.activateChildRoutes(s,null,g)}}function Mg(f){Lh(f.value),f.children.forEach(Mg)}class eh{constructor(s,o){this.routes=s,this.module=o}}function gc(f){return"function"==typeof f}function Go(f){return f instanceof Yc}const tf=Symbol("INITIAL_VALUE");function Pd(){return(0,la.w)(f=>function(...f){let s,o;return(0,Ne.K)(f[f.length-1])&&(o=f.pop()),"function"==typeof f[f.length-1]&&(s=f.pop()),1===f.length&&(0,cs.k)(f[0])&&(f=f[0]),(0,yt.n)(f,o).lift(new Kn(s))}(f.map(s=>s.pipe(Wc(1),function(...f){const s=f[f.length-1];return(0,Ne.K)(s)?(f.pop(),o=>Ai(f,o,s)):o=>Ai(f,o)}(tf)))).pipe((0,$c.R)((s,o)=>{let g=!1;return o.reduce((E,x,K)=>E!==tf?E:(x===tf&&(g=!0),g||!1!==x&&K!==o.length-1&&!Go(x)?E:x),s)},tf),Uf(s=>s!==tf),(0,ui.U)(s=>Go(s)?s:!0===s),Wc(1)))}let xd=(()=>{class f{}return f.\u0275fac=function(o){return new(o||f)},f.\u0275cmp=m.Xpm({type:f,selectors:[["ng-component"]],decls:1,vars:0,template:function(o,g){1&o&&m._UZ(0,"router-outlet")},directives:function(){return[zh]},encapsulation:2}),f})();function Md(f,s=""){for(let o=0;o<f.length;o++){const g=f[o];Up(g,bm(s,g))}}function Up(f,s){f.children&&Md(f.children,s)}function bm(f,s){return s?f||s.path?f&&!s.path?`${f}/`:!f&&s.path?s.path:`${f}/${s.path}`:"":f}function xu(f){const s=f.children&&f.children.map(xu),o=s?Object.assign(Object.assign({},f),{children:s}):Object.assign({},f);return!o.component&&(s||o.loadChildren)&&o.outlet&&o.outlet!==Kr&&(o.component=xd),o}function Fs(f){return f.outlet||Kr}function jp(f,s){const o=f.filter(g=>Fs(g)===s);return o.push(...f.filter(g=>Fs(g)!==s)),o}const th={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function mc(f,s,o){var g;if(""===s.path)return"full"===s.pathMatch&&(f.hasChildren()||o.length>0)?Object.assign({},th):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const x=(s.matcher||vd)(o,f,s);if(!x)return Object.assign({},th);const K={};hs(x.posParams,(Oe,gt)=>{K[gt]=Oe.path});const ne=x.consumed.length>0?Object.assign(Object.assign({},K),x.consumed[x.consumed.length-1].parameters):K;return{matched:!0,consumedSegments:x.consumed,lastChild:x.consumed.length,parameters:ne,positionalParamSegments:null!==(g=x.posParams)&&void 0!==g?g:{}}}function nh(f,s,o,g,E="corrected"){if(o.length>0&&function(f,s,o){return o.some(g=>rh(f,s,g)&&Fs(g)!==Kr)}(f,o,g)){const K=new Wr(s,function(f,s,o,g){const E={};E[Kr]=g,g._sourceSegment=f,g._segmentIndexShift=s.length;for(const x of o)if(""===x.path&&Fs(x)!==Kr){const K=new Wr([],{});K._sourceSegment=f,K._segmentIndexShift=s.length,E[Fs(x)]=K}return E}(f,s,g,new Wr(o,f.children)));return K._sourceSegment=f,K._segmentIndexShift=s.length,{segmentGroup:K,slicedSegments:[]}}if(0===o.length&&function(f,s,o){return o.some(g=>rh(f,s,g))}(f,o,g)){const K=new Wr(f.segments,function(f,s,o,g,E,x){const K={};for(const ne of g)if(rh(f,o,ne)&&!E[Fs(ne)]){const Oe=new Wr([],{});Oe._sourceSegment=f,Oe._segmentIndexShift="legacy"===x?f.segments.length:s.length,K[Fs(ne)]=Oe}return Object.assign(Object.assign({},E),K)}(f,s,o,g,f.children,E));return K._sourceSegment=f,K._segmentIndexShift=s.length,{segmentGroup:K,slicedSegments:o}}const x=new Wr(f.segments,f.children);return x._sourceSegment=f,x._segmentIndexShift=s.length,{segmentGroup:x,slicedSegments:o}}function rh(f,s,o){return(!(f.hasChildren()||s.length>0)||"full"!==o.pathMatch)&&""===o.path}function ka(f,s,o,g){return!!(Fs(f)===g||g!==Kr&&rh(s,o,f))&&("**"===f.path||mc(s,f,o).matched)}function Em(f,s,o){return 0===s.length&&!f.children[o]}class Bh{constructor(s){this.segmentGroup=s||null}}class ih{constructor(s){this.urlTree=s}}function Ol(f){return new Zo.y(s=>s.error(new Bh(f)))}function Ld(f){return new Zo.y(s=>s.error(new ih(f)))}function Bp(f){return new Zo.y(s=>s.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${f}'`)))}class So{constructor(s,o,g,E,x){this.configLoader=o,this.urlSerializer=g,this.urlTree=E,this.config=x,this.allowRedirects=!0,this.ngModule=s.get(m.h0i)}apply(){const s=nh(this.urlTree.root,[],[],this.config).segmentGroup,o=new Wr(s.segments,s.children);return this.expandSegmentGroup(this.ngModule,this.config,o,Kr).pipe((0,ui.U)(x=>this.createUrlTree(Vd(x),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ca(x=>{if(x instanceof ih)return this.allowRedirects=!1,this.match(x.urlTree);throw x instanceof Bh?this.noMatchError(x):x}))}match(s){return this.expandSegmentGroup(this.ngModule,this.config,s.root,Kr).pipe((0,ui.U)(E=>this.createUrlTree(Vd(E),s.queryParams,s.fragment))).pipe(ca(E=>{throw E instanceof Bh?this.noMatchError(E):E}))}noMatchError(s){return new Error(`Cannot match any routes. URL Segment: '${s.segmentGroup}'`)}createUrlTree(s,o,g){const E=s.segments.length>0?new Wr([],{[Kr]:s}):s;return new Yc(E,o,g)}expandSegmentGroup(s,o,g,E){return 0===g.segments.length&&g.hasChildren()?this.expandChildren(s,o,g).pipe((0,ui.U)(x=>new Wr([],x))):this.expandSegment(s,g,o,g.segments,E,!0)}expandChildren(s,o,g){const E=[];for(const x of Object.keys(g.children))"primary"===x?E.unshift(x):E.push(x);return(0,zi.D)(E).pipe(eu(x=>{const K=g.children[x],ne=jp(o,x);return this.expandSegmentGroup(s,ne,K,x).pipe((0,ui.U)(Oe=>({segment:Oe,outlet:x})))}),(0,$c.R)((x,K)=>(x[K.outlet]=K.segment,x),{}),function(f,s){const o=arguments.length>=2;return g=>g.pipe(f?Uf((E,x)=>f(E,x,g)):Rh.y,mp(1),o?Bf(s):cd(()=>new Cr))}())}expandSegment(s,o,g,E,x,K){return(0,zi.D)(g).pipe(eu(ne=>this.expandSegmentAgainstRoute(s,o,g,ne,E,x,K).pipe(ca(gt=>{if(gt instanceof Bh)return(0,R.of)(null);throw gt}))),tu(ne=>!!ne),ca((ne,Oe)=>{if(ne instanceof Cr||"EmptyError"===ne.name){if(Em(o,E,x))return(0,R.of)(new Wr([],{}));throw new Bh(o)}throw ne}))}expandSegmentAgainstRoute(s,o,g,E,x,K,ne){return ka(E,o,x,K)?void 0===E.redirectTo?this.matchSegmentAgainstRoute(s,o,E,x,K):ne&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(s,o,g,E,x,K):Ol(o):Ol(o)}expandSegmentAgainstRouteUsingRedirect(s,o,g,E,x,K){return"**"===E.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(s,g,E,K):this.expandRegularSegmentAgainstRouteUsingRedirect(s,o,g,E,x,K)}expandWildCardWithParamsAgainstRouteUsingRedirect(s,o,g,E){const x=this.applyRedirectCommands([],g.redirectTo,{});return g.redirectTo.startsWith("/")?Ld(x):this.lineralizeSegments(g,x).pipe((0,ks.zg)(K=>{const ne=new Wr(K,{});return this.expandSegment(s,ne,o,K,E,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(s,o,g,E,x,K){const{matched:ne,consumedSegments:Oe,lastChild:gt,positionalParamSegments:nn}=mc(o,E,x);if(!ne)return Ol(o);const un=this.applyRedirectCommands(Oe,E.redirectTo,nn);return E.redirectTo.startsWith("/")?Ld(un):this.lineralizeSegments(E,un).pipe((0,ks.zg)($n=>this.expandSegment(s,o,g,$n.concat(x.slice(gt)),K,!1)))}matchSegmentAgainstRoute(s,o,g,E,x){if("**"===g.path)return g.loadChildren?(g._loadedConfig?(0,R.of)(g._loadedConfig):this.configLoader.load(s.injector,g)).pipe((0,ui.U)($n=>(g._loadedConfig=$n,new Wr(E,{})))):(0,R.of)(new Wr(E,{}));const{matched:K,consumedSegments:ne,lastChild:Oe}=mc(o,g,E);if(!K)return Ol(o);const gt=E.slice(Oe);return this.getChildConfig(s,g,E).pipe((0,ks.zg)(un=>{const $n=un.module,Yn=un.routes,{segmentGroup:ir,slicedSegments:mr}=nh(o,ne,gt,Yn),Fr=new Wr(ir.segments,ir.children);if(0===mr.length&&Fr.hasChildren())return this.expandChildren($n,Yn,Fr).pipe((0,ui.U)(qo=>new Wr(ne,qo)));if(0===Yn.length&&0===mr.length)return(0,R.of)(new Wr(ne,{}));const Ki=Fs(g)===x;return this.expandSegment($n,Fr,Yn,mr,Ki?Kr:x,!0).pipe((0,ui.U)(Do=>new Wr(ne.concat(Do.segments),Do.children)))}))}getChildConfig(s,o,g){return o.children?(0,R.of)(new eh(o.children,s)):o.loadChildren?void 0!==o._loadedConfig?(0,R.of)(o._loadedConfig):this.runCanLoadGuards(s.injector,o,g).pipe((0,ks.zg)(E=>{return E?this.configLoader.load(s.injector,o).pipe((0,ui.U)(x=>(o._loadedConfig=x,x))):(f=o,new Zo.y(s=>s.error(Gf(`Cannot load children because the guard of the route "path: '${f.path}'" returned false`))));var f})):(0,R.of)(new eh([],s))}runCanLoadGuards(s,o,g){const E=o.canLoad;if(!E||0===E.length)return(0,R.of)(!0);const x=E.map(K=>{const ne=s.get(K);let Oe;if((f=ne)&&gc(f.canLoad))Oe=ne.canLoad(o,g);else{if(!gc(ne))throw new Error("Invalid CanLoad guard");Oe=ne(o,g)}var f;return Nu(Oe)});return(0,R.of)(x).pipe(Pd(),(0,xa.b)(K=>{if(!Go(K))return;const ne=Gf(`Redirecting to "${this.urlSerializer.serialize(K)}"`);throw ne.url=K,ne}),(0,ui.U)(K=>!0===K))}lineralizeSegments(s,o){let g=[],E=o.root;for(;;){if(g=g.concat(E.segments),0===E.numberOfChildren)return(0,R.of)(g);if(E.numberOfChildren>1||!E.children[Kr])return Bp(s.redirectTo);E=E.children[Kr]}}applyRedirectCommands(s,o,g){return this.applyRedirectCreatreUrlTree(o,this.urlSerializer.parse(o),s,g)}applyRedirectCreatreUrlTree(s,o,g,E){const x=this.createSegmentGroup(s,o.root,g,E);return new Yc(x,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(s,o){const g={};return hs(s,(E,x)=>{if("string"==typeof E&&E.startsWith(":")){const ne=E.substring(1);g[x]=o[ne]}else g[x]=E}),g}createSegmentGroup(s,o,g,E){const x=this.createSegments(s,o.segments,g,E);let K={};return hs(o.children,(ne,Oe)=>{K[Oe]=this.createSegmentGroup(s,ne,g,E)}),new Wr(x,K)}createSegments(s,o,g,E){return o.map(x=>x.path.startsWith(":")?this.findPosParam(s,x,E):this.findOrReturn(x,g))}findPosParam(s,o,g){const E=g[o.path.substring(1)];if(!E)throw new Error(`Cannot redirect to '${s}'. Cannot find '${o.path}'.`);return E}findOrReturn(s,o){let g=0;for(const E of o){if(E.path===s.path)return o.splice(g),E;g++}return s}}function Vd(f){const s={};for(const g of Object.keys(f.children)){const x=Vd(f.children[g]);(x.segments.length>0||x.hasChildren())&&(s[g]=x)}return function(f){if(1===f.numberOfChildren&&f.children[Kr]){const s=f.children[Kr];return new Wr(f.segments.concat(s.segments),s.children)}return f}(new Wr(f.segments,s))}class nf{constructor(s){this.path=s,this.route=this.path[this.path.length-1]}}class Hh{constructor(s,o){this.component=s,this.route=o}}function rf(f,s,o){const g=f._root;return vc(g,s?s._root:null,o,[g.value])}function Ud(f,s,o){const g=function(f){if(!f)return null;for(let s=f.parent;s;s=s.parent){const o=s.routeConfig;if(o&&o._loadedConfig)return o._loadedConfig}return null}(s);return(g?g.module.injector:o).get(f)}function vc(f,s,o,g,E={canDeactivateChecks:[],canActivateChecks:[]}){const x=Qf(s);return f.children.forEach(K=>{(function(f,s,o,g,E={canDeactivateChecks:[],canActivateChecks:[]}){const x=f.value,K=s?s.value:null,ne=o?o.getContext(f.value.outlet):null;if(K&&x.routeConfig===K.routeConfig){const Oe=function(f,s,o){if("function"==typeof o)return o(f,s);switch(o){case"pathParamsChange":return!nl(f.url,s.url);case"pathParamsOrQueryParamsChange":return!nl(f.url,s.url)||!fs(f.queryParams,s.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yf(f,s)||!fs(f.queryParams,s.queryParams);case"paramsChange":default:return!Yf(f,s)}}(K,x,x.routeConfig.runGuardsAndResolvers);Oe?E.canActivateChecks.push(new nf(g)):(x.data=K.data,x._resolvedData=K._resolvedData),vc(f,s,x.component?ne?ne.children:null:o,g,E),Oe&&ne&&ne.outlet&&ne.outlet.isActivated&&E.canDeactivateChecks.push(new Hh(ne.outlet.component,K))}else K&&ha(s,ne,E),E.canActivateChecks.push(new nf(g)),vc(f,null,x.component?ne?ne.children:null:o,g,E)})(K,x[K.value.outlet],o,g.concat([K.value]),E),delete x[K.value.outlet]}),hs(x,(K,ne)=>ha(K,o.getContext(ne),E)),E}function ha(f,s,o){const g=Qf(f),E=f.value;hs(g,(x,K)=>{ha(x,E.component?s?s.children.getContext(K):null:s,o)}),o.canDeactivateChecks.push(new Hh(E.component&&s&&s.outlet&&s.outlet.isActivated?s.outlet.component:null,E))}class of{}function Bg(f){return new Zo.y(s=>s.error(f))}class Wp{constructor(s,o,g,E,x,K){this.rootComponentType=s,this.config=o,this.urlTree=g,this.url=E,this.paramsInheritanceStrategy=x,this.relativeLinkResolution=K}recognize(){const s=nh(this.urlTree.root,[],[],this.config.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution).segmentGroup,o=this.processSegmentGroup(this.config,s,Kr);if(null===o)return null;const g=new Al([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kr,this.rootComponentType,null,this.urlTree.root,-1,{}),E=new Ou(g,o),x=new Og(this.url,E);return this.inheritParamsAndData(x._root),x}inheritParamsAndData(s){const o=s.value,g=hc(o,this.paramsInheritanceStrategy);o.params=Object.freeze(g.params),o.data=Object.freeze(g.data),s.children.forEach(E=>this.inheritParamsAndData(E))}processSegmentGroup(s,o,g){return 0===o.segments.length&&o.hasChildren()?this.processChildren(s,o):this.processSegment(s,o,o.segments,g)}processChildren(s,o){const g=[];for(const x of Object.keys(o.children)){const K=o.children[x],ne=jp(s,x),Oe=this.processSegmentGroup(ne,K,x);if(null===Oe)return null;g.push(...Oe)}const E=yc(g);return E.sort((s,o)=>s.value.outlet===Kr?-1:o.value.outlet===Kr?1:s.value.outlet.localeCompare(o.value.outlet)),E}processSegment(s,o,g,E){for(const x of s){const K=this.processSegmentAgainstRoute(x,o,g,E);if(null!==K)return K}return Em(o,g,E)?[]:null}processSegmentAgainstRoute(s,o,g,E){if(s.redirectTo||!ka(s,o,g,E))return null;let x,K=[],ne=[];if("**"===s.path){const Yn=g.length>0?cc(g).parameters:{};x=new Al(g,Yn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ls(s),Fs(s),s.component,s,Bd(o),Nm(o)+g.length,Ei(s))}else{const Yn=mc(o,s,g);if(!Yn.matched)return null;K=Yn.consumedSegments,ne=g.slice(Yn.lastChild),x=new Al(K,Yn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ls(s),Fs(s),s.component,s,Bd(o),Nm(o)+K.length,Ei(s))}const Oe=(f=s).children?f.children:f.loadChildren?f._loadedConfig.routes:[],{segmentGroup:gt,slicedSegments:nn}=nh(o,K,ne,Oe.filter(Yn=>void 0===Yn.redirectTo),this.relativeLinkResolution);var f;if(0===nn.length&&gt.hasChildren()){const Yn=this.processChildren(Oe,gt);return null===Yn?null:[new Ou(x,Yn)]}if(0===Oe.length&&0===nn.length)return[new Ou(x,[])];const un=Fs(s)===E,$n=this.processSegment(Oe,gt,nn,un?Kr:E);return null===$n?null:[new Ou(x,$n)]}}function Am(f){const s=f.value.routeConfig;return s&&""===s.path&&void 0===s.redirectTo}function yc(f){const s=[],o=new Set;for(const g of f){if(!Am(g)){s.push(g);continue}const E=s.find(x=>g.value.routeConfig===x.value.routeConfig);void 0!==E?(E.children.push(...g.children),o.add(E)):s.push(g)}for(const g of o){const E=yc(g.children);s.push(new Ou(g.value,E))}return s.filter(g=>!o.has(g))}function Bd(f){let s=f;for(;s._sourceSegment;)s=s._sourceSegment;return s}function Nm(f){let s=f,o=s._segmentIndexShift?s._segmentIndexShift:0;for(;s._sourceSegment;)s=s._sourceSegment,o+=s._segmentIndexShift?s._segmentIndexShift:0;return o-1}function Ls(f){return f.data||{}}function Ei(f){return f.resolve||{}}function _c(f){return(0,la.w)(s=>{const o=f(s);return o?(0,zi.D)(o).pipe((0,ui.U)(()=>s)):(0,R.of)(s)})}class zp extends class{shouldDetach(s){return!1}store(s,o){}shouldAttach(s){return!1}retrieve(s){return null}shouldReuseRoute(s,o){return s.routeConfig===o.routeConfig}}{}const Gd=new m.OlP("ROUTES");class Pl{constructor(s,o,g,E){this.loader=s,this.compiler=o,this.onLoadStartListener=g,this.onLoadEndListener=E}load(s,o){if(o._loader$)return o._loader$;this.onLoadStartListener&&this.onLoadStartListener(o);const E=this.loadModuleFactory(o.loadChildren).pipe((0,ui.U)(x=>{this.onLoadEndListener&&this.onLoadEndListener(o);const K=x.create(s);return new eh(yd(K.injector.get(Gd,void 0,m.XFs.Self|m.XFs.Optional)).map(xu),K)}),ca(x=>{throw o._loader$=void 0,x}));return o._loader$=new Il.c(E,()=>new U.xQ).pipe((0,_p.x)()),o._loader$}loadModuleFactory(s){return"string"==typeof s?(0,zi.D)(this.loader.load(s)):Nu(s()).pipe((0,ks.zg)(o=>o instanceof m.YKP?(0,R.of)(o):(0,zi.D)(this.compiler.compileModuleAsync(o))))}}class Wh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xl,this.attachRef=null}}class xl{constructor(){this.contexts=new Map}onChildOutletCreated(s,o){const g=this.getOrCreateContext(s);g.outlet=o,this.contexts.set(s,g)}onChildOutletDestroyed(s){const o=this.getContext(s);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const s=this.contexts;return this.contexts=new Map,s}onOutletReAttached(s){this.contexts=s}getOrCreateContext(s){let o=this.getContext(s);return o||(o=new Wh,this.contexts.set(s,o)),o}getContext(s){return this.contexts.get(s)||null}}class Wd{shouldProcessUrl(s){return!0}extract(s){return s}merge(s,o){return s}}function $d(f){throw f}function Om(f,s,o){return s.parse("/")}function Hg(f,s){return(0,R.of)(null)}const Kp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Is=(()=>{class f{constructor(o,g,E,x,K,ne,Oe,gt){this.rootComponentType=o,this.urlSerializer=g,this.rootContexts=E,this.location=x,this.config=gt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new U.xQ,this.errorHandler=$d,this.malformedUriErrorHandler=Om,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Hg,afterPreactivation:Hg},this.urlHandlingStrategy=new Wd,this.routeReuseStrategy=new zp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=K.get(m.h0i),this.console=K.get(m.c2e);const $n=K.get(m.R0b);this.isNgZoneEnabled=$n instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(gt),this.currentUrlTree=new Yc(new Wr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Pl(ne,Oe,Yn=>this.triggerEvent(new gd(Yn)),Yn=>this.triggerEvent(new md(Yn))),this.routerState=Zc(this.currentUrlTree,this.rootComponentType),this.transitions=new he({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var o;return null===(o=this.location.getState())||void 0===o?void 0:o.\u0275routerPageId}setupNavigations(o){const g=this.events;return o.pipe(Uf(E=>0!==E.id),(0,ui.U)(E=>Object.assign(Object.assign({},E),{extractedUrl:this.urlHandlingStrategy.extract(E.rawUrl)})),(0,la.w)(E=>{let x=!1,K=!1;return(0,R.of)(E).pipe((0,xa.b)(ne=>{this.currentNavigation={id:ne.id,initialUrl:ne.currentRawUrl,extractedUrl:ne.extractedUrl,trigger:ne.source,extras:ne.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,la.w)(ne=>{const Oe=this.browserUrlTree.toString(),gt=!this.navigated||ne.extractedUrl.toString()!==Oe||Oe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||gt)&&this.urlHandlingStrategy.shouldProcessUrl(ne.rawUrl))return sh(ne.source)&&(this.browserUrlTree=ne.extractedUrl),(0,R.of)(ne).pipe((0,la.w)(un=>{const $n=this.transitions.getValue();return g.next(new bp(un.id,this.serializeUrl(un.extractedUrl),un.source,un.restoredState)),$n!==this.transitions.getValue()?es.E:Promise.resolve(un)}),function(f,s,o,g){return(0,la.w)(E=>function(f,s,o,g,E){return new So(f,s,o,g,E).apply()}(f,s,o,E.extractedUrl,g).pipe((0,ui.U)(x=>Object.assign(Object.assign({},E),{urlAfterRedirects:x}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,xa.b)(un=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:un.urlAfterRedirects})}),function(f,s,o,g,E){return(0,ks.zg)(x=>function(f,s,o,g,E="emptyOnly",x="legacy"){try{const K=new Wp(f,s,o,g,E,x).recognize();return null===K?Bg(new of):(0,R.of)(K)}catch(K){return Bg(K)}}(f,s,x.urlAfterRedirects,o(x.urlAfterRedirects),g,E).pipe((0,ui.U)(K=>Object.assign(Object.assign({},x),{targetSnapshot:K}))))}(this.rootComponentType,this.config,un=>this.serializeUrl(un),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,xa.b)(un=>{"eager"===this.urlUpdateStrategy&&(un.extras.skipLocationChange||this.setBrowserUrl(un.urlAfterRedirects,un),this.browserUrlTree=un.urlAfterRedirects);const $n=new gg(un.id,this.serializeUrl(un.extractedUrl),this.serializeUrl(un.urlAfterRedirects),un.targetSnapshot);g.next($n)}));if(gt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$n,extractedUrl:Yn,source:ir,restoredState:mr,extras:Fr}=ne,Ki=new bp($n,this.serializeUrl(Yn),ir,mr);g.next(Ki);const Ui=Zc(Yn,this.rootComponentType).snapshot;return(0,R.of)(Object.assign(Object.assign({},ne),{targetSnapshot:Ui,urlAfterRedirects:Yn,extras:Object.assign(Object.assign({},Fr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ne.rawUrl,this.browserUrlTree=ne.urlAfterRedirects,ne.resolve(null),es.E}),_c(ne=>{const{targetSnapshot:Oe,id:gt,extractedUrl:nn,rawUrl:un,extras:{skipLocationChange:$n,replaceUrl:Yn}}=ne;return this.hooks.beforePreactivation(Oe,{navigationId:gt,appliedUrlTree:nn,rawUrlTree:un,skipLocationChange:!!$n,replaceUrl:!!Yn})}),(0,xa.b)(ne=>{const Oe=new Oh(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot);this.triggerEvent(Oe)}),(0,ui.U)(ne=>Object.assign(Object.assign({},ne),{guards:rf(ne.targetSnapshot,ne.currentSnapshot,this.rootContexts)})),function(f,s){return(0,ks.zg)(o=>{const{targetSnapshot:g,currentSnapshot:E,guards:{canActivateChecks:x,canDeactivateChecks:K}}=o;return 0===K.length&&0===x.length?(0,R.of)(Object.assign(Object.assign({},o),{guardsResult:!0})):function(f,s,o,g){return(0,zi.D)(f).pipe((0,ks.zg)(E=>function(f,s,o,g,E){const x=s&&s.routeConfig?s.routeConfig.canDeactivate:null;if(!x||0===x.length)return(0,R.of)(!0);const K=x.map(ne=>{const Oe=Ud(ne,s,E);let gt;if(function(f){return f&&gc(f.canDeactivate)}(Oe))gt=Nu(Oe.canDeactivate(f,s,o,g));else{if(!gc(Oe))throw new Error("Invalid CanDeactivate guard");gt=Nu(Oe(f,s,o,g))}return gt.pipe(tu())});return(0,R.of)(K).pipe(Pd())}(E.component,E.route,o,s,g)),tu(E=>!0!==E,!0))}(K,g,E,f).pipe((0,ks.zg)(ne=>ne&&function(f){return"boolean"==typeof f}(ne)?function(f,s,o,g){return(0,zi.D)(s).pipe(eu(E=>Ai(function(f,s){return null!==f&&s&&s(new yg(f)),(0,R.of)(!0)}(E.route.parent,g),function(f,s){return null!==f&&s&&s(new _g(f)),(0,R.of)(!0)}(E.route,g),function(f,s,o){const g=s[s.length-1],x=s.slice(0,s.length-1).reverse().map(K=>function(f){const s=f.routeConfig?f.routeConfig.canActivateChild:null;return s&&0!==s.length?{node:f,guards:s}:null}(K)).filter(K=>null!==K).map(K=>Tr(()=>{const ne=K.guards.map(Oe=>{const gt=Ud(Oe,K.node,o);let nn;if(function(f){return f&&gc(f.canActivateChild)}(gt))nn=Nu(gt.canActivateChild(g,f));else{if(!gc(gt))throw new Error("Invalid CanActivateChild guard");nn=Nu(gt(g,f))}return nn.pipe(tu())});return(0,R.of)(ne).pipe(Pd())}));return(0,R.of)(x).pipe(Pd())}(f,E.path,o),function(f,s,o){const g=s.routeConfig?s.routeConfig.canActivate:null;if(!g||0===g.length)return(0,R.of)(!0);const E=g.map(x=>Tr(()=>{const K=Ud(x,s,o);let ne;if(function(f){return f&&gc(f.canActivate)}(K))ne=Nu(K.canActivate(s,f));else{if(!gc(K))throw new Error("Invalid CanActivate guard");ne=Nu(K(s,f))}return ne.pipe(tu())}));return(0,R.of)(E).pipe(Pd())}(f,E.route,o))),tu(E=>!0!==E,!0))}(g,x,f,s):(0,R.of)(ne)),(0,ui.U)(ne=>Object.assign(Object.assign({},o),{guardsResult:ne})))})}(this.ngModule.injector,ne=>this.triggerEvent(ne)),(0,xa.b)(ne=>{if(Go(ne.guardsResult)){const gt=Gf(`Redirecting to "${this.serializeUrl(ne.guardsResult)}"`);throw gt.url=ne.guardsResult,gt}const Oe=new fa(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot,!!ne.guardsResult);this.triggerEvent(Oe)}),Uf(ne=>!!ne.guardsResult||(this.restoreHistory(ne),this.cancelNavigationTransition(ne,""),!1)),_c(ne=>{if(ne.guards.canActivateChecks.length)return(0,R.of)(ne).pipe((0,xa.b)(Oe=>{const gt=new mg(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot);this.triggerEvent(gt)}),(0,la.w)(Oe=>{let gt=!1;return(0,R.of)(Oe).pipe(function(f,s){return(0,ks.zg)(o=>{const{targetSnapshot:g,guards:{canActivateChecks:E}}=o;if(!E.length)return(0,R.of)(o);let x=0;return(0,zi.D)(E).pipe(eu(K=>function(f,s,o,g){return function(f,s,o,g){const E=Object.keys(f);if(0===E.length)return(0,R.of)({});const x={};return(0,zi.D)(E).pipe((0,ks.zg)(K=>function(f,s,o,g){const E=Ud(f,s,g);return Nu(E.resolve?E.resolve(s,o):E(s,o))}(f[K],s,o,g).pipe((0,xa.b)(ne=>{x[K]=ne}))),mp(1),(0,ks.zg)(()=>Object.keys(x).length===E.length?(0,R.of)(x):es.E))}(f._resolve,f,s,g).pipe((0,ui.U)(x=>(f._resolvedData=x,f.data=Object.assign(Object.assign({},f.data),hc(f,o).resolve),null)))}(K.route,g,f,s)),(0,xa.b)(()=>x++),mp(1),(0,ks.zg)(K=>x===E.length?(0,R.of)(o):es.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,xa.b)({next:()=>gt=!0,complete:()=>{gt||(this.restoreHistory(Oe),this.cancelNavigationTransition(Oe,"At least one route resolver didn't emit any value."))}}))}),(0,xa.b)(Oe=>{const gt=new vg(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot);this.triggerEvent(gt)}))}),_c(ne=>{const{targetSnapshot:Oe,id:gt,extractedUrl:nn,rawUrl:un,extras:{skipLocationChange:$n,replaceUrl:Yn}}=ne;return this.hooks.afterPreactivation(Oe,{navigationId:gt,appliedUrlTree:nn,rawUrlTree:un,skipLocationChange:!!$n,replaceUrl:!!Yn})}),(0,ui.U)(ne=>{const Oe=function(f,s,o){const g=pc(f,s._root,o?o._root:void 0);return new Sd(g,s)}(this.routeReuseStrategy,ne.targetSnapshot,ne.currentRouterState);return Object.assign(Object.assign({},ne),{targetRouterState:Oe})}),(0,xa.b)(ne=>{this.currentUrlTree=ne.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl),this.routerState=ne.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ne.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ne),this.browserUrlTree=ne.urlAfterRedirects)}),((f,s,o)=>(0,ui.U)(g=>(new Fp(s,g.targetRouterState,g.currentRouterState,o).activate(f),g)))(this.rootContexts,this.routeReuseStrategy,ne=>this.triggerEvent(ne)),(0,xa.b)({next(){x=!0},complete(){x=!0}}),function(f){return s=>s.lift(new Hf(f))}(()=>{var ne;if(!x&&!K){const Oe=`Navigation ID ${E.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(E),this.cancelNavigationTransition(E,Oe)):this.cancelNavigationTransition(E,Oe)}(null===(ne=this.currentNavigation)||void 0===ne?void 0:ne.id)===E.id&&(this.currentNavigation=null)}),ca(ne=>{if(K=!0,function(f){return f&&f[lc]}(ne)){const Oe=Go(ne.url);Oe||(this.navigated=!0,this.restoreHistory(E,!0));const gt=new pg(E.id,this.serializeUrl(E.extractedUrl),ne.message);g.next(gt),Oe?setTimeout(()=>{const nn=this.urlHandlingStrategy.merge(ne.url,this.rawUrlTree),un={skipLocationChange:E.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sh(E.source)};this.scheduleNavigation(nn,"imperative",null,un,{resolve:E.resolve,reject:E.reject,promise:E.promise})},0):E.resolve(!1)}else{this.restoreHistory(E,!0);const Oe=new Ep(E.id,this.serializeUrl(E.extractedUrl),ne);g.next(Oe);try{E.resolve(this.errorHandler(ne))}catch(gt){E.reject(gt)}}return es.E}))}))}resetRootComponentType(o){this.rootComponentType=o,this.routerState.root.component=this.rootComponentType}getTransition(){const o=this.transitions.value;return o.urlAfterRedirects=this.browserUrlTree,o}setTransition(o){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),o))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(o=>{const g=this.extractLocationChangeInfoFromEvent(o);this.shouldScheduleNavigation(this.lastLocationChangeInfo,g)&&setTimeout(()=>{const{source:E,state:x,urlTree:K}=g,ne={replaceUrl:!0};if(x){const Oe=Object.assign({},x);delete Oe.navigationId,delete Oe.\u0275routerPageId,0!==Object.keys(Oe).length&&(ne.state=Oe)}this.scheduleNavigation(K,E,x,ne)},0),this.lastLocationChangeInfo=g}))}extractLocationChangeInfoFromEvent(o){var g;return{source:"popstate"===o.type?"popstate":"hashchange",urlTree:this.parseUrl(o.url),state:(null===(g=o.state)||void 0===g?void 0:g.navigationId)?o.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(o,g){if(!o)return!0;const E=g.urlTree.toString()===o.urlTree.toString();return g.transitionId!==o.transitionId||!E||!("hashchange"===g.source&&"popstate"===o.source||"popstate"===g.source&&"hashchange"===o.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(o){this.events.next(o)}resetConfig(o){Md(o),this.config=o.map(xu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(o,g={}){const{relativeTo:E,queryParams:x,fragment:K,queryParamsHandling:ne,preserveFragment:Oe}=g,gt=E||this.routerState.root,nn=Oe?this.currentUrlTree.fragment:K;let un=null;switch(ne){case"merge":un=Object.assign(Object.assign({},this.currentUrlTree.queryParams),x);break;case"preserve":un=this.currentUrlTree.queryParams;break;default:un=x||null}return null!==un&&(un=this.removeEmptyProps(un)),function(f,s,o,g,E){if(0===o.length)return Xf(s.root,s.root,s,g,E);const x=function(f){if("string"==typeof f[0]&&1===f.length&&"/"===f[0])return new Op(!0,0,f);let s=0,o=!1;const g=f.reduce((E,x,K)=>{if("object"==typeof x&&null!=x){if(x.outlets){const ne={};return hs(x.outlets,(Oe,gt)=>{ne[gt]="string"==typeof Oe?Oe.split("/"):Oe}),[...E,{outlets:ne}]}if(x.segmentPath)return[...E,x.segmentPath]}return"string"!=typeof x?[...E,x]:0===K?(x.split("/").forEach((ne,Oe)=>{0==Oe&&"."===ne||(0==Oe&&""===ne?o=!0:".."===ne?s++:""!=ne&&E.push(ne))}),E):[...E,x]},[]);return new Op(o,s,g)}(o);if(x.toRoot())return Xf(s.root,new Wr([],{}),s,g,E);const K=function(f,s,o){if(f.isAbsolute)return new Pp(s.root,!0,0);if(-1===o.snapshot._lastPathIndex){const x=o.snapshot._urlSegment;return new Pp(x,x===s.root,0)}const g=Zf(f.commands[0])?0:1;return function(f,s,o){let g=f,E=s,x=o;for(;x>E;){if(x-=E,g=g.parent,!g)throw new Error("Invalid number of '../'");E=g.segments.length}return new Pp(g,!1,E-x)}(o.snapshot._urlSegment,o.snapshot._lastPathIndex+g,f.numberOfDoubleDots)}(x,s,f),ne=K.processChildren?Mp(K.segmentGroup,K.index,x.commands):Uh(K.segmentGroup,K.index,x.commands);return Xf(K.segmentGroup,ne,s,g,E)}(gt,this.currentUrlTree,o,un,null!=nn?nn:null)}navigateByUrl(o,g={skipLocationChange:!1}){const E=Go(o)?o:this.parseUrl(o),x=this.urlHandlingStrategy.merge(E,this.rawUrlTree);return this.scheduleNavigation(x,"imperative",null,g)}navigate(o,g={skipLocationChange:!1}){return function(f){for(let s=0;s<f.length;s++){const o=f[s];if(null==o)throw new Error(`The requested path contains ${o} segment at index ${s}`)}}(o),this.navigateByUrl(this.createUrlTree(o,g),g)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){let g;try{g=this.urlSerializer.parse(o)}catch(E){g=this.malformedUriErrorHandler(E,this.urlSerializer,o)}return g}isActive(o,g){let E;if(E=!0===g?Object.assign({},Kp):!1===g?Object.assign({},Qp):g,Go(o))return Mh(this.currentUrlTree,o,E);const x=this.parseUrl(o);return Mh(this.currentUrlTree,x,E)}removeEmptyProps(o){return Object.keys(o).reduce((g,E)=>{const x=o[E];return null!=x&&(g[E]=x),g},{})}processNavigations(){this.navigations.subscribe(o=>{this.navigated=!0,this.lastSuccessfulId=o.id,this.currentPageId=o.targetPageId,this.events.next(new Kc(o.id,this.serializeUrl(o.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,o.resolve(!0)},o=>{this.console.warn(`Unhandled Navigation Error: ${o}`)})}scheduleNavigation(o,g,E,x,K){var ne,Oe;if(this.disposed)return Promise.resolve(!1);const gt=this.getTransition(),nn=sh(g)&&gt&&!sh(gt.source),Yn=(this.lastSuccessfulId===gt.id||this.currentNavigation?gt.rawUrl:gt.urlAfterRedirects).toString()===o.toString();if(nn&&Yn)return Promise.resolve(!0);let ir,mr,Fr;K?(ir=K.resolve,mr=K.reject,Fr=K.promise):Fr=new Promise((Do,qo)=>{ir=Do,mr=qo});const Ki=++this.navigationId;let Ui;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(E=this.location.getState()),Ui=E&&E.\u0275routerPageId?E.\u0275routerPageId:x.replaceUrl||x.skipLocationChange?null!==(ne=this.browserPageId)&&void 0!==ne?ne:0:(null!==(Oe=this.browserPageId)&&void 0!==Oe?Oe:0)+1):Ui=0,this.setTransition({id:Ki,targetPageId:Ui,source:g,restoredState:E,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:o,extras:x,resolve:ir,reject:mr,promise:Fr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Fr.catch(Do=>Promise.reject(Do))}setBrowserUrl(o,g){const E=this.urlSerializer.serialize(o),x=Object.assign(Object.assign({},g.extras.state),this.generateNgRouterState(g.id,g.targetPageId));this.location.isCurrentPathEqualTo(E)||g.extras.replaceUrl?this.location.replaceState(E,"",x):this.location.go(E,"",x)}restoreHistory(o,g=!1){var E,x;if("computed"===this.canceledNavigationResolution){const K=this.currentPageId-o.targetPageId;"popstate"!==o.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(E=this.currentNavigation)||void 0===E?void 0:E.finalUrl)||0===K?this.currentUrlTree===(null===(x=this.currentNavigation)||void 0===x?void 0:x.finalUrl)&&0===K&&(this.resetState(o),this.browserUrlTree=o.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(K)}else"replace"===this.canceledNavigationResolution&&(g&&this.resetState(o),this.resetUrlToCurrentUrlTree())}resetState(o){this.routerState=o.currentRouterState,this.currentUrlTree=o.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(o,g){const E=new pg(o.id,this.serializeUrl(o.extractedUrl),g);this.triggerEvent(E),o.resolve(!1)}generateNgRouterState(o,g){return"computed"===this.canceledNavigationResolution?{navigationId:o,\u0275routerPageId:g}:{navigationId:o}}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(m.DyG),m.LFG(Sp),m.LFG(xl),m.LFG(k.Ye),m.LFG(m.zs3),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(void 0))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})();function sh(f){return"imperative"!==f}let ah=(()=>{class f{constructor(o,g,E){this.router=o,this.route=g,this.locationStrategy=E,this.commands=[],this.onChanges=new U.xQ,this.subscription=o.events.subscribe(x=>{x instanceof Kc&&this.updateTargetUrlAndHref()})}set routerLink(o){this.commands=null!=o?Array.isArray(o)?o:[o]:[]}ngOnChanges(o){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(o,g,E,x,K){if(0!==o||g||E||x||K||"string"==typeof this.target&&"_self"!=this.target)return!0;const ne={skipLocationChange:$h(this.skipLocationChange),replaceUrl:$h(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ne),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$h(this.preserveFragment)})}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(Is),m.Y36(Pu),m.Y36(k.S$))},f.\u0275dir=m.lG2({type:f,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(o,g){1&o&&m.NdJ("click",function(x){return g.onClick(x.button,x.ctrlKey,x.shiftKey,x.altKey,x.metaKey)}),2&o&&(m.Ikx("href",g.href,m.LSH),m.uIk("target",g.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[m.TTD]}),f})();function $h(f){return""===f||!!f}let zh=(()=>{class f{constructor(o,g,E,x,K){this.parentContexts=o,this.location=g,this.resolver=E,this.changeDetector=K,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.name=x||Kr,o.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const o=this.parentContexts.getContext(this.name);o&&o.route&&(o.attachRef?this.attach(o.attachRef,o.route):this.activateWith(o.route,o.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const o=this.activated;return this.activated=null,this._activatedRoute=null,o}attach(o,g){this.activated=o,this._activatedRoute=g,this.location.insert(o.hostView)}deactivate(){if(this.activated){const o=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(o)}}activateWith(o,g){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=o;const K=(g=g||this.resolver).resolveComponentFactory(o._futureSnapshot.routeConfig.component),ne=this.parentContexts.getOrCreateContext(this.name).children,Oe=new Zp(o,ne,this.location.injector);this.activated=this.location.createComponent(K,this.location.length,Oe),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(xl),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},f.\u0275dir=m.lG2({type:f,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),f})();class Zp{constructor(s,o,g){this.route=s,this.childContexts=o,this.parent=g}get(s,o){return s===Pu?this.route:s===xl?this.childContexts:this.parent.get(s,o)}}class zd{}class da{preload(s,o){return(0,R.of)(null)}}let ts=(()=>{class f{constructor(o,g,E,x,K){this.router=o,this.injector=x,this.preloadingStrategy=K,this.loader=new Pl(g,E,gt=>o.triggerEvent(new gd(gt)),gt=>o.triggerEvent(new md(gt)))}setUpPreloading(){this.subscription=this.router.events.pipe(Uf(o=>o instanceof Kc),eu(()=>this.preload())).subscribe(()=>{})}preload(){const o=this.injector.get(m.h0i);return this.processRoutes(o,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(o,g){const E=[];for(const x of g)if(x.loadChildren&&!x.canLoad&&x._loadedConfig){const K=x._loadedConfig;E.push(this.processRoutes(K.module,K.routes))}else x.loadChildren&&!x.canLoad?E.push(this.preloadConfig(o,x)):x.children&&E.push(this.processRoutes(o,x.children));return(0,zi.D)(E).pipe((0,Rr.J)(),(0,ui.U)(x=>{}))}preloadConfig(o,g){return this.preloadingStrategy.preload(g,()=>(g._loadedConfig?(0,R.of)(g._loadedConfig):this.loader.load(o.injector,g)).pipe((0,ks.zg)(x=>(g._loadedConfig=x,this.processRoutes(x.module,x.routes)))))}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(Is),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(zd))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})(),af=(()=>{class f{constructor(o,g,E={}){this.router=o,this.viewportScroller=g,this.options=E,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},E.scrollPositionRestoration=E.scrollPositionRestoration||"disabled",E.anchorScrolling=E.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(o=>{o instanceof bp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=o.navigationTrigger,this.restoredId=o.restoredState?o.restoredState.navigationId:0):o instanceof Kc&&(this.lastId=o.id,this.scheduleScrollEvent(o,this.router.parseUrl(o.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(o=>{o instanceof wg&&(o.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(o.position):o.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(o.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(o,g){this.router.triggerEvent(new wg(o,"popstate"===this.lastSource?this.store[this.restoredId]:null,g))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(Is),m.LFG(k.EM),m.LFG(void 0))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})();const bc=new m.OlP("ROUTER_CONFIGURATION"),Jp=new m.OlP("ROUTER_FORROOT_GUARD"),Ec=[k.Ye,{provide:Sp,useClass:wd},{provide:Is,useFactory:function(f,s,o,g,E,x,K,ne={},Oe,gt){const nn=new Is(null,f,s,o,g,E,x,yd(K));return Oe&&(nn.urlHandlingStrategy=Oe),gt&&(nn.routeReuseStrategy=gt),function(f,s){f.errorHandler&&(s.errorHandler=f.errorHandler),f.malformedUriErrorHandler&&(s.malformedUriErrorHandler=f.malformedUriErrorHandler),f.onSameUrlNavigation&&(s.onSameUrlNavigation=f.onSameUrlNavigation),f.paramsInheritanceStrategy&&(s.paramsInheritanceStrategy=f.paramsInheritanceStrategy),f.relativeLinkResolution&&(s.relativeLinkResolution=f.relativeLinkResolution),f.urlUpdateStrategy&&(s.urlUpdateStrategy=f.urlUpdateStrategy)}(ne,nn),ne.enableTracing&&nn.events.subscribe(un=>{var $n,Yn;null===($n=console.group)||void 0===$n||$n.call(console,`Router Event: ${un.constructor.name}`),console.log(un.toString()),console.log(un),null===(Yn=console.groupEnd)||void 0===Yn||Yn.call(console)}),nn},deps:[Sp,xl,k.Ye,m.zs3,m.v3s,m.Sil,Gd,bc,[class{},new m.FiY],[class{},new m.FiY]]},xl,{provide:Pu,useFactory:function(f){return f.routerState.root},deps:[Is]},{provide:m.v3s,useClass:m.EAV},ts,da,class{preload(s,o){return o().pipe(ca(()=>(0,R.of)(null)))}},{provide:bc,useValue:{enableTracing:!1}}];function xm(){return new m.PXZ("Router",Is)}let Cc=(()=>{class f{constructor(o,g){}static forRoot(o,g){return{ngModule:f,providers:[Ec,Io(o),{provide:Jp,useFactory:lh,deps:[[Is,new m.FiY,new m.tp0]]},{provide:bc,useValue:g||{}},{provide:k.S$,useFactory:Wg,deps:[k.lw,[new m.tBr(k.mr),new m.FiY],bc]},{provide:af,useFactory:Kh,deps:[Is,k.EM,bc]},{provide:zd,useExisting:g&&g.preloadingStrategy?g.preloadingStrategy:da},{provide:m.PXZ,multi:!0,useFactory:xm},[Kd,{provide:m.ip1,multi:!0,useFactory:Mm,deps:[Kd]},{provide:c,useFactory:n,deps:[Kd]},{provide:m.tb,multi:!0,useExisting:c}]]}}static forChild(o){return{ngModule:f,providers:[Io(o)]}}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(Jp,8),m.LFG(Is,8))},f.\u0275mod=m.oAB({type:f}),f.\u0275inj=m.cJS({}),f})();function Kh(f,s,o){return o.scrollOffset&&s.setOffset(o.scrollOffset),new af(f,s,o)}function Wg(f,s,o={}){return o.useHash?new k.Do(f,s):new k.b0(f,s)}function lh(f){return"guarded"}function Io(f){return[{provide:m.deG,multi:!0,useValue:f},{provide:Gd,multi:!0,useValue:f}]}let Kd=(()=>{class f{constructor(o){this.injector=o,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new U.xQ}appInitializer(){return this.injector.get(k.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let g=null;const E=new Promise(ne=>g=ne),x=this.injector.get(Is),K=this.injector.get(bc);return"disabled"===K.initialNavigation?(x.setUpLocationChangeListener(),g(!0)):"enabled"===K.initialNavigation||"enabledBlocking"===K.initialNavigation?(x.hooks.afterPreactivation=()=>this.initNavigation?(0,R.of)(null):(this.initNavigation=!0,g(!0),this.resultOfPreactivationDone),x.initialNavigation()):g(!0),E})}bootstrapListener(o){const g=this.injector.get(bc),E=this.injector.get(ts),x=this.injector.get(af),K=this.injector.get(Is),ne=this.injector.get(m.z2F);o===ne.components[0]&&(("enabledNonBlocking"===g.initialNavigation||void 0===g.initialNavigation)&&K.initialNavigation(),E.setUpPreloading(),x.init(),K.resetRootComponentType(ne.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(m.zs3))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})();function Mm(f){return f.appInitializer.bind(f)}function n(f){return f.bootstrapListener.bind(f)}const c=new m.OlP("Router Initializer");var B=pe(7117);let ie=(()=>{class f{constructor(o){this.afAuth=o}getIfUserIsLoggedIn(){return(0,R.of)({isLoggedIn:!1})}login(){this.afAuth.auth.signInWithRedirect(new B.auth.GoogleAuthProvider)}logout(){this.afAuth.auth.signOut()}authState(){this.afAuth.authState.subscribe(o=>{console.log(o)})}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(I.AngularFireAuth))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),me=(()=>{class f{constructor(){}ngOnInit(){}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-header"]],decls:12,vars:0,consts:[["id","main-header",1,"w-full","relative","z-10","mb-5"],[1,"opacity-60","h-16","w-full","z-0","dark"],[1,"center-fixed-x","absolute","z-50","font-bold","rounded","text-center","top-3","sm:px-2","text-white"],[1,"border-light","rounded","p-1","box-shadow-2","logo-bg"],[1,"text-xl","font-black","text-light"],[1,"text-xl","text-light","font-black"]],template:function(o,g){1&o&&(m.TgZ(0,"header",0),m._UZ(1,"div",1),m.TgZ(2,"section",2),m.TgZ(3,"h2",3),m.TgZ(4,"span",4),m._uU(5,"F"),m.qZA(),m._uU(6,"ind the "),m.TgZ(7,"span",4),m._uU(8,"P"),m.qZA(),m._uU(9,"airs "),m.TgZ(10,"span",5),m._uU(11," ||"),m.qZA(),m.qZA(),m.qZA(),m.qZA())},styles:[""]}),f})(),Qe=(()=>{class f{constructor(){}ngOnInit(){}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-footer"]],decls:22,vars:0,consts:[[1,"grid","grid-cols-12","gradient","py-6","font-bold","text-white","rounded"],[1,"col-span-10","col-start-2","lg:col-span-4","lg:col-start-5"],[1,"text-xl","max-w-max","border-light","rounded","box-shadow","logo-bg","p-1"],[1,"text-4xl","font-black","text-light"],[1,"col-span-10","col-start-2","lg:col-span-4","lg:col-start-5","mt-4","text-sm","italic"],[1,"col-span-10","col-start-2","lg:col-span-4","lg:col-start-5","mt-2","mb-4"],["target","_BLANK","href","https://www.linkedin.com/in/david-lidebrandt-5842411b6/",1,"inline"],[1,"fab","transparent","fa-linkedin","text-4xl","text-white","mr-2","hover-text-light","hover:scale-125","transition-transform","duration-700"],["target","_BLANK","href","https://github.com/davidlidebrandt",1,"inline"],[1,"fab","fa-github-square","text-4xl","text-white","mx-2","hover-text-light","hover:scale-125","transition-transform","duration-700"],[1,"col-span-10","col-start-2","lg:col-span-4","lg:col-start-5","pt-4","underline"],["href","https://www.freepik.com/","target","_blank","rel","noopener noreferrer",1,"hover-text-light","text-sm"]],template:function(o,g){1&o&&(m.TgZ(0,"footer",0),m.TgZ(1,"div",1),m.TgZ(2,"h2",2),m._UZ(3,"span"),m.TgZ(4,"span",3),m._uU(5,"F"),m.qZA(),m._uU(6,"ind the "),m.TgZ(7,"span",3),m._uU(8,"P"),m.qZA(),m._uU(9,"airs "),m.TgZ(10,"span",3),m._uU(11," ||"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(12,"p",4),m._uU(13,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Praesentium eligendi fuga, iure rem molestiae alias repellendus ipsum doloremque, ex totam maiores harum, magnam beatae deleniti non at dignissimos accusantium inventore. "),m.qZA(),m.TgZ(14,"div",5),m.TgZ(15,"a",6),m._UZ(16,"i",7),m.qZA(),m.TgZ(17,"a",8),m._UZ(18,"i",9),m.qZA(),m.qZA(),m.TgZ(19,"div",10),m.TgZ(20,"a",11),m._uU(21,"Background vector from Freepik"),m.qZA(),m.qZA(),m.qZA())},styles:[""]}),f})(),Gt=(()=>{class f{constructor(){}ngOnInit(){}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-best-scores"]],decls:2,vars:0,template:function(o,g){1&o&&(m.TgZ(0,"p"),m._uU(1,"best-scores works!"),m.qZA())},styles:[""]}),f})(),hn=(()=>{class f{constructor(){}ngOnInit(){}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-leader-board"]],decls:24,vars:0,consts:[[1,"w-5/6","m-auto","medium","text-white"],[1,"w-full","text-white"],[1,"m-auto","w-full","grid","grid-cols-12","mb-1"],[1,"block","col-span-6","box-shadow","darker","m-1","rounded-t"],[1,"material-icons","align-bottom","text-3xl"],[1,"sr-only"],[1,"block","col-span-6","box-shadow","darker","m-1","ml-0","rounded-t"],[1,"w-full","text-center"],[1,"m-auto","w-full","grid","grid-cols-12","font-bold","my-1"],[1,"block","col-span-6","box-shadow","mx-1","light"],[1,"block","col-span-6","box-shadow","mr-1","light"],[1,"block","col-span-6","box-shadow","mx-1","medium"],[1,"block","col-span-6","box-shadow","mr-1","medium"]],template:function(o,g){1&o&&(m.TgZ(0,"table",0),m.TgZ(1,"thead",1),m.TgZ(2,"tr",2),m.TgZ(3,"th",3),m.TgZ(4,"span",4),m._uU(5," account_circle "),m.TgZ(6,"span",5),m._uU(7,"Username"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"th",6),m.TgZ(9,"span",4),m._uU(10," sports_score "),m.TgZ(11,"span",5),m._uU(12,"Score"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(13,"tbody",7),m.TgZ(14,"tr",8),m.TgZ(15,"td",9),m._uU(16,"Great"),m.qZA(),m.TgZ(17,"td",10),m._uU(18,"400"),m.qZA(),m.qZA(),m.TgZ(19,"tr",8),m.TgZ(20,"td",11),m._uU(21,"Some"),m.qZA(),m.TgZ(22,"td",12),m._uU(23,"300"),m.qZA(),m.qZA(),m.qZA(),m.qZA())},styles:[""]}),f})(),rr=(()=>{class f{constructor(){}ngOnInit(){}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-how-to-play"]],decls:7,vars:0,consts:[["id","how-to-text",1,"h-[50vh]","dark","w-5/6","text-white","m-auto","rounded","overflow-y-scroll","px-2"]],template:function(o,g){1&o&&(m.TgZ(0,"section",0),m.TgZ(1,"p"),m._uU(2,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sunt soluta sed sint quas. Fuga inventore totam similique perferendis quaerat deleniti a assumenda accusamus quo cupiditate dolore natus, reprehenderit magni expedita? "),m.qZA(),m.TgZ(3,"p"),m._uU(4,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo necessitatibus optio enim soluta! Totam perferendis repudiandae modi inventore veritatis accusamus quam minima sunt optio expedita, nulla consequatur, voluptatibus, aliquam facilis."),m.qZA(),m.TgZ(5,"p"),m._uU(6,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quod neque nisi autem quos? Inventore earum similique, facere consectetur, aliquid ex quae nesciunt, quis voluptatem quam distinctio sunt tempora! Labore, quia?"),m.qZA(),m.qZA())},styles:[""]}),f})(),Xr=(()=>{class f{constructor(){}getSettings(){const o=localStorage.getItem("sound"),g=localStorage.getItem("level");return console.log(o),(0,R.of)({sound:null!=o?o:"off",level:null!=g?g:"easy"})}setSettings(o,g){return"off"!==o&&"on"!==o||"easy"!==g&&"medium"!==g&&"hard"!==g?(console.log("here"),"Error applying settings, faulty values"):(localStorage.setItem("sound",o),localStorage.setItem("level",g),"Your settings was applied")}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),ri=(()=>{class f{constructor(o){this.settings=o}ngOnInit(){this.settings.getSettings().subscribe(o=>{this.currentSettings=o}),this.soundOn="on"===this.currentSettings.sound,this.level=this.currentSettings.level}getSettingsFromForm(o){o.preventDefault();const g=document.querySelector("#settings-form"),E=new FormData(g),x=E.get("sound"),K=E.get("level");this.setSettings(x,K)}setSettings(o,g){this.settings.setSettings(o,g);const E=document.querySelector("#closeHomeModal");null==E||E.click()}toggleSound(o){this.soundOn=o}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(Xr))},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-settings"]],decls:33,vars:5,consts:[["id","settings-form","action","POST",1,"grid","place-items-center","px-3","py-2",3,"submit"],[1,"pb-6","light","text-center","rounded","w-full","box-shadow"],[1,"text-white"],[1,"font-bold","block","rounded-t","p-2","w-full","text-xl","mb-4"],[1,"material-icons","align-middle"],[1,"dark","w-1/3","inline-block","m-auto","rounded","p-2","cursor-pointer",3,"click"],["for","sound-off",1,"font-bold"],[1,"cursor-pointer"],["type","radio","id","sound-off","name","sound","value","off",1,"mx-2","cursor-pointer",3,"checked"],[1,"dark","w-1/3","m-auto","mx-3","inline-block","rounded","p-2","cursor-pointer",3,"click"],["for","sound-on ml-3 font-bold",1,"font-bold"],["type","radio","id","sound-on","name","sound","value","on",1,"mx-2","cursor-pointer",3,"checked"],[1,"m-3","pb-6","light","text-center","rounded","w-full","box-shadow"],["for","level",1,"text-white","font-bold","mb-4","p-2","block","w-full","rounded-t","text-xl"],["name","level","id","level",1,"font-bold","block","m-auto","mt-3","text-white","dark","rounded","text-center","p-2","cursor-pointer"],["id","easy","value","easy",1,"font-bold"],["id","easy","id","medium","value","medium",1,"font-bold"],["id","easy","id","hard","value","hard",1,"font-bold"],[1,"darkest","relative","box-shadow","text-white","hover-light","hover-text-darkest","transition-all","duration-700","py-3","w-full","my-4","rounded","font-bold","mb-3"],[1,"material-icons","align-bottom","absolute","right-2"]],template:function(o,g){1&o&&(m.TgZ(0,"form",0),m.NdJ("submit",function(x){return g.getSettingsFromForm(x)}),m.TgZ(1,"div",1),m.TgZ(2,"fieldset",2),m.TgZ(3,"legend",3),m._uU(4," Sound "),m.TgZ(5,"span",4),m._uU(6,"volume_down"),m.qZA(),m.qZA(),m.TgZ(7,"div",5),m.NdJ("click",function(){return g.toggleSound(!1)}),m.TgZ(8,"label",6),m.TgZ(9,"span",7),m._uU(10,"Off"),m.qZA(),m.qZA(),m._UZ(11,"input",8),m.qZA(),m.TgZ(12,"div",9),m.NdJ("click",function(){return g.toggleSound(!0)}),m.TgZ(13,"label",10),m.TgZ(14,"span",7),m._uU(15,"On"),m.qZA(),m.qZA(),m._UZ(16,"input",11),m.qZA(),m.qZA(),m.qZA(),m.TgZ(17,"div",12),m.TgZ(18,"label",13),m._uU(19,"Level "),m.TgZ(20,"span",4),m._uU(21,"equalizer"),m.qZA(),m.qZA(),m.TgZ(22,"select",14),m.TgZ(23,"option",15),m._uU(24,"Easy"),m.qZA(),m.TgZ(25,"option",16),m._uU(26,"Medium"),m.qZA(),m.TgZ(27,"option",17),m._uU(28,"Hard"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(29,"button",18),m._uU(30," Save "),m.TgZ(31,"span",19),m._uU(32," save "),m.qZA(),m.qZA(),m.qZA()),2&o&&(m.xp6(11),m.Q6J("checked",!g.soundOn),m.xp6(5),m.Q6J("checked",g.soundOn),m.xp6(7),m.uIk("selected","easy"===g.level?"selected":null),m.xp6(2),m.uIk("selected","medium"===g.level?"selected":null),m.xp6(2),m.uIk("selected","hard"===g.level?"selected":null))},directives:[wl,Da,id,kf],styles:[""]}),f})();function Oi(f,s){1&f&&m._UZ(0,"app-best-scores")}function ku(f,s){1&f&&m._UZ(0,"app-leader-board")}function Tc(f,s){1&f&&m._UZ(0,"app-how-to-play")}function Qd(f,s){1&f&&m._UZ(0,"app-settings")}const Yd=function(f){return{hidden:f}};let Zd=(()=>{class f{constructor(){this.closeHomeModal=new m.vpe}ngOnInit(){}closeBestScoresClick(){this.closeHomeModal.emit()}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-home-modals"]],inputs:{homeModalHidden:"homeModalHidden",template:"template",title:"title"},outputs:{closeHomeModal:"closeHomeModal"},decls:10,vars:8,consts:[[1,"grid","rounded","dark","box-shadow-2","border-light",3,"ngClass"],[1,"font-bold","text-center","text-2xl","text-white","darker","rounded-tl","p-3","mb-4"],[3,"ngIf"],[1,"text-white","text-right","font-bold","rounded","mt-2","mr-2","cursor-default"],["id","closeHomeModal",1,"material-icons","text-5xl","cursor-pointer","hover-text-darkest",3,"click"]],template:function(o,g){1&o&&(m.TgZ(0,"div",0),m.TgZ(1,"h3",1),m._uU(2),m.qZA(),m.YNc(3,Oi,1,0,"ng-template",2),m.YNc(4,ku,1,0,"ng-template",2),m.YNc(5,Tc,1,0,"ng-template",2),m.YNc(6,Qd,1,0,"ng-template",2),m.TgZ(7,"button",3),m.TgZ(8,"span",4),m.NdJ("click",function(){return g.closeBestScoresClick()}),m._uU(9," close "),m.qZA(),m.qZA(),m.qZA()),2&o&&(m.Q6J("ngClass",m.VKq(6,Yd,g.homeModalHidden)),m.xp6(2),m.hij(" ",g.title," "),m.xp6(1),m.Q6J("ngIf","bestScores"===g.template),m.xp6(1),m.Q6J("ngIf","leaderBoard"===g.template),m.xp6(1),m.Q6J("ngIf","howToPlay"===g.template),m.xp6(1),m.Q6J("ngIf","settings"===g.template))},directives:[k.mk,k.O5,Gt,hn,rr,ri],styles:[""]}),f})();const Jd=function(f){return{hidden:f}};let Xd=(()=>{class f{constructor(){this.mainWindowHidden=!1,this.homeModalHidden=!0,this.animateButton="",this.template="",this.title="",this.hoveredLogo=!1}ngOnInit(){}toggleMainWindowHidden(){this.mainWindowHidden=!this.mainWindowHidden}toggleAnimateButton(o=""){this.animateButton=o}toggleHomeModal(o,g){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.title=o,this.template=g,this.homeModalHidden=!this.homeModalHidden,this.toggleMainWindowHidden()}animateLogo(){this.hoveredLogo=!this.hoveredLogo}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-window"]],decls:35,vars:16,consts:[[1,"gradient","text-center","rounded","border-8","border-light",3,"ngClass"],[1,"grid","place-items-center"],[1,"w-max","logo-bg","text-white","border-light","mt-3","mx-6","font-bold","text-2xl","rounded","box-shadow","text-center","block","p-1","text-white","medium",3,"mouseover","mouseout"],[1,"text-5xl","font-black","not-italic","text-light"],[1,"text-4xl","font-black","not-italic","text-light"],[1,"text-4xl","text-light","font-black"],[1,"block","italic","text-white","font-bold","mt-3"],[1,"text-center","m-auto","px-4","pb-4","text-darkest"],["routerLink","/game",1,"py-6","my-7","block","text-center","w-full","dark","text-white","font-bold","rounded","hover-light","hover-text-darkest","transition-all","duration-700",3,"mouseover","mouseout"],[1,"material-icons","align-bottom","float-right","mr-6"],[1,"py-3","my-5","block","text-center","w-full","darkest","text-white","font-bold","rounded","hover-light","hover-text-darkest","transition-all","duration-700",3,"click","mouseover","mouseout"],[1,"py-3","my-5","mb-8","block","text-center","w-full","darkest","text-white","font-bold","rounded","hover-light","hover-text-darkest","transition-all","duration-700",3,"click","mouseover","mouseout"],[3,"homeModalHidden","title","template","closeHomeModal"]],template:function(o,g){1&o&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"h1",2),m.NdJ("mouseover",function(){return g.animateLogo()})("mouseout",function(){return g.animateLogo()}),m.TgZ(3,"span",3),m._uU(4,"F"),m.qZA(),m._uU(5,"ind the "),m.TgZ(6,"span",4),m._uU(7,"P"),m.qZA(),m._uU(8,"airs "),m.TgZ(9,"span",5),m._uU(10," ||"),m.qZA(),m.qZA(),m.TgZ(11,"span",6),m._uU(12,"A Memory Game"),m.qZA(),m.qZA(),m.TgZ(13,"div",7),m.TgZ(14,"a",8),m.NdJ("mouseover",function(){return g.toggleAnimateButton("startGameButton")})("mouseout",function(){return g.toggleAnimateButton()}),m._uU(15,"Start Game "),m.TgZ(16,"span",9),m._uU(17,"play_circle"),m.qZA(),m.qZA(),m.TgZ(18,"button",10),m.NdJ("click",function(){return g.toggleHomeModal("Settings","settings")})("mouseover",function(){return g.toggleAnimateButton("settingsButton")})("mouseout",function(){return g.toggleAnimateButton()}),m._uU(19,"Settings "),m.TgZ(20,"span",9),m._uU(21,"settings"),m.qZA(),m.qZA(),m.TgZ(22,"button",10),m.NdJ("click",function(){return g.toggleHomeModal("How To Play","howToPlay")})("mouseover",function(){return g.toggleAnimateButton("howToPlayButton")})("mouseout",function(){return g.toggleAnimateButton()}),m._uU(23,"How To Play "),m.TgZ(24,"span",9),m._uU(25,"help"),m.qZA(),m.qZA(),m.TgZ(26,"button",10),m.NdJ("click",function(){return g.toggleHomeModal("Leader Board","leaderBoard")})("mouseover",function(){return g.toggleAnimateButton("leaderBoardButton")})("mouseout",function(){return g.toggleAnimateButton()}),m._uU(27,"Leader Board "),m.TgZ(28,"span",9),m._uU(29,"leaderboard"),m.qZA(),m.qZA(),m.TgZ(30,"button",11),m.NdJ("click",function(){return g.toggleHomeModal("Your Best Scores","bestScores")})("mouseover",function(){return g.toggleAnimateButton("bestScoresButton")})("mouseout",function(){return g.toggleAnimateButton()}),m._uU(31,"Your Best Scores "),m.TgZ(32,"span",9),m._uU(33,"sports_score"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(34,"app-home-modals",12),m.NdJ("closeHomeModal",function(){return g.toggleHomeModal("","")}),m.qZA()),2&o&&(m.Q6J("ngClass",m.VKq(14,Jd,g.mainWindowHidden)),m.xp6(16),m.ekj("animate-spin","startGameButton"===g.animateButton),m.xp6(4),m.ekj("animate-spin","settingsButton"===g.animateButton),m.xp6(4),m.ekj("animate-spin","howToPlayButton"===g.animateButton),m.xp6(4),m.ekj("animate-spin","leaderBoardButton"===g.animateButton),m.xp6(4),m.ekj("animate-spin","bestScoresButton"===g.animateButton),m.xp6(2),m.Q6J("homeModalHidden",g.homeModalHidden)("title",g.title)("template",g.template))},directives:[k.mk,ah,Zd],styles:[""]}),f})();const Qh=function(f){return{"hover-light hover-text-darkest":f}};function ep(f,s){if(1&f){const o=m.EpF();m.TgZ(0,"form",12),m.TgZ(1,"div",13),m.TgZ(2,"p",14),m._uU(3," Log in to start playing "),m.qZA(),m.TgZ(4,"p",15),m._uU(5," No account? "),m.TgZ(6,"button",16),m.NdJ("click",function(){return m.CHM(o),m.oxw().toggleLogInShown()}),m._uU(7," Sign Up "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"label",17),m._uU(9,"Username"),m.qZA(),m._UZ(10,"input",18),m.TgZ(11,"label",19),m._uU(12,"Password"),m.qZA(),m._UZ(13,"input",20),m.TgZ(14,"button",21),m._uU(15," Log In "),m.TgZ(16,"span",22),m._uU(17," login "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(18,"button",23),m.NdJ("click",function(){return m.CHM(o),m.oxw().login()}),m._uU(19,"Log In With Google"),m.qZA(),m.TgZ(20,"button",24),m.NdJ("click",function(){return m.CHM(o),m.oxw().logout()}),m._uU(21,"Log Out"),m.qZA()}if(2&f){const o=m.oxw();m.Q6J("formGroup",o.logInForm),m.xp6(14),m.Q6J("ngClass",m.VKq(3,Qh,o.logInForm.valid))("disabled",!o.logInForm.valid)}}function tp(f,s){1&f&&(m.TgZ(0,"span",33),m._uU(1," check_circle "),m.qZA())}function hv(f,s){if(1&f&&(m.TgZ(0,"span",34),m._uU(1," error "),m.qZA()),2&f){const o=m.oxw(2);m.ekj("text-red-400",o.userNameSignUpInputField.touched),m.Q6J("hidden",o.userNameSignUpInputField.untouched)}}function dv(f,s){1&f&&(m.TgZ(0,"span",33),m._uU(1," check_circle "),m.qZA())}function pv(f,s){if(1&f&&(m.TgZ(0,"span",34),m._uU(1," error "),m.qZA()),2&f){const o=m.oxw(2);m.ekj("text-red-400",o.passwordSignUpInputField.touched),m.Q6J("hidden",o.passwordSignUpInputField.untouched)}}function gv(f,s){1&f&&(m.TgZ(0,"span",33),m._uU(1," check_circle "),m.qZA())}function mv(f,s){if(1&f&&(m.TgZ(0,"span",34),m._uU(1," error "),m.qZA()),2&f){const o=m.oxw(2);m.ekj("text-red-400",o.passwordRepeatSignUpInputField.touched),m.Q6J("hidden",o.passwordRepeatSignUpInputField.untouched)}}const zg=function(f,s,o){return{"opacity-0 hidden":f,"text-light border-medium":s,"text-red-400 border-red-400":o}};function vv(f,s){if(1&f){const o=m.EpF();m.TgZ(0,"form",12),m.TgZ(1,"div",13),m.TgZ(2,"p",14),m._uU(3," Sign up to start playing "),m.qZA(),m.TgZ(4,"p",15),m._uU(5," Already signed up? "),m.TgZ(6,"button",25),m.NdJ("click",function(){return m.CHM(o),m.oxw().toggleLogInShown()}),m._uU(7," Log In "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"label",26),m.YNc(9,tp,2,0,"ng-template",11),m.YNc(10,hv,2,3,"ng-template",11),m._uU(11," Username "),m.TgZ(12,"div",27),m.TgZ(13,"p"),m._uU(14),m.qZA(),m.TgZ(15,"span",28),m._uU(16," feedback "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(17,"input",29),m.NdJ("ngModelChange",function(){m.CHM(o);const E=m.oxw();return E.inputFieldChanged(E.userNameSignUpInputField,E.signUpUserNameHelpText)})("focus",function(){return m.CHM(o),m.oxw().toggleUsernameToolTip(!1)})("focusout",function(){return m.CHM(o),m.oxw().toggleUsernameToolTip(!0)}),m.qZA(),m.TgZ(18,"label",26),m.YNc(19,dv,2,0,"ng-template",11),m.YNc(20,pv,2,3,"ng-template",11),m._uU(21," Repeat Password "),m.TgZ(22,"div",27),m.TgZ(23,"p"),m._uU(24),m.qZA(),m.TgZ(25,"span",28),m._uU(26," feedback "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(27,"input",30),m.NdJ("ngModelChange",function(){m.CHM(o);const E=m.oxw();return E.inputFieldChanged(E.passwordSignUpInputField,E.signUpPasswordHelpText)})("focus",function(){return m.CHM(o),m.oxw().togglePasswordToolTip(!1)})("focusout",function(){return m.CHM(o),m.oxw().togglePasswordToolTip(!0)}),m.qZA(),m.TgZ(28,"label",26),m.YNc(29,gv,2,0,"ng-template",11),m.YNc(30,mv,2,3,"ng-template",11),m._uU(31," Repeat Password "),m.TgZ(32,"div",27),m.TgZ(33,"p"),m._uU(34),m.qZA(),m.TgZ(35,"span",28),m._uU(36," feedback "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(37,"input",31),m.NdJ("ngModelChange",function(){m.CHM(o);const E=m.oxw();return E.inputFieldChanged(E.passwordRepeatSignUpInputField,E.signUpUserRepeatPasswordHelpText)})("focus",function(){return m.CHM(o),m.oxw().toggleRepeatPasswordToolTip(!1)})("focusout",function(){return m.CHM(o),m.oxw().toggleRepeatPasswordToolTip(!0)}),m.qZA(),m.TgZ(38,"button",32),m._uU(39," Sign Up "),m.TgZ(40,"span",22),m._uU(41," login "),m.qZA(),m.qZA(),m.qZA()}if(2&f){const o=m.oxw();m.Q6J("formGroup",o.signUpForm),m.xp6(9),m.Q6J("ngIf",o.userNameSignUpInputField.valid),m.xp6(1),m.Q6J("ngIf",!o.userNameSignUpInputField.valid),m.xp6(2),m.Q6J("ngClass",m.kEZ(15,zg,o.signUpUserNameHelpText.hidden,""===o.userNameSignUpInputField.value,""!==o.userNameSignUpInputField.value)),m.xp6(2),m.Oqu(o.signUpUserNameHelpText.text),m.xp6(5),m.Q6J("ngIf",o.passwordSignUpInputField.valid),m.xp6(1),m.Q6J("ngIf",!o.passwordSignUpInputField.valid),m.xp6(2),m.Q6J("ngClass",m.kEZ(19,zg,o.signUpPasswordHelpText.hidden,""===o.passwordSignUpInputField.value,""!==o.passwordSignUpInputField.value)),m.xp6(2),m.Oqu(o.signUpPasswordHelpText.text),m.xp6(5),m.Q6J("ngIf",o.passwordRepeatSignUpInputField.valid&&o.passwordRepeatSignUpInputField.value===o.passwordSignUpInputField.value),m.xp6(1),m.Q6J("ngIf",!o.passwordRepeatSignUpInputField.valid||o.passwordRepeatSignUpInputField.value!==o.passwordSignUpInputField.value),m.xp6(2),m.Q6J("ngClass",m.kEZ(23,zg,o.signUpUserRepeatPasswordHelpText.hidden,""===o.passwordRepeatSignUpInputField.value,""!==o.passwordRepeatSignUpInputField.value)),m.xp6(2),m.Oqu(o.signUpUserRepeatPasswordHelpText.text),m.xp6(4),m.Q6J("disabled",!o.signUpForm.valid)("ngClass",m.VKq(27,Qh,o.signUpForm.valid))}}let yv=(()=>{class f{constructor(o){this.userAuth=o,this.logInShown=!0,this.logInForm=new ec({logInUserName:new Ka("",Di.required),logInPassword:new Ka("",Di.required)}),this.signUpForm=new ec({signUpUserName:new Ka("",[Di.required,Di.minLength(8),Di.maxLength(12)]),signUpPassword:new Ka("",[Di.required,Di.minLength(8),Di.maxLength(12)]),signUpRepeatPassword:new Ka("",[Di.required,Di.minLength(8),Di.maxLength(12)])}),this.userNameSignUpInputField=this.signUpForm.controls.signUpUserName,this.passwordSignUpInputField=this.signUpForm.controls.signUpPassword,this.passwordRepeatSignUpInputField=this.signUpForm.controls.signUpRepeatPassword,this.signUpUserNameHelpText={text:"6-12 characters, at least one number one lowercase and one uppercase letter",hidden:!0},this.signUpPasswordHelpText={text:"6-12 characters, at least one number one lowercase and one uppercase letter",hidden:!0},this.signUpUserRepeatPasswordHelpText={text:"Please enter your chosen password again",hidden:!0},this.userAuth.authState()}inputFieldChanged(o,g){var E,x;if(o===this.passwordRepeatSignUpInputField&&o.value!==this.passwordSignUpInputField.value)return void(g.text="Passwords do not match");if(""===o.value&&o===this.passwordRepeatSignUpInputField)return void(g.text="Please enter your chosen password again");if(""===o.value)return void(g.text="6-12 characters, at least one number one lowercase and one uppercase letter");if(!o.errors)return g.text="",void(g.hidden=!0);g.hidden=!1;let K=null===(E=o.errors)||void 0===E?void 0:E.hasOwnProperty("minlength"),ne=null===(x=o.errors)||void 0===x?void 0:x.hasOwnProperty("maxlength");K&&o===this.userNameSignUpInputField?g.text="Your username is too short":K&&(g.text="Your password is too short"),ne&&o===this.userNameSignUpInputField?g.text="Your username is too long":ne&&(g.text="Your password is too long")}ngOnInit(){}login(){this.userAuth.login(),this.userAuth.authState()}logout(){this.userAuth.logout(),this.userAuth.authState()}toggleLogInShown(){this.logInShown=!this.logInShown}toggleUsernameToolTip(o){this.signUpUserNameHelpText.hidden=""===this.signUpUserNameHelpText.text||o}togglePasswordToolTip(o){this.signUpPasswordHelpText.hidden=""===this.signUpPasswordHelpText.text||o}toggleRepeatPasswordToolTip(o){this.signUpUserRepeatPasswordHelpText.hidden=""===this.signUpUserRepeatPasswordHelpText.text||o}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(ie))},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-login-signup"]],decls:22,vars:4,consts:[[1,"gradient","rounded","box-shadow-2","border-8","border-light"],[1,"grid","mx-2"],[1,"text-center"],[1,"disabled:opacity-100","opacity-50","disabled:cursor-default","text-base","text-center","text-white","font-bold","mb-4","px-2","mx-1","inline-block","light","rounded-b","light","uppercase",3,"disabled","click"],[1,"disabled:opacity-100","opacity-50","disabled:cursor-default","text-base","text-center","text-white","font-bold","mb-6","px-2","mx-1","inline-block","rounded-b","light","uppercase",3,"disabled","click"],[1,"grid","justify-items-center","mb-6"],[1,"border-light","rounded","p-1","text-2xl","box-shadow-2","logo-bg","text-white","font-bold","w-max"],[1,"text-5xl","font-black","text-light"],[1,"text-4xl","font-black","text-light"],[1,"text-4xl","text-light","font-black"],[1,"italic","text-white","font-bold","mt-1"],[3,"ngIf"],["action","POST",1,"w-full","text-left","text-white","font-bold",3,"formGroup"],[1,"mb-6"],[1,"text-center","text-2xl","text-white","font-black"],[1,"my-3","text-center","text-white","font-bold"],[1,"font-bold","dark","p-1","rounded","hover-light","hover-text-darkest","transition-all","duration-700",3,"click"],["for","username",1,"block","font-bold","text-white"],["id","logInUserName","type","text","formControlName","logInUserName",1,"w-full","rounded","font-bold","p-3","mb-3","light","text-white","box-shadow","focus:outline-none","focus:bg-white","focus:text-black"],["for","password",1,"block","font-bold","text-white"],["id","logInPassword","type","password","formControlName","logInPassword",1,"w-full","rounded","font-bold","p-3","mb-3","light","text-white","box-shadow","focus:outline-none","focus:bg-white","focus:text-black"],[1,"disabled:opacity-80","disabled:cursor-default","w-full","my-5","font-bold","darkest","box-shadow","text-white","py-4","rounded","transition-all","duration-700",3,"ngClass","disabled"],[1,"material-icons","align-bottom","float-right","mr-4"],[3,"click"],[1,"border",3,"click"],[1,"dark","p-1","font-bold","rounded","hover-light","hover-text-darkest","transition-all","duration-700",3,"click"],["for","password",1,"block","font-bold","text-white","relative","pb-1"],[1,"border-2","p-2","mx-1","w-4/6","darkest","text-center","block","absolute","-right-1","bottom-1/4","text-sm","p-1","rounded-lg","rounded-br-2xl","rounded-tl-2xl","box-shadow","transition-all","duration-700",3,"ngClass"],[1,"material-icons","align-bottom","inline-block"],["id","signUpUserName","type","text","formControlName","signUpUserName",1,"light","w-full","rounded","font-bold","p-3","mb-3","text-white","box-shadow","focus:outline-none","focus:bg-white","focus:text-black",3,"ngModelChange","focus","focusout"],["id","signUpPassword","type","password","formControlName","signUpPassword",1,"light","w-full","rounded","font-bold","p-3","mb-3","text-white","box-shadow","focus:outline-none","focus:bg-white","focus:text-black",3,"ngModelChange","focus","focusout"],["id","signupRepeatPassword","type","password","formControlName","signUpRepeatPassword",1,"light","w-full","rounded","font-bold","p-3","mb-3","light","text-white","box-shadow","focus:outline-none","focus:bg-white","focus:text-black",3,"ngModelChange","focus","focusout"],[1,"disabled:opacity-80","disabled:cursor-default","w-full","my-5","font-bold","darkest","box-shadow","text-white","py-4","rounded","transition-all","duration-700",3,"disabled","ngClass"],[1,"material-icons","align-middle","text-green-400"],[1,"material-icons","align-middle",3,"hidden"]],template:function(o,g){1&o&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"button",3),m.NdJ("click",function(){return g.toggleLogInShown()}),m._uU(4," Log In "),m.qZA(),m.TgZ(5,"button",4),m.NdJ("click",function(){return g.toggleLogInShown()}),m._uU(6," Sign Up "),m.qZA(),m.qZA(),m.TgZ(7,"div",5),m.TgZ(8,"h2",6),m._UZ(9,"span"),m.TgZ(10,"span",7),m._uU(11,"F"),m.qZA(),m._uU(12,"ind the "),m.TgZ(13,"span",8),m._uU(14,"P"),m.qZA(),m._uU(15,"airs "),m.TgZ(16,"span",9),m._uU(17," ||"),m.qZA(),m.qZA(),m.TgZ(18,"span",10),m._uU(19,"A Memory Game"),m.qZA(),m.qZA(),m.YNc(20,ep,22,5,"ng-template",11),m.YNc(21,vv,42,29,"ng-template",11),m.qZA(),m.qZA()),2&o&&(m.xp6(3),m.Q6J("disabled",g.logInShown),m.xp6(2),m.Q6J("disabled",!g.logInShown),m.xp6(15),m.Q6J("ngIf",g.logInShown),m.xp6(1),m.Q6J("ngIf",!g.logInShown))},directives:[k.O5,wl,Da,Ss,gu,dl,$s,k.mk],styles:[""]}),f})();function _v(f,s){1&f&&m._UZ(0,"app-window",3)}function ry(f,s){1&f&&m._UZ(0,"app-login-signup",3)}let wv=(()=>{class f{constructor(o){this.userAuthInfo=o}ngOnInit(){this.userAuthInfo.getIfUserIsLoggedIn().subscribe(o=>{this.userInfo=o}),this.isLoggedIn=this.userInfo.isLoggedIn}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(ie))},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-home"]],decls:5,vars:2,consts:[["id","home-bg",1,"grid","justify-items-center","pb-5"],[1,"w-full","place-self-start"],[3,"ngIf"],[1,"w-11/12","md:w-1/2","lg:w-1/3","xl:w-1/4"]],template:function(o,g){1&o&&(m.TgZ(0,"div",0),m._UZ(1,"app-header",1),m.YNc(2,_v,1,0,"ng-template",2),m.YNc(3,ry,1,0,"ng-template",2),m.qZA(),m._UZ(4,"app-footer")),2&o&&(m.xp6(2),m.Q6J("ngIf",g.isLoggedIn),m.xp6(1),m.Q6J("ngIf",!g.isLoggedIn))},directives:[me,k.O5,Qe,Xd,yv],styles:[""]}),f})(),Xp=(()=>{class f{constructor(o){this.settings=o,this.game={time:100,score:0,lost:!1,gameWon:!1}}getNewGame(){return(0,R.of)(this.game)}getGame(){return this.game}subtractTime(){return this.game.time-=1,this.game.time<=0&&(this.game.lost=!0),this.game}addTime(){let o=1;return this.settings.getSettings().subscribe(g=>{this.settings.getSettings().subscribe(E=>{"easy"===E.level&&(o=20),"medium"===E.level&&(o=15),"hard"===E.level&&(o=10)})}),this.game.time+=o,this.game}gameWon(){this.game.gameWon=!0}addScore(){let o=0;return this.settings.getSettings().subscribe(g=>{"easy"===g.level&&(o=1),"medium"===g.level&&(o=2),"hard"===g.level&&(o=3)}),console.log(o),this.game.score=o*this.game.time,this.game}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(Xr))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const iy=function(f){return{"animate-spin":f}};let bv=(()=>{class f{constructor(o){this.game=o,this.lastDate=Date.now(),this.timeRunningOut=!1,this.animationFrame=requestAnimationFrame(()=>{this.displayTime()})}ngOnInit(){}displayTime(){this.currentDate=Date.now(),this.currentDate-this.lastDate>1e3&&(this.game.subtractTime(),this.lastDate=this.currentDate),requestAnimationFrame(()=>{this.displayTime()})}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(Xp))},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-timer"]],decls:5,vars:4,consts:[[1,"light","w-5/6","mx-2","text-center","text-white","p-1","font-bold","rounded-b"],[1,"inline-block","w-1/5","mx-1"],[1,"material-icons","align-top",3,"ngClass"]],template:function(o,g){1&o&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m._uU(2),m.qZA(),m.TgZ(3,"span",2),m._uU(4,"timer"),m.qZA(),m.qZA()),2&o&&(m.xp6(2),m.Oqu(g.game.getGame().time),m.xp6(1),m.Q6J("ngClass",m.VKq(2,iy,g.timeRunningOut)))},directives:[k.mk],styles:[""]}),f})(),oy=(()=>{class f{constructor(o){this.game=o}ngOnInit(){}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(Xp))},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-score"]],decls:5,vars:1,consts:[[1,"light","w-5/6","mx-2","text-white","p-1","text-center","font-bold","rounded-b","float-right"],[1,"inline-block","mx-2"],[1,"material-icons","inline","align-middle"]],template:function(o,g){1&o&&(m.TgZ(0,"div",0),m.TgZ(1,"span",1),m._uU(2),m.qZA(),m.TgZ(3,"span",2),m._uU(4,"sports_score"),m.qZA(),m.qZA()),2&o&&(m.xp6(2),m.Oqu(g.game.getGame().score))},styles:[""]}),f})();const O_=["childCards"];function sy(f,s){if(1&f){const o=m.EpF();m.TgZ(0,"div",2),m.TgZ(1,"app-card",3,4),m.NdJ("enableCardsClick",function(){return m.CHM(o),m.oxw().enableCards()})("addToFoundCards",function(){const x=m.CHM(o).$implicit;return m.oxw().addCardToFoundCardsArray(x)})("disableAll",function(){return m.CHM(o),m.oxw().disableAllCards()})("turnBackCards",function(){return m.CHM(o),m.oxw().turnBackNotFoundCards()}),m.qZA(),m.qZA()}if(2&f){const o=s.$implicit,g=m.oxw();m.xp6(1),m.Q6J("allDisabled",g.allDisabled)("lastCard",g.lastCard)("icon",o.name)("disabledCard",o.disabledCard)}}let km=(()=>{class f{constructor(o){this.game=o,this.lastCard={name:"",disabledCard:{disabled:!1}},this.allDisabled=!1,this.foundCards=[],this.favorite=!0,this.group_work=!0,this.filter_alt=!0,this.lightbulb=!0,this.star_rate=!0,this.pets=!0,this.pending=!0,this.offline_bolt=!0,this.settings_input_hdmi=!0,this.icons=[{name:"favorite",disabledCard:this.favorite},{name:"favorite",disabledCard:this.favorite},{name:"group_work",disabledCard:this.group_work},{name:"group_work",disabledCard:this.group_work},{name:"filter_alt",disabledCard:this.filter_alt},{name:"filter_alt",disabledCard:this.filter_alt},{name:"lightbulb",disabledCard:this.lightbulb},{name:"lightbulb",disabledCard:this.lightbulb},{name:"star_rate",disabledCard:this.star_rate},{name:"star_rate",disabledCard:this.star_rate},{name:"pets",disabledCard:this.pets},{name:"pets",disabledCard:this.pets},{name:"pending",disabledCard:this.pending},{name:"pending",disabledCard:this.pending},{name:"offline_bolt",disabledCard:this.offline_bolt},{name:"offline_bolt",disabledCard:this.offline_bolt},{name:"settings_input_hdmi",disabledCard:this.settings_input_hdmi},{name:"settings_input_hdmi",disabledCard:this.settings_input_hdmi}]}shuffleCards(o){this.icons.sort(()=>Math.random()-.5)}disableAllCards(){this.allDisabled=!0}enableCards(){this.allDisabled=!1}turnBackNotFoundCards(){this.components.forEach(o=>{this.foundCards.includes(o.icon)||o.turnCardBack()})}addCardToFoundCardsArray(o){this.foundCards.push(o.name),this.enableCards(),this.game.addScore(),9===this.foundCards.length&&this.game.gameWon()}ngOnInit(){this.shuffleCards(this.icons)}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(Xp))},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-cardwindow"]],viewQuery:function(o,g){if(1&o&&m.Gf(O_,5),2&o){let E;m.iGM(E=m.CRH())&&(g.components=E)}},decls:2,vars:1,consts:[["id","",1,"darker","border-dark","rounded","grid","grid-cols-12","xl:px-10","py-3","sm:py-6"],["class","col-span-2 text-center",4,"ngFor","ngForOf"],[1,"col-span-2","text-center"],[3,"allDisabled","lastCard","icon","disabledCard","enableCardsClick","addToFoundCards","disableAll","turnBackCards"],["childCards",""]],template:function(o,g){1&o&&(m.TgZ(0,"div",0),m.YNc(1,sy,3,4,"div",1),m.qZA()),2&o&&(m.xp6(1),m.Q6J("ngForOf",g.icons))},styles:[""]}),f})(),ay=(()=>{class f{constructor(){this.openReturnHomeModal=new m.vpe,this.openRestartModal=new m.vpe}ngOnInit(){}openReturnHome(){this.openReturnHomeModal.emit()}openRestart(){this.openRestartModal.emit()}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-gamewindow"]],inputs:{homeWarnClosed:"homeWarnClosed"},outputs:{openReturnHomeModal:"openReturnHomeModal",openRestartModal:"openRestartModal"},decls:12,vars:0,consts:[[1,"dark","h-max","w-full","rounded","grid","grid-cols-12","border-8","border-light","px-2","sm:px-8","pb-8"],[1,"col-span-6","order-1","md:order-none","md:col-span-3","text-center"],[1,"col-span-6","order-4","md:order-none","md:col-span-3","text-center","sm:text-right","mx-2"],[1,"mt-4","text-base","box-shadow","font-bold","medium","text-white","py-2","px-3","w-full","rounded","hover-text-darkest","hover-light","transition-all","duration-700",3,"click"],[1,"material-icons","align-bottom","ml-1"],[1,"col-span-6","order-5","md:order-none","md:col-span-3","text-center","sm:text-left","mx-2"],[1,"mt-4","text-base","box-shadow","font-bold","text-white","py-2","px-3","w-full","rounded","medium","hover-text-darkest","hover-light","transition-all","duration-700",3,"click"],[1,"col-span-6","order-3","md:order-none","md:col-span-3","text-right"],[1,"col-span-12","order-last","h-full","mt-3"]],template:function(o,g){1&o&&(m.TgZ(0,"div",0),m._UZ(1,"app-timer",1),m.TgZ(2,"div",2),m.TgZ(3,"button",3),m.NdJ("click",function(){return g.openReturnHome()}),m.TgZ(4,"span",4),m._uU(5," home "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(6,"div",5),m.TgZ(7,"button",6),m.NdJ("click",function(){return g.openRestart()}),m.TgZ(8,"span",4),m._uU(9," restart_alt "),m.qZA(),m.qZA(),m.qZA(),m._UZ(10,"app-score",7),m._UZ(11,"app-cardwindow",8),m.qZA())},directives:[bv,oy,km],styles:[""]}),f})();const Kg=function(f){return{"transform rotate-[360deg] transition-transform duration-1000":f}};function uy(f,s){if(1&f){const o=m.EpF();m.TgZ(0,"a",9),m.NdJ("mouseover",function(){return m.CHM(o),m.oxw().animateProceedButton()})("mouseout",function(){return m.CHM(o),m.oxw().animateProceedButton()}),m._uU(1," Understood "),m.TgZ(2,"span",8),m._uU(3),m.qZA(),m.qZA()}if(2&f){const o=m.oxw();m.xp6(2),m.Q6J("ngClass",m.VKq(2,Kg,o.proceedButtonHovered)),m.xp6(1),m.hij(" ",o.proceedIcon," ")}}function ly(f,s){if(1&f){const o=m.EpF();m.TgZ(0,"button",10),m.NdJ("click",function(){return m.CHM(o),m.oxw().closeGameWarning()})("mouseover",function(){return m.CHM(o),m.oxw().animateProceedButton()})("mouseout",function(){return m.CHM(o),m.oxw().animateProceedButton()}),m._uU(1," Understood "),m.TgZ(2,"span",8),m._uU(3),m.qZA(),m.qZA()}if(2&f){const o=m.oxw();m.xp6(2),m.Q6J("ngClass",m.VKq(2,Kg,o.proceedButtonHovered)),m.xp6(1),m.hij(" ",o.proceedIcon," ")}}const cy=function(f){return{hidden:f}};let fy=(()=>{class f{constructor(){this.closeGameWarningModal=new m.vpe,this.proceedButtonHovered=!1,this.cancelButtonHovered=!1}ngOnInit(){}closeGameWarning(){this.closeGameWarningModal.emit()}animateProceedButton(){this.proceedButtonHovered=!this.proceedButtonHovered}animateCancelButton(){this.cancelButtonHovered=!this.cancelButtonHovered}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-game-warning-modal"]],inputs:{gameWarningClosed:"gameWarningClosed",warningText:"warningText",proceedIcon:"proceedIcon",routerPathHome:"routerPathHome"},outputs:{closeGameWarningModal:"closeGameWarningModal"},decls:15,vars:12,consts:[[1,"center-abs-xy","h-full","w-full","light","opacity-50",3,"ngClass"],[1,"center-abs-xy","w-5/6","sm:w-4/6","md:w-3/6","lg:w-2/6","xl:w-1/5","rounded","medium","text-white","font-bold","text-center","pb-5","box-shadow-2",3,"ngClass"],[1,"block","darker","py-3","rounded-t"],[1,"material-icons","align-bottom","ml-2","text-red-500","animate-pulse"],[1,"px-6"],[1,"my-6","mx-2","font-normal"],[3,"ngIf"],[1,"block","w-full","font-bold","py-3","dark","my-3","rounded","hover-text-darkest","hover-light","transition-all","duration-700",3,"click","mouseover","mouseout"],[1,"material-icons","align-bottom","ml-2",3,"ngClass"],["routerLink","/",1,"cursor-pointer","block","w-full","font-bold","py-3","my-3","rounded","darkest","hover-text-darkest","hover-light","transition-colors","duration-700","duration-500",3,"mouseover","mouseout"],[1,"cursor-pointer","block","w-full","font-bold","py-3","my-3","rounded","darkest","hover-text-darkest","hover-light","transition-colors","duration-700","duration-500",3,"click","mouseover","mouseout"]],template:function(o,g){1&o&&(m._UZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"h3",2),m._uU(3," WARNING "),m.TgZ(4,"span",3),m._uU(5,"warning"),m.qZA(),m.qZA(),m.TgZ(6,"div",4),m.TgZ(7,"p",5),m._uU(8),m.qZA(),m.YNc(9,uy,4,4,"ng-template",6),m.YNc(10,ly,4,4,"ng-template",6),m.TgZ(11,"button",7),m.NdJ("click",function(){return g.closeGameWarning()})("mouseover",function(){return g.animateCancelButton()})("mouseout",function(){return g.animateCancelButton()}),m._uU(12," Cancel "),m.TgZ(13,"span",8),m._uU(14," close "),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&o&&(m.Q6J("ngClass",m.VKq(6,cy,g.gameWarningClosed)),m.xp6(1),m.Q6J("ngClass",m.VKq(8,cy,g.gameWarningClosed)),m.xp6(7),m.Oqu(g.warningText),m.xp6(1),m.Q6J("ngIf",g.routerPathHome),m.xp6(1),m.Q6J("ngIf",!g.routerPathHome),m.xp6(3),m.Q6J("ngClass",m.VKq(10,Kg,g.cancelButtonHovered)))},directives:[k.mk,k.O5,ah],styles:[""]}),f})();function Ev(f,s){if(1&f){const o=m.EpF();m.TgZ(0,"div",1),m._UZ(1,"app-header",2),m.TgZ(2,"app-gamewindow",3),m.NdJ("openReturnHomeModal",function(){return m.CHM(o),m.oxw().toggleGameWarningModal("If you return home all data from this round will be lost","home",!0)})("openRestartModal",function(){return m.CHM(o),m.oxw().toggleGameWarningModal("If your restart the game all data from this round will be lost","restart_alt",!1)}),m.qZA(),m.TgZ(3,"app-game-warning-modal",4),m.NdJ("closeGameWarningModal",function(){return m.CHM(o),m.oxw().toggleGameWarningModal()}),m.qZA(),m.qZA()}if(2&f){const o=m.oxw();m.xp6(2),m.Q6J("homeWarnClosed",o.homeWarnClosed),m.xp6(1),m.Q6J("gameWarningClosed",o.gameWarningClosed)("warningText",o.warningText)("proceedIcon",o.proceedIcon)("routerPathHome",o.routerPathHome)}}function P_(f,s){1&f&&m._UZ(0,"div",5)}function x_(f,s){1&f&&(m.TgZ(0,"div",5),m.TgZ(1,"div",6),m.TgZ(2,"div",7),m.TgZ(3,"h2",8),m.TgZ(4,"span",9),m._uU(5,"F"),m.qZA(),m._uU(6,"ind the "),m.TgZ(7,"span",9),m._uU(8,"P"),m.qZA(),m._uU(9,"airs "),m.TgZ(10,"span",10),m._uU(11," ||"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(12,"div",11),m.TgZ(13,"div",12),m.TgZ(14,"div",13),m.TgZ(15,"span",14),m._uU(16," sentiment_very_dissatisfied "),m.qZA(),m.qZA(),m._uU(17," Sorry the game was lost "),m.qZA(),m.TgZ(18,"button",15),m._uU(19," New Game "),m.TgZ(20,"span",16),m._uU(21," play_circle "),m.qZA(),m.qZA(),m.TgZ(22,"button",17),m._uU(23," Return Home "),m.TgZ(24,"span",16),m._uU(25," home "),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA())}const k_=[{path:"game",component:(()=>{class f{constructor(o){this.game=o,this.homeWarnClosed=!0,this.gameWarningClosed=!0,this.warningText="",this.proceedIcon="",this.routerPathHome=!0}ngOnInit(){}toggleGameWarningModal(o="",g="",E=!0){this.warningText=o,this.proceedIcon=g,this.routerPathHome=E,this.gameWarningClosed=!this.gameWarningClosed}toggleReturnHome(){this.homeWarnClosed=!this.homeWarnClosed}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(Xp))},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-game"]],decls:3,vars:3,consts:[[3,"ngIf"],["id","",1,"darkest","logo-bg","min-h-screen","grid","grid-cols-12","justify-items-center","pb-8"],[1,"col-span-12","w-full","place-self-start"],[1,"mx-2","col-span-12","md:col-span-10","md:col-start-2","xl:col-span-8","xl:col-start-3",3,"homeWarnClosed","openReturnHomeModal","openRestartModal"],[3,"gameWarningClosed","warningText","proceedIcon","routerPathHome","closeGameWarningModal"],[1,"min-h-screen","w-full","vector-bg","grid","place-content-center"],[1,"text-light","rounded","pb-8","gradient-2"],[1,"medium","rounded-t","p-4"],[1,"m-auto","font-bold","w-max","text-2xl","border-light","text-white","rounded","p-1","mb-4","logo-bg"],[1,"text-3xl","font-black","text-light"],[1,"text-3xl","text-light","font-black"],[1,"p-8","pt-4"],[1,"font-bold","text-xl","text-white","rounded","p-2","mb-8"],[1,"text-center","mb-2"],[1,"material-icons","text-5xl","font-bold","text-darker","animate-pulse"],[1,"box-shadow","m-auto","text-white","font-bold","my-3","dark","rounded","block","w-full","py-3","hover-light","hover-text-darkest","transition-all","duration-700"],[1,"material-icons","align-middle"],[1,"box-shadow","m-auto","text-white","font-bold","my-3","dark","rounded","block","w-full","py-2","hover-light","hover-text-darkest","transition-all","duration-700"]],template:function(o,g){1&o&&(m.YNc(0,Ev,4,5,"ng-template",0),m.YNc(1,P_,1,0,"ng-template",0),m.YNc(2,x_,26,0,"ng-template",0)),2&o&&(m.Q6J("ngIf",!g.game.getGame().lost&&!g.game.getGame().gameWon),m.xp6(1),m.Q6J("ngIf",g.game.getGame().gameWon),m.xp6(1),m.Q6J("ngIf",g.game.getGame().lost))},directives:[k.O5,me,ay,fy],styles:[""]}),f})(),canActivate:[(()=>{class f{constructor(o,g){this.authService=o,this.router=g}canActivate(){return this.authService.getIfUserIsLoggedIn().subscribe(o=>{this.canActivatePath=o.isLoggedIn}),this.canActivatePath}}return f.\u0275fac=function(o){return new(o||f)(m.LFG(ie),m.LFG(Is))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()]},{path:"",component:wv}];let hy=(()=>{class f{}return f.\u0275fac=function(o){return new(o||f)},f.\u0275mod=m.oAB({type:f}),f.\u0275inj=m.cJS({imports:[[Cc.forRoot(k_)],Cc]}),f})(),dy=(()=>{class f{constructor(){this.title="find-the-pairs-two"}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-root"]],decls:1,vars:0,template:function(o,g){1&o&&m._UZ(0,"router-outlet")},directives:[zh],styles:[""]}),f})(),Fm=(()=>{class f{constructor(o){this.game=o,this.disableAll=new m.vpe,this.enableCardsClick=new m.vpe,this.turnBackCards=new m.vpe,this.addToFoundCards=new m.vpe,this.currentCard={disabled:this.disabledCard},this.frontHidden=!1,this.backHidden=!0,this.perspectiveShown=!1}ngOnInit(){this.game.getNewGame().subscribe(o=>{this.timeLeft=o.time,this.score=o.score})}turnCardFront(o){this.currentCard.disabled=!0,""!==this.lastCard.name?(this.disableAll.emit(),this.lastCard.name===this.icon?(this.game.addTime(),this.lastCard.name="",this.lastCard.disabledCard={disabled:!1},this.addToFoundCards.emit(this.icon)):(this.lastCard.name="",this.currentCard.disabled=!1,this.lastCard.disabledCard.disabled=!1,this.lastCard.disabledCard={disabled:!1},setTimeout(()=>{this.turnBackCards.emit()},1500))):(this.lastCard.name=this.icon,this.lastCard.disabledCard=this.currentCard),this.perspectiveShown=!0,setTimeout(()=>{this.frontHidden=!0},200),setTimeout(()=>{this.backHidden=!1},500)}turnCardBack(){this.perspectiveShown=!1,setTimeout(()=>{this.backHidden=!0},300),setTimeout(()=>{this.frontHidden=!1,this.enableCardsClick.emit()},500)}}return f.\u0275fac=function(o){return new(o||f)(m.Y36(Xp))},f.\u0275cmp=m.Xpm({type:f,selectors:[["app-card"]],inputs:{icon:"icon",disabledCard:"disabledCard",lastCard:"lastCard",allDisabled:"allDisabled"},outputs:{disableAll:"disableAll",enableCardsClick:"enableCardsClick",turnBackCards:"turnBackCards",addToFoundCards:"addToFoundCards"},decls:9,vars:9,consts:[[1,"gradient-2","text-white","h-24","w-14","md:h-28","md:w-20","m-2","perspective-inner","mb-0","box-shadow","rounded","cursor-pointer"],[1,"block","front","relative","w-full","h-full",3,"disabled","click"],[1,"center-abs-xy"],[1,"font-bold","text-xs"],[1,"block","back","relative","w-full","h-full","light","rounded",3,"disabled","click"],[1,"material-icons"]],template:function(o,g){1&o&&(m.TgZ(0,"div",0),m.TgZ(1,"button",1),m.NdJ("click",function(x){return g.turnCardFront(x)}),m.TgZ(2,"div",2),m.TgZ(3,"div",3),m._uU(4,"Find The Pairs ||"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(5,"button",4),m.NdJ("click",function(){return g.turnCardBack()}),m.TgZ(6,"div",2),m.TgZ(7,"span",5),m._uU(8),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&o&&(m.ekj("perspective-inner-turn",g.perspectiveShown),m.xp6(1),m.ekj("hidden",g.frontHidden),m.Q6J("disabled",g.currentCard.disabled||g.allDisabled),m.xp6(4),m.ekj("hidden",g.backHidden),m.Q6J("disabled",g.currentCard.disabled||g.allDisabled),m.xp6(3),m.hij(" ",g.icon," "))},styles:[""]}),f})();const Qg_firebase={apiKey:"AIzaSyBCbaE4iwSzCdPIxtk5E1VvG5-x-tK7Upw",authDomain:"find-the-pairs-two.firebaseapp.com",projectId:"find-the-pairs-two",storageBucket:"find-the-pairs-two.appspot.com",messagingSenderId:"703321968049",appId:"1:703321968049:web:825b5affd7a0e1d897c190",measurementId:"G-HJ2SXE6LM0"};let py=(()=>{class f{}return f.\u0275fac=function(o){return new(o||f)},f.\u0275mod=m.oAB({type:f,bootstrap:[dy]}),f.\u0275inj=m.cJS({providers:[],imports:[[Lt,hy,Ta,ad,p.AngularFireModule.initializeApp(Qg_firebase),_.AngularFireDatabaseModule,I.AngularFireAuthModule]]}),f})();m.B6R(km,[k.sg,Fm],[]),(0,m.G48)(),ht().bootstrapModule(py).catch(f=>console.error(f))},7796:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{__extends:()=>m,__assign:()=>te,__rest:()=>mt,__decorate:()=>Le,__param:()=>Ye,__metadata:()=>tt,__awaiter:()=>Je,__generator:()=>ae,__createBinding:()=>Q,__exportStar:()=>De,__values:()=>ye,__read:()=>Te,__spread:()=>wt,__spreadArrays:()=>Tt,__await:()=>it,__asyncGenerator:()=>ke,__asyncDelegator:()=>He,__asyncValues:()=>qe,__makeTemplateObject:()=>Pt,__importStar:()=>Ut,__importDefault:()=>Mt,__classPrivateFieldGet:()=>ft,__classPrivateFieldSet:()=>Rt});var k=function(O,F){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,G){A.__proto__=G}||function(A,G){for(var Z in G)G.hasOwnProperty(Z)&&(A[Z]=G[Z])})(O,F)};function m(O,F){function A(){this.constructor=O}k(O,F),O.prototype=null===F?Object.create(F):(A.prototype=F.prototype,new A)}var te=function(){return(te=Object.assign||function(F){for(var A,G=1,Z=arguments.length;G<Z;G++)for(var L in A=arguments[G])Object.prototype.hasOwnProperty.call(A,L)&&(F[L]=A[L]);return F}).apply(this,arguments)};function mt(O,F){var A={};for(var G in O)Object.prototype.hasOwnProperty.call(O,G)&&F.indexOf(G)<0&&(A[G]=O[G]);if(null!=O&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(G=Object.getOwnPropertySymbols(O);Z<G.length;Z++)F.indexOf(G[Z])<0&&Object.prototype.propertyIsEnumerable.call(O,G[Z])&&(A[G[Z]]=O[G[Z]])}return A}function Le(O,F,A,G){var ce,Z=arguments.length,L=Z<3?F:null===G?G=Object.getOwnPropertyDescriptor(F,A):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(O,F,A,G);else for(var fe=O.length-1;fe>=0;fe--)(ce=O[fe])&&(L=(Z<3?ce(L):Z>3?ce(F,A,L):ce(F,A))||L);return Z>3&&L&&Object.defineProperty(F,A,L),L}function Ye(O,F){return function(A,G){F(A,G,O)}}function tt(O,F){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(O,F)}function Je(O,F,A,G){return new(A||(A=Promise))(function(L,ce){function fe(at){try{_e(G.next(at))}catch(zt){ce(zt)}}function $t(at){try{_e(G.throw(at))}catch(zt){ce(zt)}}function _e(at){at.done?L(at.value):function(L){return L instanceof A?L:new A(function(ce){ce(L)})}(at.value).then(fe,$t)}_e((G=G.apply(O,F||[])).next())})}function ae(O,F){var G,Z,L,ce,A={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return ce={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ce[Symbol.iterator]=function(){return this}),ce;function fe(_e){return function(at){return function(_e){if(G)throw new TypeError("Generator is already executing.");for(;A;)try{if(G=1,Z&&(L=2&_e[0]?Z.return:_e[0]?Z.throw||((L=Z.return)&&L.call(Z),0):Z.next)&&!(L=L.call(Z,_e[1])).done)return L;switch(Z=0,L&&(_e=[2&_e[0],L.value]),_e[0]){case 0:case 1:L=_e;break;case 4:return A.label++,{value:_e[1],done:!1};case 5:A.label++,Z=_e[1],_e=[0];continue;case 7:_e=A.ops.pop(),A.trys.pop();continue;default:if(!(L=(L=A.trys).length>0&&L[L.length-1])&&(6===_e[0]||2===_e[0])){A=0;continue}if(3===_e[0]&&(!L||_e[1]>L[0]&&_e[1]<L[3])){A.label=_e[1];break}if(6===_e[0]&&A.label<L[1]){A.label=L[1],L=_e;break}if(L&&A.label<L[2]){A.label=L[2],A.ops.push(_e);break}L[2]&&A.ops.pop(),A.trys.pop();continue}_e=F.call(O,A)}catch(at){_e=[6,at],Z=0}finally{G=L=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}([_e,at])}}}function Q(O,F,A,G){void 0===G&&(G=A),O[G]=F[A]}function De(O,F){for(var A in O)"default"!==A&&!F.hasOwnProperty(A)&&(F[A]=O[A])}function ye(O){var F="function"==typeof Symbol&&Symbol.iterator,A=F&&O[F],G=0;if(A)return A.call(O);if(O&&"number"==typeof O.length)return{next:function(){return O&&G>=O.length&&(O=void 0),{value:O&&O[G++],done:!O}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(O,F){var A="function"==typeof Symbol&&O[Symbol.iterator];if(!A)return O;var Z,ce,G=A.call(O),L=[];try{for(;(void 0===F||F-- >0)&&!(Z=G.next()).done;)L.push(Z.value)}catch(fe){ce={error:fe}}finally{try{Z&&!Z.done&&(A=G.return)&&A.call(G)}finally{if(ce)throw ce.error}}return L}function wt(){for(var O=[],F=0;F<arguments.length;F++)O=O.concat(Te(arguments[F]));return O}function Tt(){for(var O=0,F=0,A=arguments.length;F<A;F++)O+=arguments[F].length;var G=Array(O),Z=0;for(F=0;F<A;F++)for(var L=arguments[F],ce=0,fe=L.length;ce<fe;ce++,Z++)G[Z]=L[ce];return G}function it(O){return this instanceof it?(this.v=O,this):new it(O)}function ke(O,F,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,G=A.apply(O,F||[]),L=[];return Z={},ce("next"),ce("throw"),ce("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ce(Ke){G[Ke]&&(Z[Ke]=function(Ge){return new Promise(function(vt,Bt){L.push([Ke,Ge,vt,Bt])>1||fe(Ke,Ge)})})}function fe(Ke,Ge){try{!function(Ke){Ke.value instanceof it?Promise.resolve(Ke.value.v).then(_e,at):zt(L[0][2],Ke)}(G[Ke](Ge))}catch(vt){zt(L[0][3],vt)}}function _e(Ke){fe("next",Ke)}function at(Ke){fe("throw",Ke)}function zt(Ke,Ge){Ke(Ge),L.shift(),L.length&&fe(L[0][0],L[0][1])}}function He(O){var F,A;return F={},G("next"),G("throw",function(Z){throw Z}),G("return"),F[Symbol.iterator]=function(){return this},F;function G(Z,L){F[Z]=O[Z]?function(ce){return(A=!A)?{value:it(O[Z](ce)),done:"return"===Z}:L?L(ce):ce}:L}}function qe(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A,F=O[Symbol.asyncIterator];return F?F.call(O):(O=ye(O),A={},G("next"),G("throw"),G("return"),A[Symbol.asyncIterator]=function(){return this},A);function G(L){A[L]=O[L]&&function(ce){return new Promise(function(fe,$t){!function(L,ce,fe,$t){Promise.resolve($t).then(function(_e){L({value:_e,done:fe})},ce)}(fe,$t,(ce=O[L](ce)).done,ce.value)})}}}function Pt(O,F){return Object.defineProperty?Object.defineProperty(O,"raw",{value:F}):O.raw=F,O}function Ut(O){if(O&&O.__esModule)return O;var F={};if(null!=O)for(var A in O)Object.hasOwnProperty.call(O,A)&&(F[A]=O[A]);return F.default=O,F}function Mt(O){return O&&O.__esModule?O:{default:O}}function ft(O,F){if(!F.has(O))throw new TypeError("attempted to get private field on non-instance");return F.get(O)}function Rt(O,F,A){if(!F.has(O))throw new TypeError("attempted to set private field on non-instance");return F.set(O,A),A}},5385:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{__extends:()=>m,__assign:()=>te,__rest:()=>mt,__decorate:()=>Le,__param:()=>Ye,__metadata:()=>tt,__awaiter:()=>Je,__generator:()=>ae,__createBinding:()=>Q,__exportStar:()=>De,__values:()=>ye,__read:()=>Te,__spread:()=>wt,__spreadArrays:()=>Tt,__await:()=>it,__asyncGenerator:()=>ke,__asyncDelegator:()=>He,__asyncValues:()=>qe,__makeTemplateObject:()=>Pt,__importStar:()=>Ut,__importDefault:()=>Mt,__classPrivateFieldGet:()=>ft,__classPrivateFieldSet:()=>Rt});var k=function(O,F){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,G){A.__proto__=G}||function(A,G){for(var Z in G)G.hasOwnProperty(Z)&&(A[Z]=G[Z])})(O,F)};function m(O,F){function A(){this.constructor=O}k(O,F),O.prototype=null===F?Object.create(F):(A.prototype=F.prototype,new A)}var te=function(){return(te=Object.assign||function(F){for(var A,G=1,Z=arguments.length;G<Z;G++)for(var L in A=arguments[G])Object.prototype.hasOwnProperty.call(A,L)&&(F[L]=A[L]);return F}).apply(this,arguments)};function mt(O,F){var A={};for(var G in O)Object.prototype.hasOwnProperty.call(O,G)&&F.indexOf(G)<0&&(A[G]=O[G]);if(null!=O&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(G=Object.getOwnPropertySymbols(O);Z<G.length;Z++)F.indexOf(G[Z])<0&&Object.prototype.propertyIsEnumerable.call(O,G[Z])&&(A[G[Z]]=O[G[Z]])}return A}function Le(O,F,A,G){var ce,Z=arguments.length,L=Z<3?F:null===G?G=Object.getOwnPropertyDescriptor(F,A):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(O,F,A,G);else for(var fe=O.length-1;fe>=0;fe--)(ce=O[fe])&&(L=(Z<3?ce(L):Z>3?ce(F,A,L):ce(F,A))||L);return Z>3&&L&&Object.defineProperty(F,A,L),L}function Ye(O,F){return function(A,G){F(A,G,O)}}function tt(O,F){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(O,F)}function Je(O,F,A,G){return new(A||(A=Promise))(function(L,ce){function fe(at){try{_e(G.next(at))}catch(zt){ce(zt)}}function $t(at){try{_e(G.throw(at))}catch(zt){ce(zt)}}function _e(at){at.done?L(at.value):function(L){return L instanceof A?L:new A(function(ce){ce(L)})}(at.value).then(fe,$t)}_e((G=G.apply(O,F||[])).next())})}function ae(O,F){var G,Z,L,ce,A={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return ce={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ce[Symbol.iterator]=function(){return this}),ce;function fe(_e){return function(at){return function(_e){if(G)throw new TypeError("Generator is already executing.");for(;A;)try{if(G=1,Z&&(L=2&_e[0]?Z.return:_e[0]?Z.throw||((L=Z.return)&&L.call(Z),0):Z.next)&&!(L=L.call(Z,_e[1])).done)return L;switch(Z=0,L&&(_e=[2&_e[0],L.value]),_e[0]){case 0:case 1:L=_e;break;case 4:return A.label++,{value:_e[1],done:!1};case 5:A.label++,Z=_e[1],_e=[0];continue;case 7:_e=A.ops.pop(),A.trys.pop();continue;default:if(!(L=(L=A.trys).length>0&&L[L.length-1])&&(6===_e[0]||2===_e[0])){A=0;continue}if(3===_e[0]&&(!L||_e[1]>L[0]&&_e[1]<L[3])){A.label=_e[1];break}if(6===_e[0]&&A.label<L[1]){A.label=L[1],L=_e;break}if(L&&A.label<L[2]){A.label=L[2],A.ops.push(_e);break}L[2]&&A.ops.pop(),A.trys.pop();continue}_e=F.call(O,A)}catch(at){_e=[6,at],Z=0}finally{G=L=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}([_e,at])}}}function Q(O,F,A,G){void 0===G&&(G=A),O[G]=F[A]}function De(O,F){for(var A in O)"default"!==A&&!F.hasOwnProperty(A)&&(F[A]=O[A])}function ye(O){var F="function"==typeof Symbol&&Symbol.iterator,A=F&&O[F],G=0;if(A)return A.call(O);if(O&&"number"==typeof O.length)return{next:function(){return O&&G>=O.length&&(O=void 0),{value:O&&O[G++],done:!O}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(O,F){var A="function"==typeof Symbol&&O[Symbol.iterator];if(!A)return O;var Z,ce,G=A.call(O),L=[];try{for(;(void 0===F||F-- >0)&&!(Z=G.next()).done;)L.push(Z.value)}catch(fe){ce={error:fe}}finally{try{Z&&!Z.done&&(A=G.return)&&A.call(G)}finally{if(ce)throw ce.error}}return L}function wt(){for(var O=[],F=0;F<arguments.length;F++)O=O.concat(Te(arguments[F]));return O}function Tt(){for(var O=0,F=0,A=arguments.length;F<A;F++)O+=arguments[F].length;var G=Array(O),Z=0;for(F=0;F<A;F++)for(var L=arguments[F],ce=0,fe=L.length;ce<fe;ce++,Z++)G[Z]=L[ce];return G}function it(O){return this instanceof it?(this.v=O,this):new it(O)}function ke(O,F,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,G=A.apply(O,F||[]),L=[];return Z={},ce("next"),ce("throw"),ce("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ce(Ke){G[Ke]&&(Z[Ke]=function(Ge){return new Promise(function(vt,Bt){L.push([Ke,Ge,vt,Bt])>1||fe(Ke,Ge)})})}function fe(Ke,Ge){try{!function(Ke){Ke.value instanceof it?Promise.resolve(Ke.value.v).then(_e,at):zt(L[0][2],Ke)}(G[Ke](Ge))}catch(vt){zt(L[0][3],vt)}}function _e(Ke){fe("next",Ke)}function at(Ke){fe("throw",Ke)}function zt(Ke,Ge){Ke(Ge),L.shift(),L.length&&fe(L[0][0],L[0][1])}}function He(O){var F,A;return F={},G("next"),G("throw",function(Z){throw Z}),G("return"),F[Symbol.iterator]=function(){return this},F;function G(Z,L){F[Z]=O[Z]?function(ce){return(A=!A)?{value:it(O[Z](ce)),done:"return"===Z}:L?L(ce):ce}:L}}function qe(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A,F=O[Symbol.asyncIterator];return F?F.call(O):(O=ye(O),A={},G("next"),G("throw"),G("return"),A[Symbol.asyncIterator]=function(){return this},A);function G(L){A[L]=O[L]&&function(ce){return new Promise(function(fe,$t){!function(L,ce,fe,$t){Promise.resolve($t).then(function(_e){L({value:_e,done:fe})},ce)}(fe,$t,(ce=O[L](ce)).done,ce.value)})}}}function Pt(O,F){return Object.defineProperty?Object.defineProperty(O,"raw",{value:F}):O.raw=F,O}function Ut(O){if(O&&O.__esModule)return O;var F={};if(null!=O)for(var A in O)Object.hasOwnProperty.call(O,A)&&(F[A]=O[A]);return F.default=O,F}function Mt(O){return O&&O.__esModule?O:{default:O}}function ft(O,F){if(!F.has(O))throw new TypeError("attempted to get private field on non-instance");return F.get(O)}function Rt(O,F,A){if(!F.has(O))throw new TypeError("attempted to set private field on non-instance");return F.set(O,A),A}},209:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{__extends:()=>m,__assign:()=>te,__rest:()=>mt,__decorate:()=>Le,__param:()=>Ye,__metadata:()=>tt,__awaiter:()=>Je,__generator:()=>ae,__createBinding:()=>Q,__exportStar:()=>De,__values:()=>ye,__read:()=>Te,__spread:()=>wt,__spreadArrays:()=>Tt,__await:()=>it,__asyncGenerator:()=>ke,__asyncDelegator:()=>He,__asyncValues:()=>qe,__makeTemplateObject:()=>Pt,__importStar:()=>Ut,__importDefault:()=>Mt,__classPrivateFieldGet:()=>ft,__classPrivateFieldSet:()=>Rt});var k=function(O,F){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,G){A.__proto__=G}||function(A,G){for(var Z in G)G.hasOwnProperty(Z)&&(A[Z]=G[Z])})(O,F)};function m(O,F){function A(){this.constructor=O}k(O,F),O.prototype=null===F?Object.create(F):(A.prototype=F.prototype,new A)}var te=function(){return(te=Object.assign||function(F){for(var A,G=1,Z=arguments.length;G<Z;G++)for(var L in A=arguments[G])Object.prototype.hasOwnProperty.call(A,L)&&(F[L]=A[L]);return F}).apply(this,arguments)};function mt(O,F){var A={};for(var G in O)Object.prototype.hasOwnProperty.call(O,G)&&F.indexOf(G)<0&&(A[G]=O[G]);if(null!=O&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(G=Object.getOwnPropertySymbols(O);Z<G.length;Z++)F.indexOf(G[Z])<0&&Object.prototype.propertyIsEnumerable.call(O,G[Z])&&(A[G[Z]]=O[G[Z]])}return A}function Le(O,F,A,G){var ce,Z=arguments.length,L=Z<3?F:null===G?G=Object.getOwnPropertyDescriptor(F,A):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(O,F,A,G);else for(var fe=O.length-1;fe>=0;fe--)(ce=O[fe])&&(L=(Z<3?ce(L):Z>3?ce(F,A,L):ce(F,A))||L);return Z>3&&L&&Object.defineProperty(F,A,L),L}function Ye(O,F){return function(A,G){F(A,G,O)}}function tt(O,F){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(O,F)}function Je(O,F,A,G){return new(A||(A=Promise))(function(L,ce){function fe(at){try{_e(G.next(at))}catch(zt){ce(zt)}}function $t(at){try{_e(G.throw(at))}catch(zt){ce(zt)}}function _e(at){at.done?L(at.value):function(L){return L instanceof A?L:new A(function(ce){ce(L)})}(at.value).then(fe,$t)}_e((G=G.apply(O,F||[])).next())})}function ae(O,F){var G,Z,L,ce,A={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return ce={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ce[Symbol.iterator]=function(){return this}),ce;function fe(_e){return function(at){return function(_e){if(G)throw new TypeError("Generator is already executing.");for(;A;)try{if(G=1,Z&&(L=2&_e[0]?Z.return:_e[0]?Z.throw||((L=Z.return)&&L.call(Z),0):Z.next)&&!(L=L.call(Z,_e[1])).done)return L;switch(Z=0,L&&(_e=[2&_e[0],L.value]),_e[0]){case 0:case 1:L=_e;break;case 4:return A.label++,{value:_e[1],done:!1};case 5:A.label++,Z=_e[1],_e=[0];continue;case 7:_e=A.ops.pop(),A.trys.pop();continue;default:if(!(L=(L=A.trys).length>0&&L[L.length-1])&&(6===_e[0]||2===_e[0])){A=0;continue}if(3===_e[0]&&(!L||_e[1]>L[0]&&_e[1]<L[3])){A.label=_e[1];break}if(6===_e[0]&&A.label<L[1]){A.label=L[1],L=_e;break}if(L&&A.label<L[2]){A.label=L[2],A.ops.push(_e);break}L[2]&&A.ops.pop(),A.trys.pop();continue}_e=F.call(O,A)}catch(at){_e=[6,at],Z=0}finally{G=L=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}([_e,at])}}}function Q(O,F,A,G){void 0===G&&(G=A),O[G]=F[A]}function De(O,F){for(var A in O)"default"!==A&&!F.hasOwnProperty(A)&&(F[A]=O[A])}function ye(O){var F="function"==typeof Symbol&&Symbol.iterator,A=F&&O[F],G=0;if(A)return A.call(O);if(O&&"number"==typeof O.length)return{next:function(){return O&&G>=O.length&&(O=void 0),{value:O&&O[G++],done:!O}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(O,F){var A="function"==typeof Symbol&&O[Symbol.iterator];if(!A)return O;var Z,ce,G=A.call(O),L=[];try{for(;(void 0===F||F-- >0)&&!(Z=G.next()).done;)L.push(Z.value)}catch(fe){ce={error:fe}}finally{try{Z&&!Z.done&&(A=G.return)&&A.call(G)}finally{if(ce)throw ce.error}}return L}function wt(){for(var O=[],F=0;F<arguments.length;F++)O=O.concat(Te(arguments[F]));return O}function Tt(){for(var O=0,F=0,A=arguments.length;F<A;F++)O+=arguments[F].length;var G=Array(O),Z=0;for(F=0;F<A;F++)for(var L=arguments[F],ce=0,fe=L.length;ce<fe;ce++,Z++)G[Z]=L[ce];return G}function it(O){return this instanceof it?(this.v=O,this):new it(O)}function ke(O,F,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,G=A.apply(O,F||[]),L=[];return Z={},ce("next"),ce("throw"),ce("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ce(Ke){G[Ke]&&(Z[Ke]=function(Ge){return new Promise(function(vt,Bt){L.push([Ke,Ge,vt,Bt])>1||fe(Ke,Ge)})})}function fe(Ke,Ge){try{!function(Ke){Ke.value instanceof it?Promise.resolve(Ke.value.v).then(_e,at):zt(L[0][2],Ke)}(G[Ke](Ge))}catch(vt){zt(L[0][3],vt)}}function _e(Ke){fe("next",Ke)}function at(Ke){fe("throw",Ke)}function zt(Ke,Ge){Ke(Ge),L.shift(),L.length&&fe(L[0][0],L[0][1])}}function He(O){var F,A;return F={},G("next"),G("throw",function(Z){throw Z}),G("return"),F[Symbol.iterator]=function(){return this},F;function G(Z,L){F[Z]=O[Z]?function(ce){return(A=!A)?{value:it(O[Z](ce)),done:"return"===Z}:L?L(ce):ce}:L}}function qe(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A,F=O[Symbol.asyncIterator];return F?F.call(O):(O=ye(O),A={},G("next"),G("throw"),G("return"),A[Symbol.asyncIterator]=function(){return this},A);function G(L){A[L]=O[L]&&function(ce){return new Promise(function(fe,$t){!function(L,ce,fe,$t){Promise.resolve($t).then(function(_e){L({value:_e,done:fe})},ce)}(fe,$t,(ce=O[L](ce)).done,ce.value)})}}}function Pt(O,F){return Object.defineProperty?Object.defineProperty(O,"raw",{value:F}):O.raw=F,O}function Ut(O){if(O&&O.__esModule)return O;var F={};if(null!=O)for(var A in O)Object.hasOwnProperty.call(O,A)&&(F[A]=O[A]);return F.default=O,F}function Mt(O){return O&&O.__esModule?O:{default:O}}function ft(O,F){if(!F.has(O))throw new TypeError("attempted to get private field on non-instance");return F.get(O)}function Rt(O,F,A){if(!F.has(O))throw new TypeError("attempted to set private field on non-instance");return F.set(O,A),A}},5704:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{__extends:()=>m,__assign:()=>te,__rest:()=>mt,__decorate:()=>Le,__param:()=>Ye,__metadata:()=>tt,__awaiter:()=>Je,__generator:()=>ae,__createBinding:()=>Q,__exportStar:()=>De,__values:()=>ye,__read:()=>Te,__spread:()=>wt,__spreadArrays:()=>Tt,__await:()=>it,__asyncGenerator:()=>ke,__asyncDelegator:()=>He,__asyncValues:()=>qe,__makeTemplateObject:()=>Pt,__importStar:()=>Ut,__importDefault:()=>Mt,__classPrivateFieldGet:()=>ft,__classPrivateFieldSet:()=>Rt});var k=function(O,F){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,G){A.__proto__=G}||function(A,G){for(var Z in G)G.hasOwnProperty(Z)&&(A[Z]=G[Z])})(O,F)};function m(O,F){function A(){this.constructor=O}k(O,F),O.prototype=null===F?Object.create(F):(A.prototype=F.prototype,new A)}var te=function(){return(te=Object.assign||function(F){for(var A,G=1,Z=arguments.length;G<Z;G++)for(var L in A=arguments[G])Object.prototype.hasOwnProperty.call(A,L)&&(F[L]=A[L]);return F}).apply(this,arguments)};function mt(O,F){var A={};for(var G in O)Object.prototype.hasOwnProperty.call(O,G)&&F.indexOf(G)<0&&(A[G]=O[G]);if(null!=O&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(G=Object.getOwnPropertySymbols(O);Z<G.length;Z++)F.indexOf(G[Z])<0&&Object.prototype.propertyIsEnumerable.call(O,G[Z])&&(A[G[Z]]=O[G[Z]])}return A}function Le(O,F,A,G){var ce,Z=arguments.length,L=Z<3?F:null===G?G=Object.getOwnPropertyDescriptor(F,A):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(O,F,A,G);else for(var fe=O.length-1;fe>=0;fe--)(ce=O[fe])&&(L=(Z<3?ce(L):Z>3?ce(F,A,L):ce(F,A))||L);return Z>3&&L&&Object.defineProperty(F,A,L),L}function Ye(O,F){return function(A,G){F(A,G,O)}}function tt(O,F){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(O,F)}function Je(O,F,A,G){return new(A||(A=Promise))(function(L,ce){function fe(at){try{_e(G.next(at))}catch(zt){ce(zt)}}function $t(at){try{_e(G.throw(at))}catch(zt){ce(zt)}}function _e(at){at.done?L(at.value):function(L){return L instanceof A?L:new A(function(ce){ce(L)})}(at.value).then(fe,$t)}_e((G=G.apply(O,F||[])).next())})}function ae(O,F){var G,Z,L,ce,A={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return ce={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ce[Symbol.iterator]=function(){return this}),ce;function fe(_e){return function(at){return function(_e){if(G)throw new TypeError("Generator is already executing.");for(;A;)try{if(G=1,Z&&(L=2&_e[0]?Z.return:_e[0]?Z.throw||((L=Z.return)&&L.call(Z),0):Z.next)&&!(L=L.call(Z,_e[1])).done)return L;switch(Z=0,L&&(_e=[2&_e[0],L.value]),_e[0]){case 0:case 1:L=_e;break;case 4:return A.label++,{value:_e[1],done:!1};case 5:A.label++,Z=_e[1],_e=[0];continue;case 7:_e=A.ops.pop(),A.trys.pop();continue;default:if(!(L=(L=A.trys).length>0&&L[L.length-1])&&(6===_e[0]||2===_e[0])){A=0;continue}if(3===_e[0]&&(!L||_e[1]>L[0]&&_e[1]<L[3])){A.label=_e[1];break}if(6===_e[0]&&A.label<L[1]){A.label=L[1],L=_e;break}if(L&&A.label<L[2]){A.label=L[2],A.ops.push(_e);break}L[2]&&A.ops.pop(),A.trys.pop();continue}_e=F.call(O,A)}catch(at){_e=[6,at],Z=0}finally{G=L=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}([_e,at])}}}function Q(O,F,A,G){void 0===G&&(G=A),O[G]=F[A]}function De(O,F){for(var A in O)"default"!==A&&!F.hasOwnProperty(A)&&(F[A]=O[A])}function ye(O){var F="function"==typeof Symbol&&Symbol.iterator,A=F&&O[F],G=0;if(A)return A.call(O);if(O&&"number"==typeof O.length)return{next:function(){return O&&G>=O.length&&(O=void 0),{value:O&&O[G++],done:!O}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(O,F){var A="function"==typeof Symbol&&O[Symbol.iterator];if(!A)return O;var Z,ce,G=A.call(O),L=[];try{for(;(void 0===F||F-- >0)&&!(Z=G.next()).done;)L.push(Z.value)}catch(fe){ce={error:fe}}finally{try{Z&&!Z.done&&(A=G.return)&&A.call(G)}finally{if(ce)throw ce.error}}return L}function wt(){for(var O=[],F=0;F<arguments.length;F++)O=O.concat(Te(arguments[F]));return O}function Tt(){for(var O=0,F=0,A=arguments.length;F<A;F++)O+=arguments[F].length;var G=Array(O),Z=0;for(F=0;F<A;F++)for(var L=arguments[F],ce=0,fe=L.length;ce<fe;ce++,Z++)G[Z]=L[ce];return G}function it(O){return this instanceof it?(this.v=O,this):new it(O)}function ke(O,F,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,G=A.apply(O,F||[]),L=[];return Z={},ce("next"),ce("throw"),ce("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ce(Ke){G[Ke]&&(Z[Ke]=function(Ge){return new Promise(function(vt,Bt){L.push([Ke,Ge,vt,Bt])>1||fe(Ke,Ge)})})}function fe(Ke,Ge){try{!function(Ke){Ke.value instanceof it?Promise.resolve(Ke.value.v).then(_e,at):zt(L[0][2],Ke)}(G[Ke](Ge))}catch(vt){zt(L[0][3],vt)}}function _e(Ke){fe("next",Ke)}function at(Ke){fe("throw",Ke)}function zt(Ke,Ge){Ke(Ge),L.shift(),L.length&&fe(L[0][0],L[0][1])}}function He(O){var F,A;return F={},G("next"),G("throw",function(Z){throw Z}),G("return"),F[Symbol.iterator]=function(){return this},F;function G(Z,L){F[Z]=O[Z]?function(ce){return(A=!A)?{value:it(O[Z](ce)),done:"return"===Z}:L?L(ce):ce}:L}}function qe(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A,F=O[Symbol.asyncIterator];return F?F.call(O):(O=ye(O),A={},G("next"),G("throw"),G("return"),A[Symbol.asyncIterator]=function(){return this},A);function G(L){A[L]=O[L]&&function(ce){return new Promise(function(fe,$t){!function(L,ce,fe,$t){Promise.resolve($t).then(function(_e){L({value:_e,done:fe})},ce)}(fe,$t,(ce=O[L](ce)).done,ce.value)})}}}function Pt(O,F){return Object.defineProperty?Object.defineProperty(O,"raw",{value:F}):O.raw=F,O}function Ut(O){if(O&&O.__esModule)return O;var F={};if(null!=O)for(var A in O)Object.hasOwnProperty.call(O,A)&&(F[A]=O[A]);return F.default=O,F}function Mt(O){return O&&O.__esModule?O:{default:O}}function ft(O,F){if(!F.has(O))throw new TypeError("attempted to get private field on non-instance");return F.get(O)}function Rt(O,F,A){if(!F.has(O))throw new TypeError("attempted to set private field on non-instance");return F.set(O,A),A}},2483:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{__extends:()=>m,__assign:()=>te,__rest:()=>mt,__decorate:()=>Le,__param:()=>Ye,__metadata:()=>tt,__awaiter:()=>Je,__generator:()=>ae,__createBinding:()=>Q,__exportStar:()=>De,__values:()=>ye,__read:()=>Te,__spread:()=>wt,__spreadArrays:()=>Tt,__await:()=>it,__asyncGenerator:()=>ke,__asyncDelegator:()=>He,__asyncValues:()=>qe,__makeTemplateObject:()=>Pt,__importStar:()=>Ut,__importDefault:()=>Mt,__classPrivateFieldGet:()=>ft,__classPrivateFieldSet:()=>Rt});var k=function(O,F){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,G){A.__proto__=G}||function(A,G){for(var Z in G)G.hasOwnProperty(Z)&&(A[Z]=G[Z])})(O,F)};function m(O,F){function A(){this.constructor=O}k(O,F),O.prototype=null===F?Object.create(F):(A.prototype=F.prototype,new A)}var te=function(){return(te=Object.assign||function(F){for(var A,G=1,Z=arguments.length;G<Z;G++)for(var L in A=arguments[G])Object.prototype.hasOwnProperty.call(A,L)&&(F[L]=A[L]);return F}).apply(this,arguments)};function mt(O,F){var A={};for(var G in O)Object.prototype.hasOwnProperty.call(O,G)&&F.indexOf(G)<0&&(A[G]=O[G]);if(null!=O&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(G=Object.getOwnPropertySymbols(O);Z<G.length;Z++)F.indexOf(G[Z])<0&&Object.prototype.propertyIsEnumerable.call(O,G[Z])&&(A[G[Z]]=O[G[Z]])}return A}function Le(O,F,A,G){var ce,Z=arguments.length,L=Z<3?F:null===G?G=Object.getOwnPropertyDescriptor(F,A):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(O,F,A,G);else for(var fe=O.length-1;fe>=0;fe--)(ce=O[fe])&&(L=(Z<3?ce(L):Z>3?ce(F,A,L):ce(F,A))||L);return Z>3&&L&&Object.defineProperty(F,A,L),L}function Ye(O,F){return function(A,G){F(A,G,O)}}function tt(O,F){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(O,F)}function Je(O,F,A,G){return new(A||(A=Promise))(function(L,ce){function fe(at){try{_e(G.next(at))}catch(zt){ce(zt)}}function $t(at){try{_e(G.throw(at))}catch(zt){ce(zt)}}function _e(at){at.done?L(at.value):function(L){return L instanceof A?L:new A(function(ce){ce(L)})}(at.value).then(fe,$t)}_e((G=G.apply(O,F||[])).next())})}function ae(O,F){var G,Z,L,ce,A={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return ce={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ce[Symbol.iterator]=function(){return this}),ce;function fe(_e){return function(at){return function(_e){if(G)throw new TypeError("Generator is already executing.");for(;A;)try{if(G=1,Z&&(L=2&_e[0]?Z.return:_e[0]?Z.throw||((L=Z.return)&&L.call(Z),0):Z.next)&&!(L=L.call(Z,_e[1])).done)return L;switch(Z=0,L&&(_e=[2&_e[0],L.value]),_e[0]){case 0:case 1:L=_e;break;case 4:return A.label++,{value:_e[1],done:!1};case 5:A.label++,Z=_e[1],_e=[0];continue;case 7:_e=A.ops.pop(),A.trys.pop();continue;default:if(!(L=(L=A.trys).length>0&&L[L.length-1])&&(6===_e[0]||2===_e[0])){A=0;continue}if(3===_e[0]&&(!L||_e[1]>L[0]&&_e[1]<L[3])){A.label=_e[1];break}if(6===_e[0]&&A.label<L[1]){A.label=L[1],L=_e;break}if(L&&A.label<L[2]){A.label=L[2],A.ops.push(_e);break}L[2]&&A.ops.pop(),A.trys.pop();continue}_e=F.call(O,A)}catch(at){_e=[6,at],Z=0}finally{G=L=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}([_e,at])}}}function Q(O,F,A,G){void 0===G&&(G=A),O[G]=F[A]}function De(O,F){for(var A in O)"default"!==A&&!F.hasOwnProperty(A)&&(F[A]=O[A])}function ye(O){var F="function"==typeof Symbol&&Symbol.iterator,A=F&&O[F],G=0;if(A)return A.call(O);if(O&&"number"==typeof O.length)return{next:function(){return O&&G>=O.length&&(O=void 0),{value:O&&O[G++],done:!O}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(O,F){var A="function"==typeof Symbol&&O[Symbol.iterator];if(!A)return O;var Z,ce,G=A.call(O),L=[];try{for(;(void 0===F||F-- >0)&&!(Z=G.next()).done;)L.push(Z.value)}catch(fe){ce={error:fe}}finally{try{Z&&!Z.done&&(A=G.return)&&A.call(G)}finally{if(ce)throw ce.error}}return L}function wt(){for(var O=[],F=0;F<arguments.length;F++)O=O.concat(Te(arguments[F]));return O}function Tt(){for(var O=0,F=0,A=arguments.length;F<A;F++)O+=arguments[F].length;var G=Array(O),Z=0;for(F=0;F<A;F++)for(var L=arguments[F],ce=0,fe=L.length;ce<fe;ce++,Z++)G[Z]=L[ce];return G}function it(O){return this instanceof it?(this.v=O,this):new it(O)}function ke(O,F,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,G=A.apply(O,F||[]),L=[];return Z={},ce("next"),ce("throw"),ce("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ce(Ke){G[Ke]&&(Z[Ke]=function(Ge){return new Promise(function(vt,Bt){L.push([Ke,Ge,vt,Bt])>1||fe(Ke,Ge)})})}function fe(Ke,Ge){try{!function(Ke){Ke.value instanceof it?Promise.resolve(Ke.value.v).then(_e,at):zt(L[0][2],Ke)}(G[Ke](Ge))}catch(vt){zt(L[0][3],vt)}}function _e(Ke){fe("next",Ke)}function at(Ke){fe("throw",Ke)}function zt(Ke,Ge){Ke(Ge),L.shift(),L.length&&fe(L[0][0],L[0][1])}}function He(O){var F,A;return F={},G("next"),G("throw",function(Z){throw Z}),G("return"),F[Symbol.iterator]=function(){return this},F;function G(Z,L){F[Z]=O[Z]?function(ce){return(A=!A)?{value:it(O[Z](ce)),done:"return"===Z}:L?L(ce):ce}:L}}function qe(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A,F=O[Symbol.asyncIterator];return F?F.call(O):(O=ye(O),A={},G("next"),G("throw"),G("return"),A[Symbol.asyncIterator]=function(){return this},A);function G(L){A[L]=O[L]&&function(ce){return new Promise(function(fe,$t){!function(L,ce,fe,$t){Promise.resolve($t).then(function(_e){L({value:_e,done:fe})},ce)}(fe,$t,(ce=O[L](ce)).done,ce.value)})}}}function Pt(O,F){return Object.defineProperty?Object.defineProperty(O,"raw",{value:F}):O.raw=F,O}function Ut(O){if(O&&O.__esModule)return O;var F={};if(null!=O)for(var A in O)Object.hasOwnProperty.call(O,A)&&(F[A]=O[A]);return F.default=O,F}function Mt(O){return O&&O.__esModule?O:{default:O}}function ft(O,F){if(!F.has(O))throw new TypeError("attempted to get private field on non-instance");return F.get(O)}function Rt(O,F,A){if(!F.has(O))throw new TypeError("attempted to set private field on non-instance");return F.set(O,A),A}},9009:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{__extends:()=>m,__assign:()=>te,__rest:()=>mt,__decorate:()=>Le,__param:()=>Ye,__metadata:()=>tt,__awaiter:()=>Je,__generator:()=>ae,__createBinding:()=>Q,__exportStar:()=>De,__values:()=>ye,__read:()=>Te,__spread:()=>wt,__spreadArrays:()=>Tt,__await:()=>it,__asyncGenerator:()=>ke,__asyncDelegator:()=>He,__asyncValues:()=>qe,__makeTemplateObject:()=>Pt,__importStar:()=>Ut,__importDefault:()=>Mt,__classPrivateFieldGet:()=>ft,__classPrivateFieldSet:()=>Rt});var k=function(O,F){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,G){A.__proto__=G}||function(A,G){for(var Z in G)G.hasOwnProperty(Z)&&(A[Z]=G[Z])})(O,F)};function m(O,F){function A(){this.constructor=O}k(O,F),O.prototype=null===F?Object.create(F):(A.prototype=F.prototype,new A)}var te=function(){return(te=Object.assign||function(F){for(var A,G=1,Z=arguments.length;G<Z;G++)for(var L in A=arguments[G])Object.prototype.hasOwnProperty.call(A,L)&&(F[L]=A[L]);return F}).apply(this,arguments)};function mt(O,F){var A={};for(var G in O)Object.prototype.hasOwnProperty.call(O,G)&&F.indexOf(G)<0&&(A[G]=O[G]);if(null!=O&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(G=Object.getOwnPropertySymbols(O);Z<G.length;Z++)F.indexOf(G[Z])<0&&Object.prototype.propertyIsEnumerable.call(O,G[Z])&&(A[G[Z]]=O[G[Z]])}return A}function Le(O,F,A,G){var ce,Z=arguments.length,L=Z<3?F:null===G?G=Object.getOwnPropertyDescriptor(F,A):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(O,F,A,G);else for(var fe=O.length-1;fe>=0;fe--)(ce=O[fe])&&(L=(Z<3?ce(L):Z>3?ce(F,A,L):ce(F,A))||L);return Z>3&&L&&Object.defineProperty(F,A,L),L}function Ye(O,F){return function(A,G){F(A,G,O)}}function tt(O,F){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(O,F)}function Je(O,F,A,G){return new(A||(A=Promise))(function(L,ce){function fe(at){try{_e(G.next(at))}catch(zt){ce(zt)}}function $t(at){try{_e(G.throw(at))}catch(zt){ce(zt)}}function _e(at){at.done?L(at.value):function(L){return L instanceof A?L:new A(function(ce){ce(L)})}(at.value).then(fe,$t)}_e((G=G.apply(O,F||[])).next())})}function ae(O,F){var G,Z,L,ce,A={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return ce={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ce[Symbol.iterator]=function(){return this}),ce;function fe(_e){return function(at){return function(_e){if(G)throw new TypeError("Generator is already executing.");for(;A;)try{if(G=1,Z&&(L=2&_e[0]?Z.return:_e[0]?Z.throw||((L=Z.return)&&L.call(Z),0):Z.next)&&!(L=L.call(Z,_e[1])).done)return L;switch(Z=0,L&&(_e=[2&_e[0],L.value]),_e[0]){case 0:case 1:L=_e;break;case 4:return A.label++,{value:_e[1],done:!1};case 5:A.label++,Z=_e[1],_e=[0];continue;case 7:_e=A.ops.pop(),A.trys.pop();continue;default:if(!(L=(L=A.trys).length>0&&L[L.length-1])&&(6===_e[0]||2===_e[0])){A=0;continue}if(3===_e[0]&&(!L||_e[1]>L[0]&&_e[1]<L[3])){A.label=_e[1];break}if(6===_e[0]&&A.label<L[1]){A.label=L[1],L=_e;break}if(L&&A.label<L[2]){A.label=L[2],A.ops.push(_e);break}L[2]&&A.ops.pop(),A.trys.pop();continue}_e=F.call(O,A)}catch(at){_e=[6,at],Z=0}finally{G=L=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}([_e,at])}}}function Q(O,F,A,G){void 0===G&&(G=A),O[G]=F[A]}function De(O,F){for(var A in O)"default"!==A&&!F.hasOwnProperty(A)&&(F[A]=O[A])}function ye(O){var F="function"==typeof Symbol&&Symbol.iterator,A=F&&O[F],G=0;if(A)return A.call(O);if(O&&"number"==typeof O.length)return{next:function(){return O&&G>=O.length&&(O=void 0),{value:O&&O[G++],done:!O}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(O,F){var A="function"==typeof Symbol&&O[Symbol.iterator];if(!A)return O;var Z,ce,G=A.call(O),L=[];try{for(;(void 0===F||F-- >0)&&!(Z=G.next()).done;)L.push(Z.value)}catch(fe){ce={error:fe}}finally{try{Z&&!Z.done&&(A=G.return)&&A.call(G)}finally{if(ce)throw ce.error}}return L}function wt(){for(var O=[],F=0;F<arguments.length;F++)O=O.concat(Te(arguments[F]));return O}function Tt(){for(var O=0,F=0,A=arguments.length;F<A;F++)O+=arguments[F].length;var G=Array(O),Z=0;for(F=0;F<A;F++)for(var L=arguments[F],ce=0,fe=L.length;ce<fe;ce++,Z++)G[Z]=L[ce];return G}function it(O){return this instanceof it?(this.v=O,this):new it(O)}function ke(O,F,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,G=A.apply(O,F||[]),L=[];return Z={},ce("next"),ce("throw"),ce("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ce(Ke){G[Ke]&&(Z[Ke]=function(Ge){return new Promise(function(vt,Bt){L.push([Ke,Ge,vt,Bt])>1||fe(Ke,Ge)})})}function fe(Ke,Ge){try{!function(Ke){Ke.value instanceof it?Promise.resolve(Ke.value.v).then(_e,at):zt(L[0][2],Ke)}(G[Ke](Ge))}catch(vt){zt(L[0][3],vt)}}function _e(Ke){fe("next",Ke)}function at(Ke){fe("throw",Ke)}function zt(Ke,Ge){Ke(Ge),L.shift(),L.length&&fe(L[0][0],L[0][1])}}function He(O){var F,A;return F={},G("next"),G("throw",function(Z){throw Z}),G("return"),F[Symbol.iterator]=function(){return this},F;function G(Z,L){F[Z]=O[Z]?function(ce){return(A=!A)?{value:it(O[Z](ce)),done:"return"===Z}:L?L(ce):ce}:L}}function qe(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A,F=O[Symbol.asyncIterator];return F?F.call(O):(O=ye(O),A={},G("next"),G("throw"),G("return"),A[Symbol.asyncIterator]=function(){return this},A);function G(L){A[L]=O[L]&&function(ce){return new Promise(function(fe,$t){!function(L,ce,fe,$t){Promise.resolve($t).then(function(_e){L({value:_e,done:fe})},ce)}(fe,$t,(ce=O[L](ce)).done,ce.value)})}}}function Pt(O,F){return Object.defineProperty?Object.defineProperty(O,"raw",{value:F}):O.raw=F,O}function Ut(O){if(O&&O.__esModule)return O;var F={};if(null!=O)for(var A in O)Object.hasOwnProperty.call(O,A)&&(F[A]=O[A]);return F.default=O,F}function Mt(O){return O&&O.__esModule?O:{default:O}}function ft(O,F){if(!F.has(O))throw new TypeError("attempted to get private field on non-instance");return F.get(O)}function Rt(O,F,A){if(!F.has(O))throw new TypeError("attempted to set private field on non-instance");return F.set(O,A),A}},7698:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{__extends:()=>m,__assign:()=>te,__rest:()=>mt,__decorate:()=>Le,__param:()=>Ye,__metadata:()=>tt,__awaiter:()=>Je,__generator:()=>ae,__createBinding:()=>Q,__exportStar:()=>De,__values:()=>ye,__read:()=>Te,__spread:()=>wt,__spreadArrays:()=>Tt,__await:()=>it,__asyncGenerator:()=>ke,__asyncDelegator:()=>He,__asyncValues:()=>qe,__makeTemplateObject:()=>Pt,__importStar:()=>Ut,__importDefault:()=>Mt,__classPrivateFieldGet:()=>ft,__classPrivateFieldSet:()=>Rt});var k=function(O,F){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,G){A.__proto__=G}||function(A,G){for(var Z in G)G.hasOwnProperty(Z)&&(A[Z]=G[Z])})(O,F)};function m(O,F){function A(){this.constructor=O}k(O,F),O.prototype=null===F?Object.create(F):(A.prototype=F.prototype,new A)}var te=function(){return(te=Object.assign||function(F){for(var A,G=1,Z=arguments.length;G<Z;G++)for(var L in A=arguments[G])Object.prototype.hasOwnProperty.call(A,L)&&(F[L]=A[L]);return F}).apply(this,arguments)};function mt(O,F){var A={};for(var G in O)Object.prototype.hasOwnProperty.call(O,G)&&F.indexOf(G)<0&&(A[G]=O[G]);if(null!=O&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(G=Object.getOwnPropertySymbols(O);Z<G.length;Z++)F.indexOf(G[Z])<0&&Object.prototype.propertyIsEnumerable.call(O,G[Z])&&(A[G[Z]]=O[G[Z]])}return A}function Le(O,F,A,G){var ce,Z=arguments.length,L=Z<3?F:null===G?G=Object.getOwnPropertyDescriptor(F,A):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(O,F,A,G);else for(var fe=O.length-1;fe>=0;fe--)(ce=O[fe])&&(L=(Z<3?ce(L):Z>3?ce(F,A,L):ce(F,A))||L);return Z>3&&L&&Object.defineProperty(F,A,L),L}function Ye(O,F){return function(A,G){F(A,G,O)}}function tt(O,F){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(O,F)}function Je(O,F,A,G){return new(A||(A=Promise))(function(L,ce){function fe(at){try{_e(G.next(at))}catch(zt){ce(zt)}}function $t(at){try{_e(G.throw(at))}catch(zt){ce(zt)}}function _e(at){at.done?L(at.value):function(L){return L instanceof A?L:new A(function(ce){ce(L)})}(at.value).then(fe,$t)}_e((G=G.apply(O,F||[])).next())})}function ae(O,F){var G,Z,L,ce,A={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return ce={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ce[Symbol.iterator]=function(){return this}),ce;function fe(_e){return function(at){return function(_e){if(G)throw new TypeError("Generator is already executing.");for(;A;)try{if(G=1,Z&&(L=2&_e[0]?Z.return:_e[0]?Z.throw||((L=Z.return)&&L.call(Z),0):Z.next)&&!(L=L.call(Z,_e[1])).done)return L;switch(Z=0,L&&(_e=[2&_e[0],L.value]),_e[0]){case 0:case 1:L=_e;break;case 4:return A.label++,{value:_e[1],done:!1};case 5:A.label++,Z=_e[1],_e=[0];continue;case 7:_e=A.ops.pop(),A.trys.pop();continue;default:if(!(L=(L=A.trys).length>0&&L[L.length-1])&&(6===_e[0]||2===_e[0])){A=0;continue}if(3===_e[0]&&(!L||_e[1]>L[0]&&_e[1]<L[3])){A.label=_e[1];break}if(6===_e[0]&&A.label<L[1]){A.label=L[1],L=_e;break}if(L&&A.label<L[2]){A.label=L[2],A.ops.push(_e);break}L[2]&&A.ops.pop(),A.trys.pop();continue}_e=F.call(O,A)}catch(at){_e=[6,at],Z=0}finally{G=L=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}([_e,at])}}}function Q(O,F,A,G){void 0===G&&(G=A),O[G]=F[A]}function De(O,F){for(var A in O)"default"!==A&&!F.hasOwnProperty(A)&&(F[A]=O[A])}function ye(O){var F="function"==typeof Symbol&&Symbol.iterator,A=F&&O[F],G=0;if(A)return A.call(O);if(O&&"number"==typeof O.length)return{next:function(){return O&&G>=O.length&&(O=void 0),{value:O&&O[G++],done:!O}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(O,F){var A="function"==typeof Symbol&&O[Symbol.iterator];if(!A)return O;var Z,ce,G=A.call(O),L=[];try{for(;(void 0===F||F-- >0)&&!(Z=G.next()).done;)L.push(Z.value)}catch(fe){ce={error:fe}}finally{try{Z&&!Z.done&&(A=G.return)&&A.call(G)}finally{if(ce)throw ce.error}}return L}function wt(){for(var O=[],F=0;F<arguments.length;F++)O=O.concat(Te(arguments[F]));return O}function Tt(){for(var O=0,F=0,A=arguments.length;F<A;F++)O+=arguments[F].length;var G=Array(O),Z=0;for(F=0;F<A;F++)for(var L=arguments[F],ce=0,fe=L.length;ce<fe;ce++,Z++)G[Z]=L[ce];return G}function it(O){return this instanceof it?(this.v=O,this):new it(O)}function ke(O,F,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,G=A.apply(O,F||[]),L=[];return Z={},ce("next"),ce("throw"),ce("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ce(Ke){G[Ke]&&(Z[Ke]=function(Ge){return new Promise(function(vt,Bt){L.push([Ke,Ge,vt,Bt])>1||fe(Ke,Ge)})})}function fe(Ke,Ge){try{!function(Ke){Ke.value instanceof it?Promise.resolve(Ke.value.v).then(_e,at):zt(L[0][2],Ke)}(G[Ke](Ge))}catch(vt){zt(L[0][3],vt)}}function _e(Ke){fe("next",Ke)}function at(Ke){fe("throw",Ke)}function zt(Ke,Ge){Ke(Ge),L.shift(),L.length&&fe(L[0][0],L[0][1])}}function He(O){var F,A;return F={},G("next"),G("throw",function(Z){throw Z}),G("return"),F[Symbol.iterator]=function(){return this},F;function G(Z,L){F[Z]=O[Z]?function(ce){return(A=!A)?{value:it(O[Z](ce)),done:"return"===Z}:L?L(ce):ce}:L}}function qe(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A,F=O[Symbol.asyncIterator];return F?F.call(O):(O=ye(O),A={},G("next"),G("throw"),G("return"),A[Symbol.asyncIterator]=function(){return this},A);function G(L){A[L]=O[L]&&function(ce){return new Promise(function(fe,$t){!function(L,ce,fe,$t){Promise.resolve($t).then(function(_e){L({value:_e,done:fe})},ce)}(fe,$t,(ce=O[L](ce)).done,ce.value)})}}}function Pt(O,F){return Object.defineProperty?Object.defineProperty(O,"raw",{value:F}):O.raw=F,O}function Ut(O){if(O&&O.__esModule)return O;var F={};if(null!=O)for(var A in O)Object.hasOwnProperty.call(O,A)&&(F[A]=O[A]);return F.default=O,F}function Mt(O){return O&&O.__esModule?O:{default:O}}function ft(O,F){if(!F.has(O))throw new TypeError("attempted to get private field on non-instance");return F.get(O)}function Rt(O,F,A){if(!F.has(O))throw new TypeError("attempted to set private field on non-instance");return F.set(O,A),A}},5057:(Vn,We,pe)=>{"use strict";pe.r(We),pe.d(We,{__extends:()=>m,__assign:()=>te,__rest:()=>mt,__decorate:()=>Le,__param:()=>Ye,__metadata:()=>tt,__awaiter:()=>Je,__generator:()=>ae,__createBinding:()=>Q,__exportStar:()=>De,__values:()=>ye,__read:()=>Te,__spread:()=>wt,__spreadArrays:()=>Tt,__await:()=>it,__asyncGenerator:()=>ke,__asyncDelegator:()=>He,__asyncValues:()=>qe,__makeTemplateObject:()=>Pt,__importStar:()=>Ut,__importDefault:()=>Mt,__classPrivateFieldGet:()=>ft,__classPrivateFieldSet:()=>Rt});var k=function(O,F){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,G){A.__proto__=G}||function(A,G){for(var Z in G)G.hasOwnProperty(Z)&&(A[Z]=G[Z])})(O,F)};function m(O,F){function A(){this.constructor=O}k(O,F),O.prototype=null===F?Object.create(F):(A.prototype=F.prototype,new A)}var te=function(){return(te=Object.assign||function(F){for(var A,G=1,Z=arguments.length;G<Z;G++)for(var L in A=arguments[G])Object.prototype.hasOwnProperty.call(A,L)&&(F[L]=A[L]);return F}).apply(this,arguments)};function mt(O,F){var A={};for(var G in O)Object.prototype.hasOwnProperty.call(O,G)&&F.indexOf(G)<0&&(A[G]=O[G]);if(null!=O&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(G=Object.getOwnPropertySymbols(O);Z<G.length;Z++)F.indexOf(G[Z])<0&&Object.prototype.propertyIsEnumerable.call(O,G[Z])&&(A[G[Z]]=O[G[Z]])}return A}function Le(O,F,A,G){var ce,Z=arguments.length,L=Z<3?F:null===G?G=Object.getOwnPropertyDescriptor(F,A):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(O,F,A,G);else for(var fe=O.length-1;fe>=0;fe--)(ce=O[fe])&&(L=(Z<3?ce(L):Z>3?ce(F,A,L):ce(F,A))||L);return Z>3&&L&&Object.defineProperty(F,A,L),L}function Ye(O,F){return function(A,G){F(A,G,O)}}function tt(O,F){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(O,F)}function Je(O,F,A,G){return new(A||(A=Promise))(function(L,ce){function fe(at){try{_e(G.next(at))}catch(zt){ce(zt)}}function $t(at){try{_e(G.throw(at))}catch(zt){ce(zt)}}function _e(at){at.done?L(at.value):function(L){return L instanceof A?L:new A(function(ce){ce(L)})}(at.value).then(fe,$t)}_e((G=G.apply(O,F||[])).next())})}function ae(O,F){var G,Z,L,ce,A={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return ce={next:fe(0),throw:fe(1),return:fe(2)},"function"==typeof Symbol&&(ce[Symbol.iterator]=function(){return this}),ce;function fe(_e){return function(at){return function(_e){if(G)throw new TypeError("Generator is already executing.");for(;A;)try{if(G=1,Z&&(L=2&_e[0]?Z.return:_e[0]?Z.throw||((L=Z.return)&&L.call(Z),0):Z.next)&&!(L=L.call(Z,_e[1])).done)return L;switch(Z=0,L&&(_e=[2&_e[0],L.value]),_e[0]){case 0:case 1:L=_e;break;case 4:return A.label++,{value:_e[1],done:!1};case 5:A.label++,Z=_e[1],_e=[0];continue;case 7:_e=A.ops.pop(),A.trys.pop();continue;default:if(!(L=(L=A.trys).length>0&&L[L.length-1])&&(6===_e[0]||2===_e[0])){A=0;continue}if(3===_e[0]&&(!L||_e[1]>L[0]&&_e[1]<L[3])){A.label=_e[1];break}if(6===_e[0]&&A.label<L[1]){A.label=L[1],L=_e;break}if(L&&A.label<L[2]){A.label=L[2],A.ops.push(_e);break}L[2]&&A.ops.pop(),A.trys.pop();continue}_e=F.call(O,A)}catch(at){_e=[6,at],Z=0}finally{G=L=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}([_e,at])}}}function Q(O,F,A,G){void 0===G&&(G=A),O[G]=F[A]}function De(O,F){for(var A in O)"default"!==A&&!F.hasOwnProperty(A)&&(F[A]=O[A])}function ye(O){var F="function"==typeof Symbol&&Symbol.iterator,A=F&&O[F],G=0;if(A)return A.call(O);if(O&&"number"==typeof O.length)return{next:function(){return O&&G>=O.length&&(O=void 0),{value:O&&O[G++],done:!O}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(O,F){var A="function"==typeof Symbol&&O[Symbol.iterator];if(!A)return O;var Z,ce,G=A.call(O),L=[];try{for(;(void 0===F||F-- >0)&&!(Z=G.next()).done;)L.push(Z.value)}catch(fe){ce={error:fe}}finally{try{Z&&!Z.done&&(A=G.return)&&A.call(G)}finally{if(ce)throw ce.error}}return L}function wt(){for(var O=[],F=0;F<arguments.length;F++)O=O.concat(Te(arguments[F]));return O}function Tt(){for(var O=0,F=0,A=arguments.length;F<A;F++)O+=arguments[F].length;var G=Array(O),Z=0;for(F=0;F<A;F++)for(var L=arguments[F],ce=0,fe=L.length;ce<fe;ce++,Z++)G[Z]=L[ce];return G}function it(O){return this instanceof it?(this.v=O,this):new it(O)}function ke(O,F,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,G=A.apply(O,F||[]),L=[];return Z={},ce("next"),ce("throw"),ce("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function ce(Ke){G[Ke]&&(Z[Ke]=function(Ge){return new Promise(function(vt,Bt){L.push([Ke,Ge,vt,Bt])>1||fe(Ke,Ge)})})}function fe(Ke,Ge){try{!function(Ke){Ke.value instanceof it?Promise.resolve(Ke.value.v).then(_e,at):zt(L[0][2],Ke)}(G[Ke](Ge))}catch(vt){zt(L[0][3],vt)}}function _e(Ke){fe("next",Ke)}function at(Ke){fe("throw",Ke)}function zt(Ke,Ge){Ke(Ge),L.shift(),L.length&&fe(L[0][0],L[0][1])}}function He(O){var F,A;return F={},G("next"),G("throw",function(Z){throw Z}),G("return"),F[Symbol.iterator]=function(){return this},F;function G(Z,L){F[Z]=O[Z]?function(ce){return(A=!A)?{value:it(O[Z](ce)),done:"return"===Z}:L?L(ce):ce}:L}}function qe(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A,F=O[Symbol.asyncIterator];return F?F.call(O):(O=ye(O),A={},G("next"),G("throw"),G("return"),A[Symbol.asyncIterator]=function(){return this},A);function G(L){A[L]=O[L]&&function(ce){return new Promise(function(fe,$t){!function(L,ce,fe,$t){Promise.resolve($t).then(function(_e){L({value:_e,done:fe})},ce)}(fe,$t,(ce=O[L](ce)).done,ce.value)})}}}function Pt(O,F){return Object.defineProperty?Object.defineProperty(O,"raw",{value:F}):O.raw=F,O}function Ut(O){if(O&&O.__esModule)return O;var F={};if(null!=O)for(var A in O)Object.hasOwnProperty.call(O,A)&&(F[A]=O[A]);return F.default=O,F}function Mt(O){return O&&O.__esModule?O:{default:O}}function ft(O,F){if(!F.has(O))throw new TypeError("attempted to get private field on non-instance");return F.get(O)}function Rt(O,F,A){if(!F.has(O))throw new TypeError("attempted to set private field on non-instance");return F.set(O,A),A}}},Vn=>{Vn(Vn.s=2102)}]);